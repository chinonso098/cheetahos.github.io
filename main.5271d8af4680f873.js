(self.webpackChunkCheetahOs=self.webpackChunkCheetahOs||[]).push([[792],{277:(Br,Me,re)=>{"use strict";function $(t,n){return Object.is(t,n)}let Y=null,ae=!1,N=1;const V=Symbol("SIGNAL");function O(t){const n=Y;return Y=t,n}const b={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function j(t){if(ae)throw new Error("");if(null===Y)return;Y.consumerOnSignalRead(t);const n=Y.nextProducerIndex++;Ae(Y),n<Y.producerNode.length&&Y.producerNode[n]!==t&&he(Y)&&Ze(Y.producerNode[n],Y.producerIndexOfThis[n]),Y.producerNode[n]!==t&&(Y.producerNode[n]=t,Y.producerIndexOfThis[n]=he(Y)?nt(t,Y,n):0),Y.producerLastReadVersion[n]=t.version}function R(t){if((!he(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==N)){if(!t.producerMustRecompute(t)&&!je(t))return t.dirty=!1,void(t.lastCleanEpoch=N);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=N}}function W(t){if(void 0===t.liveConsumerNode)return;const n=ae;ae=!0;try{for(const e of t.liveConsumerNode)e.dirty||me(e)}finally{ae=n}}function ie(){return!1!==Y?.consumerAllowSignalWrites}function me(t){t.dirty=!0,W(t),t.consumerMarkedDirty?.(t)}function ue(t){return t&&(t.nextProducerIndex=0),O(t)}function oe(t,n){if(O(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(he(t))for(let e=t.nextProducerIndex;e<t.producerNode.length;e++)Ze(t.producerNode[e],t.producerIndexOfThis[e]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function je(t){Ae(t);for(let n=0;n<t.producerNode.length;n++){const e=t.producerNode[n],i=t.producerLastReadVersion[n];if(i!==e.version||(R(e),i!==e.version))return!0}return!1}function Te(t){if(Ae(t),he(t))for(let n=0;n<t.producerNode.length;n++)Ze(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function nt(t,n,e){if(Ke(t),0===t.liveConsumerNode.length&&Vt(t))for(let i=0;i<t.producerNode.length;i++)t.producerIndexOfThis[i]=nt(t.producerNode[i],t,i);return t.liveConsumerIndexOfThis.push(e),t.liveConsumerNode.push(n)-1}function Ze(t,n){if(Ke(t),1===t.liveConsumerNode.length&&Vt(t))for(let i=0;i<t.producerNode.length;i++)Ze(t.producerNode[i],t.producerIndexOfThis[i]);const e=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[e],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[e],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const i=t.liveConsumerIndexOfThis[n],r=t.liveConsumerNode[n];Ae(r),r.producerIndexOfThis[i]=n}}function he(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ae(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Ke(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Vt(t){return void 0!==t.producerNode}const Yt=Symbol("UNSET"),Ot=Symbol("COMPUTING"),yt=Symbol("ERRORED"),Dn={...b,value:Yt,dirty:!0,error:null,equal:$,producerMustRecompute:t=>t.value===Yt||t.value===Ot,producerRecomputeValue(t){if(t.value===Ot)throw new Error("Detected cycle in computations.");const n=t.value;t.value=Ot;const e=ue(t);let i;try{i=t.computation()}catch(r){i=yt,t.error=r}finally{oe(t,e)}n!==Yt&&n!==yt&&i!==yt&&t.equal(n,i)?t.value=n:(t.value=i,t.version++)}};let ve=function _e(){throw new Error};function Pe(){ve()}let xt=null;function gn(t,n){ie()||Pe(),t.equal(t.value,n)||(t.value=n,function Z(t){t.version++,function Q(){N++}(),W(t),xt?.()}(t))}const G={...b,equal:$,value:void 0};function Ve(t){return"function"==typeof t}function rt(t){const e=t(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const mn=rt(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function Jn(t,n){if(t){const e=t.indexOf(n);0<=e&&t.splice(e,1)}}class U{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(Ve(i))try{i()}catch(o){n=o instanceof mn?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{E(o)}catch(s){n=n??[],s instanceof mn?n=[...n,...s.errors]:n.push(s)}}if(n)throw new mn(n)}}add(n){var e;if(n&&n!==this)if(this.closed)E(n);else{if(n instanceof U){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(n)}}_hasParent(n){const{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){const{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&Jn(e,n)}remove(n){const{_finalizers:e}=this;e&&Jn(e,n),n instanceof U&&n._removeParent(this)}}U.EMPTY=(()=>{const t=new U;return t.closed=!0,t})();const v=U.EMPTY;function m(t){return t instanceof U||t&&"closed"in t&&Ve(t.remove)&&Ve(t.add)&&Ve(t.unsubscribe)}function E(t){Ve(t)?t():t.unsubscribe()}const M={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},H={setTimeout(t,n,...e){const{delegate:i}=H;return i?.setTimeout?i.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){const{delegate:n}=H;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function X(t){H.setTimeout(()=>{const{onUnhandledError:n}=M;if(!n)throw t;n(t)})}function pe(){}const $e=Ct("C",void 0,void 0);function Ct(t,n,e){return{kind:t,value:n,error:e}}let Rt=null;function gi(t){if(M.useDeprecatedSynchronousErrorHandling){const n=!Rt;if(n&&(Rt={errorThrown:!1,error:null}),t(),n){const{errorThrown:e,error:i}=Rt;if(Rt=null,e)throw i}}else t()}class to extends U{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,m(n)&&n.add(this)):this.destination=Ye}static create(n,e,i){return new pa(n,e,i)}next(n){this.isStopped?F(function At(t){return Ct("N",t,void 0)}(n),this):this._next(n)}error(n){this.isStopped?F(function lt(t){return Ct("E",void 0,t)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?F($e,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const es=Function.prototype.bind;function ha(t,n){return es.call(t,n)}class Vl{constructor(n){this.partialObserver=n}next(n){const{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(i){Ee(i)}}error(n){const{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(i){Ee(i)}else Ee(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){Ee(e)}}}class pa extends to{constructor(n,e,i){let r;if(super(),Ve(n)||!n)r={next:n??void 0,error:e??void 0,complete:i??void 0};else{let o;this&&M.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),r={next:n.next&&ha(n.next,o),error:n.error&&ha(n.error,o),complete:n.complete&&ha(n.complete,o)}):r=n}this.destination=new Vl(r)}}function Ee(t){M.useDeprecatedSynchronousErrorHandling?function eo(t){M.useDeprecatedSynchronousErrorHandling&&Rt&&(Rt.errorThrown=!0,Rt.error=t)}(t):X(t)}function F(t,n){const{onStoppedNotification:e}=M;e&&H.setTimeout(()=>e(t,n))}const Ye={closed:!0,next:pe,error:function He(t){throw t},complete:pe},sn="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ue(t){return t}let qt=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new t;return i.source=this,i.operator=e,i}subscribe(e,i,r){const o=function Ts(t){return t&&t instanceof to||function De(t){return t&&Ve(t.next)&&Ve(t.error)&&Ve(t.complete)}(t)&&m(t)}(e)?e:new pa(e,i,r);return gi(()=>{const{operator:s,source:l}=this;o.add(s?s.call(o,l):l?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=Ie(i))((r,o)=>{const s=new pa({next:l=>{try{e(l)}catch(h){o(h),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[sn](){return this}pipe(...e){return function Ge(t){return 0===t.length?Ue:1===t.length?t[0]:function(e){return t.reduce((i,r)=>r(i),e)}}(e)(this)}toPromise(e){return new(e=Ie(e))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return t.create=n=>new t(n),t})();function Ie(t){var n;return null!==(n=t??M.Promise)&&void 0!==n?n:Promise}const Cn=rt(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ke=(()=>{class t extends qt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new Mo(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new Cn}next(e){gi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){gi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){gi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:o}=this;return i||r?v:(this.currentObservers=null,o.push(e),new U(()=>{this.currentObservers=null,Jn(o,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){const e=new qt;return e.source=this,e}}return t.create=(n,e)=>new Mo(n,e),t})();class Mo extends ke{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,n)}error(n){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,n)}complete(){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===e||e.call(n)}_subscribe(n){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(n))&&void 0!==i?i:v}}class no extends ke{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:i}=this;if(n)throw e;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}}function Ut(t){return n=>{if(function An(t){return Ve(t?.lift)}(n))return n.lift(function(e){try{return t(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function yn(t,n,e,i,r){return new ki(t,n,e,i,r)}class ki extends to{constructor(n,e,i,r,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(l){try{e(l)}catch(h){n.error(h)}}:super._next,this._error=r?function(l){try{r(l)}catch(h){n.error(h)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function Un(t,n){return Ut((e,i)=>{let r=0;e.subscribe(yn(i,o=>{i.next(t.call(n,o,r++))}))})}typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;const uf="https://g.co/ng/security#xss";class Se extends Error{constructor(n,e){super(function Os(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,e)),this.code=n}}function io(t){return{toString:t}.toString()}const Er="__parameters__";function oo(t,n,e){return io(()=>{const i=function gc(t){return function(...e){if(t){const i=t(...e);for(const r in i)this[r]=i[r]}}}(n);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return l.annotation=s,l;function l(h,g,w){const C=h.hasOwnProperty(Er)?h[Er]:Object.defineProperty(h,Er,{value:[]})[Er];for(;C.length<=w;)C.push(null);return(C[w]=C[w]||[]).push(s),h}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}const Mn=globalThis;function an(t){for(let n in t)if(t[n]===an)return n;throw Error("Could not find renamed property on target object.")}function Vr(t,n){for(const e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function ei(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ei).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}function Ns(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const ko=an({__forward_ref__:an});function cn(t){return t.__forward_ref__=cn,t.toString=function(){return ei(this())},t}function St(t){return ns(t)?t():t}function ns(t){return"function"==typeof t&&t.hasOwnProperty(ko)&&t.__forward_ref__===cn}function ut(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Qi(t){return{providers:t.providers||[],imports:t.imports||[]}}function Po(t){return wc(t,Ao)||wc(t,rs)}function wc(t,n){return t.hasOwnProperty(n)?t[n]:null}function is(t){return t&&(t.hasOwnProperty(Vi)||t.hasOwnProperty(mf))?t[Vi]:null}const Ao=an({\u0275prov:an}),Vi=an({\u0275inj:an}),rs=an({ngInjectableDef:an}),mf=an({ngInjectorDef:an});class Je{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ut({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ss(t){return t&&!!t.\u0275providers}const En=an({\u0275cmp:an}),_a=an({\u0275dir:an}),Ls=an({\u0275pipe:an}),va=an({\u0275mod:an}),Ur=an({\u0275fac:an}),Bs=an({__NG_ELEMENT_ID__:an}),Xl=an({__NG_ENV_ID__:an});function Mt(t){return"string"==typeof t?t:null==t?"":String(t)}function Cc(t,n){throw new Se(-201,!1)}var Zt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Zt||{});let Jl;function eu(){return Jl}function mi(t){const n=Jl;return Jl=t,n}function vf(t,n,e){const i=Po(t);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&Zt.Optional?null:void 0!==n?n:void Cc()}const Us={},Ic="__NG_DI_FLAG__",Dc="ngTempTokenPath",dm=/\n/gm,cs="__source";let ni;function Ai(t){const n=ni;return ni=t,n}function fm(t,n=Zt.Default){if(void 0===ni)throw new Se(-203,!1);return null===ni?vf(t,void 0,n):ni.get(t,n&Zt.Optional?null:void 0,n)}function Nt(t,n=Zt.Default){return(eu()||fm)(St(t),n)}function qe(t,n=Zt.Default){return Nt(t,wa(n))}function wa(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function tu(t){const n=[];for(let e=0;e<t.length;e++){const i=St(t[e]);if(Array.isArray(i)){if(0===i.length)throw new Se(900,!1);let r,o=Zt.Default;for(let s=0;s<i.length;s++){const l=i[s],h=wf(l);"number"==typeof h?-1===h?r=l.token:o|=h:r=l}n.push(Nt(r,o))}else n.push(Nt(i))}return n}function lo(t,n){return t[Ic]=n,t.prototype[Ic]=n,t}function wf(t){return t[Ic]}const Sa=lo(oo("Optional"),8),Mc=lo(oo("SkipSelf"),4);function Di(t,n){return t.hasOwnProperty(Ur)?t[Ur]:null}function zs(t,n){t.forEach(e=>Array.isArray(e)?zs(e,n):n(e))}function Oi(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function js(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Ui(t,n,e){let i=Hs(t,n);return i>=0?t[1|i]=e:(i=~i,function nu(t,n,e,i){let r=t.length;if(r==n)t.push(e,i);else if(1===r)t.push(i,t[0]),t[0]=e;else{for(r--,t.push(t[r-1],t[r]);r>n;)t[r]=t[r-2],r--;t[n]=e,t[n+1]=i}}(t,i,n,e)),i}function iu(t,n){const e=Hs(t,n);if(e>=0)return t[1|e]}function Hs(t,n){return function ru(t,n,e){let i=0,r=t.length>>e;for(;r!==i;){const o=i+(r-i>>1),s=t[o<<e];if(n===s)return o<<e;s>n?r=o:i=o+1}return~(r<<e)}(t,n,1)}const br={},pt=[],Cr=new Je(""),bf=new Je("",-1),Tc=new Je("");class Ca{get(n,e=Us){if(e===Us){const i=new Error(`NullInjectorError: No provider for ${ei(n)}!`);throw i.name="NullInjectorError",i}return e}}var Ia=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Ia||{}),Ir=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ir||{}),fo=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(fo||{});function Cf(t,n,e){let i=t.length;for(;;){const r=t.indexOf(n,e);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){const o=n.length;if(r+o===i||t.charCodeAt(r+o)<=32)return r}e=r+1}}function ou(t,n,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const o=e[i++],s=e[i++],l=e[i++];t.setAttribute(n,s,l,o)}else{const o=r,s=e[++i];Ws(o)?t.setProperty(n,o,s):t.setAttribute(n,o,s),i++}}return i}function kc(t){return 3===t||4===t||6===t}function Ws(t){return 64===t.charCodeAt(0)}function $s(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let e=-1;for(let i=0;i<n.length;i++){const r=n[i];"number"==typeof r?e=r:0===e||Pc(t,e,r,null,-1===e||2===e?n[++i]:null)}}return t}function Pc(t,n,e,i,r){let o=0,s=t.length;if(-1===n)s=-1;else for(;o<t.length;){const l=t[o++];if("number"==typeof l){if(l===n){s=-1;break}if(l>n){s=o-1;break}}}for(;o<t.length;){const l=t[o];if("number"==typeof l)break;if(l===e){if(null===i)return void(null!==r&&(t[o+1]=r));if(i===t[o+1])return void(t[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(t.splice(s,0,n),o=s+1),t.splice(o++,0,e),null!==i&&t.splice(o++,0,i),null!==r&&t.splice(o++,0,r)}const If="ng-template";function Df(t,n,e,i){let r=0;if(i){for(;r<n.length&&"string"==typeof n[r];r+=2)if("class"===n[r]&&-1!==Cf(n[r+1].toLowerCase(),e,0))return!0}else if(Ac(t))return!1;if(r=n.indexOf(1,r),r>-1){let o;for(;++r<n.length&&"string"==typeof(o=n[r]);)if(o.toLowerCase()===e)return!0}return!1}function Ac(t){return 4===t.type&&t.value!==If}function hm(t,n,e){return n===(4!==t.type||e?t.value:If)}function Da(t,n,e){let i=4;const r=t.attrs,o=null!==r?function gm(t){for(let n=0;n<t.length;n++)if(kc(t[n]))return n;return t.length}(r):0;let s=!1;for(let l=0;l<n.length;l++){const h=n[l];if("number"!=typeof h){if(!s)if(4&i){if(i=2|1&i,""!==h&&!hm(t,h,e)||""===h&&1===n.length){if(Dr(i))return!1;s=!0}}else if(8&i){if(null===r||!Df(t,r,h,e)){if(Dr(i))return!1;s=!0}}else{const g=n[++l],w=pm(h,r,Ac(t),e);if(-1===w){if(Dr(i))return!1;s=!0;continue}if(""!==g){let C;if(C=w>o?"":r[w+1].toLowerCase(),2&i&&g!==C){if(Dr(i))return!1;s=!0}}}}else{if(!s&&!Dr(i)&&!Dr(h))return!1;if(s&&Dr(h))continue;s=!1,i=h|1&i}}return Dr(i)||s}function Dr(t){return!(1&t)}function pm(t,n,e,i){if(null===n)return-1;let r=0;if(i||!e){let o=!1;for(;r<n.length;){const s=n[r];if(s===t)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let l=n[++r];for(;"string"==typeof l;)l=n[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function mm(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){const i=t[e];if("number"==typeof i)return-1;if(i===n)return e;e++}return-1}(n,t)}function xa(t,n,e=!1){for(let i=0;i<n.length;i++)if(Da(t,n[i],e))return!0;return!1}function xf(t,n){e:for(let e=0;e<n.length;e++){const i=n[e];if(t.length===i.length){for(let r=0;r<t.length;r++)if(t[r]!==i[r])continue e;return!0}}return!1}function su(t,n){return t?":not("+n.trim()+")":n}function ym(t){let n=t[0],e=1,i=2,r="",o=!1;for(;e<t.length;){let s=t[e];if("string"==typeof s)if(2&i){const l=t[++e];r+="["+s+(l.length>0?'="'+l+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!Dr(s)&&(n+=su(o,r),r=""),i=s,o=o||!Dr(i);e++}return""!==r&&(n+=su(o,r)),n}function a(t){return io(()=>{const n=Fe(t),e={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Ia.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ir.Emulated,styles:t.styles||pt,_:null,schemas:t.schemas||null,tView:null,id:""};Le(e);const i=t.dependencies;return e.directiveDefs=Qe(i,!1),e.pipeDefs=Qe(i,!0),e.id=function Lt(t){let n=0;const e=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const r of e)n=Math.imul(31,n)+r.charCodeAt(0)|0;return n+=2147483648,"c"+n}(e),e})}function u(t){return I(t)||P(t)}function c(t){return null!==t}function f(t){return io(()=>({type:t.type,bootstrap:t.bootstrap||pt,declarations:t.declarations||pt,imports:t.imports||pt,exports:t.exports||pt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function p(t,n){if(null==t)return br;const e={};for(const i in t)if(t.hasOwnProperty(i)){const r=t[i];let o,s,l=fo.None;Array.isArray(r)?(l=r[0],o=r[1],s=r[2]??o):(o=r,s=r),n?(e[o]=l!==fo.None?[i,l]:i,n[o]=s):e[o]=i}return e}function y(t){return io(()=>{const n=Fe(t);return Le(n),n})}function S(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function I(t){return t[En]||null}function P(t){return t[_a]||null}function q(t){return t[Ls]||null}function Fe(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||br,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||pt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:p(t.inputs,n),outputs:p(t.outputs),debugInfo:null}}function Le(t){t.features?.forEach(n=>n(t))}function Qe(t,n){if(!t)return null;const e=n?q:u;return()=>("function"==typeof t?t():t).map(i=>e(i)).filter(c)}function yi(...t){return{\u0275providers:fr(0,t),\u0275fromNgModule:!0}}function fr(t,...n){const e=[],i=new Set;let r;const o=s=>{e.push(s)};return zs(n,s=>{const l=s;ho(l,o,[],i)&&(r||=[],r.push(l))}),void 0!==r&&xr(r,o),e}function xr(t,n){for(let e=0;e<t.length;e++){const{ngModule:i,providers:r}=t[e];Mr(r,o=>{n(o,i)})}}function ho(t,n,e,i){if(!(t=St(t)))return!1;let r=null,o=is(t);const s=!o&&I(t);if(o||s){if(s&&!s.standalone)return!1;r=t}else{const h=t.ngModule;if(o=is(h),!o)return!1;r=h}const l=i.has(r);if(s){if(l)return!1;if(i.add(r),s.dependencies){const h="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const g of h)ho(g,n,e,i)}}else{if(!o)return!1;{if(null!=o.imports&&!l){let g;i.add(r);try{zs(o.imports,w=>{ho(w,n,e,i)&&(g||=[],g.push(w))})}finally{}void 0!==g&&xr(g,n)}if(!l){const g=Di(r)||(()=>new r);n({provide:r,useFactory:g,deps:pt},r),n({provide:Tc,useValue:r,multi:!0},r),n({provide:Cr,useValue:()=>Nt(r),multi:!0},r)}const h=o.providers;if(null!=h&&!l){const g=t;Mr(h,w=>{n(w,g)})}}}return r!==t&&void 0!==t.providers}function Mr(t,n){for(let e of t)ss(e)&&(e=e.\u0275providers),Array.isArray(e)?Mr(e,n):n(e)}const Mf=an({provide:String,useValue:an});function cu(t){return null!==t&&"object"==typeof t&&Mf in t}function Ma(t){return"function"==typeof t}const _m=new Je(""),Tf={},aP={};let vm;function kf(){return void 0===vm&&(vm=new Ca),vm}class po{}class Nc extends po{get destroyed(){return this._destroyed}constructor(n,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Em(n,s=>this.processProvider(s)),this.records.set(bf,Fc(void 0,this)),r.has("environment")&&this.records.set(po,Fc(void 0,this));const o=this.records.get(_m);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Tc,pt,Zt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=O(null);try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of e)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),O(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const e=Ai(this),i=mi(void 0);try{return n()}finally{Ai(e),mi(i)}}get(n,e=Us,i=Zt.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Xl))return n[Xl](this);i=wa(i);const o=Ai(this),s=mi(void 0);try{if(!(i&Zt.SkipSelf)){let h=this.records.get(n);if(void 0===h){const g=function fP(t){return"function"==typeof t||"object"==typeof t&&t instanceof Je}(n)&&Po(n);h=g&&this.injectableDefInScope(g)?Fc(wm(n),Tf):null,this.records.set(n,h)}if(null!=h)return this.hydrate(n,h)}return(i&Zt.Self?kf():this.parent).get(n,e=i&Zt.Optional&&e===Us?null:e)}catch(l){if("NullInjectorError"===l.name){if((l[Dc]=l[Dc]||[]).unshift(ei(n)),o)throw l;return function xc(t,n,e,i){const r=t[Dc];throw n[cs]&&r.unshift(n[cs]),t.message=function Ki(t,n,e,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let r=ei(n);if(Array.isArray(n))r=n.map(ei).join(" -> ");else if("object"==typeof n){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let l=n[s];o.push(s+":"+("string"==typeof l?JSON.stringify(l):ei(l)))}r=`{${o.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${t.replace(dm,"\n  ")}`}("\n"+t.message,r,e,i),t.ngTokenPath=r,t[Dc]=null,t}(l,n,"R3InjectorError",this.source)}throw l}finally{mi(s),Ai(o)}}resolveInjectorInitializers(){const n=O(null),e=Ai(this),i=mi(void 0);try{const o=this.get(Cr,pt,Zt.Self);for(const s of o)s()}finally{Ai(e),mi(i),O(n)}}toString(){const n=[],e=this.records;for(const i of e.keys())n.push(ei(i));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Se(205,!1)}processProvider(n){let e=Ma(n=St(n))?n:St(n&&n.provide);const i=function lP(t){return cu(t)?Fc(void 0,t.useValue):Fc(gE(t),Tf)}(n);if(!Ma(n)&&!0===n.multi){let r=this.records.get(e);r||(r=Fc(void 0,Tf,!0),r.factory=()=>tu(r.multi),this.records.set(e,r)),e=n,r.multi.push(n)}this.records.set(e,i)}hydrate(n,e){const i=O(null);try{return e.value===Tf&&(e.value=aP,e.value=e.factory()),"object"==typeof e.value&&e.value&&function dP(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{O(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;const e=St(n.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){const e=this._onDestroyHooks.indexOf(n);-1!==e&&this._onDestroyHooks.splice(e,1)}}function wm(t){const n=Po(t),e=null!==n?n.factory:Di(t);if(null!==e)return e;if(t instanceof Je)throw new Se(204,!1);if(t instanceof Function)return function cP(t){if(t.length>0)throw new Se(204,!1);const e=function gf(t){return t&&(t[Ao]||t[rs])||null}(t);return null!==e?()=>e.factory(t):()=>new t}(t);throw new Se(204,!1)}function gE(t,n,e){let i;if(Ma(t)){const r=St(t);return Di(r)||wm(r)}if(cu(t))i=()=>St(t.useValue);else if(function pE(t){return!(!t||!t.useFactory)}(t))i=()=>t.useFactory(...tu(t.deps||[]));else if(function hE(t){return!(!t||!t.useExisting)}(t))i=()=>Nt(St(t.useExisting));else{const r=St(t&&(t.useClass||t.provide));if(!function uP(t){return!!t.deps}(t))return Di(r)||wm(r);i=()=>new r(...tu(t.deps))}return i}function Fc(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function Em(t,n){for(const e of t)Array.isArray(e)?Em(e,n):e&&ss(e)?Em(e.\u0275providers,n):n(e)}const jn=0,Re=1,gt=2,ui=3,go=4,Ni=5,Ji=6,Lc=7,Rn=8,di=9,Fo=10,Tt=11,uu=12,_E=13,Bc=14,Hn=15,Ta=16,Vc=17,ls=18,Uc=19,vE=20,Gs=21,Of=22,zr=23,at=25,bm=1,Ro=7,zc=9,ii=10;var Ff=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Ff||{});function xi(t){return Array.isArray(t)&&"object"==typeof t[bm]}function zi(t){return Array.isArray(t)&&!0===t[bm]}function Cm(t){return!!(4&t.flags)}function ka(t){return t.componentOffset>-1}function Rf(t){return!(1&~t.flags)}function mo(t){return!!t.template}function fu(t){return!!(512&t[gt])}class DP{constructor(n,e,i){this.previousValue=n,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function bE(t,n,e,i){null!==n?n.applyValueToInputSignal(n,i):t[e]=i}function er(){return CE}function CE(t){return t.type.prototype.ngOnChanges&&(t.setInput=MP),xP}function xP(){const t=DE(this),n=t?.current;if(n){const e=t.previous;if(e===br)t.previous=n;else for(let i in n)e[i]=n[i];t.current=null,this.ngOnChanges(n)}}function MP(t,n,e,i,r){const o=this.declaredInputs[i],s=DE(t)||function TP(t,n){return t[IE]=n}(t,{previous:br,current:null}),l=s.current||(s.current={}),h=s.previous,g=h[o];l[o]=new DP(g&&g.currentValue,e,h===br),bE(t,n,r,e)}er.ngInherit=!0;const IE="__ngSimpleChanges__";function DE(t){return t[IE]||null}const Lo=function(t,n,e){},xE="svg";function tn(t){for(;Array.isArray(t);)t=t[jn];return t}function hu(t,n){return tn(n[t])}function tr(t,n){return tn(n[t.index])}function pu(t,n){return t.data[n]}function Pa(t,n){return t[n]}function Tr(t,n){const e=n[t];return xi(e)?e:e[jn]}function Tm(t){return!(128&~t[gt])}function jr(t,n){return null==n?null:t[n]}function TE(t){t[Vc]=0}function kE(t){1024&t[gt]||(t[gt]|=1024,Tm(t)&&Lf(t))}function gu(t){return!!(9216&t[gt]||t[zr]?.dirty)}function km(t){t[Fo].changeDetectionScheduler?.notify(7),64&t[gt]&&(t[gt]|=1024),gu(t)&&Lf(t)}function Lf(t){t[Fo].changeDetectionScheduler?.notify(0);let n=us(t);for(;null!==n&&!(8192&n[gt])&&(n[gt]|=8192,Tm(n));)n=us(n)}function Bf(t,n){if(!(256&~t[gt]))throw new Se(911,!1);null===t[Gs]&&(t[Gs]=[]),t[Gs].push(n)}function us(t){const n=t[ui];return zi(n)?n[ui]:n}const kt={lFrame:HE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let AE=!1;function OE(){return kt.bindingsEnabled}function Aa(){return null!==kt.skipHydrationRootTNode}function be(){return kt.lFrame.lView}function jt(){return kt.lFrame.tView}function te(t){return kt.lFrame.contextLView=t,t[Rn]}function ne(t){return kt.lFrame.contextLView=null,t}function bn(){let t=NE();for(;null!==t&&64===t.type;)t=t.parent;return t}function NE(){return kt.lFrame.currentTNode}function yo(t,n){const e=kt.lFrame;e.currentTNode=t,e.isParent=n}function Om(){return kt.lFrame.isParent}function Nm(){kt.lFrame.isParent=!1}function LE(){return AE}function BE(t){AE=t}function nr(){const t=kt.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function _o(){return kt.lFrame.bindingIndex++}function fs(t){const n=kt.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function HP(t,n){const e=kt.lFrame;e.bindingIndex=e.bindingRootIndex=t,Fm(n)}function Fm(t){kt.lFrame.currentDirectiveIndex=t}function Lm(){return kt.lFrame.currentQueryIndex}function Uf(t){kt.lFrame.currentQueryIndex=t}function $P(t){const n=t[Re];return 2===n.type?n.declTNode:1===n.type?t[Ni]:null}function zE(t,n,e){if(e&Zt.SkipSelf){let r=n,o=t;for(;!(r=r.parent,null!==r||e&Zt.Host||(r=$P(o),null===r||(o=o[Bc],10&r.type))););if(null===r)return!1;n=r,t=o}const i=kt.lFrame=jE();return i.currentTNode=n,i.lView=t,!0}function Bm(t){const n=jE(),e=t[Re];kt.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function jE(){const t=kt.lFrame,n=null===t?null:t.child;return null===n?HE(t):n}function HE(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function WE(){const t=kt.lFrame;return kt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const $E=WE;function Vm(){const t=WE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Fi(){return kt.lFrame.selectedIndex}function Oa(t){kt.lFrame.selectedIndex=t}function Ln(){const t=kt.lFrame;return pu(t.tView,t.selectedIndex)}function Hr(){kt.lFrame.currentNamespace=xE}function hs(){!function YP(){kt.lFrame.currentNamespace=null}()}let ZE=!0;function yu(){return ZE}function Bo(t){ZE=t}function zf(t,n){for(let e=n.directiveStart,i=n.directiveEnd;e<i;e++){const o=t.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:l,ngAfterViewInit:h,ngAfterViewChecked:g,ngOnDestroy:w}=o;s&&(t.contentHooks??=[]).push(-e,s),l&&((t.contentHooks??=[]).push(e,l),(t.contentCheckHooks??=[]).push(e,l)),h&&(t.viewHooks??=[]).push(-e,h),g&&((t.viewHooks??=[]).push(e,g),(t.viewCheckHooks??=[]).push(e,g)),null!=w&&(t.destroyHooks??=[]).push(e,w)}}function jf(t,n,e){YE(t,n,3,e)}function Hf(t,n,e,i){(3&t[gt])===e&&YE(t,n,e,i)}function Um(t,n){let e=t[gt];(3&e)===n&&(e&=16383,e+=1,t[gt]=e)}function YE(t,n,e,i){const o=i??-1,s=n.length-1;let l=0;for(let h=void 0!==i?65535&t[Vc]:0;h<s;h++)if("number"==typeof n[h+1]){if(l=n[h],null!=i&&l>=i)break}else n[h]<0&&(t[Vc]+=65536),(l<o||-1==o)&&(QP(t,e,n,h),t[Vc]=(4294901760&t[Vc])+h+2),h++}function qE(t,n){Lo(4,t,n);const e=O(null);try{n.call(t)}finally{O(e),Lo(5,t,n)}}function QP(t,n,e,i){const r=e[i]<0,o=e[i+1],l=t[r?-e[i]:e[i]];r?t[gt]>>14<t[Vc]>>16&&(3&t[gt])===n&&(t[gt]+=16384,qE(l,o)):qE(l,o)}const jc=-1;class _u{constructor(n,e,i){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}const jm={};class Na{constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,i){i=wa(i);const r=this.injector.get(n,jm,i);return r!==jm||e===jm?r:this.parentInjector.get(n,e,i)}}function Hm(t){return t!==jc}function vu(t){return 32767&t}function wu(t,n){let e=function eA(t){return t>>16}(t),i=n;for(;e>0;)i=i[Bc],e--;return i}let Wm=!0;function Wf(t){const n=Wm;return Wm=t,n}const KE=255,XE=5;let nA=0;const Vo={};function $f(t,n){const e=JE(t,n);if(-1!==e)return e;const i=n[Re];i.firstCreatePass&&(t.injectorIndex=n.length,$m(i.data,t),$m(n,null),$m(i.blueprint,null));const r=Gf(t,n),o=t.injectorIndex;if(Hm(r)){const s=vu(r),l=wu(r,n),h=l[Re].data;for(let g=0;g<8;g++)n[o+g]=l[s+g]|h[s+g]}return n[o+8]=r,o}function $m(t,n){t.push(0,0,0,0,0,0,0,0,n)}function JE(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Gf(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let e=0,i=null,r=n;for(;null!==r;){if(i=sS(r),null===i)return jc;if(e++,r=r[Bc],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return jc}function Gm(t,n,e){!function iA(t,n,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(Bs)&&(i=e[Bs]),null==i&&(i=e[Bs]=nA++);const r=i&KE;n.data[t+(r>>XE)]|=1<<r}(t,n,e)}function eS(t,n,e){if(e&Zt.Optional||void 0!==t)return t;Cc()}function tS(t,n,e,i){if(e&Zt.Optional&&void 0===i&&(i=null),!(e&(Zt.Self|Zt.Host))){const r=t[di],o=mi(void 0);try{return r?r.get(n,i,e&Zt.Optional):vf(n,i,e&Zt.Optional)}finally{mi(o)}}return eS(i,0,e)}function nS(t,n,e,i=Zt.Default,r){if(null!==t){if(2048&n[gt]&&!(i&Zt.Self)){const s=function cA(t,n,e,i,r){let o=t,s=n;for(;null!==o&&null!==s&&2048&s[gt]&&!(512&s[gt]);){const l=iS(o,s,e,i|Zt.Self,Vo);if(l!==Vo)return l;let h=o.parent;if(!h){const g=s[vE];if(g){const w=g.get(e,Vo,i);if(w!==Vo)return w}h=sS(s),s=s[Bc]}o=h}return r}(t,n,e,i,Vo);if(s!==Vo)return s}const o=iS(t,n,e,i,Vo);if(o!==Vo)return o}return tS(n,e,i,r)}function iS(t,n,e,i,r){const o=function sA(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Bs)?t[Bs]:void 0;return"number"==typeof n?n>=0?n&KE:aA:n}(e);if("function"==typeof o){if(!zE(n,t,i))return i&Zt.Host?eS(r,0,i):tS(n,e,i,r);try{let s;if(s=o(i),null!=s||i&Zt.Optional)return s;Cc()}finally{$E()}}else if("number"==typeof o){let s=null,l=JE(t,n),h=jc,g=i&Zt.Host?n[Hn][Ni]:null;for((-1===l||i&Zt.SkipSelf)&&(h=-1===l?Gf(t,n):n[l+8],h!==jc&&oS(i,!1)?(s=n[Re],l=vu(h),n=wu(h,n)):l=-1);-1!==l;){const w=n[Re];if(rS(o,l,w.data)){const C=oA(l,n,e,s,i,g);if(C!==Vo)return C}h=n[l+8],h!==jc&&oS(i,n[Re].data[l+8]===g)&&rS(o,l,n)?(s=w,l=vu(h),n=wu(h,n)):l=-1}}return r}function oA(t,n,e,i,r,o){const s=n[Re],l=s.data[t+8],w=Zf(l,s,e,null==i?ka(l)&&Wm:i!=s&&!!(3&l.type),r&Zt.Host&&o===l);return null!==w?Fa(n,s,w,l):Vo}function Zf(t,n,e,i,r){const o=t.providerIndexes,s=n.data,l=1048575&o,h=t.directiveStart,w=o>>20,k=r?l+w:t.directiveEnd;for(let A=i?l:l+w;A<k;A++){const z=s[A];if(A<h&&e===z||A>=h&&z.type===e)return A}if(r){const A=s[h];if(A&&mo(A)&&A.type===e)return h}return null}function Fa(t,n,e,i){let r=t[e];const o=n.data;if(function KP(t){return t instanceof _u}(r)){const s=r;s.resolving&&function as(t,n){throw n&&n.join(" > "),new Se(-200,t)}(function Xt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Mt(t)}(o[e]));const l=Wf(s.canSeeViewProviders);s.resolving=!0;const g=s.injectImpl?mi(s.injectImpl):null;zE(t,i,Zt.Default);try{r=t[e]=s.factory(void 0,o,t,i),n.firstCreatePass&&e>=i.directiveStart&&function qP(t,n,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=n.type.prototype;if(i){const s=CE(n);(e.preOrderHooks??=[]).push(t,s),(e.preOrderCheckHooks??=[]).push(t,s)}r&&(e.preOrderHooks??=[]).push(0-t,r),o&&((e.preOrderHooks??=[]).push(t,o),(e.preOrderCheckHooks??=[]).push(t,o))}(e,o[e],n)}finally{null!==g&&mi(g),Wf(l),s.resolving=!1,$E()}}return r}function rS(t,n,e){return!!(e[n+(t>>XE)]&1<<t)}function oS(t,n){return!(t&Zt.Self||t&Zt.Host&&n)}class vi{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,i){return nS(this._tNode,this._lView,n,wa(i),e)}}function aA(){return new vi(bn(),be())}function Ri(t){return io(()=>{const n=t.prototype.constructor,e=n[Ur]||Zm(n),i=Object.prototype;let r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){const o=r[Ur]||Zm(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Zm(t){return ns(t)?()=>{const n=Zm(St(t));return n&&n()}:Di(t)}function sS(t){const n=t[Re],e=n.type;return 2===e?n.declTNode:1===e?t[Ni]:null}function dS(t,n=null,e=null,i){const r=fS(t,n,e,i);return r.resolveInjectorInitializers(),r}function fS(t,n=null,e=null,i,r=new Set){const o=[e||pt,yi(t)];return i=i||("object"==typeof t?void 0:ei(t)),new Nc(o,n||kf(),i||null,r)}class wi{static#e=this.THROW_IF_NOT_FOUND=Us;static#t=this.NULL=new Ca;static create(n,e){if(Array.isArray(n))return dS({name:""},e,n,"");{const i=n.name??"";return dS({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=ut({token:wi,providedIn:"any",factory:()=>Nt(bf)});static#i=this.__NG_ELEMENT_ID__=-1}new Je("").__NG_ELEMENT_ID__=t=>{const n=bn();if(null===n)throw new Se(204,!1);if(2&n.type)return n.value;if(t&Zt.Optional)return null;throw new Se(204,!1)};function qm(t){return t.ngOriginalError}let Eu=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=_A;static#t=this.__NG_ENV_ID__=e=>e}return t})();class yA extends Eu{constructor(n){super(),this._lView=n}onDestroy(n){return Bf(this._lView,n),()=>function Pm(t,n){if(null===t[Gs])return;const e=t[Gs].indexOf(n);-1!==e&&t[Gs].splice(e,1)}(this._lView,n)}}function _A(){return new yA(be())}let $c=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new no(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275prov=ut({token:t,providedIn:"root",factory:()=>new t})}return t})();const In=class vA extends ke{constructor(n=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=n,function mE(){return void 0!==eu()||null!=function co(){return ni}()}()&&(this.destroyRef=qe(Eu,{optional:!0})??void 0,this.pendingTasks=qe($c,{optional:!0})??void 0)}emit(n){const e=O(null);try{super.next(n)}finally{O(e)}}subscribe(n,e,i){let r=n,o=e||(()=>null),s=i;if(n&&"object"==typeof n){const h=n;r=h.next?.bind(h),o=h.error?.bind(h),s=h.complete?.bind(h)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));const l=super.subscribe({next:r,error:o,complete:s});return n instanceof U&&n.add(l),l}wrapInTimeout(n){return e=>{const i=this.pendingTasks?.add();setTimeout(()=>{n(e),void 0!==i&&this.pendingTasks?.remove(i)})}}};function Qf(...t){}function pS(t){let n,e;function i(){t=Qf;try{void 0!==e&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(e),void 0!==n&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{t(),i()}),"function"==typeof requestAnimationFrame&&(e=requestAnimationFrame(()=>{t(),i()})),()=>i()}function gS(t){return queueMicrotask(()=>t()),()=>{t=Qf}}class ln{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new In(!1),this.onMicrotaskEmpty=new In(!1),this.onStable=new In(!1),this.onError=new In(!1),typeof Zone>"u")throw new Se(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.callbackScheduled=!1,function SA(t){const n=()=>{!function EA(t){t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,Zone.root.run(()=>{pS(()=>{t.callbackScheduled=!1,Km(t),t.isCheckStableRunning=!0,Qm(t),t.isCheckStableRunning=!1})}),Km(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,o,s,l)=>{if(function bA(t){return _S(t,"__ignore_ng_zone__")}(l))return e.invokeTask(r,o,s,l);try{return mS(t),e.invokeTask(r,o,s,l)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&n(),yS(t)}},onInvoke:(e,i,r,o,s,l,h)=>{try{return mS(t),e.invoke(r,o,s,l,h)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!function CA(t){return _S(t,"__scheduler_tick__")}(l)&&n(),yS(t)}},onHasTask:(e,i,r,o)=>{e.hasTask(r,o),i===r&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,Km(t),Qm(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,i,r,o)=>(e.handleError(r,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ln.isInAngularZone())throw new Se(909,!1)}static assertNotInAngularZone(){if(ln.isInAngularZone())throw new Se(909,!1)}run(n,e,i){return this._inner.run(n,e,i)}runTask(n,e,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,n,wA,Qf,Qf);try{return o.runTask(s,e,i)}finally{o.cancelTask(s)}}runGuarded(n,e,i){return this._inner.runGuarded(n,e,i)}runOutsideAngular(n){return this._outer.run(n)}}const wA={};function Qm(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Km(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&!0===t.callbackScheduled)}function mS(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function yS(t){t._nesting--,Qm(t)}class Xm{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new In,this.onMicrotaskEmpty=new In,this.onStable=new In,this.onError=new In}run(n,e,i){return n.apply(e,i)}runGuarded(n,e,i){return n.apply(e,i)}runOutsideAngular(n){return n()}runTask(n,e,i,r){return n.apply(e,i)}}function _S(t,n){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0]?.data?.[n]}class vo{constructor(){this._console=console}handleError(n){const e=this._findOriginalError(n);this._console.error("ERROR",n),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&qm(n);for(;e&&qm(e);)e=qm(e);return e||null}}const DA=new Je("",{providedIn:"root",factory:()=>{const t=qe(ln),n=qe(vo);return e=>t.runOutsideAngular(()=>n.handleError(e))}});function xA(){return Gc(bn(),be())}function Gc(t,n){return new Ei(tr(t,n))}let Ei=(()=>{class t{constructor(e){this.nativeElement=e}static#e=this.__NG_ELEMENT_ID__=xA}return t})();function wS(t){return t instanceof Ei?t.nativeElement:t}function MA(){return this._results[Symbol.iterator]()}class Jm{static#e=Symbol.iterator;get changes(){return this._changes??=new In}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const e=Jm.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=MA)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){this.dirty=!1;const i=function Kn(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Sf(t,n,e){if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],o=n[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}(this._results,i,e))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Kf(t){return!(128&~t.flags)}const ey=new Map;let kA=0;const Jf="__ngContext__";function ji(t,n){xi(n)?(t[Jf]=n[Uc],function AA(t){ey.set(t[Uc],t)}(n)):t[Jf]=n}function kS(t){return AS(t[uu])}function PS(t){return AS(t[go])}function AS(t){for(;null!==t&&!zi(t);)t=t[go];return t}let ny;function Zs(){if(void 0!==ny)return ny;if(typeof document<"u")return document;throw new Se(210,!1)}const Yc=new Je("",{providedIn:"root",factory:()=>QA}),QA="ng",US=new Je(""),qc=new Je("",{providedIn:"platform",factory:()=>"unknown"}),zS=new Je(""),jS=new Je("",{providedIn:"root",factory:()=>Zs().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let HS=()=>null;function ly(t,n,e=!1){return HS(t,n,e)}const KS=new Je("",{providedIn:"root",factory:()=>!1});let ch,lh;function Xc(t){return function py(){if(void 0===ch&&(ch=null,Mn.trustedTypes))try{ch=Mn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ch}()?.createHTML(t)||t}function eb(t){return function gy(){if(void 0===lh&&(lh=null,Mn.trustedTypes))try{lh=Mn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return lh}()?.createHTML(t)||t}class Ra{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${uf})`}}class uO extends Ra{getTypeName(){return"HTML"}}class dO extends Ra{getTypeName(){return"Style"}}class fO extends Ra{getTypeName(){return"Script"}}class hO extends Ra{getTypeName(){return"URL"}}class pO extends Ra{getTypeName(){return"ResourceURL"}}function kr(t){return t instanceof Ra?t.changingThisBreaksApplicationSecurity:t}function Uo(t,n){const e=function gO(t){return t instanceof Ra&&t.getTypeName()||null}(t);if(null!=e&&e!==n){if("ResourceURL"===e&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${uf})`)}return e===n}class EO{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const e=(new window.DOMParser).parseFromString(Xc(n),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(n):(e.removeChild(e.firstChild),e)}catch{return null}}}class SO{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const e=this.inertDocument.createElement("template");return e.innerHTML=Xc(n),e}}const CO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function uh(t){return(t=String(t)).match(CO)?t:"unsafe:"+t}function ps(t){const n={};for(const e of t.split(","))n[e]=!0;return n}function Tu(...t){const n={};for(const e of t)for(const i in e)e.hasOwnProperty(i)&&(n[i]=!0);return n}const rb=ps("area,br,col,hr,img,wbr"),ob=ps("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),sb=ps("rp,rt"),my=Tu(rb,Tu(ob,ps("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Tu(sb,ps("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Tu(sb,ob)),yy=ps("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ab=Tu(yy,ps("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ps("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),IO=ps("script,style,template");class DO{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let e=n.firstChild,i=!0,r=[];for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)r.push(e),e=TO(e);else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let o=MO(e);if(o){e=o;break}e=r.pop()}return this.buf.join("")}startElement(n){const e=cb(n).toLowerCase();if(!my.hasOwnProperty(e))return this.sanitizedSomething=!0,!IO.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=n.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),s=o.name,l=s.toLowerCase();if(!ab.hasOwnProperty(l)){this.sanitizedSomething=!0;continue}let h=o.value;yy[l]&&(h=uh(h)),this.buf.push(" ",s,'="',ub(h),'"')}return this.buf.push(">"),!0}endElement(n){const e=cb(n).toLowerCase();my.hasOwnProperty(e)&&!rb.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(ub(n))}}function MO(t){const n=t.nextSibling;if(n&&t!==n.previousSibling)throw lb(n);return n}function TO(t){const n=t.firstChild;if(n&&function xO(t,n){return(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(t,n))throw lb(n);return n}function cb(t){const n=t.nodeName;return"string"==typeof n?n:"FORM"}function lb(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}const kO=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,PO=/([^\#-~ |!])/g;function ub(t){return t.replace(/&/g,"&amp;").replace(kO,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(PO,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let dh;function db(t,n){let e=null;try{dh=dh||function ib(t){const n=new SO(t);return function bO(){try{return!!(new window.DOMParser).parseFromString(Xc(""),"text/html")}catch{return!1}}()?new EO(n):n}(t);let i=n?String(n):"";e=dh.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=e.innerHTML,e=dh.getInertBodyElement(i)}while(i!==o);return Xc((new DO).sanitizeChildren(_y(e)||e))}finally{if(e){const i=_y(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function _y(t){return"content"in t&&function AO(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Wr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Wr||{});function fb(t){const n=ku();return n?eb(n.sanitize(Wr.HTML,t)||""):Uo(t,"HTML")?eb(kr(t)):db(Zs(),Mt(t))}function et(t){const n=ku();return n?n.sanitize(Wr.URL,t)||"":Uo(t,"URL")?kr(t):uh(Mt(t))}function ku(){const t=be();return t&&t[Fo].sanitizer}const VO=/^>|^->|<!--|-->|--!>|<!-$/g,UO=/(<|>)/g,zO="\u200b$1\u200b";var Ys=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ys||{});let Ey;function Sy(t,n){return Ey(t,n)}function el(t,n,e,i,r){if(null!=i){let o,s=!1;zi(i)?o=i:xi(i)&&(s=!0,i=i[jn]);const l=tn(i);0===t&&null!==e?null==r?Db(n,e,l):La(n,e,l,r||null,!0):1===t&&null!==e?La(n,e,l,r||null,!0):2===t?function Au(t,n,e){const i=mh(t,n);i&&function oN(t,n,e,i){t.removeChild(n,e,i)}(t,i,n,e)}(n,l,s):3===t&&n.destroyNode(l),null!=o&&function cN(t,n,e,i,r){const o=e[Ro];o!==tn(e)&&el(n,t,i,o,r);for(let l=ii;l<e.length;l++){const h=e[l];_h(h[Re],h,t,n,i,o)}}(n,t,o,e,r)}}function Cy(t,n){return t.createComment(function pb(t){return t.replace(VO,n=>n.replace(UO,zO))}(n))}function ph(t,n,e){return t.createElement(n,e)}function bb(t,n){n[Fo].changeDetectionScheduler?.notify(8),_h(t,n,n[Tt],2,null,null)}function Cb(t,n){const e=t[zc],i=n[ui];(xi(i)||n[Hn]!==i[ui][Hn])&&(t[gt]|=Ff.HasTransplantedViews),null===e?t[zc]=[n]:e.push(n)}function Iy(t,n){const e=t[zc],i=e.indexOf(n);e.splice(i,1)}function Pu(t,n){if(t.length<=ii)return;const e=ii+n,i=t[e];if(i){const r=i[Ta];null!==r&&r!==t&&Iy(r,i),n>0&&(t[e-1][go]=i[go]);const o=js(t,ii+n);!function JO(t,n){bb(t,n),n[jn]=null,n[Ni]=null}(i[Re],i);const s=o[ls];null!==s&&s.detachView(o[Re]),i[ui]=null,i[go]=null,i[gt]&=-129}return i}function gh(t,n){if(!(256&n[gt])){const e=n[Tt];e.destroyNode&&_h(t,n,e,3,null,null),function tN(t){let n=t[uu];if(!n)return Dy(t[Re],t);for(;n;){let e=null;if(xi(n))e=n[uu];else{const i=n[ii];i&&(e=i)}if(!e){for(;n&&!n[go]&&n!==t;)xi(n)&&Dy(n[Re],n),n=n[ui];null===n&&(n=t),xi(n)&&Dy(n[Re],n),e=n&&n[go]}n=e}}(n)}}function Dy(t,n){if(256&n[gt])return;const e=O(null);try{n[gt]&=-129,n[gt]|=256,n[zr]&&Te(n[zr]),function rN(t,n){let e;if(null!=t&&null!=(e=t.destroyHooks))for(let i=0;i<e.length;i+=2){const r=n[e[i]];if(!(r instanceof _u)){const o=e[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const l=r[o[s]],h=o[s+1];Lo(4,l,h);try{h.call(l)}finally{Lo(5,l,h)}}else{Lo(4,r,o);try{o.call(r)}finally{Lo(5,r,o)}}}}}(t,n),function iN(t,n){const e=t.cleanup,i=n[Lc];if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const s=e[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else e[o].call(i[e[o+1]]);null!==i&&(n[Lc]=null);const r=n[Gs];if(null!==r){n[Gs]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(t,n),1===n[Re].type&&n[Tt].destroy();const i=n[Ta];if(null!==i&&zi(n[ui])){i!==n[ui]&&Iy(i,n);const r=n[ls];null!==r&&r.detachView(t)}!function OA(t){ey.delete(t[Uc])}(n)}finally{O(e)}}function xy(t,n,e){return function Ib(t,n,e){let i=n;for(;null!==i&&168&i.type;)i=(n=i).parent;if(null===i)return e[jn];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=t.data[i.directiveStart+r];if(o===Ir.None||o===Ir.Emulated)return null}return tr(i,e)}}(t,n.parent,e)}function La(t,n,e,i,r){t.insertBefore(n,e,i,r)}function Db(t,n,e){t.appendChild(n,e)}function xb(t,n,e,i,r){null!==i?La(t,n,e,i,r):Db(t,n,e)}function mh(t,n){return t.parentNode(n)}function Mb(t,n,e){return kb(t,n,e)}let My,kb=function Tb(t,n,e){return 40&t.type?tr(t,e):null};function yh(t,n,e,i){const r=xy(t,i,n),o=n[Tt],l=Mb(i.parent||n[Ni],i,n);if(null!=r)if(Array.isArray(e))for(let h=0;h<e.length;h++)xb(o,r,e[h],l,!1);else xb(o,r,e,l,!1);void 0!==My&&My(o,i,n,e,r)}function Ba(t,n){if(null!==n){const e=n.type;if(3&e)return tr(n,t);if(4&e)return Ty(-1,t[n.index]);if(8&e){const i=n.child;if(null!==i)return Ba(t,i);{const r=t[n.index];return zi(r)?Ty(-1,r):tn(r)}}if(128&e)return Ba(t,n.next);if(32&e)return Sy(n,t)()||tn(t[n.index]);{const i=Ab(t,n);return null!==i?Array.isArray(i)?i[0]:Ba(us(t[Hn]),i):Ba(t,n.next)}}return null}function Ab(t,n){return null!==n?t[Hn][Ni].projection[n.projection]:null}function Ty(t,n){const e=ii+t+1;if(e<n.length){const i=n[e],r=i[Re].firstChild;if(null!==r)return Ba(i,r)}return n[Ro]}function ky(t,n,e,i,r,o,s){for(;null!=e;){if(128===e.type){e=e.next;continue}const l=i[e.index],h=e.type;if(s&&0===n&&(l&&ji(tn(l),i),e.flags|=2),32&~e.flags)if(8&h)ky(t,n,e.child,i,r,o,!1),el(n,t,r,l,o);else if(32&h){const g=Sy(e,i);let w;for(;w=g();)el(n,t,r,w,o);el(n,t,r,l,o)}else 16&h?Nb(t,n,i,e,r,o):el(n,t,r,l,o);e=s?e.projectionNext:e.next}}function _h(t,n,e,i,r,o){ky(e,i,t.firstChild,n,r,o,!1)}function Nb(t,n,e,i,r,o){const s=e[Hn],h=s[Ni].projection[i.projection];if(Array.isArray(h))for(let g=0;g<h.length;g++)el(n,t,r,h[g],o);else{let g=h;const w=s[ui];Kf(i)&&(g.flags|=128),ky(t,n,g,w,r,o,!0)}}function Fb(t,n,e){""===e?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function Rb(t,n,e){const{mergedAttrs:i,classes:r,styles:o}=e;null!==i&&ou(t,n,i),null!==r&&Fb(t,n,r),null!==o&&function uN(t,n,e){t.setAttribute(n,"style",e)}(t,n,o)}const Ft={};function B(t=1){Lb(jt(),be(),Fi()+t,!1)}function Lb(t,n,e,i){if(!i)if(3&~n[gt]){const o=t.preOrderHooks;null!==o&&Hf(n,o,0,e)}else{const o=t.preOrderCheckHooks;null!==o&&jf(n,o,e)}Oa(e)}function ee(t,n=Zt.Default){const e=be();return null===e?Nt(t,n):nS(bn(),e,St(t),n)}function Bb(t,n,e,i,r,o){const s=O(null);try{let l=null;r&fo.SignalBased&&(l=n[i][V]),null!==l&&void 0!==l.transformFn&&(o=l.transformFn(o)),r&fo.HasDecoratorInputTransform&&(o=t.inputTransforms[i].call(n,o)),null!==t.setInput?t.setInput(n,l,o,e,i):bE(n,l,i,o)}finally{O(s)}}function vh(t,n,e,i,r,o,s,l,h,g,w){const C=n.blueprint.slice();return C[jn]=r,C[gt]=204|i,(null!==g||t&&2048&t[gt])&&(C[gt]|=2048),TE(C),C[ui]=C[Bc]=t,C[Rn]=e,C[Fo]=s||t&&t[Fo],C[Tt]=l||t&&t[Tt],C[di]=h||t&&t[di]||null,C[Ni]=o,C[Uc]=function PA(){return kA++}(),C[Ji]=w,C[vE]=g,C[Hn]=2==n.type?t[Hn]:C,C}function Va(t,n,e,i,r){let o=t.data[n];if(null===o)o=function Py(t,n,e,i,r){const o=NE(),s=Om(),h=t.data[n]=function vN(t,n,e,i,r,o){let s=n?n.injectorIndex:-1,l=0;return Aa()&&(l|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:l,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,e,n,i,r);return null===t.firstChild&&(t.firstChild=h),null!==o&&(s?null==o.child&&null!==h.parent&&(o.child=h):null===o.next&&(o.next=h,h.prev=o)),h}(t,n,e,i,r),function jP(){return kt.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=e,o.value=i,o.attrs=r;const s=function mu(){const t=kt.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return yo(o,!0),o}function Ou(t,n,e,i){if(0===e)return-1;const r=n.length;for(let o=0;o<e;o++)n.push(i),t.blueprint.push(i),t.data.push(null);return r}function Vb(t,n,e,i,r){const o=Fi(),s=2&i;try{Oa(-1),s&&n.length>at&&Lb(t,n,at,!1),Lo(s?2:0,r),e(i,r)}finally{Oa(o),Lo(s?3:1,r)}}function Ay(t,n,e){if(Cm(n)){const i=O(null);try{const o=n.directiveEnd;for(let s=n.directiveStart;s<o;s++){const l=t.data[s];l.contentQueries&&l.contentQueries(1,e[s],s)}}finally{O(i)}}}function Oy(t,n,e){OE()&&(function DN(t,n,e,i){const r=e.directiveStart,o=e.directiveEnd;ka(e)&&function ON(t,n,e){const i=tr(n,t),r=Ub(e);let s=16;e.signals?s=4096:e.onPush&&(s=64);const l=wh(t,vh(t,r,null,s,i,n,null,t[Fo].rendererFactory.createRenderer(i,e),null,null,null));t[n.index]=l}(n,e,t.data[r+e.componentOffset]),t.firstCreatePass||$f(e,n),ji(i,n);const s=e.initialInputs;for(let l=r;l<o;l++){const h=t.data[l],g=Fa(n,t,l,e);ji(g,n),null!==s&&NN(0,l-r,g,h,0,s),mo(h)&&(Tr(e.index,n)[Rn]=Fa(n,t,l,e))}}(t,n,e,tr(e,n)),!(64&~e.flags)&&$b(t,n,e))}function Ny(t,n,e=tr){const i=n.localNames;if(null!==i){let r=n.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],l=-1===s?e(n,t):t[s];t[r++]=l}}}function Ub(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Fy(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Fy(t,n,e,i,r,o,s,l,h,g,w){const C=at+i,k=C+r,A=function hN(t,n){const e=[];for(let i=0;i<n;i++)e.push(i<t?null:Ft);return e}(C,k),z="function"==typeof g?g():g;return A[Re]={type:t,blueprint:A,template:e,queries:null,viewQuery:l,declTNode:n,data:A.slice().fill(null,C),bindingStartIndex:C,expandoStartIndex:k,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:h,consts:z,incompleteFirstPass:!1,ssrId:w}}let zb=()=>null;function jb(t,n,e,i,r){for(let o in n){if(!n.hasOwnProperty(o))continue;const s=n[o];if(void 0===s)continue;i??={};let l,h=fo.None;Array.isArray(s)?(l=s[0],h=s[1]):l=s;let g=o;if(null!==r){if(!r.hasOwnProperty(o))continue;g=r[o]}0===t?Hb(i,e,g,l,h):Hb(i,e,g,l)}return i}function Hb(t,n,e,i,r){let o;t.hasOwnProperty(e)?(o=t[e]).push(n,i):o=t[e]=[n,i],void 0!==r&&o.push(r)}function gr(t,n,e,i,r,o,s,l){const h=tr(n,e);let w,g=n.inputs;!l&&null!=g&&(w=g[i])?(Uy(t,e,w,i,r),ka(n)&&function SN(t,n){const e=Tr(n,t);16&e[gt]||(e[gt]|=64)}(e,n.index)):3&n.type&&(i=function EN(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(i),r=null!=s?s(r,n.value||"",i):r,o.setProperty(h,i,r))}function Ry(t,n,e,i){if(OE()){const r=null===i?null:{"":-1},o=function MN(t,n){const e=t.directiveRegistry;let i=null,r=null;if(e)for(let o=0;o<e.length;o++){const s=e[o];if(xa(n,s.selectors,!1))if(i||(i=[]),mo(s))if(null!==s.findHostDirectiveDefs){const l=[];r=r||new Map,s.findHostDirectiveDefs(s,l,r),i.unshift(...l,s),Ly(t,n,l.length)}else i.unshift(s),Ly(t,n,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(t,e);let s,l;null===o?s=l=null:[s,l]=o,null!==s&&Wb(t,n,e,s,r,l),r&&function TN(t,n,e){if(n){const i=t.localNames=[];for(let r=0;r<n.length;r+=2){const o=e[n[r+1]];if(null==o)throw new Se(-301,!1);i.push(n[r],o)}}}(e,i,r)}e.mergedAttrs=$s(e.mergedAttrs,e.attrs)}function Wb(t,n,e,i,r,o){for(let g=0;g<i.length;g++)Gm($f(e,n),t,i[g].type);!function PN(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}(e,t.data.length,i.length);for(let g=0;g<i.length;g++){const w=i[g];w.providersResolver&&w.providersResolver(w)}let s=!1,l=!1,h=Ou(t,n,i.length,null);for(let g=0;g<i.length;g++){const w=i[g];e.mergedAttrs=$s(e.mergedAttrs,w.hostAttrs),AN(t,e,n,h,w),kN(h,w,r),null!==w.contentQueries&&(e.flags|=4),(null!==w.hostBindings||null!==w.hostAttrs||0!==w.hostVars)&&(e.flags|=64);const C=w.type.prototype;!s&&(C.ngOnChanges||C.ngOnInit||C.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),s=!0),!l&&(C.ngOnChanges||C.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),l=!0),h++}!function wN(t,n,e){const r=n.directiveEnd,o=t.data,s=n.attrs,l=[];let h=null,g=null;for(let w=n.directiveStart;w<r;w++){const C=o[w],k=e?e.get(C):null,z=k?k.outputs:null;h=jb(0,C.inputs,w,h,k?k.inputs:null),g=jb(1,C.outputs,w,g,z);const J=null===h||null===s||Ac(n)?null:FN(h,w,s);l.push(J)}null!==h&&(h.hasOwnProperty("class")&&(n.flags|=8),h.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=l,n.inputs=h,n.outputs=g}(t,e,o)}function $b(t,n,e){const i=e.directiveStart,r=e.directiveEnd,o=e.index,s=function WP(){return kt.lFrame.currentDirectiveIndex}();try{Oa(o);for(let l=i;l<r;l++){const h=t.data[l],g=n[l];Fm(l),(null!==h.hostBindings||0!==h.hostVars||null!==h.hostAttrs)&&xN(h,g)}}finally{Oa(-1),Fm(s)}}function xN(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Ly(t,n,e){n.componentOffset=e,(t.components??=[]).push(n.index)}function kN(t,n,e){if(e){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)e[n.exportAs[i]]=t;mo(n)&&(e[""]=t)}}function AN(t,n,e,i,r){t.data[i]=r;const o=r.factory||(r.factory=Di(r.type)),s=new _u(o,mo(r),ee);t.blueprint[i]=s,e[i]=s,function CN(t,n,e,i,r){const o=r.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const l=~n.index;(function IN(t){let n=t.length;for(;n>0;){const e=t[--n];if("number"==typeof e&&e<0)return e}return 0})(s)!=l&&s.push(l),s.push(e,i,o)}}(t,n,i,Ou(t,e,r.hostVars,Ft),r)}function NN(t,n,e,i,r,o){const s=o[n];if(null!==s)for(let l=0;l<s.length;)Bb(i,e,s[l++],s[l++],s[l++],s[l++])}function FN(t,n,e){let i=null,r=0;for(;r<e.length;){const o=e[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===i&&(i=[]);const s=t[o];for(let l=0;l<s.length;l+=3)if(s[l]===n){i.push(o,s[l+1],s[l+2],e[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function Gb(t,n,e,i){return[t,!0,0,n,null,i,null,e,null,null]}function Zb(t,n){const e=t.contentQueries;if(null!==e){const i=O(null);try{for(let r=0;r<e.length;r+=2){const s=e[r+1];if(-1!==s){const l=t.data[s];Uf(e[r]),l.contentQueries(2,n[s],s)}}}finally{O(i)}}}function wh(t,n){return t[uu]?t[_E][go]=n:t[uu]=n,t[_E]=n,n}function Vy(t,n,e){Uf(0);const i=O(null);try{n(t,e)}finally{O(i)}}function Yb(t){return t[Lc]??=[]}function qb(t){return t.cleanup??=[]}function Eh(t,n){const e=t[di],i=e?e.get(vo,null):null;i&&i.handleError(n)}function Uy(t,n,e,i,r){for(let o=0;o<e.length;){const s=e[o++],l=e[o++],h=e[o++];Bb(t.data[s],n[s],i,l,h,r)}}function gs(t,n,e){const i=hu(n,t);!function Sb(t,n,e){t.setValue(n,e)}(t[Tt],i,e)}function RN(t,n){const e=Tr(n,t),i=e[Re];!function LN(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])}(i,e);const r=e[jn];null!==r&&null===e[Ji]&&(e[Ji]=ly(r,e[di])),zy(i,e,e[Rn])}function zy(t,n,e){Bm(n);try{const i=t.viewQuery;null!==i&&Vy(1,i,e);const r=t.template;null!==r&&Vb(t,n,r,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),n[ls]?.finishViewCreation(t),t.staticContentQueries&&Zb(t,n),t.staticViewQueries&&Vy(2,t.viewQuery,e);const o=t.components;null!==o&&function BN(t,n){for(let e=0;e<n.length;e++)RN(t,n[e])}(n,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{n[gt]&=-5,Vm()}}function tl(t,n,e,i){const r=O(null);try{const o=n.tView,h=vh(t,o,e,4096&t[gt]?4096:16,null,n,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null);h[Ta]=t[n.index];const w=t[ls];return null!==w&&(h[ls]=w.createEmbeddedView(o)),zy(o,h,e),h}finally{O(r)}}function Ua(t,n){return!n||null===n.firstChild||Kf(t)}function nl(t,n,e,i=!0){const r=n[Re];if(function nN(t,n,e,i){const r=ii+i,o=e.length;i>0&&(e[r-1][go]=n),i<o-ii?(n[go]=e[r],Oi(e,ii+i,n)):(e.push(n),n[go]=null),n[ui]=e;const s=n[Ta];null!==s&&e!==s&&Cb(s,n);const l=n[ls];null!==l&&l.insertView(t),km(n),n[gt]|=128}(r,n,t,e),i){const s=Ty(e,t),l=n[Tt],h=mh(l,t[Ro]);null!==h&&function eN(t,n,e,i,r,o){i[jn]=r,i[Ni]=n,_h(t,i,e,1,r,o)}(r,t[Ni],l,n,h,s)}const o=n[Ji];null!==o&&null!==o.firstChild&&(o.firstChild=null)}function Nu(t,n,e,i,r=!1){for(;null!==e;){if(128===e.type){e=r?e.projectionNext:e.next;continue}const o=n[e.index];null!==o&&i.push(tn(o)),zi(o)&&Xb(o,i);const s=e.type;if(8&s)Nu(t,n,e.child,i);else if(32&s){const l=Sy(e,n);let h;for(;h=l();)i.push(h)}else if(16&s){const l=Ab(n,e);if(Array.isArray(l))i.push(...l);else{const h=us(n[Hn]);Nu(h[Re],h,l,i,!0)}}e=r?e.projectionNext:e.next}return i}function Xb(t,n){for(let e=ii;e<t.length;e++){const i=t[e],r=i[Re].firstChild;null!==r&&Nu(i[Re],i,r,n)}t[Ro]!==t[jn]&&n.push(t[Ro])}let Jb=[];const jN={...b,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Lf(t.lView)},consumerOnSignalRead(){this.lView[zr]=this}},WN={...b,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let n=us(t.lView);for(;n&&!eC(n[Re]);)n=us(n);n&&kE(n)},consumerOnSignalRead(){this.lView[zr]=this}};function eC(t){return 2!==t.type}const $N=100;function Sh(t,n=!0,e=0){const i=t[Fo],r=i.rendererFactory;r.begin?.();try{!function GN(t,n){const e=LE();try{BE(!0),Hy(t,n);let i=0;for(;gu(t);){if(i===$N)throw new Se(103,!1);i++,Hy(t,1)}}finally{BE(e)}}(t,e)}catch(s){throw n&&Eh(t,s),s}finally{r.end?.(),i.inlineEffectRunner?.flush()}}function ZN(t,n,e,i){const r=n[gt];if(!(256&~r))return;n[Fo].inlineEffectRunner?.flush(),Bm(n);let l=!0,h=null,g=null;eC(t)?(g=function VN(t){return t[zr]??function UN(t){const n=Jb.pop()??Object.create(jN);return n.lView=t,n}(t)}(n),h=ue(g)):null===function D(){return Y}()?(l=!1,g=function HN(t){const n=t[zr]??Object.create(WN);return n.lView=t,n}(n),h=ue(g)):n[zr]&&(Te(n[zr]),n[zr]=null);try{TE(n),function VE(t){return kt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&Vb(t,n,e,2,i);const w=!(3&~r);if(w){const A=t.preOrderCheckHooks;null!==A&&jf(n,A,null)}else{const A=t.preOrderHooks;null!==A&&Hf(n,A,0,null),Um(n,0)}if(function YN(t){for(let n=kS(t);null!==n;n=PS(n)){if(!(n[gt]&Ff.HasTransplantedViews))continue;const e=n[zc];for(let i=0;i<e.length;i++)kE(e[i])}}(n),nC(n,0),null!==t.contentQueries&&Zb(t,n),w){const A=t.contentCheckHooks;null!==A&&jf(n,A)}else{const A=t.contentHooks;null!==A&&Hf(n,A,1),Um(n,1)}!function fN(t,n){const e=t.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const r=e[i];if(r<0)Oa(~r);else{const o=r,s=e[++i],l=e[++i];HP(s,o),l(2,n[o])}}}finally{Oa(-1)}}(t,n);const C=t.components;null!==C&&rC(n,C,0);const k=t.viewQuery;if(null!==k&&Vy(2,k,i),w){const A=t.viewCheckHooks;null!==A&&jf(n,A)}else{const A=t.viewHooks;null!==A&&Hf(n,A,2),Um(n,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Of]){for(const A of n[Of])A();n[Of]=null}n[gt]&=-73}catch(w){throw Lf(n),w}finally{null!==g&&(oe(g,h),l&&function zN(t){t.lView[zr]!==t&&(t.lView=null,Jb.push(t))}(g)),Vm()}}function nC(t,n){for(let e=kS(t);null!==e;e=PS(e))for(let i=ii;i<e.length;i++)iC(e[i],n)}function qN(t,n,e){iC(Tr(n,t),e)}function iC(t,n){Tm(t)&&Hy(t,n)}function Hy(t,n){const i=t[Re],r=t[gt],o=t[zr];let s=!!(0===n&&16&r);if(s||=!!(64&r&&0===n),s||=!!(1024&r),s||=!(!o?.dirty||!je(o)),s||=!1,o&&(o.dirty=!1),t[gt]&=-9217,s)ZN(i,t,i.template,t[Rn]);else if(8192&r){nC(t,1);const l=i.components;null!==l&&rC(t,l,1)}}function rC(t,n,e){for(let i=0;i<n.length;i++)qN(t,n[i],e)}function Fu(t,n){const e=LE()?64:1088;for(t[Fo].changeDetectionScheduler?.notify(n);t;){t[gt]|=e;const i=us(t);if(fu(t)&&!i)return t;t=i}return null}class Ru{get rootNodes(){const n=this._lView,e=n[Re];return Nu(e,n,e.firstChild,[])}constructor(n,e,i=!0){this._lView=n,this._cdRefInjectingView=e,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Rn]}set context(n){this._lView[Rn]=n}get destroyed(){return!(256&~this._lView[gt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[ui];if(zi(n)){const e=n[8],i=e?e.indexOf(this):-1;i>-1&&(Pu(n,i),js(e,i))}this._attachedToViewContainer=!1}gh(this._lView[Re],this._lView)}onDestroy(n){Bf(this._lView,n)}markForCheck(){Fu(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[gt]&=-129}reattach(){km(this._lView),this._lView[gt]|=128}detectChanges(){this._lView[gt]|=1024,Sh(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Se(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const n=fu(this._lView),e=this._lView[Ta];null!==e&&!n&&Iy(e,this._lView),bb(this._lView[Re],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Se(902,!1);this._appRef=n;const e=fu(this._lView),i=this._lView[Ta];null!==i&&!e&&Cb(i,this._lView),km(this._lView)}}let ms=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=XN}return t})();const QN=ms,KN=class extends QN{constructor(n,e,i){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,e){return this.createEmbeddedViewImpl(n,e)}createEmbeddedViewImpl(n,e,i){const r=tl(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:e,dehydratedView:i});return new Ru(r)}};function XN(){return bh(bn(),be())}function bh(t,n){return 4&t.type?new KN(n,t,Gc(t,n)):null}let IC=()=>null;function ja(t,n){return IC(t,n)}class rl{}const Wu=new Je("",{providedIn:"root",factory:()=>!1}),DC=new Je("");class W2{}class xC{}class G2{resolveComponentFactory(n){throw function $2(t){const n=Error(`No component factory found for ${ei(t)}.`);return n.ngComponent=t,n}(n)}}class Th{static#e=this.NULL=new G2}class kh{}let $r=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Z2(){const t=be(),e=Tr(bn().index,t);return(xi(e)?e:t)[Tt]}()}return t})(),Y2=(()=>{class t{static#e=this.\u0275prov=ut({token:t,providedIn:"root",factory:()=>null})}return t})();const TC=new Set;function ir(t){TC.has(t)||(TC.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}let Ph=(()=>{class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const e=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const i of e)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=ut({token:t,providedIn:"root",factory:()=>new t})}return t})();function Oh(t,n,e){let i=e?t.styles:null,r=e?t.classes:null,o=0;if(null!==n)for(let s=0;s<n.length;s++){const l=n[s];"number"==typeof l?o=l:1==o?r=Ns(r,l):2==o&&(i=Ns(i,l+": "+n[++s]+";"))}e?t.styles=i:t.stylesWithoutHost=i,e?t.classes=r:t.classesWithoutHost=r}class NC extends Th{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const e=I(n);return new Zu(e,this.ngModule)}}function FC(t,n){const e=[];for(const i in t){if(!t.hasOwnProperty(i))continue;const r=t[i];if(void 0===r)continue;const o=Array.isArray(r),s=o?r[0]:r;e.push(n?{propName:s,templateName:i,isSignal:!!((o?r[1]:fo.None)&fo.SignalBased)}:{propName:s,templateName:i})}return e}class Zu extends xC{get inputs(){const n=this.componentDef,e=n.inputTransforms,i=FC(n.inputs,!0);if(null!==e)for(const r of i)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return i}get outputs(){return FC(this.componentDef.outputs,!1)}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=function au(t){return t.map(ym).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}create(n,e,i,r){const o=O(null);try{let s=(r=r||this.ngModule)instanceof po?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const l=s?new Na(n,s):n,h=l.get(kh,null);if(null===h)throw new Se(407,!1);const g=l.get(Y2,null),k={rendererFactory:h,sanitizer:g,inlineEffectRunner:null,afterRenderEventManager:l.get(Ph,null),changeDetectionScheduler:l.get(rl,null)},A=h.createRenderer(null,this.componentDef),z=this.componentDef.selectors[0][0]||"div",J=i?function pN(t,n,e,i){const o=i.get(KS,!1)||e===Ir.ShadowDom,s=t.selectRootElement(n,o);return function gN(t){zb(t)}(s),s}(A,i,this.componentDef.encapsulation,l):ph(A,z,function nF(t){const n=t.toLowerCase();return"svg"===n?xE:"math"===n?"math":null}(z));let fe=512;this.componentDef.signals?fe|=4096:this.componentDef.onPush||(fe|=16);let Ce=null;null!==J&&(Ce=ly(J,l,!0));const de=Fy(0,null,null,1,0,null,null,null,null,null,null),We=vh(null,de,null,fe,null,null,k,A,l,null,Ce);let st,zt;Bm(We);try{const en=this.componentDef;let wn,ci=null;en.findHostDirectiveDefs?(wn=[],ci=new Map,en.findHostDirectiveDefs(en,wn,ci),wn.push(en)):wn=[en];const Xo=function rF(t,n){const e=t[Re],i=at;return t[i]=n,Va(e,i,2,"#host",null)}(We,J),da=function oF(t,n,e,i,r,o,s){const l=r[Re];!function sF(t,n,e,i){for(const r of t)n.mergedAttrs=$s(n.mergedAttrs,r.hostAttrs);null!==n.mergedAttrs&&(Oh(n,n.mergedAttrs,!0),null!==e&&Rb(i,e,n))}(i,t,n,s);let h=null;null!==n&&(h=ly(n,r[di]));const g=o.rendererFactory.createRenderer(n,e);let w=16;e.signals?w=4096:e.onPush&&(w=64);const C=vh(r,Ub(e),null,w,r[t.index],t,o,g,null,null,h);return l.firstCreatePass&&Ly(l,t,i.length-1),wh(r,C),r[t.index]=C}(Xo,J,en,wn,We,k,A);zt=pu(de,at),J&&function cF(t,n,e,i){if(i)ou(t,e,["ng-version","18.1.3"]);else{const{attrs:r,classes:o}=function d(t){const n=[],e=[];let i=1,r=2;for(;i<t.length;){let o=t[i];if("string"==typeof o)2===r?""!==o&&n.push(o,t[++i]):8===r&&e.push(o);else{if(!Dr(r))break;r=o}i++}return{attrs:n,classes:e}}(n.selectors[0]);r&&ou(t,e,r),o&&o.length>0&&Fb(t,e,o.join(" "))}}(A,en,J,i),void 0!==e&&function lF(t,n,e){const i=t.projection=[];for(let r=0;r<n.length;r++){const o=e[r];i.push(null!=o?Array.from(o):null)}}(zt,this.ngContentSelectors,e),st=function aF(t,n,e,i,r,o){const s=bn(),l=r[Re],h=tr(s,r);Wb(l,r,s,e,null,i);for(let w=0;w<e.length;w++)ji(Fa(r,l,s.directiveStart+w,s),r);$b(l,r,s),h&&ji(h,r);const g=Fa(r,l,s.directiveStart+s.componentOffset,s);if(t[Rn]=r[Rn]=g,null!==o)for(const w of o)w(g,n);return Ay(l,s,r),g}(da,en,wn,ci,We,[uF]),zy(de,We,null)}finally{Vm()}return new iF(this.componentType,st,Gc(zt,We),We,zt)}finally{O(o)}}}class iF extends W2{constructor(n,e,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new Ru(r,void 0,!1),this.componentType=n}setInput(n,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;const o=this._rootLView;Uy(o[Re],o,r,n,e),this.previousInputValues.set(n,e),Fu(Tr(this._tNode.index,o),1)}}get injector(){return new vi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function uF(){const t=bn();zf(be()[Re],t)}let wo=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=dF}return t})();function dF(){return BC(bn(),be())}const fF=wo,RC=class extends fF{constructor(n,e,i){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=i}get element(){return Gc(this._hostTNode,this._hostLView)}get injector(){return new vi(this._hostTNode,this._hostLView)}get parentInjector(){const n=Gf(this._hostTNode,this._hostLView);if(Hm(n)){const e=wu(n,this._hostLView),i=vu(n);return new vi(e[Re].data[i+8],e)}return new vi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const e=LC(this._lContainer);return null!==e&&e[n]||null}get length(){return this._lContainer.length-ii}createEmbeddedView(n,e,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const s=ja(this._lContainer,n.ssrId),l=n.createEmbeddedViewImpl(e||{},o,s);return this.insertImpl(l,r,Ua(this._hostTNode,s)),l}createComponent(n,e,i,r,o){const s=n&&!function lu(t){return"function"==typeof t}(n);let l;if(s)l=e;else{const z=e||{};l=z.index,i=z.injector,r=z.projectableNodes,o=z.environmentInjector||z.ngModuleRef}const h=s?n:new Zu(I(n)),g=i||this.parentInjector;if(!o&&null==h.ngModule){const J=(s?g:this.parentInjector).get(po,null);J&&(o=J)}const w=I(h.componentType??{}),C=ja(this._lContainer,w?.id??null),A=h.create(g,r,C?.firstChild??null,o);return this.insertImpl(A.hostView,l,Ua(this._hostTNode,C)),A}insert(n,e){return this.insertImpl(n,e,!0)}insertImpl(n,e,i){const r=n._lView;if(function OP(t){return zi(t[ui])}(r)){const l=this.indexOf(n);if(-1!==l)this.detach(l);else{const h=r[ui],g=new RC(h,h[Ni],h[ui]);g.detach(g.indexOf(n))}}const o=this._adjustIndex(e),s=this._lContainer;return nl(s,r,o,i),n.attachToViewContainerRef(),Oi(i_(s),o,n),n}move(n,e){return this.insert(n,e)}indexOf(n){const e=LC(this._lContainer);return null!==e?e.indexOf(n):-1}remove(n){const e=this._adjustIndex(n,-1),i=Pu(this._lContainer,e);i&&(js(i_(this._lContainer),e),gh(i[Re],i))}detach(n){const e=this._adjustIndex(n,-1),i=Pu(this._lContainer,e);return i&&null!=js(i_(this._lContainer),e)?new Ru(i):null}_adjustIndex(n,e=0){return n??this.length+e}};function LC(t){return t[8]}function i_(t){return t[8]||(t[8]=[])}function BC(t,n){let e;const i=n[t.index];return zi(i)?e=i:(e=Gb(i,n,null,t),n[t.index]=e,wh(n,e)),VC(e,n,t,i),new RC(e,t,n)}let VC=function zC(t,n,e,i){if(t[Ro])return;let r;r=8&e.type?tn(i):function hF(t,n){const e=t[Tt],i=e.createComment(""),r=tr(n,t);return La(e,mh(e,r),i,function sN(t,n){return t.nextSibling(n)}(e,r),!1),i}(n,e),t[Ro]=r},r_=()=>!1;class o_{constructor(n){this.queryList=n,this.matches=null}clone(){return new o_(this.queryList)}setDirty(){this.queryList.setDirty()}}class s_{constructor(n=[]){this.queries=n}createEmbeddedView(n){const e=n.queries;if(null!==e){const i=null!==n.contentQueries?n.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){const s=e.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new s_(r)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)null!==d_(n,e).matches&&this.queries[e].setDirty()}}class jC{constructor(n,e,i=null){this.flags=e,this.read=i,this.predicate="string"==typeof n?function EF(t){return t.split(",").map(n=>n.trim())}(n):n}}class a_{constructor(n=[]){this.queries=n}elementStart(n,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,o=this.getByIndex(i).embeddedTView(n,r);o&&(o.indexInDeclarationView=i,null!==e?e.push(o):e=[o])}return null!==e?new a_(e):null}template(n,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class c_{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new c_(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const e=this._declarationNodeIndex;let i=n.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(n,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(n,e,yF(e,o)),this.matchTNodeWithReadOption(n,e,Zf(e,n,o,!1,!1))}else i===ms?4&e.type&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,Zf(e,n,i,!1,!1))}matchTNodeWithReadOption(n,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Ei||r===wo||r===ms&&4&e.type)this.addMatch(e.index,-2);else{const o=Zf(e,n,r,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(n,e){null===this.matches?this.matches=[n,e]:this.matches.push(n,e)}}function yF(t,n){const e=t.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===n)return e[i+1];return null}function vF(t,n,e,i){return-1===e?function _F(t,n){return 11&t.type?Gc(t,n):4&t.type?bh(t,n):null}(n,t):-2===e?function wF(t,n,e){return e===Ei?Gc(n,t):e===ms?bh(n,t):e===wo?BC(n,t):void 0}(t,n,i):Fa(t,t[Re],e,n)}function HC(t,n,e,i){const r=n[ls].queries[i];if(null===r.matches){const o=t.data,s=e.matches,l=[];for(let h=0;null!==s&&h<s.length;h+=2){const g=s[h];l.push(g<0?null:vF(n,o[g],s[h+1],e.metadata.read))}r.matches=l}return r.matches}function l_(t,n,e,i){const r=t.queries.getByIndex(e),o=r.matches;if(null!==o){const s=HC(t,n,r,e);for(let l=0;l<o.length;l+=2){const h=o[l];if(h>0)i.push(s[l/2]);else{const g=o[l+1],w=n[-h];for(let C=ii;C<w.length;C++){const k=w[C];k[Ta]===k[ui]&&l_(k[Re],k,g,i)}if(null!==w[zc]){const C=w[zc];for(let k=0;k<C.length;k++){const A=C[k];l_(A[Re],A,g,i)}}}}}return i}function $C(t,n,e){const i=jt();return i.firstCreatePass&&(function ZC(t,n,e){null===t.queries&&(t.queries=new a_),t.queries.track(new c_(n,e))}(i,new jC(t,n,e),-1),!(2&~n)&&(i.staticViewQueries=!0)),function WC(t,n,e){const i=new Jm(!(4&~e));return function _N(t,n,e,i){const r=Yb(n);r.push(e),t.firstCreatePass&&qb(t).push(i,r.length-1)}(t,n,i,i.destroy),(n[ls]??=new s_).queries.push(new o_(i))-1}(i,be(),n)}function d_(t,n){return t.queries.getByIndex(n)}function YC(t,n){const e=t[Re],i=d_(e,n);return i.crossesNgTemplate?l_(e,t,n,[]):HC(e,t,i,n)}function ol(t,n){ir("NgSignals");const e=function bt(t){const n=Object.create(G);n.value=t;const e=()=>(j(n),n.value);return e[V]=n,e}(t),i=e[V];return n?.equal&&(i.equal=n.equal),e.set=r=>gn(i,r),e.update=r=>function Kt(t,n){ie()||Pe(),gn(t,n(t.value))}(i,r),e.asReadonly=QC.bind(e),e}function QC(){const t=this[V];if(void 0===t.readonlyFn){const n=()=>this();n[V]=t,t.readonlyFn=n}return t.readonlyFn}function KC(t){return function qC(t){return"function"==typeof t&&void 0!==t[V]}(t)&&"function"==typeof t.set}function _n(t){let n=function c1(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0;const i=[t];for(;n;){let r;if(mo(t))r=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Se(903,!1);r=n.\u0275dir}if(r){if(e){i.push(r);const s=t;s.inputs=Fh(t.inputs),s.inputTransforms=Fh(t.inputTransforms),s.declaredInputs=Fh(t.declaredInputs),s.outputs=Fh(t.outputs);const l=r.hostBindings;l&&RF(t,l);const h=r.viewQuery,g=r.contentQueries;if(h&&NF(t,h),g&&FF(t,g),AF(t,r),Vr(t.outputs,r.outputs),mo(r)&&r.data.animation){const w=t.data;w.animation=(w.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const l=o[s];l&&l.ngInherit&&l(t),l===_n&&(e=!1)}}n=Object.getPrototypeOf(n)}!function OF(t){let n=0,e=null;for(let i=t.length-1;i>=0;i--){const r=t[i];r.hostVars=n+=r.hostVars,r.hostAttrs=$s(r.hostAttrs,e=$s(e,r.hostAttrs))}}(i)}function AF(t,n){for(const e in n.inputs){if(!n.inputs.hasOwnProperty(e)||t.inputs.hasOwnProperty(e))continue;const i=n.inputs[e];if(void 0!==i&&(t.inputs[e]=i,t.declaredInputs[e]=n.declaredInputs[e],null!==n.inputTransforms)){const r=Array.isArray(i)?i[0]:i;if(!n.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=n.inputTransforms[r]}}}function Fh(t){return t===br?{}:t===pt?[]:t}function NF(t,n){const e=t.viewQuery;t.viewQuery=e?(i,r)=>{n(i,r),e(i,r)}:n}function FF(t,n){const e=t.contentQueries;t.contentQueries=e?(i,r,o)=>{n(i,r,o),e(i,r,o)}:n}function RF(t,n){const e=t.hostBindings;t.hostBindings=e?(i,r)=>{n(i,r),e(i,r)}:n}class Wa{}class HF{}class h_ extends Wa{constructor(n,e,i){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new NC(this);const r=function we(t,n){const e=t[va]||null;if(!e&&!0===n)throw new Error(`Type ${ei(t)} does not have '\u0275mod' property.`);return e}(n);this._bootstrapComponents=function Pr(t){return t instanceof Function?t():t}(r.bootstrap),this._r3Injector=fS(n,e,[{provide:Wa,useValue:this},{provide:Th,useValue:this.componentFactoryResolver},...i],ei(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class p_ extends HF{constructor(n){super(),this.moduleType=n}create(n){return new h_(this.moduleType,n,[])}}class f1 extends Wa{constructor(n){super(),this.componentFactoryResolver=new NC(this),this.instance=null;const e=new Nc([...n.providers,{provide:Wa,useValue:this},{provide:Th,useValue:this.componentFactoryResolver}],n.parent||kf(),n.debugName,new Set(["environment"]));this.injector=e,n.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function Rh(t){return!!g_(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function g_(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function jo(t,n,e){return t[n]=e}function qu(t,n){return t[n]}function ri(t,n,e){return!Object.is(t[n],e)&&(t[n]=e,!0)}function $a(t,n,e,i){const r=ri(t,n,e);return ri(t,n+1,i)||r}function Gr(t,n,e,i,r,o){const s=$a(t,n,e,i);return $a(t,n+2,r,o)||s}function Qu(t,n,e,i,r,o,s,l,h,g){const w=e+at,C=n.firstCreatePass?function QF(t,n,e,i,r,o,s,l,h){const g=n.consts,w=Va(n,t,4,s||null,l||null);Ry(n,e,w,jr(g,h)),zf(n,w);const C=w.tView=Fy(2,w,i,r,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,g,null);return null!==n.queries&&(n.queries.template(n,w),C.queries=n.queries.embeddedTView(w)),w}(w,n,t,i,r,o,s,l,h):n.data[w];yo(C,!1);const k=p1(n,t,C,e);yu()&&yh(n,t,k,C),ji(k,t);const A=Gb(k,t,k,C);return t[w]=A,wh(t,A),function UC(t,n,e){return r_(t,n,e)}(A,C,t),Rf(C)&&Oy(n,t,C),null!=h&&Ny(t,C,g),C}function ze(t,n,e,i,r,o,s,l){const h=be(),g=jt();return Qu(h,g,t,n,e,i,r,jr(g.consts,o),s,l),ze}let p1=function g1(t,n,e,i){return Bo(!0),n[Tt].createComment("")};function gl(t,n,e,i){return ri(t,_o(),e)?n+Mt(e)+i:Ft}function ml(t,n,e,i,r,o){const l=$a(t,function ds(){return kt.lFrame.bindingIndex}(),e,r);return fs(2),l?n+Mt(e)+i+Mt(r)+o:Ft}function Hh(t,n){return t<<17|n<<2}function Ks(t){return t>>17&32767}function D_(t){return 2|t}function Za(t){return(131068&t)>>2}function x_(t,n){return-131069&t|n<<2}function M_(t){return 1|t}function G1(t,n,e,i){const r=t[e+1],o=null===n;let s=i?Ks(r):Za(r),l=!1;for(;0!==s&&(!1===l||o);){const g=t[s+1];FR(t[s],n)&&(l=!0,t[s+1]=i?M_(g):D_(g)),s=i?Ks(g):Za(g)}l&&(t[e+1]=i?D_(r):M_(r))}function FR(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Hs(t,n)>=0}const Si={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Z1(t){return t.substring(Si.key,Si.keyEnd)}function RR(t){return t.substring(Si.value,Si.valueEnd)}function q1(t,n){const e=Si.textEnd;let i=Si.key=bl(t,n,e);return e===i?-1:(i=Si.keyEnd=function UR(t,n,e){let i;for(;n<e&&(45===(i=t.charCodeAt(n))||95===i||(-33&i)>=65&&(-33&i)<=90||i>=48&&i<=57);)n++;return n}(t,i,e),i=K1(t,i,e),i=Si.value=bl(t,i,e),i=Si.valueEnd=function zR(t,n,e){let i=-1,r=-1,o=-1,s=n,l=s;for(;s<e;){const h=t.charCodeAt(s++);if(59===h)return l;34===h||39===h?l=s=X1(t,h,s,e):n===s-4&&85===o&&82===r&&76===i&&40===h?l=s=X1(t,41,s,e):h>32&&(l=s),o=r,r=i,i=-33&h}return l}(t,i,e),K1(t,i,e))}function bl(t,n,e){for(;n<e&&t.charCodeAt(n)<=32;)n++;return n}function K1(t,n,e,i){return(n=bl(t,n,e))<e&&n++,n}function X1(t,n,e,i){let r=-1,o=e;for(;o<i;){const s=t.charCodeAt(o++);if(s==n&&92!==r)return o;r=92==s&&92===r?0:s}throw new Error}function K(t,n,e){const i=be();return ri(i,_o(),n)&&gr(jt(),Ln(),i,t,n,i[Tt],e,!1),K}function T_(t,n,e,i,r){const s=r?"class":"style";Uy(t,e,n.inputs[s],s,i)}function Xn(t,n){return function Eo(t,n,e,i){const r=be(),o=jt(),s=fs(2);o.firstUpdatePass&&tI(o,t,s,i),n!==Ft&&ri(r,s,n)&&iI(o,o.data[Fi()],r,r[Tt],t,r[s+1]=function KR(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=ei(kr(t)))),t}(n,e),i,s)}(t,n,null,!0),Xn}function Bt(t){!function So(t,n,e,i){const r=jt(),o=fs(2);r.firstUpdatePass&&tI(r,null,o,i);const s=be();if(e!==Ft&&ri(s,o,e)){const l=r.data[Fi()];if(oI(l,i)&&!eI(r,o)){let h=i?l.classesWithoutHost:l.stylesWithoutHost;null!==h&&(e=Ns(h,e||"")),T_(r,l,s,e,i)}else!function QR(t,n,e,i,r,o,s,l){r===Ft&&(r=pt);let h=0,g=0,w=0<r.length?r[0]:null,C=0<o.length?o[0]:null;for(;null!==w||null!==C;){const k=h<r.length?r[h+1]:void 0,A=g<o.length?o[g+1]:void 0;let J,z=null;w===C?(h+=2,g+=2,k!==A&&(z=C,J=A)):null===C||null!==w&&w<C?(h+=2,z=w):(g+=2,z=C,J=A),null!==z&&iI(t,n,e,i,z,J,s,l),w=h<r.length?r[h]:null,C=g<o.length?o[g]:null}}(r,l,s,s[Tt],s[o+1],s[o+1]=function YR(t,n,e){if(null==e||""===e)return pt;const i=[],r=kr(e);if(Array.isArray(r))for(let o=0;o<r.length;o++)t(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&t(i,o,r[o]);else"string"==typeof r&&n(i,r);return i}(t,n,e),i,o)}}(nI,jR,t,!1)}function jR(t,n){for(let e=function BR(t){return function Q1(t){Si.key=0,Si.keyEnd=0,Si.value=0,Si.valueEnd=0,Si.textEnd=t.length}(t),q1(t,bl(t,0,Si.textEnd))}(n);e>=0;e=q1(n,e))nI(t,Z1(n),RR(n))}function eI(t,n){return n>=t.expandoStartIndex}function tI(t,n,e,i){const r=t.data;if(null===r[e+1]){const o=r[Fi()],s=eI(t,e);oI(o,i)&&null===n&&!s&&(n=!1),n=function WR(t,n,e,i){const r=function Rm(t){const n=kt.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let o=i?n.residualClasses:n.residualStyles;if(null===r)0===(i?n.classBindings:n.styleBindings)&&(e=ed(e=k_(null,t,n,e,i),n.attrs,i),o=null);else{const s=n.directiveStylingLast;if(-1===s||t[s]!==r)if(e=k_(r,t,n,e,i),null===o){let h=function $R(t,n,e){const i=e?n.classBindings:n.styleBindings;if(0!==Za(i))return t[Ks(i)]}(t,n,i);void 0!==h&&Array.isArray(h)&&(h=k_(null,t,n,h[1],i),h=ed(h,n.attrs,i),function GR(t,n,e,i){t[Ks(e?n.classBindings:n.styleBindings)]=i}(t,n,i,h))}else o=function ZR(t,n,e){let i;const r=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<r;o++)i=ed(i,t[o].hostAttrs,e);return ed(i,n.attrs,e)}(t,n,i)}return void 0!==o&&(i?n.residualClasses=o:n.residualStyles=o),e}(r,o,n,i),function OR(t,n,e,i,r,o){let s=o?n.classBindings:n.styleBindings,l=Ks(s),h=Za(s);t[i]=e;let w,g=!1;if(Array.isArray(e)?(w=e[1],(null===w||Hs(e,w)>0)&&(g=!0)):w=e,r)if(0!==h){const k=Ks(t[l+1]);t[i+1]=Hh(k,l),0!==k&&(t[k+1]=x_(t[k+1],i)),t[l+1]=function PR(t,n){return 131071&t|n<<17}(t[l+1],i)}else t[i+1]=Hh(l,0),0!==l&&(t[l+1]=x_(t[l+1],i)),l=i;else t[i+1]=Hh(h,0),0===l?l=i:t[h+1]=x_(t[h+1],i),h=i;g&&(t[i+1]=D_(t[i+1])),G1(t,w,i,!0),G1(t,w,i,!1),function NR(t,n,e,i,r){const o=r?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof n&&Hs(o,n)>=0&&(e[i+1]=M_(e[i+1]))}(n,w,t,i,o),s=Hh(l,h),o?n.classBindings=s:n.styleBindings=s}(r,o,n,e,s,i)}}function k_(t,n,e,i,r){let o=null;const s=e.directiveEnd;let l=e.directiveStylingLast;for(-1===l?l=e.directiveStart:l++;l<s&&(o=n[l],i=ed(i,o.hostAttrs,r),o!==t);)l++;return null!==t&&(e.directiveStylingLast=l),i}function ed(t,n,e){const i=e?1:2;let r=-1;if(null!==n)for(let o=0;o<n.length;o++){const s=n[o];"number"==typeof s?r=s:r===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Ui(t,s,!!e||n[++o]))}return void 0===t?null:t}function nI(t,n,e){Ui(t,n,kr(e))}function iI(t,n,e,i,r,o,s,l){if(!(3&n.type))return;const h=t.data,g=h[l+1],w=function AR(t){return!(1&~t)}(g)?rI(h,n,e,r,Za(g),s):void 0;Wh(w)||(Wh(o)||function kR(t){return!(2&~t)}(g)&&(o=rI(h,null,e,r,l,s)),function lN(t,n,e,i,r){if(n)r?t.addClass(e,i):t.removeClass(e,i);else{let o=-1===i.indexOf("-")?void 0:Ys.DashCase;null==r?t.removeStyle(e,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Ys.Important),t.setStyle(e,i,r,o))}}(i,s,hu(Fi(),e),r,o))}function rI(t,n,e,i,r,o){const s=null===n;let l;for(;r>0;){const h=t[r],g=Array.isArray(h),w=g?h[1]:h,C=null===w;let k=e[r+1];k===Ft&&(k=C?pt:void 0);let A=C?iu(k,i):w===i?k:void 0;if(g&&!Wh(A)&&(A=iu(h,i)),Wh(A)&&(l=A,s))return l;const z=t[r+1];r=s?Ks(z):Za(z)}if(null!==n){let h=o?n.residualClasses:n.residualStyles;null!=h&&(l=iu(h,i))}return l}function Wh(t){return void 0!==t}function oI(t,n){return!!(t.flags&(n?8:16))}function x(t,n,e,i){const r=be(),o=jt(),s=at+t,l=r[Tt],h=o.firstCreatePass?function wL(t,n,e,i,r,o){const s=n.consts,h=Va(n,t,2,i,jr(s,r));return Ry(n,e,h,jr(s,o)),null!==h.attrs&&Oh(h,h.attrs,!1),null!==h.mergedAttrs&&Oh(h,h.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,h),h}(s,o,r,n,e,i):o.data[s],g=lI(o,r,h,l,n,t);r[s]=g;const w=Rf(h);return yo(h,!0),Rb(l,g,h),!function al(t){return!(32&~t.flags)}(h)&&yu()&&yh(o,r,g,h),0===function NP(){return kt.lFrame.elementDepthCount}()&&ji(g,r),function FP(){kt.lFrame.elementDepthCount++}(),w&&(Oy(o,r,h),Ay(o,h,r)),null!==i&&Ny(r,h),x}function L(){let t=bn();Om()?Nm():(t=t.parent,yo(t,!1));const n=t;(function LP(t){return kt.skipHydrationRootTNode===t})(n)&&function zP(){kt.skipHydrationRootTNode=null}(),function RP(){kt.lFrame.elementDepthCount--}();const e=jt();return e.firstCreatePass&&(zf(e,t),Cm(t)&&e.queries.elementEnd(t)),null!=n.classesWithoutHost&&function XP(t){return!!(8&t.flags)}(n)&&T_(e,n,be(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function JP(t){return!!(16&t.flags)}(n)&&T_(e,n,be(),n.stylesWithoutHost,!1),L}function ge(t,n,e,i){return x(t,n,e,i),L(),ge}let lI=(t,n,e,i,r,o)=>(Bo(!0),ph(i,r,function GE(){return kt.lFrame.currentNamespace}()));function _s(t,n,e){const i=be(),r=jt(),o=t+at,s=r.firstCreatePass?function bL(t,n,e,i,r){const o=n.consts,s=jr(o,i),l=Va(n,t,8,"ng-container",s);return null!==s&&Oh(l,s,!0),Ry(n,e,l,jr(o,r)),null!==n.queries&&n.queries.elementStart(n,l),l}(o,r,i,n,e):r.data[o];yo(s,!0);const l=uI(r,i,s,t);return i[o]=l,yu()&&yh(r,i,l,s),ji(l,i),Rf(s)&&(Oy(r,i,s),Ay(r,s,i)),null!=e&&Ny(i,s),_s}function vs(){let t=bn();const n=jt();return Om()?Nm():(t=t.parent,yo(t,!1)),n.firstCreatePass&&(zf(n,t),Cm(t)&&n.queries.elementEnd(t)),vs}function Cl(t,n,e){return _s(t,n,e),vs(),Cl}let uI=(t,n,e,i)=>(Bo(!0),Cy(n[Tt],""));function Ht(){return be()}const Dl="en-US";let gI=Dl;let NI=(t,n,e)=>{};function ye(t,n,e,i){const r=be(),o=jt(),s=bn();return R_(o,r,r[Tt],s,t,n,i),ye}function R_(t,n,e,i,r,o,s){const l=Rf(i),g=t.firstCreatePass&&qb(t),w=n[Rn],C=Yb(n);let k=!0;if(3&i.type||s){const J=tr(i,n),fe=s?s(J):J,Ce=C.length,de=s?st=>s(tn(st[i.index])):i.index;let We=null;if(!s&&l&&(We=function gB(t,n,e,i){const r=t.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===e&&r[o+1]===i){const l=n[Lc],h=r[o+2];return l.length>h?l[h]:null}"string"==typeof s&&(o+=2)}return null}(t,n,r,i.index)),null!==We)(We.__ngLastListenerFn__||We).__ngNextListenerFn__=o,We.__ngLastListenerFn__=o,k=!1;else{o=BI(i,n,w,o),NI(J,r,o);const st=e.listen(fe,r,o);C.push(o,st),g&&g.push(r,de,Ce,Ce+1)}}else o=BI(i,n,w,o);const A=i.outputs;let z;if(k&&null!==A&&(z=A[r])){const J=z.length;if(J)for(let fe=0;fe<J;fe+=2){const zt=n[z[fe]][z[fe+1]].subscribe(o),en=C.length;C.push(o,zt),g&&g.push(r,i.index,en,-(en+1))}}}function LI(t,n,e,i){const r=O(null);try{return Lo(6,n,e),!1!==e(i)}catch(o){return Eh(t,o),!1}finally{Lo(7,n,e),O(r)}}function BI(t,n,e,i){return function r(o){if(o===Function)return i;Fu(t.componentOffset>-1?Tr(t.index,n):n,5);let l=LI(n,e,i,o),h=r.__ngNextListenerFn__;for(;h;)l=LI(n,e,h,o)&&l,h=h.__ngNextListenerFn__;return l}}function le(t=1){return function GP(t){return(kt.lFrame.contextLView=function PE(t,n){for(;t>0;)n=n[Bc],t--;return n}(t,kt.lFrame.contextLView))[Rn]}(t)}function mB(t,n){let e=null;const i=function Oc(t){const n=t.attrs;if(null!=n){const e=n.indexOf(5);if(!(1&e))return n[e+1]}return null}(t);for(let r=0;r<n.length;r++){const o=n[r];if("*"!==o){if(null===i?xa(t,o,!0):xf(i,o))return r}else e=r}return e}function qh(t){const n=be()[Hn][Ni];if(!n.projection){const i=n.projection=function Xi(t,n){const e=[];for(let i=0;i<t;i++)e.push(n);return e}(t?t.length:1,null),r=i.slice();let o=n.child;for(;null!==o;){if(128!==o.type){const s=t?mB(o,t):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o)}o=o.next}}}function Qh(t,n=0,e,i,r,o){const s=be(),l=jt(),h=i?t+1:null;null!==h&&Qu(s,l,h,i,r,o,null,e);const g=Va(l,at+t,16,null,e||null);null===g.projection&&(g.projection=n),Nm();const C=!s[Ji]||Aa();null===s[Hn][Ni].projection[g.projection]&&null!==h?function yB(t,n,e){const i=at+e,r=n.data[i],o=t[i],s=ja(o,r.tView.ssrId);nl(o,tl(t,r,void 0,{dehydratedView:s}),0,Ua(r,s))}(s,l,h):C&&32&~g.flags&&function aN(t,n,e){Nb(n[Tt],0,n,e,xy(t,e,n),Mb(e.parent||n[Ni],e,n))}(l,s,g)}function L_(t,n,e){return mt(t,"",n,"",e),L_}function mt(t,n,e,i,r){const o=be(),s=gl(o,n,e,i);return s!==Ft&&gr(jt(),Ln(),o,t,s,o[Tt],r,!1),mt}function vn(t,n,e,i,r,o,s){const l=be(),h=ml(l,n,e,i,r,o);return h!==Ft&&gr(jt(),Ln(),l,t,h,l[Tt],s,!1),vn}function Wt(t,n,e){$C(t,n,e)}function $t(t){const n=be(),e=jt(),i=Lm();Uf(i+1);const r=d_(e,i);if(t.dirty&&function AP(t){return!(4&~t[gt])}(n)===!(2&~r.metadata.flags)){if(null===r.matches)t.reset([]);else{const o=YC(n,i);t.reset(o,wS),t.notifyOnChanges()}return!0}return!1}function Gt(){return function u_(t,n){return t[ls].queries[n].queryList}(be(),Lm())}function fi(t){return Pa(function FE(){return kt.lFrame.contextLView}(),at+t)}function ce(t,n=""){const e=be(),i=jt(),r=t+at,o=i.firstCreatePass?Va(i,r,1,n,null):i.data[r],s=tD(i,e,o,n,t);e[r]=s,yu()&&yh(i,e,s,o),yo(o,!1)}let tD=(t,n,e,i,r)=>(Bo(!0),function by(t,n){return t.createText(n)}(n[Tt],i));function Wn(t){return Jt("",t,""),Wn}function Jt(t,n,e){const i=be(),r=gl(i,t,n,e);return r!==Ft&&gs(i,Fi(),r),Jt}function Xs(t,n,e,i,r){const o=be(),s=ml(o,t,n,e,i,r);return s!==Ft&&gs(o,Fi(),s),Xs}function V_(t,n,e){KC(n)&&(n=n());const i=be();return ri(i,_o(),n)&&gr(jt(),Ln(),i,t,n,i[Tt],e,!1),V_}function U_(t,n){const e=be(),i=jt(),r=bn();return R_(i,e,e[Tt],r,t,n),U_}function z_(t,n,e,i,r){if(t=St(t),Array.isArray(t))for(let o=0;o<t.length;o++)z_(t[o],n,e,i,r);else{const o=jt(),s=be(),l=bn();let h=Ma(t)?t:St(t.provide);const g=gE(t),w=1048575&l.providerIndexes,C=l.directiveStart,k=l.providerIndexes>>20;if(Ma(t)||!t.multi){const A=new _u(g,r,ee),z=H_(h,n,r?w:w+k,C);-1===z?(Gm($f(l,s),o,h),j_(o,t,n.length),n.push(h),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),e.push(A),s.push(A)):(e[z]=A,s[z]=A)}else{const A=H_(h,n,w+k,C),z=H_(h,n,w,w+k),fe=z>=0&&e[z];if(r&&!fe||!r&&!(A>=0&&e[A])){Gm($f(l,s),o,h);const Ce=function BB(t,n,e,i,r){const o=new _u(t,e,ee);return o.multi=[],o.index=n,o.componentProviders=0,fD(o,r,i&&!e),o}(r?LB:RB,e.length,r,i,g);!r&&fe&&(e[z].providerFactory=Ce),j_(o,t,n.length,0),n.push(h),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),e.push(Ce),s.push(Ce)}else j_(o,t,A>-1?A:z,fD(e[r?z:A],g,!r&&i));!r&&i&&fe&&e[z].componentProviders++}}}function j_(t,n,e,i){const r=Ma(n),o=function sP(t){return!!t.useClass}(n);if(r||o){const h=(o?St(n.useClass):n).prototype.ngOnDestroy;if(h){const g=t.destroyHooks||(t.destroyHooks=[]);if(!r&&n.multi){const w=g.indexOf(e);-1===w?g.push(e,[i,h]):g[w+1].push(i,h)}else g.push(e,h)}}}function fD(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function H_(t,n,e,i){for(let r=e;r<i;r++)if(n[r]===t)return r;return-1}function RB(t,n,e,i){return W_(this.multi,[])}function LB(t,n,e,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,l=Fa(e,e[Re],this.providerFactory.index,i);o=l.slice(0,s),W_(r,o);for(let h=s;h<l.length;h++)o.push(l[h])}else o=[],W_(r,o);return o}function W_(t,n){for(let e=0;e<t.length;e++)n.push((0,t[e])());return n}function zn(t,n=[]){return e=>{e.providersResolver=(i,r)=>function FB(t,n,e){const i=jt();if(i.firstCreatePass){const r=mo(t);z_(e,i.data,i.blueprint,r,!0),z_(n,i.data,i.blueprint,r,!1)}}(i,r?r(t):t,n)}}let VB=(()=>{class t{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const i=fr(0,e.type),r=i.length>0?function h1(t,n,e=null){return new f1({providers:t,parent:n,debugName:e,runEnvironmentInitializers:!0}).injector}([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=ut({token:t,providedIn:"environment",factory:()=>new t(Nt(po))})}return t})();function hD(t){ir("NgStandalone"),t.getStandaloneInjector=n=>n.get(VB).getOrCreateStandaloneInjector(t)}function qa(t,n,e){const i=nr()+t,r=be();return r[i]===Ft?jo(r,i,e?n.call(e):n()):qu(r,i)}function Jh(t,n,e,i,r){return function vD(t,n,e,i,r,o,s){const l=n+e;return $a(t,l,r,o)?jo(t,l+2,s?i.call(s,r,o):i(r,o)):sd(t,l+2)}(be(),nr(),t,n,e,i,r)}function yD(t,n,e,i,r,o,s){return function ED(t,n,e,i,r,o,s,l,h){const g=n+e;return Gr(t,g,r,o,s,l)?jo(t,g+4,h?i.call(h,r,o,s,l):i(r,o,s,l)):sd(t,g+4)}(be(),nr(),t,n,e,i,r,o,s)}function $_(t,n,e,i,r,o,s,l){const h=nr()+t,g=be(),w=Gr(g,h,e,i,r,o);return ri(g,h+4,s)||w?jo(g,h+5,l?n.call(l,e,i,r,o,s):n(e,i,r,o,s)):qu(g,h+5)}function sd(t,n){const e=t[n];return e===Ft?void 0:e}function _D(t,n,e,i,r,o){const s=n+e;return ri(t,s,r)?jo(t,s+1,o?i.call(o,r):i(r)):sd(t,s+1)}function un(t,n){const e=jt();let i;const r=t+at;e.firstCreatePass?(i=function YB(t,n){if(n)for(let e=n.length-1;e>=0;e--){const i=n[e];if(t===i.name)return i}}(n,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks??=[]).push(r,i.onDestroy)):i=e.data[r];const o=i.factory||(i.factory=Di(i.type)),l=mi(ee);try{const h=Wf(!1),g=o();return Wf(h),function B_(t,n,e,i){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=i}(e,be(),r,g),g}finally{mi(l)}}function dn(t,n,e){const i=t+at,r=be(),o=Pa(r,i);return function ad(t,n){return t[Re].data[n].pure}(r,i)?_D(r,nr(),n,o.transform,e,o):o.transform(e)}function Li(t,n){return bh(t,n)}const jD=new Je(""),ip=new Je("");let J_,K_=(()=>{class t{constructor(e,i,r){this._ngZone=e,this.registry=i,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,J_||(function G3(t){J_=t}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ln.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb()}});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e()},i)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||t)(Nt(ln),Nt(X_),Nt(ip))};static#t=this.\u0275prov=ut({token:t,factory:t.\u0275fac})}return t})(),X_=(()=>{class t{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return J_?.findTestabilityInTree(this,e,i)??null}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function rp(t){return!!t&&"function"==typeof t.then}function HD(t){return!!t&&"function"==typeof t.subscribe}const Z3=new Je("");let ev=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i}),this.appInits=qe(Z3,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const r of this.appInits){const o=r();if(rp(o))e.push(o);else if(HD(o)){const s=new Promise((l,h)=>{o.subscribe({complete:l,error:h})});e.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const tv=new Je("");function GD(t,n){return Array.isArray(n)?n.reduce(GD,t):{...t,...n}}let Wo=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=qe(DA),this.afterRenderEffectManager=qe(Ph),this.zonelessEnabled=qe(Wu),this.externalTestViews=new Set,this.beforeRender=new ke,this.afterTick=new ke,this.componentTypes=[],this.components=[],this.isStable=qe($c).hasPendingTasks.pipe(Un(e=>!e)),this._injector=qe(po)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){const r=e instanceof xC;if(!this._injector.get(ev).done)throw!r&&function se(t){const n=I(t)||P(t)||q(t);return null!==n&&n.standalone}(e),new Se(405,!1);let s;s=r?e:this._injector.get(Th).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const l=function Y3(t){return t.isBoundToModule}(s)?void 0:this._injector.get(Wa),g=s.create(wi.NULL,[],i||s.selector,l),w=g.location.nativeElement,C=g.injector.get(jD,null);return C?.registerApplication(w),g.onDestroy(()=>{this.detachView(g.hostView),op(this.components,g),C?.unregisterApplication(w)}),this._loadComponent(g),g}tick(){this._tick(!0)}_tick(e){if(this._runningTick)throw new Se(101,!1);const i=O(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(e)}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,O(i),this.afterTick.next()}}detectChangesInAttachedViews(e){let i=null;this._injector.destroyed||(i=this._injector.get(kh,null,{optional:!0}));let r=0;const o=this.afterRenderEffectManager;for(;r<10;){const s=0===r;if(e||!s){this.beforeRender.next(s);for(let{_lView:l,notifyErrorHandler:h}of this._views)Q3(l,h,s,this.zonelessEnabled)}else i?.begin?.(),i?.end?.();if(r++,o.executeInternalCallbacks(),!this.allViews.some(({_lView:l})=>gu(l))&&(o.execute(),!this.allViews.some(({_lView:l})=>gu(l))))break}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;op(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const i=this._injector.get(tv,[]);[...this._bootstrapListeners,...i].forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>op(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new Se(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function op(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function Q3(t,n,e,i){(e||gu(t))&&Sh(t,n,e&&!i?0:1)}let eV=(()=>{class t{constructor(){this.zone=qe(ln),this.changeDetectionScheduler=qe(rl),this.applicationRef=qe(Wo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function nv({ngZoneFactory:t,ignoreChangesOutsideZone:n}){return t??=()=>new ln(iv()),[{provide:ln,useFactory:t},{provide:Cr,multi:!0,useFactory:()=>{const e=qe(eV,{optional:!0});return()=>e.initialize()}},{provide:Cr,multi:!0,useFactory:()=>{const e=qe(nV);return()=>{e.initialize()}}},!0===n?{provide:DC,useValue:!0}:[]]}function iv(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}let nV=(()=>{class t{constructor(){this.subscription=new U,this.initialized=!1,this.zone=qe(ln),this.pendingTasks=qe($c)}initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ln.assertNotInAngularZone(),queueMicrotask(()=>{null!==e&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ln.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ud=(()=>{class t{constructor(){this.appRef=qe(Wo),this.taskService=qe($c),this.ngZone=qe(ln),this.zonelessEnabled=qe(Wu),this.disableScheduling=qe(DC,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new U,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Xm||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&5===e)return;switch(e){case 3:case 2:case 0:case 4:case 5:case 1:this.shouldRefreshViews=!0}if(!this.shouldScheduleTick())return;const i=this.useMicrotaskScheduler?gS:pS;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&ln.isInAngularZone())}tick(e){if(this.runningTick||this.appRef.destroyed)return;const i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(e)},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(i),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,gS(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const ws=new Je("",{providedIn:"root",factory:()=>qe(ws,Zt.Optional|Zt.SkipSelf)||function iV(){return typeof $localize<"u"&&$localize.locale||Dl}()}),ov=new Je("");let KD=(()=>{class t{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=function IA(t="zone.js",n){return"noop"===t?new Xm:"zone.js"===t?new ln(n):t}(i?.ngZone,iv({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=i?.ignoreChangesOutsideZone,s=function $F(t,n,e){return new h_(t,n,e)}(e.moduleType,this.injector,[...nv({ngZoneFactory:()=>r,ignoreChangesOutsideZone:o}),{provide:rl,useExisting:ud}]),l=s.injector.get(vo,null);return r.runOutsideAngular(()=>{const h=r.onError.subscribe({next:g=>{l.handleError(g)}});s.onDestroy(()=>{op(this._modules,s),h.unsubscribe()})}),function $D(t,n,e){try{const i=e();return rp(i)?i.catch(r=>{throw n.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw n.runOutsideAngular(()=>t.handleError(i)),i}}(l,r,()=>{const h=s.injector.get(ev);return h.runInitializers(),h.donePromise.then(()=>(function mI(t){"string"==typeof t&&(gI=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(ws,Dl)||Dl),this._moduleDoBootstrap(s),s))})})}bootstrapModule(e,i=[]){const r=GD({},i);return function J3(t,n,e){const i=new p_(e);return Promise.resolve(i)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(e){const i=e.injector.get(Wo);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new Se(-403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Se(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(ov,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||t)(Nt(wi))};static#t=this.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Js=null;const XD=new Je("");function JD(t,n,e=[]){const i=`Platform: ${n}`,r=new Je(i);return(o=[])=>{let s=sv();if(!s||s.injector.get(XD,!1)){const l=[...e,...o,{provide:r,useValue:!0}];t?t(l):function sV(t){if(Js&&!Js.get(XD,!1))throw new Se(400,!1);(function WD(){!function Xe(t){ve=t}(()=>{throw new Se(600,!1)})})(),Js=t;const n=t.get(KD);(function tx(t){t.get(US,null)?.forEach(e=>e())})(t)}(function ex(t=[],n){return wi.create({name:n,providers:[{provide:_m,useValue:"platform"},{provide:ov,useValue:new Set([()=>Js=null])},...t]})}(l,i))}return function aV(t){const n=sv();if(!n)throw new Se(401,!1);return n}()}}function sv(){return Js?.get(KD)??null}let Tl=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=lV}return t})();function lV(t){return function uV(t,n,e){if(ka(t)&&!e){const i=Tr(t.index,n);return new Ru(i,i)}return 175&t.type?new Ru(n[Hn],n):null}(bn(),be(),!(16&~t))}class sx{constructor(){}supports(n){return Rh(n)}create(n){return new gV(n)}}const pV=(t,n)=>n;class gV{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||pV}forEachItem(n){let e;for(e=this._itHead;null!==e;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,i=this._removalsHead,r=0,o=null;for(;e||i;){const s=!i||e&&e.currentIndex<cx(i,r,o)?e:i,l=cx(s,r,o),h=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{o||(o=[]);const g=l-r,w=h-r;if(g!=w){for(let k=0;k<g;k++){const A=k<o.length?o[k]:o[k]=0,z=A+k;w<=z&&z<g&&(o[k]=A+1)}o[s.previousIndex]=w-g}}l!==h&&n(s,l,h)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)n(e)}diff(n){if(null==n&&(n=[]),!Rh(n))throw new Se(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r,o,s,e=this._itHead,i=!1;if(Array.isArray(n)){this.length=n.length;for(let l=0;l<this.length;l++)o=n[l],s=this._trackByFn(l,o),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,o,s,l)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,s,l),i=!0),e=e._next}else r=0,function YF(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{const e=t[Symbol.iterator]();let i;for(;!(i=e.next()).done;)n(i.value)}}(n,l=>{s=this._trackByFn(r,l),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,l,s,r)),Object.is(e.item,l)||this._addIdentityChange(e,l)):(e=this._mismatch(e,l,s,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,i,r){let o;return null===n?o=this._itTail:(o=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,o,r)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,o,r)):n=this._addAfter(new mV(e,i),o,r),n}_verifyReinsertion(n,e,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?n=this._reinsertAfter(o,n._prev,r):n.currentIndex!=r&&(n.currentIndex=r,this._addToMoves(n,r)),n}_truncate(n){for(;null!==n;){const e=n._next;this._addToRemovals(this._unlink(n)),n=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const r=n._prevRemoved,o=n._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(n,e,i),this._addToMoves(n,i),n}_moveAfter(n,e,i){return this._unlink(n),this._insertAfter(n,e,i),this._addToMoves(n,i),n}_addAfter(n,e,i){return this._insertAfter(n,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,e,i){const r=null===e?this._itHead:e._next;return n._next=r,n._prev=e,null===r?this._itTail=n:r._prev=n,null===e?this._itHead=n:e._next=n,null===this._linkedRecords&&(this._linkedRecords=new ax),this._linkedRecords.put(n),n.currentIndex=i,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const e=n._prev,i=n._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ax),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class mV{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class yV{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,n))return i;return null}remove(n){const e=n._prevDup,i=n._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class ax{constructor(){this.map=new Map}put(n){const e=n.trackById;let i=this.map.get(e);i||(i=new yV,this.map.set(e,i)),i.add(n)}get(n,e){const r=this.map.get(n);return r?r.get(n,e):null}remove(n){const e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function cx(t,n,e){const i=t.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+n+r}class lx{constructor(){}supports(n){return n instanceof Map||g_(n)}create(){return new _V}}class _V{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let e;for(e=this._mapHead;null!==e;e=e._next)n(e)}forEachPreviousItem(n){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)n(e)}forEachChangedItem(n){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}diff(n){if(n){if(!(n instanceof Map||g_(n)))throw new Se(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(n,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,e){if(n){const i=n._prev;return e._next=n,e._prev=i,n._prev=e,i&&(i._next=e),n===this._mapHead&&(this._mapHead=e),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(n,e){if(this._records.has(n)){const r=this._records.get(n);this._maybeAddToChanges(r,e);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new vV(n);return this._records.set(n,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,e){Object.is(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,e){n instanceof Map?n.forEach(e):Object.keys(n).forEach(i=>e(n[i],i))}}class vV{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ux(){return new dv([new sx])}let dv=(()=>{class t{static#e=this.\u0275prov=ut({token:t,providedIn:"root",factory:ux});constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new t(e)}static extend(e){return{provide:t,useFactory:i=>t.create(e,i||ux()),deps:[[t,new Mc,new Sa]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new Se(901,!1)}}return t})();function dx(){return new lp([new lx])}let lp=(()=>{class t{static#e=this.\u0275prov=ut({token:t,providedIn:"root",factory:dx});constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new t(e)}static extend(e){return{provide:t,useFactory:i=>t.create(e,i||dx()),deps:[[t,new Mc,new Sa]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new Se(901,!1)}}return t})();const SV=JD(null,"core",[]);let bV=(()=>{class t{constructor(e){}static#e=this.\u0275fac=function(i){return new(i||t)(Nt(Wo))};static#t=this.\u0275mod=f({type:t});static#n=this.\u0275inj=Qi({})}return t})();const Mx=new Je("");function pd(t,n){ir("NgSignals");const e=function ht(t){const n=Object.create(Dn);n.computation=t;const e=()=>{if(R(n),j(n),n.value===yt)throw n.error;return n.value};return e[V]=n,e}(t);return n?.equal&&(e[V].equal=n.equal),e}function $o(t){const n=O(null);try{return t()}finally{O(n)}}let Bx=null;function gd(){return Bx}class d5{}const Go=new Je(""),Iv=/\s+/,Zx=[];let yd=(()=>{class t{constructor(e,i){this._ngEl=e,this._renderer=i,this.initialClasses=Zx,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(Iv):Zx}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(Iv):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(Iv).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||t)(ee(Ei),ee($r))};static#t=this.\u0275dir=y({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}return t})();class J5{constructor(n,e,i,r){this.$implicit=n,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let bs=(()=>{class t{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new J5(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const l=i.get(o);i.move(l,s),qx(l,r)}});for(let r=0,o=i.length;r<o;r++){const l=i.get(r).context;l.index=r,l.count=o,l.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{qx(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||t)(ee(wo),ee(ms),ee(dv))};static#t=this.\u0275dir=y({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function qx(t,n){t.context.$implicit=n.item}let ea=(()=>{class t{constructor(e,i){this._viewContainer=e,this._context=new e4,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Qx("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Qx("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||t)(ee(wo),ee(ms))};static#t=this.\u0275dir=y({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class e4{constructor(){this.$implicit=null,this.ngIf=null}}function Qx(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${ei(n)}'.`)}let xp=(()=>{class t{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,o]=e.split("."),s=-1===r.indexOf("-")?void 0:Ys.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,s):this._renderer.removeStyle(this._ngEl.nativeElement,r,s)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static#e=this.\u0275fac=function(i){return new(i||t)(ee(Ei),ee(lp),ee($r))};static#t=this.\u0275dir=y({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return t})(),_d=(()=>{class t{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(this._shouldRecreateView(e)){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,i,r)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,i,r),get:(e,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static#e=this.\u0275fac=function(i){return new(i||t)(ee(wo))};static#t=this.\u0275dir=y({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[er]})}return t})(),Jx=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=f({type:t});static#n=this.\u0275inj=Qi({})}return t})();function tM(t){return"server"===t}class nU extends d5{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ov extends nU{static makeCurrent(){!function u5(t){Bx??=t}(new Ov)}onAndCancel(n,e,i){return n.addEventListener(e,i),()=>{n.removeEventListener(e,i)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function iU(){return Ed=Ed||document.querySelector("base"),Ed?Ed.getAttribute("href"):null}();return null==e?null:function rU(t){return new URL(t,document.baseURI).pathname}(e)}resetBaseElement(){Ed=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function K5(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===n)return decodeURIComponent(o)}return null}(document.cookie,n)}}let Ed=null,sU=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=ut({token:t,factory:t.\u0275fac})}return t})();const Pp=new Je("");let dM=(()=>{class t{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new Se(5101,!1);return this._eventNameToPlugin.set(e,i),i}static#e=this.\u0275fac=function(i){return new(i||t)(Nt(Pp),Nt(ln))};static#t=this.\u0275prov=ut({token:t,factory:t.\u0275fac})}return t})();class Nv{constructor(n){this._doc=n}}const Fv="ng-app-id";let fM=(()=>{class t{constructor(e,i,r,o={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=tM(o),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${Fv}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){const r=this.styleRef;if(r.has(e)){const o=r.get(e);return o.usage+=i,o.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===e)return r.delete(i),o.removeAttribute(Fv),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(Fv,this.appId),e.appendChild(s),s}}addStyleToHost(e,i){const r=this.getStyleElement(e,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||t)(Nt(Go),Nt(Yc),Nt(jS,8),Nt(qc))};static#t=this.\u0275prov=ut({token:t,factory:t.\u0275fac})}return t})();const Rv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Lv=/%COMP%/g,uU=new Je("",{providedIn:"root",factory:()=>!0});function pM(t,n){return n.map(e=>e.replace(Lv,t))}let Bv=(()=>{class t{constructor(e,i,r,o,s,l,h,g=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=l,this.ngZone=h,this.nonce=g,this.rendererByCompId=new Map,this.platformIsServer=tM(l),this.defaultRenderer=new Vv(e,s,h,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Ir.ShadowDom&&(i={...i,encapsulation:Ir.Emulated});const r=this.getOrCreateRenderer(e,i);return r instanceof mM?r.applyToHost(e):r instanceof Uv&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,l=this.ngZone,h=this.eventManager,g=this.sharedStylesHost,w=this.removeStylesOnCompDestroy,C=this.platformIsServer;switch(i.encapsulation){case Ir.Emulated:o=new mM(h,g,i,this.appId,w,s,l,C);break;case Ir.ShadowDom:return new pU(h,g,e,i,s,l,this.nonce,C);default:o=new Uv(h,g,i,w,s,l,C)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||t)(Nt(dM),Nt(fM),Nt(Yc),Nt(uU),Nt(Go),Nt(qc),Nt(ln),Nt(jS))};static#t=this.\u0275prov=ut({token:t,factory:t.\u0275fac})}return t})();class Vv{constructor(n,e,i,r){this.eventManager=n,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(n,e){return e?this.doc.createElementNS(Rv[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(gM(n)?n.content:n).appendChild(e)}insertBefore(n,e,i){n&&(gM(n)?n.content:n).insertBefore(e,i)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let i="string"==typeof n?this.doc.querySelector(n):n;if(!i)throw new Se(-5104,!1);return e||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,i,r){if(r){e=r+":"+e;const o=Rv[r];o?n.setAttributeNS(o,e,i):n.setAttribute(e,i)}else n.setAttribute(e,i)}removeAttribute(n,e,i){if(i){const r=Rv[i];r?n.removeAttributeNS(r,e):n.removeAttribute(`${i}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,i,r){r&(Ys.DashCase|Ys.Important)?n.style.setProperty(e,i,r&Ys.Important?"important":""):n.style[e]=i}removeStyle(n,e,i){i&Ys.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,i){null!=n&&(n[e]=i)}setValue(n,e){n.nodeValue=e}listen(n,e,i){if("string"==typeof n&&!(n=gd().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${e}`);return this.eventManager.addEventListener(n,e,this.decoratePreventDefault(i))}decoratePreventDefault(n){return e=>{if("__ngUnwrap__"===e)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))&&e.preventDefault()}}}function gM(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class pU extends Vv{constructor(n,e,i,r,o,s,l,h){super(n,o,s,h),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const g=pM(r.id,r.styles);for(const w of g){const C=document.createElement("style");l&&C.setAttribute("nonce",l),C.textContent=w,this.shadowRoot.appendChild(C)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,i){return super.insertBefore(this.nodeOrShadowRoot(n),e,i)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Uv extends Vv{constructor(n,e,i,r,o,s,l,h){super(n,o,s,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=h?pM(h,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class mM extends Uv{constructor(n,e,i,r,o,s,l,h){const g=r+"-"+i.id;super(n,e,i,o,s,l,h,g),this.contentAttr=function dU(t){return"_ngcontent-%COMP%".replace(Lv,t)}(g),this.hostAttr=function fU(t){return"_nghost-%COMP%".replace(Lv,t)}(g)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){const i=super.createElement(n,e);return super.setAttribute(i,this.contentAttr,""),i}}let gU=(()=>{class t extends Nv{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||t)(Nt(Go))};static#t=this.\u0275prov=ut({token:t,factory:t.\u0275fac})}return t})(),mU=(()=>{class t extends Nv{constructor(e){super(e),this.delegate=qe(Mx,{optional:!0})}supports(e){return!!this.delegate&&this.delegate.supports(e)}addEventListener(e,i,r){return this.delegate.addEventListener(e,i,r)}removeEventListener(e,i,r){return this.delegate.removeEventListener(e,i,r)}static#e=this.\u0275fac=function(i){return new(i||t)(Nt(Go))};static#t=this.\u0275prov=ut({token:t,factory:t.\u0275fac})}return t})();const yM=["alt","control","meta","shift"],yU={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_U={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let vU=(()=>{class t extends Nv{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,i,r){const o=t.parseEventName(i),s=t.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>gd().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=t._normalizeKey(i.pop());let s="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),s="code."),yM.forEach(g=>{const w=i.indexOf(g);w>-1&&(i.splice(w,1),s+=g+".")}),s+=o,0!=i.length||0===o.length)return null;const h={};return h.domEventName=r,h.fullKey=s,h}static matchEventFullKeyCode(e,i){let r=yU[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),yM.forEach(s=>{s!==r&&(0,_U[s])(e)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{t.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(i){return new(i||t)(Nt(Go))};static#t=this.\u0275prov=ut({token:t,factory:t.\u0275fac})}return t})();const bU=JD(SV,"browser",[{provide:qc,useValue:"browser"},{provide:US,useValue:function wU(){Ov.makeCurrent()},multi:!0},{provide:Go,useFactory:function SU(){return function qA(t){ny=t}(document),document},deps:[]}]),CU=new Je(""),wM=[{provide:ip,useClass:class oU{addToWindow(n){Mn.getAngularTestability=(i,r=!0)=>{const o=n.findTestabilityInTree(i,r);if(null==o)throw new Se(5103,!1);return o},Mn.getAllAngularTestabilities=()=>n.getAllTestabilities(),Mn.getAllAngularRootElements=()=>n.getAllRootElements(),Mn.frameworkStabilizers||(Mn.frameworkStabilizers=[]),Mn.frameworkStabilizers.push(i=>{const r=Mn.getAllAngularTestabilities();let o=r.length;const s=function(){o--,0==o&&i()};r.forEach(l=>{l.whenStable(s)})})}findTestabilityInTree(n,e,i){return null==e?null:n.getTestability(e)??(i?gd().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},deps:[]},{provide:jD,useClass:K_,deps:[ln,X_,ip]},{provide:K_,useClass:K_,deps:[ln,X_,ip]}],EM=[{provide:_m,useValue:"root"},{provide:vo,useFactory:function EU(){return new vo},deps:[]},{provide:Pp,useClass:gU,multi:!0,deps:[Go,ln,qc]},{provide:Pp,useClass:vU,multi:!0,deps:[Go]},{provide:Pp,useClass:mU,multi:!0},Bv,fM,dM,{provide:kh,useExisting:Bv},{provide:class M4{},useClass:sU,deps:[]},[]];let SM=(()=>{class t{constructor(e){}static withServerTransition(e){return{ngModule:t,providers:[{provide:Yc,useValue:e.appId}]}}static#e=this.\u0275fac=function(i){return new(i||t)(Nt(CU,12))};static#t=this.\u0275mod=f({type:t});static#n=this.\u0275inj=Qi({providers:[...EM,...wM],imports:[Jx,bV]})}return t})(),zv=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=ut({token:t,factory:function(i){let r=null;return r=i?new(i||t):Nt(MU),r},providedIn:"root"})}return t})(),MU=(()=>{class t extends zv{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case Wr.NONE:return i;case Wr.HTML:return Uo(i,"HTML")?kr(i):db(this._doc,String(i)).toString();case Wr.STYLE:return Uo(i,"Style")?kr(i):i;case Wr.SCRIPT:if(Uo(i,"Script"))return kr(i);throw new Se(5200,!1);case Wr.URL:return Uo(i,"URL")?kr(i):uh(String(i));case Wr.RESOURCE_URL:if(Uo(i,"ResourceURL"))return kr(i);throw new Se(5201,!1);default:throw new Se(5202,!1)}}bypassSecurityTrustHtml(e){return function mO(t){return new uO(t)}(e)}bypassSecurityTrustStyle(e){return function yO(t){return new dO(t)}(e)}bypassSecurityTrustScript(e){return function _O(t){return new fO(t)}(e)}bypassSecurityTrustUrl(e){return function vO(t){return new hO(t)}(e)}bypassSecurityTrustResourceUrl(e){return function wO(t){return new pO(t)}(e)}static#e=this.\u0275fac=function(i){return new(i||t)(Nt(Go))};static#t=this.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ta(t){return this instanceof ta?(this.v=t,this):new ta(t)}function MM(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function $v(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],i=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=t[o]&&function(s){return new Promise(function(l,h){!function r(o,s,l,h){Promise.resolve(h).then(function(g){o({value:g,done:l})},s)}(l,h,(s=t[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Gv=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function TM(t){return Ve(t?.then)}function kM(t){return Ve(t[sn])}function PM(t){return Symbol.asyncIterator&&Ve(t?.[Symbol.asyncIterator])}function AM(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const OM=function QU(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function NM(t){return Ve(t?.[OM])}function FM(t){return function xM(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(t,n||[]),o=[];return r={},l("next"),l("throw"),l("return",function s(A){return function(z){return Promise.resolve(z).then(A,C)}}),r[Symbol.asyncIterator]=function(){return this},r;function l(A,z){i[A]&&(r[A]=function(J){return new Promise(function(fe,Ce){o.push([A,J,fe,Ce])>1||h(A,J)})},z&&(r[A]=z(r[A])))}function h(A,z){try{!function g(A){A.value instanceof ta?Promise.resolve(A.value.v).then(w,C):k(o[0][2],A)}(i[A](z))}catch(J){k(o[0][3],J)}}function w(A){h("next",A)}function C(A){h("throw",A)}function k(A,z){A(z),o.shift(),o.length&&h(o[0][0],o[0][1])}}(this,arguments,function*(){const e=t.getReader();try{for(;;){const{value:i,done:r}=yield ta(e.read());if(r)return yield ta(void 0);yield yield ta(i)}}finally{e.releaseLock()}})}function RM(t){return Ve(t?.getReader)}function Cs(t){if(t instanceof qt)return t;if(null!=t){if(kM(t))return function KU(t){return new qt(n=>{const e=t[sn]();if(Ve(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Gv(t))return function XU(t){return new qt(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}(t);if(TM(t))return function JU(t){return new qt(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,X)})}(t);if(PM(t))return LM(t);if(NM(t))return function e8(t){return new qt(n=>{for(const e of t)if(n.next(e),n.closed)return;n.complete()})}(t);if(RM(t))return function t8(t){return LM(FM(t))}(t)}throw AM(t)}function LM(t){return new qt(n=>{(function n8(t,n){var e,i,r,o;return function IM(t,n,e,i){return new(e||(e=Promise))(function(o,s){function l(w){try{g(i.next(w))}catch(C){s(C)}}function h(w){try{g(i.throw(w))}catch(C){s(C)}}function g(w){w.done?o(w.value):function r(o){return o instanceof e?o:new e(function(s){s(o)})}(w.value).then(l,h)}g((i=i.apply(t,n||[])).next())})}(this,void 0,void 0,function*(){try{for(e=MM(t);!(i=yield e.next()).done;)if(n.next(i.value),n.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}n.complete()})})(t,n).catch(e=>n.error(e))})}function na(t,n,e,i=0,r=!1){const o=n.schedule(function(){e(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(o),!r)return o}function BM(t,n=0){return Ut((e,i)=>{e.subscribe(yn(i,r=>na(i,t,()=>i.next(r),n),()=>na(i,t,()=>i.complete(),n),r=>na(i,t,()=>i.error(r),n)))})}function VM(t,n=0){return Ut((e,i)=>{i.add(t.schedule(()=>e.subscribe(i),n))})}function UM(t,n){if(!t)throw new Error("Iterable cannot be null");return new qt(e=>{na(e,n,()=>{const i=t[Symbol.asyncIterator]();na(e,n,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function Zv(t,n){return n?function c8(t,n){if(null!=t){if(kM(t))return function i8(t,n){return Cs(t).pipe(VM(n),BM(n))}(t,n);if(Gv(t))return function o8(t,n){return new qt(e=>{let i=0;return n.schedule(function(){i===t.length?e.complete():(e.next(t[i++]),e.closed||this.schedule())})})}(t,n);if(TM(t))return function r8(t,n){return Cs(t).pipe(VM(n),BM(n))}(t,n);if(PM(t))return UM(t,n);if(NM(t))return function s8(t,n){return new qt(e=>{let i;return na(e,n,()=>{i=t[OM](),na(e,n,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void e.error(s)}o?e.complete():e.next(r)},0,!0)}),()=>Ve(i?.return)&&i.return()})}(t,n);if(RM(t))return function a8(t,n){return UM(FM(t),n)}(t,n)}throw AM(t)}(t,n):Cs(t)}const{isArray:l8}=Array,{getPrototypeOf:u8,prototype:d8,keys:f8}=Object;function zM(t){return t&&Ve(t.schedule)}function Yv(t){return t[t.length-1]}function jM(t){return zM(Yv(t))?t.pop():void 0}const{isArray:y8}=Array;function HM(t){return Un(n=>function _8(t,n){return y8(n)?t(...n):t(n)}(t,n))}function v8(t,n){return t.reduce((e,i,r)=>(e[i]=n[r],e),{})}function w8(...t){const n=function g8(t){return Ve(Yv(t))?t.pop():void 0}(t),{args:e,keys:i}=function h8(t){if(1===t.length){const n=t[0];if(l8(n))return{args:n,keys:null};if(function p8(t){return t&&"object"==typeof t&&u8(t)===d8}(n)){const e=f8(n);return{args:e.map(i=>n[i]),keys:e}}}return{args:t,keys:null}}(t),r=new qt(o=>{const{length:s}=e;if(!s)return void o.complete();const l=new Array(s);let h=s,g=s;for(let w=0;w<s;w++){let C=!1;Cs(e[w]).subscribe(yn(o,k=>{C||(C=!0,g--),l[w]=k},()=>h--,void 0,()=>{(!h||!C)&&(g||o.next(i?v8(i,l):l),o.complete())}))}});return n?r.pipe(HM(n)):r}let WM=(()=>{class t{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(i){return new(i||t)(ee($r),ee(Ei))};static#t=this.\u0275dir=y({type:t})}return t})(),Xa=(()=>{class t extends WM{static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Ri(t)))(r||t)}})();static#t=this.\u0275dir=y({type:t,features:[_n]})}return t})();const Io=new Je(""),S8={provide:Io,useExisting:cn(()=>Al),multi:!0},C8=new Je("");let Al=(()=>{class t extends WM{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function b8(){const t=gd()?gd().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(i){return new(i||t)(ee($r),ee(Ei),ee(C8,8))};static#t=this.\u0275dir=y({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&ye("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[zn([S8]),_n]})}return t})();const Hi=new Je(""),ra=new Je("");function tT(t){return null!=t}function nT(t){return rp(t)?Zv(t):t}function iT(t){let n={};return t.forEach(e=>{n=null!=e?{...n,...e}:n}),0===Object.keys(n).length?null:n}function rT(t,n){return n.map(e=>e(t))}function oT(t){return t.map(n=>function D8(t){return!t.validate}(n)?n:e=>n.validate(e))}function qv(t){return null!=t?function sT(t){if(!t)return null;const n=t.filter(tT);return 0==n.length?null:function(e){return iT(rT(e,n))}}(oT(t)):null}function Qv(t){return null!=t?function aT(t){if(!t)return null;const n=t.filter(tT);return 0==n.length?null:function(e){return w8(rT(e,n).map(nT)).pipe(Un(iT))}}(oT(t)):null}function cT(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function lT(t){return t._rawValidators}function uT(t){return t._rawAsyncValidators}function Kv(t){return t?Array.isArray(t)?t:[t]:[]}function Np(t,n){return Array.isArray(t)?t.includes(n):t===n}function dT(t,n){const e=Kv(n);return Kv(t).forEach(r=>{Np(e,r)||e.push(r)}),e}function fT(t,n){return Kv(n).filter(e=>!Np(t,e))}class hT{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=qv(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Qv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class cr extends hT{get formDirective(){return null}get path(){return null}}class oa extends hT{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class pT{constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let Sd=(()=>{class t extends pT{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||t)(ee(oa,2))};static#t=this.\u0275dir=y({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&Xn("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[_n]})}return t})(),Fp=(()=>{class t extends pT{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||t)(ee(cr,10))};static#t=this.\u0275dir=y({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&Xn("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[_n]})}return t})();const bd="VALID",Lp="INVALID",Ol="PENDING",Cd="DISABLED";class Nl{}class mT extends Nl{constructor(n,e){super(),this.value=n,this.source=e}}class e0 extends Nl{constructor(n,e){super(),this.pristine=n,this.source=e}}class t0 extends Nl{constructor(n,e){super(),this.touched=n,this.source=e}}class Bp extends Nl{constructor(n,e){super(),this.status=n,this.source=e}}class P8 extends Nl{constructor(n){super(),this.source=n}}class A8 extends Nl{constructor(n){super(),this.source=n}}function n0(t){return(Vp(t)?t.validators:t)||null}function r0(t,n){return(Vp(n)?n.asyncValidators:t)||null}function Vp(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function yT(t,n,e){const i=t.controls;if(!(n?Object.keys(i):i).length)throw new Se(1e3,"");if(!i[e])throw new Se(1001,"")}function _T(t,n,e){t._forEachChild((i,r)=>{if(void 0===e[r])throw new Se(1002,"")})}class Up{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=pd(()=>this.statusReactive()),this.statusReactive=ol(void 0),this._pristine=pd(()=>this.pristineReactive()),this.pristineReactive=ol(!0),this._touched=pd(()=>this.touchedReactive()),this.touchedReactive=ol(!1),this._events=new ke,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return $o(this.statusReactive)}set status(n){$o(()=>this.statusReactive.set(n))}get valid(){return this.status===bd}get invalid(){return this.status===Lp}get pending(){return this.status==Ol}get disabled(){return this.status===Cd}get enabled(){return this.status!==Cd}get pristine(){return $o(this.pristineReactive)}set pristine(n){$o(()=>this.pristineReactive.set(n))}get dirty(){return!this.pristine}get touched(){return $o(this.touchedReactive)}set touched(n){$o(()=>this.touchedReactive.set(n))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(dT(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(dT(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(fT(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(fT(n,this._rawAsyncValidators))}hasValidator(n){return Np(this._rawValidators,n)}hasAsyncValidator(n){return Np(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){const e=!1===this.touched;this.touched=!0;const i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched({...n,sourceControl:i}),e&&!1!==n.emitEvent&&this._events.next(new t0(!0,i))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(n))}markAsUntouched(n={}){const e=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const i=n.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:i})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,i),e&&!1!==n.emitEvent&&this._events.next(new t0(!1,i))}markAsDirty(n={}){const e=!0===this.pristine;this.pristine=!1;const i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty({...n,sourceControl:i}),e&&!1!==n.emitEvent&&this._events.next(new e0(!1,i))}markAsPristine(n={}){const e=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const i=n.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,i),e&&!1!==n.emitEvent&&this._events.next(new e0(!0,i))}markAsPending(n={}){this.status=Ol;const e=n.sourceControl??this;!1!==n.emitEvent&&(this._events.next(new Bp(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending({...n,sourceControl:e})}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=Cd,this.errors=null,this._forEachChild(r=>{r.disable({...n,onlySelf:!0})}),this._updateValue();const i=n.sourceControl??this;!1!==n.emitEvent&&(this._events.next(new mT(this.value,i)),this._events.next(new Bp(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:e},this),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=bd,this._forEachChild(i=>{i.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:e},this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n,e){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===bd||this.status===Ol)&&this._runAsyncValidator(i,n.emitEvent)}const e=n.sourceControl??this;!1!==n.emitEvent&&(this._events.next(new mT(this.value,e)),this._events.next(new Bp(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity({...n,sourceControl:e})}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Cd:bd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,e){if(this.asyncValidator){this.status=Ol,this._hasOwnPendingAsyncValidator={emitEvent:!1!==e};const i=nT(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const n=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent,this,e.shouldHaveEmitted)}get(n){let e=n;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(n,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,e,i){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||i)&&this._events.next(new Bp(this.status,e)),this._parent&&this._parent._updateControlsErrors(n,e,i)}_initObservables(){this.valueChanges=new In,this.statusChanges=new In}_calculateStatus(){return this._allControlsDisabled()?Cd:this.errors?Lp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ol)?Ol:this._anyControlsHaveStatus(Lp)?Lp:bd}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,e){const i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,e),r&&this._events.next(new e0(this.pristine,e))}_updateTouched(n={},e){this.touched=this._anyControlsTouched(),this._events.next(new t0(this.touched,e)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,e)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Vp(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function O8(t){return Array.isArray(t)?qv(t):t||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function N8(t){return Array.isArray(t)?Qv(t):t||null}(this._rawAsyncValidators)}}class Id extends Up{constructor(n,e,i){super(n0(e),r0(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,i={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){_T(this,0,n),Object.keys(n).forEach(i=>{yT(this,!0,i),this.controls[i].setValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(i=>{const r=this.controls[i];r&&r.patchValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((i,r)=>{i.reset(n?n[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,i)=>(n[i]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&n(i,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&n(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(n,e){let i=n;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}class vT extends Id{}const Ja=new Je("CallSetDisabledState",{providedIn:"root",factory:()=>Dd}),Dd="always";function zp(t,n){return[...n.path,t]}function xd(t,n,e=Dd){o0(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||"always"===e)&&n.valueAccessor.setDisabledState?.(t.disabled),function R8(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&wT(t,n)})}(t,n),function B8(t,n){const e=(i,r)=>{n.valueAccessor.writeValue(i),r&&n.viewToModelUpdate(i)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function L8(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&wT(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function F8(t,n){if(n.valueAccessor.setDisabledState){const e=i=>{n.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function jp(t,n,e=!0){const i=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(i),n.valueAccessor.registerOnTouched(i)),Wp(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Hp(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function o0(t,n){const e=lT(t);null!==n.validator?t.setValidators(cT(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const i=uT(t);null!==n.asyncValidator?t.setAsyncValidators(cT(i,n.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]);const r=()=>t.updateValueAndValidity();Hp(n._rawValidators,r),Hp(n._rawAsyncValidators,r)}function Wp(t,n){let e=!1;if(null!==t){if(null!==n.validator){const r=lT(t);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==n.validator);o.length!==r.length&&(e=!0,t.setValidators(o))}}if(null!==n.asyncValidator){const r=uT(t);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==n.asyncValidator);o.length!==r.length&&(e=!0,t.setAsyncValidators(o))}}}const i=()=>{};return Hp(n._rawValidators,i),Hp(n._rawAsyncValidators,i),e}function wT(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function a0(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}function c0(t,n){if(!n)return null;let e,i,r;return Array.isArray(n),n.forEach(o=>{o.constructor===Al?e=o:function z8(t){return Object.getPrototypeOf(t.constructor)===Xa}(o)?i=o:r=o}),r||i||e||null}function bT(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function CT(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}Promise.resolve();const Td=class extends Up{constructor(n=null,e,i){super(n0(e),r0(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Vp(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=CT(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){bT(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){bT(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){CT(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},G8={provide:oa,useExisting:cn(()=>u0)},xT=Promise.resolve();let u0=(()=>{class t extends oa{constructor(e,i,r,o,s,l){super(),this._changeDetectorRef=s,this.callSetDisabledState=l,this.control=new Td,this._registered=!1,this.name="",this.update=new In,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=c0(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),a0(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){xd(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){xT.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&function gv(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(i);xT.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?zp(e,this._parent):[e]}static#e=this.\u0275fac=function(i){return new(i||t)(ee(cr,9),ee(Hi,10),ee(ra,10),ee(Io,10),ee(Tl,8),ee(Ja,8))};static#t=this.\u0275dir=y({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[zn([G8]),_n,er]})}return t})(),$p=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=y({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return t})();const d0=new Je(""),X8={provide:cr,useExisting:cn(()=>Fl)};let Fl=(()=>{class t extends cr{get submitted(){return $o(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}constructor(e,i,r){super(),this.callSetDisabledState=r,this._submitted=pd(()=>this._submittedReactive()),this._submittedReactive=ol(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new In,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Wp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return xd(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){jp(e.control||null,e,!1),function j8(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this._submittedReactive.set(!0),function ST(t,n){t._syncPendingControls(),n.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new P8(this.control)),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new A8(this.form))}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(jp(i||null,e),(t=>t instanceof Td)(r)&&(xd(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);(function ET(t,n){o0(t,n)})(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function V8(t,n){return Wp(t,n)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){o0(this.form,this),this._oldForm&&Wp(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(i){return new(i||t)(ee(Hi,10),ee(ra,10),ee(Ja,8))};static#t=this.\u0275dir=y({type:t,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&ye("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[zn([X8]),_n,er]})}return t})();const tz={provide:oa,useExisting:cn(()=>kd)};let kd=(()=>{class t extends oa{set isDisabled(e){}static#e=this._ngModelWarningSentOnce=!1;constructor(e,i,r,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new In,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=c0(0,o)}ngOnChanges(e){this._added||this._setUpControl(),a0(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return zp(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(i){return new(i||t)(ee(cr,13),ee(Hi,10),ee(ra,10),ee(Io,10),ee(d0,8))};static#n=this.\u0275dir=y({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[zn([tz]),_n,er]})}return t})(),WT=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=f({type:t});static#n=this.\u0275inj=Qi({})}return t})();class $T extends Up{constructor(n,e,i){super(n0(e),r0(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[this._adjustIndex(n)]}push(n,e={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(n,e,i={}){this.controls.splice(n,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(n,e={}){let i=this._adjustIndex(n);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(n,e,i={}){let r=this._adjustIndex(n);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,e={}){_T(this,0,n),n.forEach((i,r)=>{yT(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(n.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n=[],e={}){this._forEachChild((i,r)=>{i.reset(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((e,i)=>{n(e,i)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(e=>e.enabled&&n(e))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}}function GT(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let y0=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new t;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let o={};return GT(i)?o=i:null!==i&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Id(r,o)}record(e,i=null){const r=this._reduceControls(e);return new vT(r,i)}control(e,i,r){let o={};return this.useNonNullable?(GT(i)?o=i:(o.validators=i,o.asyncValidators=r),new Td(e,{...o,nonNullable:!0})):new Td(e,i,r)}array(e,i,r){const o=e.map(s=>this._createControl(s));return new $T(o,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof Td||e instanceof Up?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),mz=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Ja,useValue:e.callSetDisabledState??Dd}]}}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=f({type:t});static#n=this.\u0275inj=Qi({imports:[WT]})}return t})(),yz=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:d0,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Ja,useValue:e.callSetDisabledState??Dd}]}}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=f({type:t});static#n=this.\u0275inj=Qi({imports:[WT]})}return t})();function _0(t,n,e=1/0){return Ve(n)?_0((i,r)=>Un((o,s)=>n(i,o,r,s))(Cs(t(i,r))),e):("number"==typeof n&&(e=n),Ut((i,r)=>function _z(t,n,e,i,r,o,s,l){const h=[];let g=0,w=0,C=!1;const k=()=>{C&&!h.length&&!g&&n.complete()},A=J=>g<i?z(J):h.push(J),z=J=>{o&&n.next(J),g++;let fe=!1;Cs(e(J,w++)).subscribe(yn(n,Ce=>{r?.(Ce),o?A(Ce):n.next(Ce)},()=>{fe=!0},void 0,()=>{if(fe)try{for(g--;h.length&&g<i;){const Ce=h.shift();s?na(n,s,()=>z(Ce)):z(Ce)}k()}catch(Ce){n.error(Ce)}}))};return t.subscribe(yn(n,A,()=>{C=!0,k()})),()=>{l?.()}}(i,r,t,e)))}const vz=["addListener","removeListener"],wz=["addEventListener","removeEventListener"],Ez=["on","off"];function Mi(t,n,e,i){if(Ve(e)&&(i=e,e=void 0),i)return Mi(t,n,e).pipe(HM(i));const[r,o]=function Cz(t){return Ve(t.addEventListener)&&Ve(t.removeEventListener)}(t)?wz.map(s=>l=>t[s](n,l,e)):function Sz(t){return Ve(t.addListener)&&Ve(t.removeListener)}(t)?vz.map(ZT(t,n)):function bz(t){return Ve(t.on)&&Ve(t.off)}(t)?Ez.map(ZT(t,n)):[];if(!r&&Gv(t))return _0(s=>Mi(s,n,e))(Cs(t));if(!r)throw new TypeError("Invalid event target");return new qt(s=>{const l=(...h)=>s.next(1<h.length?h:h[0]);return r(l),()=>o(l)})}function ZT(t,n){return e=>i=>t[e](n,i)}class ai{constructor(n,e){this.x=n,this.y=e}static fromEvent(n,e=null){if(this.isMouseEvent(n))return new ai(n.clientX,n.clientY);if(null===e||1===n.changedTouches.length)return new ai(n.changedTouches[0].clientX,n.changedTouches[0].clientY);for(let i=0;i<n.changedTouches.length;i++)if(n.changedTouches[i].target===e)return new ai(n.changedTouches[i].clientX,n.changedTouches[i].clientY);return null}static isMouseEvent(n){return 8===Object.prototype.toString.apply(n).indexOf("MouseEvent")}static isIPosition(n){return!!n&&"x"in n&&"y"in n}static getCurrent(n){let e=new ai(0,0);if(window){const i=window.getComputedStyle(n);if(i){let r=parseInt(i.getPropertyValue("left"),10),o=parseInt(i.getPropertyValue("top"),10);e.x=isNaN(r)?0:r,e.y=isNaN(o)?0:o}return e}return console.error("Not Supported!"),null}static copy(n){return new ai(0,0).set(n)}get value(){return{x:this.x,y:this.y}}add(n){return this.x+=n.x,this.y+=n.y,this}subtract(n){return this.x-=n.x,this.y-=n.y,this}multiply(n){this.x*=n,this.y*=n}divide(n){this.x/=n,this.y/=n}reset(){return this.x=0,this.y=0,this}set(n){return this.x=n.x,this.y=n.y,this}}class YT{constructor(n,e){this.parent=n,this.renderer=e,this._added=!1;let i=e.createElement("div");e.setStyle(i,"position","absolute"),e.setStyle(i,"width","100%"),e.setStyle(i,"height","100%"),e.setStyle(i,"background-color","transparent"),e.setStyle(i,"top","0"),e.setStyle(i,"left","0"),this._helper=i}add(){this.parent&&!this._added&&(this.parent.appendChild(this._helper),this._added=!0)}remove(){this.parent&&this._added&&(this.parent.removeChild(this._helper),this._added=!1)}dispose(){this._helper=null,this._added=!1}get el(){return this._helper}}let v0=(()=>{class t{set zIndex(e){this.renderer.setStyle(this.el.nativeElement,"z-index",e),this._zIndex=e}set ngDraggable(e){if(null!=e&&""!==e){this.allowDrag=!!e;let i=this.getDragEl();this.allowDrag?this.renderer.addClass(i,"ng-draggable"):(this.putBack(),this.renderer.removeClass(i,"ng-draggable"))}}constructor(e,i){this.el=e,this.renderer=i,this.allowDrag=!0,this.moving=!1,this.orignal=null,this.oldTrans=new ai(0,0),this.tempTrans=new ai(0,0),this.currTrans=new ai(0,0),this.oldZIndex="",this._zIndex="",this.needTransform=!1,this.draggingSub=null,this._helperBlock=null,this.started=new In,this.stopped=new In,this.edge=new In,this.outOfBounds={top:!1,right:!1,bottom:!1,left:!1},this.gridSize=1,this.inBounds=!1,this.trackPosition=!0,this.scale=1,this.preventDefaultEvent=!1,this.position={x:0,y:0},this.lockAxis=null,this.movingOffset=new In,this.endOffset=new In,this._helperBlock=new YT(e.nativeElement,i)}ngOnInit(){if(this.allowDrag){let e=this.getDragEl();this.renderer.addClass(e,"ng-draggable")}this.resetPosition()}ngOnDestroy(){this.bounds=null,this.handle=null,this.orignal=null,this.oldTrans=null,this.tempTrans=null,this.currTrans=null,this._helperBlock.dispose(),this._helperBlock=null,this.draggingSub&&this.draggingSub.unsubscribe()}ngOnChanges(e){if(e.position&&!e.position.isFirstChange()){let i=e.position.currentValue;this.moving?this.needTransform=!0:(ai.isIPosition(i)?this.oldTrans.set(i):this.oldTrans.reset(),this.transform())}}ngAfterViewInit(){this.inBounds&&(this.boundsCheck(),this.oldTrans.add(this.tempTrans),this.tempTrans.reset())}getDragEl(){return this.handle?this.handle:this.el.nativeElement}resetPosition(){ai.isIPosition(this.position)?this.oldTrans.set(this.position):this.oldTrans.reset(),this.tempTrans.reset(),this.transform()}moveTo(e){if(this.orignal){if(e.subtract(this.orignal),this.tempTrans.set(e),this.tempTrans.divide(this.scale),this.transform(),this.bounds){let i=this.boundsCheck();i&&this.edge.emit(i)}this.movingOffset.emit(this.currTrans.value)}}transform(){let e=this.tempTrans.x+this.oldTrans.x,i=this.tempTrans.y+this.oldTrans.y;"x"===this.lockAxis?(e=this.oldTrans.x,this.tempTrans.x=0):"y"===this.lockAxis&&(i=this.oldTrans.y,this.tempTrans.y=0),this.gridSize>1&&(e=Math.round(e/this.gridSize)*this.gridSize,i=Math.round(i/this.gridSize)*this.gridSize);let r=`translate(${Math.round(e)}px, ${Math.round(i)}px)`;this.renderer.setStyle(this.el.nativeElement,"transform",r),this.renderer.setStyle(this.el.nativeElement,"-webkit-transform",r),this.renderer.setStyle(this.el.nativeElement,"-ms-transform",r),this.renderer.setStyle(this.el.nativeElement,"-moz-transform",r),this.renderer.setStyle(this.el.nativeElement,"-o-transform",r),this.currTrans.x=e,this.currTrans.y=i}pickUp(){if(this.oldZIndex=this.el.nativeElement.style.zIndex?this.el.nativeElement.style.zIndex:"",window&&(this.oldZIndex=window.getComputedStyle(this.el.nativeElement,null).getPropertyValue("z-index")),this.zIndexMoving&&this.renderer.setStyle(this.el.nativeElement,"z-index",this.zIndexMoving),!this.moving){this.started.emit(this.el.nativeElement),this.moving=!0;const e=this.getDragEl();this.renderer.addClass(e,"ng-dragging"),this.subscribeEvents()}}subscribeEvents(){this.draggingSub=Mi(document,"mousemove",{passive:!1}).subscribe(i=>this.onMouseMove(i)),this.draggingSub.add(Mi(document,"touchmove",{passive:!1}).subscribe(i=>this.onMouseMove(i))),this.draggingSub.add(Mi(document,"mouseup",{passive:!1}).subscribe(()=>this.putBack())),/msie\s|trident\//i.test(window.navigator.userAgent)||this.draggingSub.add(Mi(document,"mouseleave",{passive:!1}).subscribe(()=>this.putBack())),this.draggingSub.add(Mi(document,"touchend",{passive:!1}).subscribe(()=>this.putBack())),this.draggingSub.add(Mi(document,"touchcancel",{passive:!1}).subscribe(()=>this.putBack()))}unsubscribeEvents(){this.draggingSub.unsubscribe(),this.draggingSub=null}boundsCheck(){if(this.bounds){let e=this.bounds.getBoundingClientRect(),i=this.el.nativeElement.getBoundingClientRect(),r={top:!!this.outOfBounds.top||e.top<i.top,right:!!this.outOfBounds.right||e.right>i.right,bottom:!!this.outOfBounds.bottom||e.bottom>i.bottom,left:!!this.outOfBounds.left||e.left<i.left};return this.inBounds&&(r.top||(this.tempTrans.y-=(i.top-e.top)/this.scale),r.bottom||(this.tempTrans.y-=(i.bottom-e.bottom)/this.scale),r.right||(this.tempTrans.x-=(i.right-e.right)/this.scale),r.left||(this.tempTrans.x-=(i.left-e.left)/this.scale),this.transform()),r}return null}getCurrentOffset(){return this.currTrans.value}putBack(){if(this._zIndex?this.renderer.setStyle(this.el.nativeElement,"z-index",this._zIndex):this.zIndexMoving&&(this.oldZIndex?this.renderer.setStyle(this.el.nativeElement,"z-index",this.oldZIndex):this.el.nativeElement.style.removeProperty("z-index")),this.moving){if(this.stopped.emit(this.el.nativeElement),this._helperBlock.remove(),this.needTransform&&(ai.isIPosition(this.position)?this.oldTrans.set(this.position):this.oldTrans.reset(),this.transform(),this.needTransform=!1),this.bounds){let i=this.boundsCheck();i&&this.edge.emit(i)}this.moving=!1,this.endOffset.emit(this.currTrans.value),this.trackPosition&&this.oldTrans.add(this.tempTrans),this.tempTrans.reset(),this.trackPosition||this.transform();const e=this.getDragEl();this.renderer.removeClass(e,"ng-dragging"),this.unsubscribeEvents()}}checkHandleTarget(e,i){if("BUTTON"===i.tagName)return!1;if(i===e)return!0;for(let r in i.children)if(i.children.hasOwnProperty(r)&&this.checkHandleTarget(e,i.children[r]))return!0;return!1}onMouseDown(e){e instanceof MouseEvent&&2===e.button||void 0!==this.handle&&!this.checkHandleTarget(e.target||e.srcElement,this.handle)||!1!==this.allowDrag&&(this.preventDefaultEvent&&(e.stopPropagation(),e.preventDefault()),this.orignal=ai.fromEvent(e,this.getDragEl()),this.pickUp())}onMouseMove(e){this.moving&&this.allowDrag&&(this.preventDefaultEvent&&(e.stopPropagation(),e.preventDefault()),this._helperBlock.add(),this.moveTo(ai.fromEvent(e,this.getDragEl())))}static#e=this.\u0275fac=function(i){return new(i||t)(ee(Ei),ee($r))};static#t=this.\u0275dir=y({type:t,selectors:[["","ngDraggable",""]],hostBindings:function(i,r){1&i&&ye("mousedown",function(s){return r.onMouseDown(s)})("touchstart",function(s){return r.onMouseDown(s)})},inputs:{handle:"handle",bounds:"bounds",outOfBounds:"outOfBounds",gridSize:"gridSize",zIndexMoving:"zIndexMoving",zIndex:"zIndex",inBounds:"inBounds",trackPosition:"trackPosition",scale:"scale",preventDefaultEvent:"preventDefaultEvent",position:"position",lockAxis:"lockAxis",ngDraggable:"ngDraggable"},outputs:{started:"started",stopped:"stopped",edge:"edge",movingOffset:"movingOffset",endOffset:"endOffset"},exportAs:["ngDraggable"],features:[er]})}return t})();class Iz{constructor(n,e,i,r,o,s){this.parent=n,this.renderer=e,this.type=i,this.css=r,this.onMouseDown=o,this.existHandle=s;let l=this.existHandle||e.createElement("div");e.addClass(l,"ng-resizable-handle"),e.addClass(l,r),"se"===i&&e.addClass(l,"ng-resizable-diagonal"),this.parent&&!this.existHandle&&n.appendChild(l),this._onResize=h=>{o(h,this)},l.addEventListener("mousedown",this._onResize,{passive:!1}),l.addEventListener("touchstart",this._onResize,{passive:!1}),this._handle=l}dispose(){this._handle.removeEventListener("mousedown",this._onResize),this._handle.removeEventListener("touchstart",this._onResize),this.parent&&!this.existHandle&&this.parent.removeChild(this._handle),this._handle=null,this._onResize=null}get el(){return this._handle}}class sa{constructor(n,e){this.width=n,this.height=e}static getCurrent(n){let e=new sa(0,0);if(window){const i=window.getComputedStyle(n);return i&&(e.width=parseInt(i.getPropertyValue("width"),10),e.height=parseInt(i.getPropertyValue("height"),10)),e}return console.error("Not Supported!"),null}static copy(n){return new sa(0,0).set(n)}set(n){return this.width=n.width,this.height=n.height,this}}let Dz=(()=>{class t{set ngResizable(e){null!=e&&""!==e&&(this._resizable=!!e,this.updateResizable())}constructor(e,i){this.el=e,this.renderer=i,this._resizable=!0,this._handles={},this._handleType=[],this._handleResizing=null,this._direction=null,this._directionChanged=null,this._aspectRatio=0,this._containment=null,this._origMousePos=null,this._origSize=null,this._origPos=null,this._currSize=null,this._currPos=null,this._initSize=null,this._initPos=null,this._gridSize=null,this._bounding=null,this._helperBlock=null,this.draggingSub=null,this._adjusted=!1,this.rzHandles="e,s,se",this.rzHandleDoms={},this.rzAspectRatio=!1,this.rzContainment=null,this.rzGrid=null,this.rzMinWidth=null,this.rzMinHeight=null,this.rzMaxWidth=null,this.rzMaxHeight=null,this.rzScale=1,this.preventDefaultEvent=!0,this.rzStart=new In,this.rzResizing=new In,this.rzStop=new In,this._helperBlock=new YT(e.nativeElement,i)}ngOnChanges(e){e.rzHandles&&!e.rzHandles.isFirstChange()&&this.updateResizable(),e.rzAspectRatio&&!e.rzAspectRatio.isFirstChange()&&this.updateAspectRatio(),e.rzContainment&&!e.rzContainment.isFirstChange()&&this.updateContainment()}ngOnInit(){this.updateResizable()}ngOnDestroy(){this.removeHandles(),this._containment=null,this._helperBlock.dispose(),this._helperBlock=null}ngAfterViewInit(){const e=this.el.nativeElement;this._initSize=sa.getCurrent(e),this._initPos=ai.getCurrent(e),this._currSize=sa.copy(this._initSize),this._currPos=ai.copy(this._initPos),this.updateAspectRatio(),this.updateContainment()}resetSize(){this._currSize=sa.copy(this._initSize),this._currPos=ai.copy(this._initPos),this.doResize()}getStatus(){return this._currPos&&this._currSize?{size:{width:this._currSize.width,height:this._currSize.height},position:{top:this._currPos.y,left:this._currPos.x}}:null}updateResizable(){const e=this.el.nativeElement;this.renderer.removeClass(e,"ng-resizable"),this.removeHandles(),this._resizable&&(this.renderer.addClass(e,"ng-resizable"),this.createHandles())}updateAspectRatio(){if("boolean"==typeof this.rzAspectRatio)this._aspectRatio=this.rzAspectRatio&&this._currSize.height?this._currSize.width/this._currSize.height:0;else{let e=Number(this.rzAspectRatio);this._aspectRatio=isNaN(e)?0:e}}updateContainment(){this._containment=this.rzContainment?"string"==typeof this.rzContainment?"parent"===this.rzContainment?this.el.nativeElement.parentElement:document.querySelector(this.rzContainment):this.rzContainment:null}createHandles(){if(!this.rzHandles)return;let e;if("string"==typeof this.rzHandles){e="all"===this.rzHandles?["n","e","s","w","ne","se","nw","sw"]:this.rzHandles.replace(/ /g,"").toLowerCase().split(",");for(let i of e){let r=this.createHandleByType(i,`ng-resizable-${i}`);r&&(this._handleType.push(i),this._handles[i]=r)}}else{e=Object.keys(this.rzHandles);for(let i of e){let r=this.createHandleByType(i,this.rzHandles[i]);r&&(this._handleType.push(i),this._handles[i]=r)}}}createHandleByType(e,i){const r=this.el.nativeElement,o=this.rzHandleDoms[e]?this.rzHandleDoms[e].nativeElement:null;return e.match(/^(se|sw|ne|nw|n|e|s|w)$/)?new Iz(r,this.renderer,e,i,this.onMouseDown.bind(this),o):(console.error("Invalid handle type:",e),null)}removeHandles(){for(let e of this._handleType)this._handles[e].dispose();this._handleType=[],this._handles={}}onMouseDown(e,i){e instanceof MouseEvent&&2===e.button||(this.preventDefaultEvent&&(e.stopPropagation(),e.preventDefault()),this._handleResizing||(this._origMousePos=ai.fromEvent(e),this.startResize(i),this.subscribeEvents()))}subscribeEvents(){this.draggingSub=Mi(document,"mousemove",{passive:!1}).subscribe(i=>this.onMouseMove(i)),this.draggingSub.add(Mi(document,"touchmove",{passive:!1}).subscribe(i=>this.onMouseMove(i))),this.draggingSub.add(Mi(document,"mouseup",{passive:!1}).subscribe(()=>this.onMouseLeave())),/msie\s|trident\//i.test(window.navigator.userAgent)||this.draggingSub.add(Mi(document,"mouseleave",{passive:!1}).subscribe(()=>this.onMouseLeave())),this.draggingSub.add(Mi(document,"touchend",{passive:!1}).subscribe(()=>this.onMouseLeave())),this.draggingSub.add(Mi(document,"touchcancel",{passive:!1}).subscribe(()=>this.onMouseLeave()))}unsubscribeEvents(){this.draggingSub.unsubscribe(),this.draggingSub=null}onMouseLeave(){this._handleResizing&&(this.stopResize(),this._origMousePos=null,this.unsubscribeEvents())}onMouseMove(e){this._handleResizing&&this._resizable&&this._origMousePos&&this._origPos&&this._origSize&&(this.resizeTo(ai.fromEvent(e)),this.onResizing())}startResize(e){const i=this.el.nativeElement;this._origSize=sa.getCurrent(i),this._origPos=ai.getCurrent(i),this._currSize=sa.copy(this._origSize),this._currPos=ai.copy(this._origPos),this._containment&&this.getBounding(),this.getGridSize(),this._helperBlock.add(),this._handleResizing=e,this.updateDirection(),this.rzStart.emit(this.getResizingEvent())}stopResize(){this._helperBlock.remove(),this.rzStop.emit(this.getResizingEvent()),this._handleResizing=null,this._direction=null,this._origSize=null,this._origPos=null,this._containment&&this.resetBounding()}onResizing(){this.rzResizing.emit(this.getResizingEvent())}getResizingEvent(){return{host:this.el.nativeElement,handle:this._handleResizing?this._handleResizing.el:null,size:{width:this._currSize.width,height:this._currSize.height},position:{top:this._currPos.y,left:this._currPos.x},direction:{...this._directionChanged}}}updateDirection(){this._direction={n:!!this._handleResizing.type.match(/n/),s:!!this._handleResizing.type.match(/s/),w:!!this._handleResizing.type.match(/w/),e:!!this._handleResizing.type.match(/e/)},this._directionChanged={...this._direction},this.rzAspectRatio&&(this._directionChanged.n&&!this._directionChanged.e&&(this._directionChanged.w=!0),this._directionChanged.s&&!this._directionChanged.w&&(this._directionChanged.e=!0),this._directionChanged.e&&!this._directionChanged.n&&(this._directionChanged.s=!0),this._directionChanged.w&&!this._directionChanged.n&&(this._directionChanged.s=!0))}resizeTo(e){e.subtract(this._origMousePos).divide(this.rzScale);const i=Math.round(e.x/this._gridSize.x)*this._gridSize.x,r=Math.round(e.y/this._gridSize.y)*this._gridSize.y;this._direction.n?(this._currPos.y=this._origPos.y+r,this._currSize.height=this._origSize.height-r):this._direction.s&&(this._currSize.height=this._origSize.height+r),this._direction.e?this._currSize.width=this._origSize.width+i:this._direction.w&&(this._currSize.width=this._origSize.width-i,this._currPos.x=this._origPos.x+i),this.checkBounds(),this.checkSize(),this.adjustByRatio(),this.doResize()}doResize(){const e=this.el.nativeElement;(!this._direction||this._direction.n||this._direction.s||this._aspectRatio)&&this.renderer.setStyle(e,"height",this._currSize.height+"px"),(!this._direction||this._direction.w||this._direction.e||this._aspectRatio)&&this.renderer.setStyle(e,"width",this._currSize.width+"px"),this.renderer.setStyle(e,"left",this._currPos.x+"px"),this.renderer.setStyle(e,"top",this._currPos.y+"px")}adjustByRatio(){if(this._aspectRatio&&!this._adjusted)if(this._direction.e||this._direction.w){const e=Math.floor(this._currSize.width/this._aspectRatio);this._direction.n&&(this._currPos.y+=this._currSize.height-e),this._currSize.height=e}else{const e=Math.floor(this._aspectRatio*this._currSize.height);this._direction.n&&(this._currPos.x+=this._currSize.width-e),this._currSize.width=e}}checkBounds(){if(this._containment){const e=this._bounding.width-this._bounding.pr-this._bounding.deltaL-this._bounding.translateX-this._currPos.x,i=this._bounding.height-this._bounding.pb-this._bounding.deltaT-this._bounding.translateY-this._currPos.y;if(this._direction.n&&this._currPos.y+this._bounding.translateY<0&&(this._currPos.y=-this._bounding.translateY,this._currSize.height=this._origSize.height+this._origPos.y+this._bounding.translateY),this._direction.w&&this._currPos.x+this._bounding.translateX<0&&(this._currPos.x=-this._bounding.translateX,this._currSize.width=this._origSize.width+this._origPos.x+this._bounding.translateX),this._currSize.width>e&&(this._currSize.width=e),this._currSize.height>i&&(this._currSize.height=i),this._aspectRatio){if(this._adjusted=!1,(this._direction.w||this._direction.e)&&this._currSize.width/this._aspectRatio>=i){const r=Math.floor(i*this._aspectRatio);this._direction.w&&(this._currPos.x+=this._currSize.width-r),this._currSize.width=r,this._currSize.height=i,this._adjusted=!0}if((this._direction.n||this._direction.s)&&this._currSize.height*this._aspectRatio>=e){const r=Math.floor(e/this._aspectRatio);this._direction.n&&(this._currPos.y+=this._currSize.height-r),this._currSize.width=e,this._currSize.height=r,this._adjusted=!0}}}}checkSize(){const e=this.rzMinHeight?this.rzMinHeight:1,i=this.rzMinWidth?this.rzMinWidth:1;this._currSize.height<e&&(this._currSize.height=e,this._direction.n&&(this._currPos.y=this._origPos.y+(this._origSize.height-e))),this._currSize.width<i&&(this._currSize.width=i,this._direction.w&&(this._currPos.x=this._origPos.x+(this._origSize.width-i))),this.rzMaxHeight&&this._currSize.height>this.rzMaxHeight&&(this._currSize.height=this.rzMaxHeight,this._direction.n&&(this._currPos.y=this._origPos.y+(this._origSize.height-this.rzMaxHeight))),this.rzMaxWidth&&this._currSize.width>this.rzMaxWidth&&(this._currSize.width=this.rzMaxWidth,this._direction.w&&(this._currPos.x=this._origPos.x+(this._origSize.width-this.rzMaxWidth)))}getBounding(){const e=this._containment,i=window.getComputedStyle(e);if(i){let r=i.getPropertyValue("position"),s=window.getComputedStyle(this.el.nativeElement).getPropertyValue("transform").replace(/[^-\d,]/g,"").split(",");this._bounding={},this._bounding.width=e.clientWidth,this._bounding.height=e.clientHeight,this._bounding.pr=parseInt(i.getPropertyValue("padding-right"),10),this._bounding.pb=parseInt(i.getPropertyValue("padding-bottom"),10),this._bounding.deltaL=this.el.nativeElement.offsetLeft-this._currPos.x,this._bounding.deltaT=this.el.nativeElement.offsetTop-this._currPos.y,s.length>=6?(this._bounding.translateX=parseInt(s[4],10),this._bounding.translateY=parseInt(s[5],10)):(this._bounding.translateX=0,this._bounding.translateY=0),this._bounding.position=i.getPropertyValue("position"),"static"===r&&this.renderer.setStyle(e,"position","relative")}}resetBounding(){this._bounding&&"static"===this._bounding.position&&this.renderer.setStyle(this._containment,"position","relative"),this._bounding=null}getGridSize(){this._gridSize={x:1,y:1},this.rzGrid&&("number"==typeof this.rzGrid?this._gridSize={x:this.rzGrid,y:this.rzGrid}:Array.isArray(this.rzGrid)&&(this._gridSize={x:this.rzGrid[0],y:this.rzGrid[1]}))}static#e=this.\u0275fac=function(i){return new(i||t)(ee(Ei),ee($r))};static#t=this.\u0275dir=y({type:t,selectors:[["","ngResizable",""]],inputs:{ngResizable:"ngResizable",rzHandles:"rzHandles",rzHandleDoms:"rzHandleDoms",rzAspectRatio:"rzAspectRatio",rzContainment:"rzContainment",rzGrid:"rzGrid",rzMinWidth:"rzMinWidth",rzMinHeight:"rzMinHeight",rzMaxWidth:"rzMaxWidth",rzMaxHeight:"rzMaxHeight",rzScale:"rzScale",preventDefaultEvent:"preventDefaultEvent"},outputs:{rzStart:"rzStart",rzResizing:"rzResizing",rzStop:"rzStop"},exportAs:["ngResizable"],features:[er]})}return t})(),xz=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=f({type:t});static#n=this.\u0275inj=Qi({})}return t})();var Pt=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(Pt||{});const Is="*";function Pd(t,n){return{type:Pt.Trigger,name:t,definitions:n,options:{}}}function Zo(t,n=null){return{type:Pt.Animate,styles:n,timings:t}}function rn(t){return{type:Pt.Style,styles:t,offset:null}}function Yo(t,n,e){return{type:Pt.State,name:t,styles:n,options:e}}function Gp(t){return{type:Pt.Keyframes,steps:t}}function qo(t,n,e=null){return{type:Pt.Transition,expr:t,animation:n,options:e}}class Ad{constructor(n=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class qT{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let e=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,l)=>Math.max(s,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const e=n*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const n=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function QT(t){return new Se(3e3,!1)}function aa(t){switch(t.length){case 0:return new Ad;case 1:return t[0];default:return new qT(t)}}function KT(t,n,e=new Map,i=new Map){const r=[],o=[];let s=-1,l=null;if(n.forEach(h=>{const g=h.get("offset"),w=g==s,C=w&&l||new Map;h.forEach((k,A)=>{let z=A,J=k;if("offset"!==A)switch(z=t.normalizePropertyName(z,r),J){case"!":J=e.get(A);break;case Is:J=i.get(A);break;default:J=t.normalizeStyleValue(A,z,J,r)}C.set(z,J)}),w||o.push(C),l=C,s=g}),r.length)throw function tj(t){return new Se(3502,!1)}();return o}function E0(t,n,e,i){switch(n){case"start":t.onStart(()=>i(e&&S0(e,"start",t)));break;case"done":t.onDone(()=>i(e&&S0(e,"done",t)));break;case"destroy":t.onDestroy(()=>i(e&&S0(e,"destroy",t)))}}function S0(t,n,e){const o=b0(t.element,t.triggerName,t.fromState,t.toState,n||t.phaseName,e.totalTime??t.totalTime,!!e.disabled),s=t._data;return null!=s&&(o._data=s),o}function b0(t,n,e,i,r="",o=0,s){return{element:t,triggerName:n,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function Nr(t,n,e){let i=t.get(n);return i||t.set(n,i=e),i}function XT(t){const n=t.indexOf(":");return[t.substring(1,n),t.slice(n+1)]}const hj=typeof document>"u"?null:document.documentElement;function C0(t){const n=t.parentNode||t.host||null;return n===hj?null:n}let tc=null,JT=!1;function ek(t,n){for(;n;){if(n===t)return!0;n=C0(n)}return!1}function tk(t,n,e){if(e)return Array.from(t.querySelectorAll(n));const i=t.querySelector(n);return i?[i]:[]}let I0=(()=>{class t{validateStyleProperty(e){return function gj(t){tc||(tc=function mj(){return typeof document<"u"?document.body:null}()||{},JT=!!tc.style&&"WebkitAppearance"in tc.style);let n=!0;return tc.style&&!function pj(t){return"ebkit"==t.substring(1,6)}(t)&&(n=t in tc.style,!n&&JT&&(n="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in tc.style)),n}(e)}containsElement(e,i){return ek(e,i)}getParentElement(e){return C0(e)}query(e,i,r){return tk(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,s,l=[],h){return new Ad(r,o)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=ut({token:t,factory:t.\u0275fac})}return t})();class D0{static#e=this.NOOP=new I0}class x0{}const _j=1e3,M0="ng-enter",Zp="ng-leave",Yp="ng-trigger",qp=".ng-trigger",ik="ng-animating",T0=".ng-animating";function Ds(t){if("number"==typeof t)return t;const n=t.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:k0(parseFloat(n[1]),n[2])}function k0(t,n){return"s"===n?t*_j:t}function Qp(t,n,e){return t.hasOwnProperty("duration")?t:function wj(t,n,e){let r,o=0,s="";if("string"==typeof t){const l=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===l)return n.push(QT()),{duration:0,delay:0,easing:""};r=k0(parseFloat(l[1]),l[2]);const h=l[3];null!=h&&(o=k0(parseFloat(h),l[4]));const g=l[5];g&&(s=g)}else r=t;if(!e){let l=!1,h=n.length;r<0&&(n.push(function Oz(){return new Se(3100,!1)}()),l=!0),o<0&&(n.push(function Nz(){return new Se(3101,!1)}()),l=!0),l&&n.splice(h,0,QT())}return{duration:r,delay:o,easing:s}}(t,n,e)}function Qo(t,n,e){n.forEach((i,r)=>{const o=A0(r);e&&!e.has(r)&&e.set(r,t.style[o]),t.style[o]=i})}function nc(t,n){n.forEach((e,i)=>{const r=A0(i);t.style[r]=""})}function Od(t){return Array.isArray(t)?1==t.length?t[0]:function Mz(t,n=null){return{type:Pt.Sequence,steps:t,options:n}}(t):t}const P0=new RegExp("{{\\s*(.+?)\\s*}}","g");function ok(t){let n=[];if("string"==typeof t){let e;for(;e=P0.exec(t);)n.push(e[1]);P0.lastIndex=0}return n}function Nd(t,n,e){const i=`${t}`,r=i.replace(P0,(o,s)=>{let l=n[s];return null==l&&(e.push(function Rz(t){return new Se(3003,!1)}()),l=""),l.toString()});return r==i?t:r}const bj=/-+([a-z0-9])/g;function A0(t){return t.replace(bj,(...n)=>n[1].toUpperCase())}function Fr(t,n,e){switch(n.type){case Pt.Trigger:return t.visitTrigger(n,e);case Pt.State:return t.visitState(n,e);case Pt.Transition:return t.visitTransition(n,e);case Pt.Sequence:return t.visitSequence(n,e);case Pt.Group:return t.visitGroup(n,e);case Pt.Animate:return t.visitAnimate(n,e);case Pt.Keyframes:return t.visitKeyframes(n,e);case Pt.Style:return t.visitStyle(n,e);case Pt.Reference:return t.visitReference(n,e);case Pt.AnimateChild:return t.visitAnimateChild(n,e);case Pt.AnimateRef:return t.visitAnimateRef(n,e);case Pt.Query:return t.visitQuery(n,e);case Pt.Stagger:return t.visitStagger(n,e);default:throw function Lz(t){return new Se(3004,!1)}()}}function O0(t,n){return window.getComputedStyle(t)[n]}const Dj=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class sk extends x0{normalizePropertyName(n,e){return A0(n)}normalizeStyleValue(n,e,i,r){let o="";const s=i.toString().trim();if(Dj.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const l=i.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&0==l[1].length&&r.push(function Bz(t,n){return new Se(3005,!1)}())}return s+o}}const Kp="*";const Xp=new Set(["true","1"]),Jp=new Set(["false","0"]);function ak(t,n){const e=Xp.has(t)||Jp.has(t),i=Xp.has(n)||Jp.has(n);return(r,o)=>{let s=t==Kp||t==r,l=n==Kp||n==o;return!s&&e&&"boolean"==typeof r&&(s=r?Xp.has(t):Jp.has(t)),!l&&i&&"boolean"==typeof o&&(l=o?Xp.has(n):Jp.has(n)),s&&l}}const kj=new RegExp("s*:selfs*,?","g");function N0(t,n,e,i){return new Pj(t).build(n,e,i)}class Pj{constructor(n){this._driver=n}build(n,e,i){const r=new Nj(e);return this._resetContextStyleTimingState(r),Fr(this,Od(n),r)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles=new Map,n.collectedStyles.set("",new Map),n.currentTime=0}visitTrigger(n,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],s=[];return"@"==n.name.charAt(0)&&e.errors.push(function Vz(){return new Se(3006,!1)}()),n.definitions.forEach(l=>{if(this._resetContextStyleTimingState(e),l.type==Pt.State){const h=l,g=h.name;g.toString().split(/\s*,\s*/).forEach(w=>{h.name=w,o.push(this.visitState(h,e))}),h.name=g}else if(l.type==Pt.Transition){const h=this.visitTransition(l,e);i+=h.queryCount,r+=h.depCount,s.push(h)}else e.errors.push(function Uz(){return new Se(3007,!1)}())}),{type:Pt.Trigger,name:n.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(n,e){const i=this.visitStyle(n.styles,e),r=n.options&&n.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(l=>{l instanceof Map&&l.forEach(h=>{ok(h).forEach(g=>{s.hasOwnProperty(g)||o.add(g)})})}),o.size&&e.errors.push(function zz(t,n){return new Se(3008,!1)}(0,o.values()))}return{type:Pt.State,name:n.name,style:i,options:r?{params:r}:null}}visitTransition(n,e){e.queryCount=0,e.depCount=0;const i=Fr(this,Od(n.animation),e),r=function xj(t,n){const e=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(i=>function Mj(t,n,e){if(":"==t[0]){const h=function Tj(t,n){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return n.push(function Kz(t){return new Se(3016,!1)}()),"* => *"}}(t,e);if("function"==typeof h)return void n.push(h);t=h}const i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function Qz(t){return new Se(3015,!1)}()),n;const r=i[1],o=i[2],s=i[3];n.push(ak(r,s)),"<"==o[0]&&(r!=Kp||s!=Kp)&&n.push(ak(s,r))}(i,e,n)):e.push(t),e}(n.expr,e.errors);return{type:Pt.Transition,matchers:r,animation:i,queryCount:e.queryCount,depCount:e.depCount,options:ic(n.options)}}visitSequence(n,e){return{type:Pt.Sequence,steps:n.steps.map(i=>Fr(this,i,e)),options:ic(n.options)}}visitGroup(n,e){const i=e.currentTime;let r=0;const o=n.steps.map(s=>{e.currentTime=i;const l=Fr(this,s,e);return r=Math.max(r,e.currentTime),l});return e.currentTime=r,{type:Pt.Group,steps:o,options:ic(n.options)}}visitAnimate(n,e){const i=function Rj(t,n){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return F0(Qp(t,n).duration,0,"");const e=t;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=F0(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=Qp(e,n);return F0(r.duration,r.delay,r.easing)}(n.timings,e.errors);e.currentAnimateTimings=i;let r,o=n.styles?n.styles:rn({});if(o.type==Pt.Keyframes)r=this.visitKeyframes(o,e);else{let s=n.styles,l=!1;if(!s){l=!0;const g={};i.easing&&(g.easing=i.easing),s=rn(g)}e.currentTime+=i.duration+i.delay;const h=this.visitStyle(s,e);h.isEmptyStep=l,r=h}return e.currentAnimateTimings=null,{type:Pt.Animate,timings:i,style:r,options:null}}visitStyle(n,e){const i=this._makeStyleAst(n,e);return this._validateStyleAst(i,e),i}_makeStyleAst(n,e){const i=[],r=Array.isArray(n.styles)?n.styles:[n.styles];for(let l of r)"string"==typeof l?l===Is?i.push(l):e.errors.push(new Se(3002,!1)):i.push(new Map(Object.entries(l)));let o=!1,s=null;return i.forEach(l=>{if(l instanceof Map&&(l.has("easing")&&(s=l.get("easing"),l.delete("easing")),!o))for(let h of l.values())if(h.toString().indexOf("{{")>=0){o=!0;break}}),{type:Pt.Style,styles:i,easing:s,offset:n.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(n,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),n.styles.forEach(s=>{"string"!=typeof s&&s.forEach((l,h)=>{const g=e.collectedStyles.get(e.currentQuerySelector),w=g.get(h);let C=!0;w&&(o!=r&&o>=w.startTime&&r<=w.endTime&&(e.errors.push(function Hz(t,n,e,i,r){return new Se(3010,!1)}()),C=!1),o=w.startTime),C&&g.set(h,{startTime:o,endTime:r}),e.options&&function Sj(t,n,e){const i=n.params||{},r=ok(t);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function Fz(t){return new Se(3001,!1)}())})}(l,e.options,e.errors)})})}visitKeyframes(n,e){const i={type:Pt.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function Wz(){return new Se(3011,!1)}()),i;let o=0;const s=[];let l=!1,h=!1,g=0;const w=n.steps.map(Ce=>{const de=this._makeStyleAst(Ce,e);let We=null!=de.offset?de.offset:function Fj(t){if("string"==typeof t)return null;let n=null;if(Array.isArray(t))t.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;n=parseFloat(i.get("offset")),i.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const e=t;n=parseFloat(e.get("offset")),e.delete("offset")}return n}(de.styles),st=0;return null!=We&&(o++,st=de.offset=We),h=h||st<0||st>1,l=l||st<g,g=st,s.push(st),de});h&&e.errors.push(function $z(){return new Se(3012,!1)}()),l&&e.errors.push(function Gz(){return new Se(3200,!1)}());const C=n.steps.length;let k=0;o>0&&o<C?e.errors.push(function Zz(){return new Se(3202,!1)}()):0==o&&(k=1/(C-1));const A=C-1,z=e.currentTime,J=e.currentAnimateTimings,fe=J.duration;return w.forEach((Ce,de)=>{const We=k>0?de==A?1:k*de:s[de],st=We*fe;e.currentTime=z+J.delay+st,J.duration=st,this._validateStyleAst(Ce,e),Ce.offset=We,i.styles.push(Ce)}),i}visitReference(n,e){return{type:Pt.Reference,animation:Fr(this,Od(n.animation),e),options:ic(n.options)}}visitAnimateChild(n,e){return e.depCount++,{type:Pt.AnimateChild,options:ic(n.options)}}visitAnimateRef(n,e){return{type:Pt.AnimateRef,animation:this.visitReference(n.animation,e),options:ic(n.options)}}visitQuery(n,e){const i=e.currentQuerySelector,r=n.options||{};e.queryCount++,e.currentQuery=n;const[o,s]=function Aj(t){const n=!!t.split(/\s*,\s*/).find(e=>":self"==e);return n&&(t=t.replace(kj,"")),t=t.replace(/@\*/g,qp).replace(/@\w+/g,e=>qp+"-"+e.slice(1)).replace(/:animating/g,T0),[t,n]}(n.selector);e.currentQuerySelector=i.length?i+" "+o:o,Nr(e.collectedStyles,e.currentQuerySelector,new Map);const l=Fr(this,Od(n.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:Pt.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:l,originalSelector:n.selector,options:ic(n.options)}}visitStagger(n,e){e.currentQuery||e.errors.push(function Yz(){return new Se(3013,!1)}());const i="full"===n.timings?{duration:0,delay:0,easing:"full"}:Qp(n.timings,e.errors,!0);return{type:Pt.Stagger,animation:Fr(this,Od(n.animation),e),timings:i,options:null}}}class Nj{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ic(t){return t?(t={...t}).params&&(t.params=function Oj(t){return t?{...t}:null}(t.params)):t={},t}function F0(t,n,e){return{duration:t,delay:n,easing:e}}function R0(t,n,e,i,r,o,s=null,l=!1){return{type:1,element:t,keyframes:n,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:l}}class eg{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,e){let i=this._map.get(n);i||this._map.set(n,i=[]),i.push(...e)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const Vj=new RegExp(":enter","g"),zj=new RegExp(":leave","g");function L0(t,n,e,i,r,o=new Map,s=new Map,l,h,g=[]){return(new jj).buildKeyframes(t,n,e,i,r,o,s,l,h,g)}class jj{buildKeyframes(n,e,i,r,o,s,l,h,g,w=[]){g=g||new eg;const C=new B0(n,e,g,r,o,w,[]);C.options=h;const k=h.delay?Ds(h.delay):0;C.currentTimeline.delayNextStep(k),C.currentTimeline.setStyles([s],null,C.errors,h),Fr(this,i,C);const A=C.timelines.filter(z=>z.containsAnimation());if(A.length&&l.size){let z;for(let J=A.length-1;J>=0;J--){const fe=A[J];if(fe.element===e){z=fe;break}}z&&!z.allowOnlyTimelineStyles()&&z.setStyles([l],null,C.errors,h)}return A.length?A.map(z=>z.buildKeyframes()):[R0(e,[],[],[],0,k,"",!1)]}visitTrigger(n,e){}visitState(n,e){}visitTransition(n,e){}visitAnimateChild(n,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(n.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=n}visitAnimateRef(n,e){const i=e.createSubContext(n.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],e,i),this.visitReference(n.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=n}_applyAnimationRefDelays(n,e,i){for(const r of n){const o=r?.delay;if(o){const s="number"==typeof o?o:Ds(Nd(o,r?.params??{},e.errors));i.delayNextStep(s)}}}_visitSubInstructions(n,e,i){let o=e.currentTimeline.currentTime;const s=null!=i.duration?Ds(i.duration):null,l=null!=i.delay?Ds(i.delay):null;return 0!==s&&n.forEach(h=>{const g=e.appendInstructionToTimeline(h,s,l);o=Math.max(o,g.duration+g.delay)}),o}visitReference(n,e){e.updateOptions(n.options,!0),Fr(this,n.animation,e),e.previousNode=n}visitSequence(n,e){const i=e.subContextCount;let r=e;const o=n.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){r.previousNode.type==Pt.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=tg);const s=Ds(o.delay);r.delayNextStep(s)}n.steps.length&&(n.steps.forEach(s=>Fr(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=n}visitGroup(n,e){const i=[];let r=e.currentTimeline.currentTime;const o=n.options&&n.options.delay?Ds(n.options.delay):0;n.steps.forEach(s=>{const l=e.createSubContext(n.options);o&&l.delayNextStep(o),Fr(this,s,l),r=Math.max(r,l.currentTimeline.currentTime),i.push(l.currentTimeline)}),i.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=n}_visitTiming(n,e){if(n.dynamic){const i=n.strValue;return Qp(e.params?Nd(i,e.params,e.errors):i,e.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,e){const i=e.currentAnimateTimings=this._visitTiming(n.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=n.style;o.type==Pt.Keyframes?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=n}visitStyle(n,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||n.easing;n.isEmptyStep?i.applyEmptyStep(o):i.setStyles(n.styles,o,e.errors,e.options),e.previousNode=n}visitKeyframes(n,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,l=e.createSubContext().currentTimeline;l.easing=i.easing,n.styles.forEach(h=>{l.forwardTime((h.offset||0)*o),l.setStyles(h.styles,h.easing,e.errors,e.options),l.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(l),e.transformIntoNewTimeline(r+o),e.previousNode=n}visitQuery(n,e){const i=e.currentTimeline.currentTime,r=n.options||{},o=r.delay?Ds(r.delay):0;o&&(e.previousNode.type===Pt.Style||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=tg);let s=i;const l=e.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=l.length;let h=null;l.forEach((g,w)=>{e.currentQueryIndex=w;const C=e.createSubContext(n.options,g);o&&C.delayNextStep(o),g===e.element&&(h=C.currentTimeline),Fr(this,n.animation,C),C.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,C.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),h&&(e.currentTimeline.mergeTimelineCollectedStyles(h),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=n}visitStagger(n,e){const i=e.parentContext,r=e.currentTimeline,o=n.timings,s=Math.abs(o.duration),l=s*(e.currentQueryTotal-1);let h=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":h=l-h;break;case"full":h=i.currentStaggerTime}const w=e.currentTimeline;h&&w.delayNextStep(h);const C=w.currentTime;Fr(this,n.animation,e),e.previousNode=n,i.currentStaggerTime=r.currentTime-C+(r.startTime-i.currentTimeline.startTime)}}const tg={};class B0{constructor(n,e,i,r,o,s,l,h){this._driver=n,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=l,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=tg,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=h||new ng(this._driver,e,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,e){if(!n)return;const i=n;let r=this.options;null!=i.duration&&(r.duration=Ds(i.duration)),null!=i.delay&&(r.delay=Ds(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(l=>{(!e||!s.hasOwnProperty(l))&&(s[l]=Nd(o[l],s,this.errors))})}}_copyOptions(){const n={};if(this.options){const e=this.options.params;if(e){const i=n.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return n}createSubContext(n=null,e,i){const r=e||this.element,o=new B0(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(n),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(n){return this.previousNode=tg,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,e,i){const r={duration:e??n.duration,delay:this.currentTimeline.currentTime+(i??0)+n.delay,easing:""},o=new Hj(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,r,n.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,e,i,r,o,s){let l=[];if(r&&l.push(this.element),n.length>0){n=(n=n.replace(Vj,"."+this._enterClassName)).replace(zj,"."+this._leaveClassName);let g=this._driver.query(this.element,n,1!=i);0!==i&&(g=i<0?g.slice(g.length+i,g.length):g.slice(0,i)),l.push(...g)}return!o&&0==l.length&&s.push(function qz(t){return new Se(3014,!1)}()),l}}class ng{constructor(n,e,i,r){this._driver=n,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+n),e&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,e){return this.applyStylesToKeyframe(),new ng(this._driver,n,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,e){this._localTimelineStyles.set(n,e),this._globalTimelineStyles.set(n,e),this._styleSummary.set(n,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Is),this._currentKeyframe.set(e,Is);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},s=function Wj(t,n){const e=new Map;let i;return t.forEach(r=>{if("*"===r){i??=n.keys();for(let o of i)e.set(o,Is)}else for(let[o,s]of r)e.set(o,s)}),e}(n,this._globalTimelineStyles);for(let[l,h]of s){const g=Nd(h,o,i);this._pendingStyles.set(l,g),this._localTimelineStyles.has(l)||this._backFill.set(l,this._globalTimelineStyles.get(l)??Is),this._updateStyle(l,g)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((n,e)=>{this._currentKeyframe.set(e,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,n)}))}snapshotCurrentStyles(){for(let[n,e]of this._localTimelineStyles)this._pendingStyles.set(n,e),this._updateStyle(n,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let e in this._currentKeyframe)n.push(e);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((l,h)=>{const g=new Map([...this._backFill,...l]);g.forEach((w,C)=>{"!"===w?n.add(C):w===Is&&e.add(C)}),i||g.set("offset",h/this.duration),r.push(g)});const o=[...n.values()],s=[...e.values()];if(i){const l=r[0],h=new Map(l);l.set("offset",0),h.set("offset",1),r=[l,h]}return R0(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class Hj extends ng{constructor(n,e,i,r,o,s,l=!1){super(n,e,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=l,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],s=i+e,l=e/s,h=new Map(n[0]);h.set("offset",0),o.push(h);const g=new Map(n[0]);g.set("offset",uk(l)),o.push(g);const w=n.length-1;for(let C=1;C<=w;C++){let k=new Map(n[C]);const A=k.get("offset");k.set("offset",uk((e+A*i)/s)),o.push(k)}i=s,e=0,r="",n=o}return R0(this.element,n,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function uk(t,n=3){const e=Math.pow(10,n-1);return Math.round(t*e)/e}function dk(t,n,e,i,r,o,s,l,h,g,w,C,k){return{type:0,element:t,triggerName:n,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:s,timelines:l,queriedElements:h,preStyleProps:g,postStyleProps:w,totalTime:C,errors:k}}const V0={};class fk{constructor(n,e,i){this._triggerName=n,this.ast=e,this._stateStyles=i}match(n,e,i,r){return function $j(t,n,e,i,r){return t.some(o=>o(n,e,i,r))}(this.ast.matchers,n,e,i,r)}buildStyles(n,e,i){let r=this._stateStyles.get("*");return void 0!==n&&(r=this._stateStyles.get(n?.toString())||r),r?r.buildStyles(e,i):new Map}build(n,e,i,r,o,s,l,h,g,w){const C=[],k=this.ast.options&&this.ast.options.params||V0,z=this.buildStyles(i,l&&l.params||V0,C),J=h&&h.params||V0,fe=this.buildStyles(r,J,C),Ce=new Set,de=new Map,We=new Map,st="void"===r,zt={params:hk(J,k),delay:this.ast.options?.delay},en=w?[]:L0(n,e,this.ast.animation,o,s,z,fe,zt,g,C);let wn=0;return en.forEach(ci=>{wn=Math.max(ci.duration+ci.delay,wn)}),C.length?dk(e,this._triggerName,i,r,st,z,fe,[],[],de,We,wn,C):(en.forEach(ci=>{const Xo=ci.element,da=Nr(de,Xo,new Set);ci.preStyleProps.forEach(ac=>da.add(ac));const Xk=Nr(We,Xo,new Set);ci.postStyleProps.forEach(ac=>Xk.add(ac)),Xo!==e&&Ce.add(Xo)}),dk(e,this._triggerName,i,r,st,z,fe,en,[...Ce.values()],de,We,wn))}}function hk(t,n){const e={...n};return Object.entries(t).forEach(([i,r])=>{null!=r&&(e[i]=r)}),e}class Gj{constructor(n,e,i){this.styles=n,this.defaultParams=e,this.normalizer=i}buildStyles(n,e){const i=new Map,r=hk(n,this.defaultParams);return this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,l)=>{s&&(s=Nd(s,r,e));const h=this.normalizer.normalizePropertyName(l,e);s=this.normalizer.normalizeStyleValue(l,h,s,e),i.set(l,s)})}),i}}class Yj{constructor(n,e,i){this.name=n,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new Gj(r.style,r.options&&r.options.params||{},i))}),pk(this.states,"true","1"),pk(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new fk(n,r,this.states))}),this.fallbackTransition=function qj(t,n,e){return new fk(t,{type:Pt.Transition,animation:{type:Pt.Sequence,steps:[],options:null},matchers:[(s,l)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,e,i,r){return this.transitionFactories.find(s=>s.match(n,e,i,r))||null}matchStyles(n,e,i){return this.fallbackTransition.buildStyles(n,e,i)}}function pk(t,n,e){t.has(n)?t.has(e)||t.set(e,t.get(n)):t.has(e)&&t.set(n,t.get(e))}const Qj=new eg;class Kj{constructor(n,e,i){this.bodyNode=n,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,e){const i=[],o=N0(this._driver,e,i,[]);if(i.length)throw function nj(t){return new Se(3503,!1)}();this._animations.set(n,o)}_buildPlayer(n,e,i){const r=n.element,o=KT(this._normalizer,n.keyframes,e,i);return this._driver.animate(r,o,n.duration,n.delay,n.easing,[],!0)}create(n,e,i={}){const r=[],o=this._animations.get(n);let s;const l=new Map;if(o?(s=L0(this._driver,e,o,M0,Zp,new Map,new Map,i,Qj,r),s.forEach(w=>{const C=Nr(l,w.element,new Map);w.postStyleProps.forEach(k=>C.set(k,null))})):(r.push(function ij(){return new Se(3300,!1)}()),s=[]),r.length)throw function rj(t){return new Se(3504,!1)}();l.forEach((w,C)=>{w.forEach((k,A)=>{w.set(A,this._driver.computeStyle(C,A,Is))})});const g=aa(s.map(w=>{const C=l.get(w.element);return this._buildPlayer(w,new Map,C)}));return this._playersById.set(n,g),g.onDestroy(()=>this.destroy(n)),this.players.push(g),g}destroy(n){const e=this._getPlayer(n);e.destroy(),this._playersById.delete(n);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(n){const e=this._playersById.get(n);if(!e)throw function oj(t){return new Se(3301,!1)}();return e}listen(n,e,i,r){const o=b0(e,"","","");return E0(this._getPlayer(n),i,o,r),()=>{}}command(n,e,i,r){if("register"==i)return void this.register(n,r[0]);if("create"==i)return void this.create(n,e,r[0]||{});const o=this._getPlayer(n);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(n)}}}const gk="ng-animate-queued",U0="ng-animate-disabled",n6=[],mk={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},i6={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Do="__ng_removed";class z0{get params(){return this.options.params}constructor(n,e=""){this.namespaceId=e;const i=n&&n.hasOwnProperty("value");if(this.value=function a6(t){return t??null}(i?n.value:n),i){const{value:o,...s}=n;this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){const e=n.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Fd="void",j0=new z0(Fd);class r6{constructor(n,e,i){this.id=n,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,qr(e,this._hostClassName)}listen(n,e,i,r){if(!this._triggers.has(e))throw function sj(t,n){return new Se(3302,!1)}();if(null==i||0==i.length)throw function aj(t){return new Se(3303,!1)}();if(!function c6(t){return"start"==t||"done"==t}(i))throw function cj(t,n){return new Se(3400,!1)}();const o=Nr(this._elementListeners,n,[]),s={name:e,phase:i,callback:r};o.push(s);const l=Nr(this._engine.statesByElement,n,new Map);return l.has(e)||(qr(n,Yp),qr(n,Yp+"-"+e),l.set(e,j0)),()=>{this._engine.afterFlush(()=>{const h=o.indexOf(s);h>=0&&o.splice(h,1),this._triggers.has(e)||l.delete(e)})}}register(n,e){return!this._triggers.has(n)&&(this._triggers.set(n,e),!0)}_getTrigger(n){const e=this._triggers.get(n);if(!e)throw function lj(t){return new Se(3401,!1)}();return e}trigger(n,e,i,r=!0){const o=this._getTrigger(e),s=new H0(this.id,e,n);let l=this._engine.statesByElement.get(n);l||(qr(n,Yp),qr(n,Yp+"-"+e),this._engine.statesByElement.set(n,l=new Map));let h=l.get(e);const g=new z0(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&h&&g.absorbOptions(h.options),l.set(e,g),h||(h=j0),g.value!==Fd&&h.value===g.value){if(!function d6(t,n){const e=Object.keys(t),i=Object.keys(n);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!n.hasOwnProperty(o)||t[o]!==n[o])return!1}return!0}(h.params,g.params)){const J=[],fe=o.matchStyles(h.value,h.params,J),Ce=o.matchStyles(g.value,g.params,J);J.length?this._engine.reportError(J):this._engine.afterFlush(()=>{nc(n,fe),Qo(n,Ce)})}return}const k=Nr(this._engine.playersByElement,n,[]);k.forEach(J=>{J.namespaceId==this.id&&J.triggerName==e&&J.queued&&J.destroy()});let A=o.matchTransition(h.value,g.value,n,g.params),z=!1;if(!A){if(!r)return;A=o.fallbackTransition,z=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:e,transition:A,fromState:h,toState:g,player:s,isFallbackTransition:z}),z||(qr(n,gk),s.onStart(()=>{Rl(n,gk)})),s.onDone(()=>{let J=this.players.indexOf(s);J>=0&&this.players.splice(J,1);const fe=this._engine.playersByElement.get(n);if(fe){let Ce=fe.indexOf(s);Ce>=0&&fe.splice(Ce,1)}}),this.players.push(s),k.push(s),s}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(e=>e.delete(n)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const e=this._engine.playersByElement.get(n);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,e){const i=this._engine.driver.query(n,qp,!0);i.forEach(r=>{if(r[Do])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(n,e,i,r){const o=this._engine.statesByElement.get(n),s=new Map;if(o){const l=[];if(o.forEach((h,g)=>{if(s.set(g,h.value),this._triggers.has(g)){const w=this.trigger(n,g,Fd,r);w&&l.push(w)}}),l.length)return this._engine.markElementAsRemoved(this.id,n,!0,e,s),i&&aa(l).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const e=this._elementListeners.get(n),i=this._engine.statesByElement.get(n);if(e&&i){const r=new Set;e.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const h=this._triggers.get(s).fallbackTransition,g=i.get(s)||j0,w=new z0(Fd),C=new H0(this.id,s,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:s,transition:h,fromState:g,toState:w,player:C,isFallbackTransition:!0})})}}removeNode(n,e){const i=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,e),this.triggerLeaveAnimation(n,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(n):[];if(o&&o.length)r=!0;else{let s=n;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(n),r)i.markElementAsRemoved(this.id,n,!1,e);else{const o=n[Do];(!o||o===mk)&&(i.afterFlush(()=>this.clearElementCache(n)),i.destroyInnerAnimations(n),i._onRemovalComplete(n,e))}}insertNode(n,e){qr(n,this._hostClassName)}drainQueuedTransitions(n){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(l=>{if(l.name==i.triggerName){const h=b0(o,i.triggerName,i.fromState.value,i.toState.value);h._data=n,E0(i.player,l.phase,h,l.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(n){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}}class o6{_onRemovalComplete(n,e){this.onRemovalComplete(n,e)}constructor(n,e,i){this.bodyNode=n,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const n=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&n.push(i)})}),n}createNamespace(n,e){const i=new r6(n,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[n]=i}_balanceNamespaceList(n,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,l=this.driver.getParentElement(e);for(;l;){const h=r.get(l);if(h){const g=i.indexOf(h);i.splice(g+1,0,n),s=!0;break}l=this.driver.getParentElement(l)}s||i.unshift(n)}else i.push(n);return r.set(e,n),n}register(n,e){let i=this._namespaceLookup[n];return i||(i=this.createNamespace(n,e)),i}registerTrigger(n,e,i){let r=this._namespaceLookup[n];r&&r.register(e,i)&&this.totalAnimations++}destroy(n,e){n&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(n);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[n]}))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const e=new Set,i=this.statesByElement.get(n);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(n,e,i,r){if(ig(e)){const o=this._fetchNamespace(n);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(n,e,i,r){if(!ig(e))return;const o=e[Do];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(n){const s=this._fetchNamespace(n);s&&s.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,e){e?this.disabledNodes.has(n)||(this.disabledNodes.add(n),qr(n,U0)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),Rl(n,U0))}removeNode(n,e,i){if(ig(e)){const r=n?this._fetchNamespace(n):null;r?r.removeNode(e,i):this.markElementAsRemoved(n,e,!1,i);const o=this.namespacesByHostElement.get(e);o&&o.id!==n&&o.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(n,e,i,r,o){this.collectedLeaveElements.push(e),e[Do]={namespaceId:n,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(n,e,i,r,o){return ig(e)?this._fetchNamespace(n).listen(e,i,r,o):()=>{}}_buildInstruction(n,e,i,r,o){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,i,r,n.fromState.options,n.toState.options,e,o)}destroyInnerAnimations(n){let e=this.driver.query(n,qp,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(n,T0,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(n){const e=this.playersByElement.get(n);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(n){const e=this.playersByQueriedElement.get(n);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return aa(this.players).onDone(()=>n());n()})}processLeaveNode(n){const e=n[Do];if(e&&e.setForRemoval){if(n[Do]=mk,e.namespaceId){this.destroyInnerAnimations(n);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(n)}this._onRemovalComplete(n,e.setForRemoval)}n.classList?.contains(U0)&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(n=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)qr(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,n)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?aa(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(n){throw function uj(t){return new Se(3402,!1)}()}_flushAnimations(n,e){const i=new eg,r=[],o=new Map,s=[],l=new Map,h=new Map,g=new Map,w=new Set;this.disabledNodes.forEach(ot=>{w.add(ot);const Et=this.driver.query(ot,".ng-animate-queued",!0);for(let Dt=0;Dt<Et.length;Dt++)w.add(Et[Dt])});const C=this.bodyNode,k=Array.from(this.statesByElement.keys()),A=vk(k,this.collectedEnterElements),z=new Map;let J=0;A.forEach((ot,Et)=>{const Dt=M0+J++;z.set(Et,Dt),ot.forEach(nn=>qr(nn,Dt))});const fe=[],Ce=new Set,de=new Set;for(let ot=0;ot<this.collectedLeaveElements.length;ot++){const Et=this.collectedLeaveElements[ot],Dt=Et[Do];Dt&&Dt.setForRemoval&&(fe.push(Et),Ce.add(Et),Dt.hasAnimation?this.driver.query(Et,".ng-star-inserted",!0).forEach(nn=>Ce.add(nn)):de.add(Et))}const We=new Map,st=vk(k,Array.from(Ce));st.forEach((ot,Et)=>{const Dt=Zp+J++;We.set(Et,Dt),ot.forEach(nn=>qr(nn,Dt))}),n.push(()=>{A.forEach((ot,Et)=>{const Dt=z.get(Et);ot.forEach(nn=>Rl(nn,Dt))}),st.forEach((ot,Et)=>{const Dt=We.get(Et);ot.forEach(nn=>Rl(nn,Dt))}),fe.forEach(ot=>{this.processLeaveNode(ot)})});const zt=[],en=[];for(let ot=this._namespaceList.length-1;ot>=0;ot--)this._namespaceList[ot].drainQueuedTransitions(e).forEach(Dt=>{const nn=Dt.player,Ti=Dt.element;if(zt.push(nn),this.collectedEnterElements.length){const Wi=Ti[Do];if(Wi&&Wi.setForMove){if(Wi.previousTriggersValues&&Wi.previousTriggersValues.has(Dt.triggerName)){const cc=Wi.previousTriggersValues.get(Dt.triggerName),Jr=this.statesByElement.get(Dt.element);if(Jr&&Jr.has(Dt.triggerName)){const pg=Jr.get(Dt.triggerName);pg.value=cc,Jr.set(Dt.triggerName,pg)}}return void nn.destroy()}}const Jo=!C||!this.driver.containsElement(C,Ti),Lr=We.get(Ti),fa=z.get(Ti),Zn=this._buildInstruction(Dt,i,fa,Lr,Jo);if(Zn.errors&&Zn.errors.length)return void en.push(Zn);if(Jo)return nn.onStart(()=>nc(Ti,Zn.fromStyles)),nn.onDestroy(()=>Qo(Ti,Zn.toStyles)),void r.push(nn);if(Dt.isFallbackTransition)return nn.onStart(()=>nc(Ti,Zn.fromStyles)),nn.onDestroy(()=>Qo(Ti,Zn.toStyles)),void r.push(nn);const tP=[];Zn.timelines.forEach(Wi=>{Wi.stretchStartingKeyframe=!0,this.disabledNodes.has(Wi.element)||tP.push(Wi)}),Zn.timelines=tP,i.append(Ti,Zn.timelines),s.push({instruction:Zn,player:nn,element:Ti}),Zn.queriedElements.forEach(Wi=>Nr(l,Wi,[]).push(nn)),Zn.preStyleProps.forEach((Wi,cc)=>{if(Wi.size){let Jr=h.get(cc);Jr||h.set(cc,Jr=new Set),Wi.forEach((pg,Lw)=>Jr.add(Lw))}}),Zn.postStyleProps.forEach((Wi,cc)=>{let Jr=g.get(cc);Jr||g.set(cc,Jr=new Set),Wi.forEach((pg,Lw)=>Jr.add(Lw))})});if(en.length){const ot=[];en.forEach(Et=>{ot.push(function dj(t,n){return new Se(3505,!1)}())}),zt.forEach(Et=>Et.destroy()),this.reportError(ot)}const wn=new Map,ci=new Map;s.forEach(ot=>{const Et=ot.element;i.has(Et)&&(ci.set(Et,Et),this._beforeAnimationBuild(ot.player.namespaceId,ot.instruction,wn))}),r.forEach(ot=>{const Et=ot.element;this._getPreviousPlayers(Et,!1,ot.namespaceId,ot.triggerName,null).forEach(nn=>{Nr(wn,Et,[]).push(nn),nn.destroy()})});const Xo=fe.filter(ot=>Ek(ot,h,g)),da=new Map;_k(da,this.driver,de,g,Is).forEach(ot=>{Ek(ot,h,g)&&Xo.push(ot)});const ac=new Map;A.forEach((ot,Et)=>{_k(ac,this.driver,new Set(ot),h,"!")}),Xo.forEach(ot=>{const Et=da.get(ot),Dt=ac.get(ot);da.set(ot,new Map([...Et?.entries()??[],...Dt?.entries()??[]]))});const Rw=[],Jk=[],eP={};s.forEach(ot=>{const{element:Et,player:Dt,instruction:nn}=ot;if(i.has(Et)){if(w.has(Et))return Dt.onDestroy(()=>Qo(Et,nn.toStyles)),Dt.disabled=!0,Dt.overrideTotalTime(nn.totalTime),void r.push(Dt);let Ti=eP;if(ci.size>1){let Lr=Et;const fa=[];for(;Lr=Lr.parentNode;){const Zn=ci.get(Lr);if(Zn){Ti=Zn;break}fa.push(Lr)}fa.forEach(Zn=>ci.set(Zn,Ti))}const Jo=this._buildAnimation(Dt.namespaceId,nn,wn,o,ac,da);if(Dt.setRealPlayer(Jo),Ti===eP)Rw.push(Dt);else{const Lr=this.playersByElement.get(Ti);Lr&&Lr.length&&(Dt.parentPlayer=aa(Lr)),r.push(Dt)}}else nc(Et,nn.fromStyles),Dt.onDestroy(()=>Qo(Et,nn.toStyles)),Jk.push(Dt),w.has(Et)&&r.push(Dt)}),Jk.forEach(ot=>{const Et=o.get(ot.element);if(Et&&Et.length){const Dt=aa(Et);ot.setRealPlayer(Dt)}}),r.forEach(ot=>{ot.parentPlayer?ot.syncPlayerEvents(ot.parentPlayer):ot.destroy()});for(let ot=0;ot<fe.length;ot++){const Et=fe[ot],Dt=Et[Do];if(Rl(Et,Zp),Dt&&Dt.hasAnimation)continue;let nn=[];if(l.size){let Jo=l.get(Et);Jo&&Jo.length&&nn.push(...Jo);let Lr=this.driver.query(Et,T0,!0);for(let fa=0;fa<Lr.length;fa++){let Zn=l.get(Lr[fa]);Zn&&Zn.length&&nn.push(...Zn)}}const Ti=nn.filter(Jo=>!Jo.destroyed);Ti.length?l6(this,Et,Ti):this.processLeaveNode(Et)}return fe.length=0,Rw.forEach(ot=>{this.players.push(ot),ot.onDone(()=>{ot.destroy();const Et=this.players.indexOf(ot);this.players.splice(Et,1)}),ot.play()}),Rw}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,e,i,r,o){let s=[];if(e){const l=this.playersByQueriedElement.get(n);l&&(s=l)}else{const l=this.playersByElement.get(n);if(l){const h=!o||o==Fd;l.forEach(g=>{g.queued||!h&&g.triggerName!=r||s.push(g)})}}return(i||r)&&(s=s.filter(l=>!(i&&i!=l.namespaceId||r&&r!=l.triggerName))),s}_beforeAnimationBuild(n,e,i){const o=e.element,s=e.isRemovalTransition?void 0:n,l=e.isRemovalTransition?void 0:e.triggerName;for(const h of e.timelines){const g=h.element,w=g!==o,C=Nr(i,g,[]);this._getPreviousPlayers(g,w,s,l,e.toState).forEach(A=>{const z=A.getRealPlayer();z.beforeDestroy&&z.beforeDestroy(),A.destroy(),C.push(A)})}nc(o,e.fromStyles)}_buildAnimation(n,e,i,r,o,s){const l=e.triggerName,h=e.element,g=[],w=new Set,C=new Set,k=e.timelines.map(z=>{const J=z.element;w.add(J);const fe=J[Do];if(fe&&fe.removedBeforeQueried)return new Ad(z.duration,z.delay);const Ce=J!==h,de=function u6(t){const n=[];return wk(t,n),n}((i.get(J)||n6).map(wn=>wn.getRealPlayer())).filter(wn=>!!wn.element&&wn.element===J),We=o.get(J),st=s.get(J),zt=KT(this._normalizer,z.keyframes,We,st),en=this._buildPlayer(z,zt,de);if(z.subTimeline&&r&&C.add(J),Ce){const wn=new H0(n,l,J);wn.setRealPlayer(en),g.push(wn)}return en});g.forEach(z=>{Nr(this.playersByQueriedElement,z.element,[]).push(z),z.onDone(()=>function s6(t,n,e){let i=t.get(n);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&t.delete(n)}return i}(this.playersByQueriedElement,z.element,z))}),w.forEach(z=>qr(z,ik));const A=aa(k);return A.onDestroy(()=>{w.forEach(z=>Rl(z,ik)),Qo(h,e.toStyles)}),C.forEach(z=>{Nr(r,z,[]).push(A)}),A}_buildPlayer(n,e,i){return e.length>0?this.driver.animate(n.element,e,n.duration,n.delay,n.easing,i):new Ad(n.duration,n.delay)}}class H0{constructor(n,e,i){this.namespaceId=n,this.triggerName=e,this.element=i,this._player=new Ad,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>E0(n,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const e=this._player;e.triggerCallback&&n.onStart(()=>e.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,e){Nr(this._queuedCallbacks,n,[]).push(e)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const e=this._player;e.triggerCallback&&e.triggerCallback(n)}}function ig(t){return t&&1===t.nodeType}function yk(t,n){const e=t.style.display;return t.style.display=n??"none",e}function _k(t,n,e,i,r){const o=[];e.forEach(h=>o.push(yk(h)));const s=[];i.forEach((h,g)=>{const w=new Map;h.forEach(C=>{const k=n.computeStyle(g,C,r);w.set(C,k),(!k||0==k.length)&&(g[Do]=i6,s.push(g))}),t.set(g,w)});let l=0;return e.forEach(h=>yk(h,o[l++])),s}function vk(t,n){const e=new Map;if(t.forEach(l=>e.set(l,[])),0==n.length)return e;const r=new Set(n),o=new Map;function s(l){if(!l)return 1;let h=o.get(l);if(h)return h;const g=l.parentNode;return h=e.has(g)?g:r.has(g)?1:s(g),o.set(l,h),h}return n.forEach(l=>{const h=s(l);1!==h&&e.get(h).push(l)}),e}function qr(t,n){t.classList?.add(n)}function Rl(t,n){t.classList?.remove(n)}function l6(t,n,e){aa(e).onDone(()=>t.processLeaveNode(n))}function wk(t,n){for(let e=0;e<t.length;e++){const i=t[e];i instanceof qT?wk(i.players,n):n.push(i)}}function Ek(t,n,e){const i=e.get(t);if(!i)return!1;let r=n.get(t);return r?i.forEach(o=>r.add(o)):n.set(t,i),e.delete(t),!0}class Rd{constructor(n,e,i){this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new o6(n.body,e,i),this._timelineEngine=new Kj(n.body,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(n,e,i,r,o){const s=n+"-"+r;let l=this._triggerCache[s];if(!l){const h=[],w=N0(this._driver,o,h,[]);if(h.length)throw function ej(t,n){return new Se(3404,!1)}();l=function Zj(t,n,e){return new Yj(t,n,e)}(r,w,this._normalizer),this._triggerCache[s]=l}this._transitionEngine.registerTrigger(e,r,l)}register(n,e){this._transitionEngine.register(n,e)}destroy(n,e){this._transitionEngine.destroy(n,e)}onInsert(n,e,i,r){this._transitionEngine.insertNode(n,e,i,r)}onRemove(n,e,i){this._transitionEngine.removeNode(n,e,i)}disableAnimations(n,e){this._transitionEngine.markElementAsDisabled(n,e)}process(n,e,i,r){if("@"==i.charAt(0)){const[o,s]=XT(i);this._timelineEngine.command(o,e,s,r)}else this._transitionEngine.trigger(n,e,i,r)}listen(n,e,i,r,o){if("@"==i.charAt(0)){const[s,l]=XT(i);return this._timelineEngine.listen(s,e,l,o)}return this._transitionEngine.listen(n,e,i,r,o)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(n){this._transitionEngine.afterFlushAnimationsDone(n)}}class Ld{static#e=this.initialStylesByElement=new WeakMap;constructor(n,e,i){this._element=n,this._startStyles=e,this._endStyles=i,this._state=0;let r=Ld.initialStylesByElement.get(n);r||Ld.initialStylesByElement.set(n,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Qo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Qo(this._element,this._initialStyles),this._endStyles&&(Qo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Ld.initialStylesByElement.delete(this._element),this._startStyles&&(nc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(nc(this._element,this._endStyles),this._endStyles=null),Qo(this._element,this._initialStyles),this._state=3)}}function W0(t){let n=null;return t.forEach((e,i)=>{(function h6(t){return"display"===t||"position"===t})(i)&&(n=n||new Map,n.set(i,e))}),n}class Sk{constructor(n,e,i,r){this.element=n,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map;const e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){const e=[];return n.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(n,e,i){return n.animate(this._convertKeyframesToObject(e),i)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&n.set(r,this._finished?i:O0(this.element,r))}),this.currentSnapshot=n}triggerCallback(n){const e="start"===n?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class bk{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}containsElement(n,e){return ek(n,e)}getParentElement(n){return C0(n)}query(n,e,i){return tk(n,e,i)}computeStyle(n,e,i){return O0(n,e)}animate(n,e,i,r,o,s=[]){const h={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(h.easing=o);const g=new Map,w=s.filter(A=>A instanceof Sk);(function Cj(t,n){return 0===t||0===n})(i,r)&&w.forEach(A=>{A.currentSnapshot.forEach((z,J)=>g.set(J,z))});let C=function Ej(t){return t.length?t[0]instanceof Map?t:t.map(n=>new Map(Object.entries(n))):[]}(e).map(A=>new Map(A));C=function Ij(t,n,e){if(e.size&&n.length){let i=n[0],r=[];if(e.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<n.length;o++){let s=n[o];r.forEach(l=>s.set(l,O0(t,l)))}}return n}(n,C,g);const k=function f6(t,n){let e=null,i=null;return Array.isArray(n)&&n.length?(e=W0(n[0]),n.length>1&&(i=W0(n[n.length-1]))):n instanceof Map&&(e=W0(n)),e||i?new Ld(t,e,i):null}(n,C);return new Sk(n,C,h,k)}}const Ck="@.disabled";class Ik{constructor(n,e,i,r){this.namespaceId=n,this.delegate=e,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(n){this.delegate.destroyNode?.(n)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,e){this.delegate.appendChild(n,e),this.engine.onInsert(this.namespaceId,e,n,!1)}insertBefore(n,e,i,r=!0){this.delegate.insertBefore(n,e,i),this.engine.onInsert(this.namespaceId,e,n,r)}removeChild(n,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,i,r){this.delegate.setAttribute(n,e,i,r)}removeAttribute(n,e,i){this.delegate.removeAttribute(n,e,i)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,i,r){this.delegate.setStyle(n,e,i,r)}removeStyle(n,e,i){this.delegate.removeStyle(n,e,i)}setProperty(n,e,i){"@"==e.charAt(0)&&e==Ck?this.disableAnimations(n,!!i):this.delegate.setProperty(n,e,i)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,i){return this.delegate.listen(n,e,i)}disableAnimations(n,e){this.engine.disableAnimations(n,e)}}class p6 extends Ik{constructor(n,e,i,r,o){super(e,i,r,o),this.factory=n,this.namespaceId=e}setProperty(n,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==Ck?this.disableAnimations(n,i=void 0===i||!!i):this.engine.process(this.namespaceId,n,e.slice(1),i):this.delegate.setProperty(n,e,i)}listen(n,e,i){if("@"==e.charAt(0)){const r=function g6(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(n);let o=e.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function m6(t){const n=t.indexOf(".");return[t.substring(0,n),t.slice(n+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,l=>{this.factory.scheduleListenerCallback(l._data||-1,i,l)})}return this.delegate.listen(n,e,i)}}class y6{constructor(n,e,i){this.delegate=n,this.engine=e,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,e.onRemovalComplete=(r,o)=>{const s=o?.parentNode(r);s&&o.removeChild(s,r)}}createRenderer(n,e){const r=this.delegate.createRenderer(n,e);if(!n||!e?.data?.animation){const g=this._rendererCache;let w=g.get(r);return w||(w=new Ik("",r,this.engine,()=>g.delete(r)),g.set(r,w)),w}const o=e.id,s=e.id+"-"+this._currentId;this._currentId++,this.engine.register(s,n);const l=g=>{Array.isArray(g)?g.forEach(l):this.engine.registerTrigger(o,s,n,g.name,g)};return e.data.animation.forEach(l),new p6(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(n,e,i){if(n>=0&&n<this._microtaskId)return void this._zone.run(()=>e(i));const r=this._animationCallbacksBuffer;0==r.length&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{const[s,l]=o;s(l)}),this._animationCallbacksBuffer=[]})}),r.push([e,i])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}const Dk=[{provide:x0,useFactory:function v6(){return new sk}},{provide:Rd,useClass:(()=>{class t extends Rd{constructor(e,i,r){super(e,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||t)(Nt(Go),Nt(D0),Nt(x0))};static#t=this.\u0275prov=ut({token:t,factory:t.\u0275fac})}return t})()},{provide:kh,useFactory:function w6(t,n,e){return new y6(t,n,e)},deps:[Bv,Rd,ln]}],$0=[{provide:D0,useFactory:()=>new bk},{provide:zS,useValue:"BrowserAnimations"},...Dk],xk=[{provide:D0,useClass:I0},{provide:zS,useValue:"NoopAnimations"},...Dk];let E6=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?xk:$0}}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=f({type:t});static#n=this.\u0275inj=Qi({providers:$0,imports:[SM]})}return t})();const S6=["editorContainer"],G0=new Je("NGX_MONACO_EDITOR_CONFIG");let Tk,Mk=!1,b6=(()=>{class t{constructor(){this.config=qe(G0),this.onInit=new In,this._insideNg=!1}set insideNg(e){this._insideNg=e,this._editor&&(this._editor.dispose(),this.initMonaco(this._options,this.insideNg))}get insideNg(){return this._insideNg}ngAfterViewInit(){Mk?Tk.then(()=>{this.initMonaco(this._options,this.insideNg)}):(Mk=!0,Tk=new Promise(e=>{const i=this.config.baseUrl||"./assets";if("object"==typeof window.monaco)return this.initMonaco(this._options,this.insideNg),void e();const r=l=>{let h=l||window.require,g={paths:{vs:`${i}/monaco/min/vs`}};Object.assign(g,this.config.requireConfig||{}),h.config(g),h(["vs/editor/editor.main"],()=>{"function"==typeof this.config.onMonacoLoad&&this.config.onMonacoLoad(),this.initMonaco(this._options,this.insideNg),e()})};if(this.config.monacoRequire)r(this.config.monacoRequire);else if(window.require)if(window.require.config)r();else{var o=`${i}/monaco/min/vs/loader.js`,s=new XMLHttpRequest;s.addEventListener("load",()=>{let l=document.createElement("script");l.type="text/javascript",l.text=["var nodeRequire = require;",s.responseText.replace('"use strict";',""),"var monacoAmdRequire = require;","require = nodeRequire;","require.nodeRequire = require;"].join("\n"),document.body.appendChild(l),r(window.monacoAmdRequire)}),s.open("GET",o),s.send()}else{const l=document.createElement("script");l.type="text/javascript",l.src=`${i}/monaco/min/vs/loader.js`,l.addEventListener("load",()=>{r()}),document.body.appendChild(l)}}))}ngOnDestroy(){this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._editor&&(this._editor.dispose(),this._editor=void 0)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=a({type:t,selectors:[["ng-component"]],viewQuery:function(i,r){if(1&i&&Wt(S6,7),2&i){let o;$t(o=Gt())&&(r._editorContainer=o.first)}},inputs:{insideNg:"insideNg"},outputs:{onInit:"onInit"},decls:0,vars:0,template:function(i,r){},encapsulation:2})}return t})(),C6=(()=>{class t extends b6{constructor(){super(...arguments),this.zone=qe(ln),this._value="",this.propagateChange=e=>{},this.onTouched=()=>{}}set options(e){this._options=Object.assign({},this.config.defaultOptions,e),this._editor&&(this._editor.dispose(),this.initMonaco(e,this.insideNg))}get options(){return this._options}set model(e){this.options.model=e,this._editor&&(this._editor.dispose(),this.initMonaco(this.options,this.insideNg))}writeValue(e){this._value=e||"",setTimeout(()=>{this._editor&&!this.options.model&&this._editor.setValue(this._value)})}registerOnChange(e){this.propagateChange=e}registerOnTouched(e){this.onTouched=e}initMonaco(e,i){const r=!!e.model;if(r){const o=monaco.editor.getModel(e.model.uri||"");o?(e.model=o,e.model.setValue(this._value)):e.model=monaco.editor.createModel(e.model.value,e.model.language,e.model.uri)}i?this._editor=monaco.editor.create(this._editorContainer.nativeElement,e):this.zone.runOutsideAngular(()=>{this._editor=monaco.editor.create(this._editorContainer.nativeElement,e)}),r||this._editor.setValue(this._value),this._editor.onDidChangeModelContent(o=>{const s=this._editor.getValue();this.zone.run(()=>{this.propagateChange(s),this._value=s})}),this._editor.onDidBlurEditorWidget(()=>{this.onTouched()}),this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._windowResizeSubscription=Mi(window,"resize").subscribe(()=>this._editor.layout()),this.onInit.emit(this._editor)}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Ri(t)))(r||t)}})();static#t=this.\u0275cmp=a({type:t,selectors:[["ngx-monaco-editor"]],inputs:{options:"options",model:"model"},standalone:!0,features:[zn([{provide:Io,useExisting:cn(()=>t),multi:!0}]),_n,hD],decls:2,vars:0,consts:[["editorContainer",""],[1,"editor-container"]],template:function(i,r){1&i&&ge(0,"div",1,0)},styles:["[_nghost-%COMP%]{display:block;height:200px}.editor-container[_ngcontent-%COMP%]{width:100%;height:98%}"],changeDetection:0})}return t})(),I6=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[{provide:G0,useValue:e}]}}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=f({type:t});static#n=this.\u0275inj=Qi({imports:[Jx]})}return t})();function kk(t,n,e,i,r,o,s){try{var l=t[o](s),h=l.value}catch(g){return void e(g)}l.done?n(h):Promise.resolve(h).then(i,r)}function Ne(t){return function(){var n=this,e=arguments;return new Promise(function(i,r){var o=t.apply(n,e);function s(h){kk(o,i,r,s,l,"next",h)}function l(h){kk(o,i,r,s,l,"throw",h)}s(void 0)})}}var on=function(t){return t.System="System",t.User="User",t}(on||{}),xs=function(t){return t.Error="Error",t.Info="Info",t.Warning="Warning",t}(xs||{});class Ci{_processId;_processName;_icon;_hasWindow;_type;_status;_powerUsage;_cpuUsage;_memoryUsage;_diskUsage;_gpuUsage;_networkUsage;_processTrigger;constructor(n,e,i,r,o,s){this._processId=n,this._processName=e,this._icon=i,this._hasWindow=r,this._type=o,this._processTrigger=s||null,this._memoryUsage=0,this._cpuUsage=0,this._gpuUsage=0,this._diskUsage=0,this._networkUsage=0,this._status="",this._powerUsage=""}get getProcessId(){return this._processId}get getProcessName(){return this._processName}get getIcon(){return this._icon}get getCpuUsage(){return this._cpuUsage}get getGpuUsage(){return this._gpuUsage}get getMemoryUsage(){return this._memoryUsage}get getHasWindow(){return this._hasWindow}get getType(){return this._type}get getProcessTrigger(){return this._processTrigger}get getDiskUsage(){return this._diskUsage}get getNetworkUsage(){return this._networkUsage}get getProcessStatus(){return this._status}get getPowerUsage(){return this._powerUsage}set setCpuUsage(n){this._cpuUsage=n}set setGpuUsage(n){this._gpuUsage=n}set setMemoryUsage(n){this._memoryUsage=n}set setDiskUsage(n){this._diskUsage=n}set setNetworkUsage(n){this._networkUsage=n}set setProcessStatus(n){this._status=n}set setPowerUsage(n){this._powerUsage=n}}class Z0{_systemProcessList;_userProcessList;_processList=[];constructor(){this._systemProcessList=this.fetchSystemApp(),this._userProcessList=this.fetchUserApp(),this.createAppsList()}appExist(n){const e=n.trim();return this._systemProcessList.includes(e)||this._userProcessList.includes(e)}fetchSystemApp(){return this._systemProcessList=["audioplayer","fileexplorer","taskmanager","terminal","videoplayer","photoviewer","texteditor"],this._systemProcessList}fetchUserApp(){return this._userProcessList=["hello","greeting","jsdos","ruffle","codeeditor","markdownviewer"],this._userProcessList}createAppsList(){this._processList=[...this._systemProcessList,...this._userProcessList]}getAppPosition(n){return this._processList.indexOf(n)}getAppList(){return this._processList}}const x6=(()=>{let t=0;return()=>(t+=1,`u${`0000${(Math.random()*36**4|0).toString(36)}`.slice(-4)}${t}`)})();function Ms(t){const n=[];for(let e=0,i=t.length;e<i;e++)n.push(t[e]);return n}function og(t,n){const i=(t.ownerDocument.defaultView||window).getComputedStyle(t).getPropertyValue(n);return i?parseFloat(i.replace("px","")):0}function Pk(t,n={}){const e=n.width||function M6(t){const n=og(t,"border-left-width"),e=og(t,"border-right-width");return t.clientWidth+n+e}(t),i=n.height||function T6(t){const n=og(t,"border-top-width"),e=og(t,"border-bottom-width");return t.clientHeight+n+e}(t);return{width:e,height:i}}const Rr=16384;function sg(t){return new Promise((n,e)=>{const i=new Image;i.decode=()=>n(i),i.onload=()=>n(i),i.onerror=e,i.crossOrigin="anonymous",i.decoding="async",i.src=t})}function Y0(){return(Y0=Ne(function*(t){return Promise.resolve().then(()=>(new XMLSerializer).serializeToString(t)).then(encodeURIComponent).then(n=>`data:image/svg+xml;charset=utf-8,${n}`)})).apply(this,arguments)}function q0(){return q0=Ne(function*(t,n,e){const i="http://www.w3.org/2000/svg",r=document.createElementNS(i,"svg"),o=document.createElementNS(i,"foreignObject");return r.setAttribute("width",`${n}`),r.setAttribute("height",`${e}`),r.setAttribute("viewBox",`0 0 ${n} ${e}`),o.setAttribute("width","100%"),o.setAttribute("height","100%"),o.setAttribute("x","0"),o.setAttribute("y","0"),o.setAttribute("externalResourcesRequired","true"),r.appendChild(o),o.appendChild(t),function A6(t){return Y0.apply(this,arguments)}(r)}),q0.apply(this,arguments)}const yr=(t,n)=>{if(t instanceof n)return!0;const e=Object.getPrototypeOf(t);return null!==e&&(e.constructor.name===n.name||yr(e,n))};function Ak(t,n,e){const i=window.getComputedStyle(t,e),r=i.getPropertyValue("content");if(""===r||"none"===r)return;const o=x6();try{n.className=`${n.className} ${o}`}catch{return}const s=document.createElement("style");s.appendChild(function R6(t,n,e){const i=`.${t}:${n}`,r=e.cssText?function N6(t){const n=t.getPropertyValue("content");return`${t.cssText} content: '${n.replace(/'|"/g,"")}';`}(e):function F6(t){return Ms(t).map(n=>`${n}: ${t.getPropertyValue(n)}${t.getPropertyPriority(n)?" !important":""};`).join(" ")}(e);return document.createTextNode(`${i}{${r}}`)}(o,e,i)),n.appendChild(s)}const Ok="application/font-woff",Nk="image/jpeg",B6={woff:Ok,woff2:Ok,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:Nk,jpeg:Nk,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function Q0(t){const n=function V6(t){const n=/\.([^./]*?)$/g.exec(t);return n?n[1]:""}(t).toLowerCase();return B6[n]||""}function K0(t){return-1!==t.search(/^(data:)/)}function Fk(t,n){return`data:${n};base64,${t}`}function Rk(t,n,e){return X0.apply(this,arguments)}function X0(){return(X0=Ne(function*(t,n,e){const i=yield fetch(t,n);if(404===i.status)throw new Error(`Resource "${i.url}" not found`);const r=yield i.blob();return new Promise((o,s)=>{const l=new FileReader;l.onerror=s,l.onloadend=()=>{try{o(e({res:i,result:l.result}))}catch(h){s(h)}},l.readAsDataURL(r)})})).apply(this,arguments)}const J0={};function ew(t,n,e){return tw.apply(this,arguments)}function tw(){return(tw=Ne(function*(t,n,e){const i=function z6(t,n,e){let i=t.replace(/\?.*/,"");return e&&(i=t),/ttf|otf|eot|woff2?/i.test(i)&&(i=i.replace(/.*\//,"")),n?`[${n}]${i}`:i}(t,n,e.includeQueryParams);if(null!=J0[i])return J0[i];let r;e.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+(new Date).getTime());try{const o=yield Rk(t,e.fetchRequestInit,({res:s,result:l})=>(n||(n=s.headers.get("Content-Type")||""),function U6(t){return t.split(/,/)[1]}(l)));r=Fk(o,n)}catch(o){r=e.imagePlaceholder||"";let s=`Failed to fetch resource: ${t}`;o&&(s="string"==typeof o?o:o.message),s&&console.warn(s)}return J0[i]=r,r})).apply(this,arguments)}function nw(){return(nw=Ne(function*(t){const n=t.toDataURL();return"data:,"===n?t.cloneNode(!1):sg(n)})).apply(this,arguments)}function iw(){return(iw=Ne(function*(t,n){if(t.currentSrc){const o=document.createElement("canvas"),s=o.getContext("2d");return o.width=t.clientWidth,o.height=t.clientHeight,s?.drawImage(t,0,0,o.width,o.height),sg(o.toDataURL())}const e=t.poster,i=Q0(e);return sg(yield ew(e,i,n))})).apply(this,arguments)}function rw(){return(rw=Ne(function*(t){var n;try{if(null!==(n=t?.contentDocument)&&void 0!==n&&n.body)return yield ag(t.contentDocument.body,{},!0)}catch{}return t.cloneNode(!1)})).apply(this,arguments)}function ow(){return ow=Ne(function*(t,n){return yr(t,HTMLCanvasElement)?function j6(t){return nw.apply(this,arguments)}(t):yr(t,HTMLVideoElement)?function H6(t,n){return iw.apply(this,arguments)}(t,n):yr(t,HTMLIFrameElement)?function W6(t){return rw.apply(this,arguments)}(t):t.cloneNode(!1)}),ow.apply(this,arguments)}const G6=t=>null!=t.tagName&&"SLOT"===t.tagName.toUpperCase();function sw(){return(sw=Ne(function*(t,n,e){var i,r;let o=[];return o=G6(t)&&t.assignedNodes?Ms(t.assignedNodes()):yr(t,HTMLIFrameElement)&&null!==(i=t.contentDocument)&&void 0!==i&&i.body?Ms(t.contentDocument.body.childNodes):Ms((null!==(r=t.shadowRoot)&&void 0!==r?r:t).childNodes),0===o.length||yr(t,HTMLVideoElement)||(yield o.reduce((s,l)=>s.then(()=>ag(l,e)).then(h=>{h&&n.appendChild(h)}),Promise.resolve())),n})).apply(this,arguments)}function aw(){return(aw=Ne(function*(t,n){const e=t.querySelectorAll?t.querySelectorAll("use"):[];if(0===e.length)return t;const i={};for(let o=0;o<e.length;o++){const l=e[o].getAttribute("xlink:href");if(l){const h=t.querySelector(l),g=document.querySelector(l);!h&&g&&!i[l]&&(i[l]=yield ag(g,n,!0))}}const r=Object.values(i);if(r.length){const o="http://www.w3.org/1999/xhtml",s=document.createElementNS(o,"svg");s.setAttribute("xmlns",o),s.style.position="absolute",s.style.width="0",s.style.height="0",s.style.overflow="hidden",s.style.display="none";const l=document.createElementNS(o,"defs");s.appendChild(l);for(let h=0;h<r.length;h++)l.appendChild(r[h]);t.appendChild(s)}return t})).apply(this,arguments)}function ag(t,n,e){return cw.apply(this,arguments)}function cw(){return cw=Ne(function*(t,n,e){return e||!n.filter||n.filter(t)?Promise.resolve(t).then(i=>function $6(t,n){return ow.apply(this,arguments)}(i,n)).then(i=>function Z6(t,n,e){return sw.apply(this,arguments)}(t,i,n)).then(i=>function K6(t,n){return yr(n,Element)&&(function Y6(t,n){const e=n.style;if(!e)return;const i=window.getComputedStyle(t);i.cssText?(e.cssText=i.cssText,e.transformOrigin=i.transformOrigin):Ms(i).forEach(r=>{let o=i.getPropertyValue(r);"font-size"===r&&o.endsWith("px")&&(o=Math.floor(parseFloat(o.substring(0,o.length-2)))-.1+"px"),yr(t,HTMLIFrameElement)&&"display"===r&&"inline"===o&&(o="block"),"d"===r&&n.getAttribute("d")&&(o=`path(${n.getAttribute("d")})`),e.setProperty(r,o,i.getPropertyPriority(r))})}(t,n),function L6(t,n){Ak(t,n,":before"),Ak(t,n,":after")}(t,n),function q6(t,n){yr(t,HTMLTextAreaElement)&&(n.innerHTML=t.value),yr(t,HTMLInputElement)&&n.setAttribute("value",t.value)}(t,n),function Q6(t,n){if(yr(t,HTMLSelectElement)){const i=Array.from(n.children).find(r=>t.value===r.getAttribute("value"));i&&i.setAttribute("selected","")}}(t,n)),n}(t,i)).then(i=>function X6(t,n){return aw.apply(this,arguments)}(i,n)):null}),cw.apply(this,arguments)}const Lk=/url\((['"]?)([^'"]+?)\1\)/g,J6=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,eH=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function lw(){return(lw=Ne(function*(t,n,e,i,r){try{const o=e?function D6(t,n){if(t.match(/^[a-z]+:\/\//i))return t;if(t.match(/^\/\//))return window.location.protocol+t;if(t.match(/^[a-z]+:/i))return t;const e=document.implementation.createHTMLDocument(),i=e.createElement("base"),r=e.createElement("a");return e.head.appendChild(i),e.body.appendChild(r),n&&(i.href=n),r.href=t,r.href}(n,e):n,s=Q0(n);let l;return l=r?Fk(yield r(o),s):yield ew(o,s,i),t.replace(function tH(t){const n=t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${n})(['"]?\\))`,"g")}(n),`$1${l}$3`)}catch{}return t})).apply(this,arguments)}function Bk(t){return-1!==t.search(Lk)}function Vk(t,n,e){return uw.apply(this,arguments)}function uw(){return uw=Ne(function*(t,n,e){if(!Bk(t))return t;const i=function rH(t,{preferredFontFormat:n}){return n?t.replace(eH,e=>{for(;;){const[i,,r]=J6.exec(e)||[];if(!r)return"";if(r===n)return`src: ${i};`}}):t}(t,e);return function nH(t){const n=[];return t.replace(Lk,(e,i,r)=>(n.push(r),e)),n.filter(e=>!K0(e))}(i).reduce((o,s)=>o.then(l=>function iH(t,n,e,i,r){return lw.apply(this,arguments)}(l,s,n,e)),Promise.resolve(i))}),uw.apply(this,arguments)}function cg(t,n,e){return dw.apply(this,arguments)}function dw(){return(dw=Ne(function*(t,n,e){var i;const r=null===(i=n.style)||void 0===i?void 0:i.getPropertyValue(t);if(r){const o=yield Vk(r,null,e);return n.style.setProperty(t,o,n.style.getPropertyPriority(t)),!0}return!1})).apply(this,arguments)}function fw(){return(fw=Ne(function*(t,n){(yield cg("background",t,n))||(yield cg("background-image",t,n)),(yield cg("mask",t,n))||(yield cg("mask-image",t,n))})).apply(this,arguments)}function hw(){return(hw=Ne(function*(t,n){const e=yr(t,HTMLImageElement);if((!e||K0(t.src))&&(!yr(t,SVGImageElement)||K0(t.href.baseVal)))return;const i=e?t.src:t.href.baseVal,r=yield ew(i,Q0(i),n);yield new Promise((o,s)=>{t.onload=o,t.onerror=s;const l=t;l.decode&&(l.decode=o),"lazy"===l.loading&&(l.loading="eager"),e?(t.srcset="",t.src=r):t.href.baseVal=r})})).apply(this,arguments)}function pw(){return(pw=Ne(function*(t,n){const i=Ms(t.childNodes).map(r=>Uk(r,n));yield Promise.all(i).then(()=>t)})).apply(this,arguments)}function Uk(t,n){return gw.apply(this,arguments)}function gw(){return gw=Ne(function*(t,n){yr(t,Element)&&(yield function oH(t,n){return fw.apply(this,arguments)}(t,n),yield function sH(t,n){return hw.apply(this,arguments)}(t,n),yield function aH(t,n){return pw.apply(this,arguments)}(t,n))}),gw.apply(this,arguments)}const zk={};function jk(t){return mw.apply(this,arguments)}function mw(){return(mw=Ne(function*(t){let n=zk[t];return null!=n||(n={url:t,cssText:yield(yield fetch(t)).text()},zk[t]=n),n})).apply(this,arguments)}function Hk(t,n){return yw.apply(this,arguments)}function yw(){return yw=Ne(function*(t,n){let e=t.cssText;const i=/url\(["']?([^"')]+)["']?\)/g,o=(e.match(/url\([^)]+\)/g)||[]).map(function(){var s=Ne(function*(l){let h=l.replace(i,"$1");return h.startsWith("https://")||(h=new URL(h,t.url).href),Rk(h,n.fetchRequestInit,({result:g})=>(e=e.replace(l,`url(${g})`),[l,g]))});return function(l){return s.apply(this,arguments)}}());return Promise.all(o).then(()=>e)}),yw.apply(this,arguments)}function Wk(t){if(null==t)return[];const n=[];let i=t.replace(/(\/\*[\s\S]*?\*\/)/gi,"");const r=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const h=r.exec(i);if(null===h)break;n.push(h[0])}i=i.replace(r,"");const o=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,l=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");for(;;){let h=o.exec(i);if(null===h){if(h=l.exec(i),null===h)break;o.lastIndex=l.lastIndex}else l.lastIndex=o.lastIndex;n.push(h[0])}return n}function _w(){return(_w=Ne(function*(t,n){const e=[],i=[];return t.forEach(r=>{if("cssRules"in r)try{Ms(r.cssRules||[]).forEach((o,s)=>{if(o.type===CSSRule.IMPORT_RULE){let l=s+1;const g=jk(o.href).then(w=>Hk(w,n)).then(w=>Wk(w).forEach(C=>{try{r.insertRule(C,C.startsWith("@import")?l+=1:r.cssRules.length)}catch(k){console.error("Error inserting rule from remote css",{rule:C,error:k})}})).catch(w=>{console.error("Error loading remote css",w.toString())});i.push(g)}})}catch(o){const s=t.find(l=>null==l.href)||document.styleSheets[0];null!=r.href&&i.push(jk(r.href).then(l=>Hk(l,n)).then(l=>Wk(l).forEach(h=>{s.insertRule(h,r.cssRules.length)})).catch(l=>{console.error("Error loading remote stylesheet",l)})),console.error("Error inlining remote css file",o)}}),Promise.all(i).then(()=>(t.forEach(r=>{if("cssRules"in r)try{Ms(r.cssRules||[]).forEach(o=>{e.push(o)})}catch(o){console.error(`Error while reading CSS rules from ${r.href}`,o)}}),e))})).apply(this,arguments)}function vw(){return vw=Ne(function*(t,n){if(null==t.ownerDocument)throw new Error("Provided element is not within a Document");const e=Ms(t.ownerDocument.styleSheets),i=yield function lH(t,n){return _w.apply(this,arguments)}(e,n);return function uH(t){return t.filter(n=>n.type===CSSRule.FONT_FACE_RULE).filter(n=>Bk(n.style.getPropertyValue("src")))}(i)}),vw.apply(this,arguments)}function ww(){return ww=Ne(function*(t,n){const e=yield function dH(t,n){return vw.apply(this,arguments)}(t,n);return(yield Promise.all(e.map(r=>Vk(r.cssText,r.parentStyleSheet?r.parentStyleSheet.href:null,n)))).join("\n")}),ww.apply(this,arguments)}function Ew(){return Ew=Ne(function*(t,n){const e=null!=n.fontEmbedCSS?n.fontEmbedCSS:n.skipFonts?null:yield function fH(t,n){return ww.apply(this,arguments)}(t,n);if(e){const i=document.createElement("style"),r=document.createTextNode(e);i.appendChild(r),t.firstChild?t.insertBefore(i,t.firstChild):t.appendChild(i)}}),Ew.apply(this,arguments)}function Sw(){return Sw=Ne(function*(t,n={}){const{width:e,height:i}=Pk(t,n),r=yield ag(t,n,!0);return yield function hH(t,n){return Ew.apply(this,arguments)}(r,n),yield Uk(r,n),function cH(t,n){const{style:e}=t;n.backgroundColor&&(e.backgroundColor=n.backgroundColor),n.width&&(e.width=`${n.width}px`),n.height&&(e.height=`${n.height}px`);const i=n.style;null!=i&&Object.keys(i).forEach(r=>{e[r]=i[r]})}(r,n),yield function O6(t,n,e){return q0.apply(this,arguments)}(r,e,i)}),Sw.apply(this,arguments)}function bw(){return bw=Ne(function*(t,n={}){const{width:e,height:i}=Pk(t,n),r=yield function pH(t){return Sw.apply(this,arguments)}(t,n),o=yield sg(r),s=document.createElement("canvas"),l=s.getContext("2d"),h=n.pixelRatio||function k6(){let t,n;try{n=process}catch{}const e=n&&n.env?n.env.devicePixelRatio:null;return e&&(t=parseInt(e,10),Number.isNaN(t)&&(t=1)),t||window.devicePixelRatio||1}(),g=n.canvasWidth||e,w=n.canvasHeight||i;return s.width=g*h,s.height=w*h,n.skipAutoScale||function P6(t){(t.width>Rr||t.height>Rr)&&(t.width>Rr&&t.height>Rr?t.width>t.height?(t.height*=Rr/t.width,t.width=Rr):(t.width*=Rr/t.height,t.height=Rr):t.width>Rr?(t.height*=Rr/t.width,t.width=Rr):(t.width*=Rr/t.height,t.height=Rr))}(s),s.style.width=`${g}`,s.style.height=`${w}`,n.backgroundColor&&(l.fillStyle=n.backgroundColor,l.fillRect(0,0,s.width,s.height)),l.drawImage(o,0,0,s.width,s.height),s}),bw.apply(this,arguments)}function _r(t){return Iw.apply(this,arguments)}function Iw(){return(Iw=Ne(function*(t,n={}){return(yield function lg(t){return bw.apply(this,arguments)}(t,n)).toDataURL()})).apply(this,arguments)}let Ii=(()=>{class t{_activeProcessIds;static instance;constructor(){this._activeProcessIds=[],t.instance=this}getNewProcessId(){let e=0;for(e=this.generateProcessId();this._activeProcessIds.includes(e);)e=this.generateProcessId();return this._activeProcessIds.push(e),e}generateProcessId(){const e=Math.ceil(1e3),i=Math.floor(9999);return Math.floor(Math.random()*(i-e+1))+e}removeProcessId(e){const r=this._activeProcessIds.indexOf(e);-1!==r&&this._activeProcessIds.splice(r,1)}processCount(){return this._activeProcessIds.length}static \u0275fac=function(i){return new(i||t)};static \u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Gn=(()=>{class t{static instance;_runningProcesses;_runningProcessesImages;_eventOriginator="";processListChangeNotify=new ke;closeProcessNotify=new ke;focusOnNextProcessNotify=new ke;focusOnCurrentProcessNotify=new ke;focusOutOtherProcessNotify=new ke;restoreOrMinimizeWindowNotify=new ke;maximizeWindowNotify=new ke;minimizeWindowNotify=new ke;showPreviewWindowNotify=new ke;hidePreviewWindowNotify=new ke;keepPreviewWindowNotify=new ke;constructor(){this._runningProcesses=[],this._runningProcessesImages=new Map,t.instance=this}addProcess(e){this._runningProcesses.push(e)}addProcessImage(e,i){if(this._runningProcessesImages.has(e)){const r=this._runningProcessesImages.get(e)||[];r.push(i),this._runningProcessesImages.set(e,r)}else this._runningProcessesImages.set(e,[i])}addEventOriginator(e){this._eventOriginator=e}removeProcess(e){const r=this._runningProcesses.findIndex(o=>o.getProcessId===e.getProcessId);-1!=r&&this._runningProcesses.splice(r,1)}removeProcessImages(e){this._runningProcessesImages.has(e)&&this._runningProcessesImages.delete(e)}removeProcessImage(e,i){if(this._runningProcessesImages.has(e)){const o=this._runningProcessesImages.get(e)||[],s=o.findIndex(l=>l.pid===i);-1!=s&&o.splice(s||0,1)}}removeEventOriginator(){this._eventOriginator=""}getProcess(e){return this._runningProcesses.find(r=>r.getProcessId===e)}getProcessImages(e){return this._runningProcessesImages.has(e)&&this._runningProcessesImages.get(e)||[]}getEventOrginator(){return this._eventOriginator}isProcessRunning(e){return!!this._runningProcesses.find(r=>r.getProcessName===e)}getProcesses(){return this._runningProcesses}processCount(){return this._runningProcesses.length}static \u0275fac=function(i){return new(i||t)};static \u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const gH=Pd("openClose",[Yo("open",rn({opacity:1,zIndex:2})),Yo("close",rn({opacity:0})),qo("open => *",[Zo("0.30s ease-out",Gp([rn({transform:"{{wt0p}}",opacity:1}),rn({transform:"{{wt25p}}",opacity:.75}),rn({transform:"{{wt50p}}",opacity:.5}),rn({transform:"{{wt75p}}",opacity:.25}),rn({transform:"{{wt100p}}",opacity:0})]))],{params:{wt0p:"translate(0,0)",wt25p:"translate(-25px,25px)",wt50p:"translate(-50px,50px)",wt75p:"translate(-75px,75px)",wt100p:"translate(-100px,100px)"}}),qo("* => open",[Zo("0.30s ease-in",Gp([rn({transform:"{{wt100p}}",opacity:0}),rn({transform:"{{wt75p}}",opacity:.25}),rn({transform:"{{wt50p}}",opacity:.5}),rn({transform:"{{wt25p}}",opacity:.75}),rn({transform:"{{wt0p}}",opacity:1})]))],{params:{wt0p:"translate(0,0)",wt25p:"translate(-25px,25px)",wt50p:"translate(-50px,50px)",wt75p:"translate(-75px,75px)",wt100p:"translate(-100px,100px)"}})]),mH=Pd("hideShow",[Yo("hidden",rn({opacity:0,zIndex:2})),Yo("visible",rn({opacity:1,zIndex:2})),qo("visible => hidden",[Zo("0.30s ease-out",Gp([rn({transform:"{{yAxis0p}}",opacity:1}),rn({transform:"{{yAxis25p}}",opacity:.75}),rn({transform:"{{yAxis50p}}",opacity:.5}),rn({transform:"{{yAxis75p}}",opacity:.25}),rn({transform:"{{yAxis100p}}",opacity:0})]))],{params:{yAxis0p:"translate(0, 0)",yAxis25p:"translate(0, 25px)",yAxis50p:"translate(0, 50px)",yAxis75p:"translate(0, 75px)",yAxis100p:"translate(0, 100px)"}}),qo("hidden => visible",[Zo("0.30s ease-in",Gp([rn({transform:"{{yAxis100p}}",opacity:0}),rn({transform:"{{yAxis75p}}",opacity:.25}),rn({transform:"{{yAxis50p}}",opacity:.5}),rn({transform:"{{yAxis25p}}",opacity:.75}),rn({transform:"{{yAxis0p}}",opacity:1})]))],{params:{yAxis0p:"translate(0, 0)",yAxis25p:"translate(0, 25px)",yAxis50p:"translate(0, 50px)",yAxis75p:"translate(0, 75px)",yAxis100p:"translate(0, 100px)"}})]),yH=Pd("minimizeMaximize",[Yo("minimized",rn({opacity:1,width:"{{winWidth}}",height:"{{winHeight}}",transform:"{{winTransform}}",zIndex:"{{winZIndex}}"}),{params:{winWidth:"",winHeight:"",winTransform:"",winZIndex:""}}),Yo("maximized",rn({opacity:1,width:"100%",height:"calc(100% - 40px)",left:0,right:0,top:0,bottom:0,transform:"translate(0,0)",zIndex:"{{winZIndex}}"}),{params:{winZIndex:""}}),qo("minimized => maximized",Zo("0.50s ease-out")),qo("maximized => minimized",Zo("0.50s ease-in"))]);var pn=function(t){return t[t.App=0]="App",t[t.Window=1]="Window",t}(pn||{});let Qr=(()=>{class t{_sessionName="main-session";_pickUpKey="temp-session-retrieval-key";_sessionDataDict;static instance;_sessionRetrievalCounter=0;constructor(){if(sessionStorage.getItem(this._sessionName)){const e=sessionStorage.getItem(this._sessionName);this._sessionDataDict=new Map(JSON.parse(e)),t.instance=this}else this._sessionDataDict=new Map,t.instance=this}addSession(e,i){e===this._pickUpKey?this.addTempSession(i):(this._sessionDataDict.set(e,i),this.saveSession(this._sessionDataDict))}getSession(e){return this._sessionDataDict.get(e)}getTempSession(e){let i="";return this._sessionRetrievalCounter<=1?(i=sessionStorage.getItem(e)||"",1===this._sessionRetrievalCounter?(sessionStorage.removeItem(e),this._sessionRetrievalCounter=0,i):(this._sessionRetrievalCounter++,i)):i}getKeys(){const e=[];for(const i of this._sessionDataDict.keys())e.push(i);return e}hasTempSession(e){return null!==sessionStorage.getItem(e)}removeSession(e){this._sessionDataDict.delete(e),this.saveSession(this._sessionDataDict)}resetSession(){this._sessionDataDict=new Map,sessionStorage.clear()}saveSession(e){const i=JSON.stringify(Array.from(e.entries()));sessionStorage.setItem(this._sessionName,i)}addTempSession(e){sessionStorage.setItem(this._pickUpKey,e)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Kr=(()=>{class t{static instance;_appStateManagmentService;_sessionManagmentService;constructor(){this._appStateManagmentService=new Map,t.instance=this,this._sessionManagmentService=Qr.instance}addState(e,i,r){if(void 0!==r)if(this._appStateManagmentService.has(e)){const o=this._appStateManagmentService.get(e);r==pn.App?o[pn.App]=i:o[pn.Window]=i,this._appStateManagmentService.set(e,o),this._sessionManagmentService.addSession(e,o)}else{let l=[];l=r==pn.App?[i,{app_name:"",pid:0,x_axis:0,y_axis:0,height:0,width:0,z_index:0,is_visible:!0}]:[{pid:0,app_data:"",app_name:"",unique_id:""},i],this._appStateManagmentService.set(e,l),this._sessionManagmentService.addSession(e,l)}else this._appStateManagmentService.set(e,i)}getState(e,i){if(void 0!==i){const r=this._appStateManagmentService.get(e);return void 0!==r?i==pn.App?r[pn.App]:r[pn.Window]:r}return this._appStateManagmentService.get(e)}hasState(e){return!!this._appStateManagmentService.has(e)}removeState(e){this._appStateManagmentService.has(e)&&this._appStateManagmentService.delete(e)}getKeys(){const e=[];for(const i of this._appStateManagmentService.keys())e.push(i);return e}static \u0275fac=function(i){return new(i||t)};static \u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Tw=(()=>{class t{el;constructor(e){this.el=e}color="rgb(26,26,26)";closeBtnColor="rgb(232,17,35)";focusedCloseBtnColor="rgb(139,10,20)";focusedWindowColor="blue";unfocusedWindowColor="rgb(121, 163, 232)";onMouseEnter(){this.highlight(this.color,this.closeBtnColor)}onMouseLeave(){this.highlight("","")}highlight(e,i){"closeBtn"==this.el.nativeElement.id?(this.el.nativeElement.style.backgroundColor=i,this.el.nativeElement.style.transition="background-color 0.3s ease",this.el.nativeElement.focus()):("hideBtn"==this.el.nativeElement.id||"minBtn"==this.el.nativeElement.id||"maxBtn"==this.el.nativeElement.id)&&(this.el.nativeElement.style.backgroundColor=e,this.el.nativeElement.focus())}static \u0275fac=function(i){return new(i||t)(ee(Ei))};static \u0275dir=y({type:t,selectors:[["","appHighlight",""]],hostBindings:function(i,r){1&i&&ye("mouseenter",function(){return r.onMouseEnter()})("mouseleave",function(){return r.onMouseLeave()})("focus",function(){return r.highlight()})}})}return t})();const _H=["divWindow"],vH=["*"],wH=(t,n,e,i,r)=>({wt0p:t,wt25p:n,wt50p:e,wt75p:i,wt100p:r}),kw=(t,n)=>({value:t,params:n}),EH=(t,n,e,i,r)=>({yAxis0p:t,yAxis25p:n,yAxis50p:e,yAxis75p:i,yAxis100p:r}),SH=(t,n,e,i)=>({winWidth:t,winHeight:n,winTransform:e,winZIndex:i}),bH=t=>({fill:t});function CH(t,n){if(1&t){const e=Ht();x(0,"button",16),ye("click",function(){return te(e),ne(le().onMaximizeBtnClick())}),Hr(),x(1,"svg",13),ge(2,"path",17),L()()}if(2&t){const e=le();B(2),K("ngStyle",function mD(t,n,e,i){return _D(be(),nr(),t,n,e,i)}(1,bH,e.isWindowMaximizable?"#FFFFF":"#989898CC"))}}function IH(t,n){if(1&t){const e=Ht();x(0,"button",18),ye("click",function(){return te(e),ne(le().onUnMaximizeBtnClick())}),Hr(),x(1,"svg",19),ge(2,"path",20)(3,"path",21),L()()}}let Xr=(()=>{class t{changeDetectorRef;divWindow;runningProcessID=0;processAppIcon="";processAppName="";isMaximizable=!0;_runningProcessService;_stateManagmentService;_sessionManagmentService;_originalWindowsState;_restoreOrMinSub;_focusOnNextProcessSub;_focusOnCurrentProcessSub;_focusOutOtherProcessSub;SECONDS_DELAY=350;WINDOW_CAPTURE_SECONDS_DELAY=5e3;MIN_Z_INDEX=1;MAX_Z_INDEX=2;windowHide=!1;windowMaximize=!1;windowOpenCloseAction="open";windowHideShowAction="visible";windowMinMaxAction="minimized";windowTransform="translate(0,0)";windowTransform0p="translate(0,0)";windowTransform25p="translate(-25px,25px)";windowTransform50p="translate(-50px,50px)";windowTransform75p="translate(-75px,75px)";windowTransform100p="translate(-100px,100px)";yAxis0p="translate(0,0)";yAxis25p="translate(0,25px)";yAxis50p="translate(0,50px)";yAxis75p="translate(0,75px)";yAxis100p="translate(0,100px)";windowWidth="0px";windowHeight="0px";windowZIndex="0";xAxisTmp=0;yAxisTmp=0;isWindowMaximizable=!0;currentWindowSizeState=!1;currentStyles={};headerActiveStyles={};closeBtnStyles={};defaultWidthOnOpen=0;defaultHeightOnOpen=0;z_index="25914523";hasWindow=!1;icon="";name="Window";processId=0;uniqueId="";type=on.System;displayName="";constructor(e,i,r,o){this.changeDetectorRef=i,this._runningProcessService=e,this._stateManagmentService=r,this._sessionManagmentService=o,this.retrievePastSessionData(),this._restoreOrMinSub=this._runningProcessService.restoreOrMinimizeWindowNotify.subscribe(s=>{this.restoreHiddenWindow(s)}),this._focusOnNextProcessSub=this._runningProcessService.focusOnNextProcessNotify.subscribe(()=>{this.setNextWindowToFocus()}),this._focusOnCurrentProcessSub=this._runningProcessService.focusOnCurrentProcessNotify.subscribe(s=>{this.setFocusOnWindow(s)}),this._focusOutOtherProcessSub=this._runningProcessService.focusOutOtherProcessNotify.subscribe(s=>{this.removeFocusOnWindow(s)})}get getDivWindowElement(){return this.divWindow.nativeElement}ngOnInit(){this.processId=this.runningProcessID,this.icon=this.processAppIcon,this.name=this.processAppName,this.isWindowMaximizable=this.isMaximizable,this.windowOpenCloseAction="open"}ngOnDestroy(){this._restoreOrMinSub?.unsubscribe(),this._focusOnNextProcessSub?.unsubscribe(),this._focusOnCurrentProcessSub?.unsubscribe(),this._focusOutOtherProcessSub?.unsubscribe()}ngAfterViewInit(){this.defaultHeightOnOpen=this.getDivWindowElement.offsetHeight,this.defaultWidthOnOpen=this.getDivWindowElement.offsetWidth;const e=this._stateManagmentService.getState(this.z_index);this.windowTransform="translate(0, 0)",this.windowHeight=`${String(this.defaultHeightOnOpen)}px`,this.windowWidth=`${String(this.defaultWidthOnOpen)}px`,this.windowZIndex=String(void 0===e?this.MAX_Z_INDEX:e),this._originalWindowsState={app_name:this.name,pid:this.processId,height:this.defaultHeightOnOpen,width:this.defaultWidthOnOpen,x_axis:0,y_axis:0,z_index:void 0===e?this.MAX_Z_INDEX:e,is_visible:!0},this.uniqueId=`${this.name}-${this.processId}`,this._stateManagmentService.addState(this.uniqueId,this._originalWindowsState,pn.Window),this.setWindowToFocusById(this.processId),this.changeDetectorRef.detectChanges()}ngOnChanges(e){"Window"==this.name&&(this.name=this.processAppName),this.displayName=this.processAppName,this.icon=this.processAppIcon}captureComponentImg(){_r(this.divWindow.nativeElement).then(e=>{this._runningProcessService.addProcessImage(this.name,{pid:this.processId,imageData:e})})}setHideAndShow(){this.windowHide=!this.windowHide,this.windowHideShowAction=this.windowHide?"hidden":"visible",this.generateHideAnimationValues(this.xAxisTmp,this.yAxisTmp);const e=this._stateManagmentService.getState(this.uniqueId,pn.Window);this.windowHide?e.pid==this.processId&&(e.is_visible=!1,this._stateManagmentService.addState(this.uniqueId,e,pn.Window)):this.windowHide||e.pid==this.processId&&(this.currentWindowSizeState&&this.setWindowToFullScreen(this.processId,e.z_index),e.is_visible=!0,this._stateManagmentService.addState(this.uniqueId,e,pn.Window))}setMaximizeAndUnMaximize(){const e=this._stateManagmentService.getState(this.uniqueId,pn.Window);this.currentWindowSizeState=this.windowMaximize;const i=`${this.processAppName}-${this.processId}`;if(this.windowMaximize)e.pid==this.processId&&(this.setWindowToFullScreen(this.processId,e.z_index),this._runningProcessService.addEventOriginator(i),this._runningProcessService.maximizeWindowNotify.next());else if(!this.windowMaximize&&e.pid==this.processId){this.windowWidth=`${String(e.width)}px`,this.windowHeight=`${String(e.height)}px`,this.windowTransform=`translate(${String(e.x_axis)}px, ${String(e.y_axis)}px)`,this.windowZIndex=String(e.z_index);const r=30;this._runningProcessService.addEventOriginator(i),this._runningProcessService.minimizeWindowNotify.next([e.width,e.height-r])}this.windowMaximize=!this.windowMaximize}setBtnFocus(e){this.processId==e&&(this.closeBtnStyles={"background-color":"rgb(139,10,20)"})}setHeaderInActive(e){this.processId==e&&(this.headerActiveStyles={"background-color":"rgb(121, 163, 232)"})}setHeaderActive(e){this.processId==e&&(this.headerActiveStyles={"background-color":"blue"})}setWindowToFullScreen(e,i){this.processId==e&&(this.windowZIndex=String(i))}onHideBtnClick(e){this.processId==e&&this.setHideAndShow()}restoreHiddenWindow(e){this.processId==e&&this.setHideAndShow()}updateWindowZIndex(e){this.processId==e.pid&&(this.currentStyles={"z-index":this.MIN_Z_INDEX},e.z_index=this.MIN_Z_INDEX,this._stateManagmentService.addState(`${e.app_name}-${e.pid}`,e,pn.Window))}onMaximizeBtnClick(){this.isWindowMaximizable&&(this.windowMaximize=!0,this.windowMinMaxAction="maximized",this.setMaximizeAndUnMaximize())}onUnMaximizeBtnClick(){this.windowMaximize=!1,this.windowMinMaxAction="minimized",this.setMaximizeAndUnMaximize()}onTitleBarDoubleClick(){this.isWindowMaximizable&&(this.currentWindowSizeState&&!this.windowMaximize?(this.windowMaximize=!1,this.windowMinMaxAction="minimized"):(this.windowMaximize=!0,this.windowMinMaxAction="maximized"),this.setMaximizeAndUnMaximize())}onDragEnd(e){const i=window.getComputedStyle(e),r=new WebKitCSSMatrix(i.transform),o=r.m41,s=r.m42;if(0!=o&&0!=s){const l=this._stateManagmentService.getState(this.uniqueId,pn.Window);l.x_axis=o,l.y_axis=s,this.xAxisTmp=o,this.yAxisTmp=s,this.windowTransform=`translate(${String(o)}px , ${String(s)}px)`,this._stateManagmentService.addState(this.uniqueId,l,pn.Window)}}onDragStart(e){this.setFocusOnWindow(e)}onRZStop(e){const i=Number(e.size.height),r=Number(e.size.width),o=this._stateManagmentService.getState(this.uniqueId,pn.Window);o.width=r,o.height=i,this.windowWidth=`${String(r)}px`,this.windowHeight=`${String(i)}px`,this._stateManagmentService.addState(this.uniqueId,o,pn.Window)}generateCloseAnimationValues(e,i){this.windowTransform0p=`translate(${String(e)}px , ${String(i)}px)`,this.windowTransform25p=`translate(${String(e-25)}px , ${String(i+25)}px)`,this.windowTransform50p=`translate(${String(e-50)}px , ${String(i+50)}px)`,this.windowTransform75p=`translate(${String(e-75)}px , ${String(i+75)}px)`,this.windowTransform100p=`translate(${String(e-100)}px , ${String(i+100)}px)`}generateHideAnimationValues(e,i){this.yAxis0p=`translate(${String(e)}px , ${String(i)}px)`,this.yAxis25p=`translate(${String(e)}px , ${String(i+25)}px)`,this.yAxis50p=`translate(${String(e)}px , ${String(i+50)}px)`,this.yAxis75p=`translate(${String(e)}px , ${String(i+75)}px)`,this.yAxis100p=`translate(${String(e)}px , ${String(i+100)}px)`}onCloseBtnClick(){this.windowOpenCloseAction="close",this.generateCloseAnimationValues(this.xAxisTmp,this.yAxisTmp),setTimeout(()=>{const e=this._runningProcessService.getProcess(this.processId);this._runningProcessService.closeProcessNotify.next(e),this._runningProcessService.focusOnNextProcessNotify.next()},this.SECONDS_DELAY)}setFocusOnWindow(e){this._runningProcessService.focusOutOtherProcessNotify.next(e),this.processId==e&&(this.setHeaderActive(e),this.setWindowToFocusById(e))}removeFocusOnWindow(e){const i=this._runningProcessService.getProcesses().filter(r=>1==r.getHasWindow&&r.getProcessId!=e);for(let r=0;r<i.length;r++){const o=i[r],s=this._stateManagmentService.getState(`${o.getProcessName}-${o.getProcessId}`,pn.Window);null!=s&&s.is_visible&&(this.setHeaderInActive(s.pid),this.updateWindowZIndex(s))}}setWindowToFocusById(e){let i=this._stateManagmentService.getState(this.z_index);const o=this._stateManagmentService.getState(`${this.name}-${e}`,pn.Window);void 0!==o&&(o.pid==e&&!i||o.pid==e&&o.z_index<=i)&&(i=this.MAX_Z_INDEX,this._stateManagmentService.addState(this.z_index,i),o.z_index=i,this._stateManagmentService.addState(this.uniqueId,o,pn.Window),this.currentStyles={"z-index":i},this.setHeaderActive(e))}setNextWindowToFocus(){const e=this._runningProcessService.getProcesses().filter(i=>1==i.getHasWindow);for(let i=0;i<e.length;i++){const r=e[i],o=this._stateManagmentService.getState(`${r.getProcessName}-${r.getProcessId}`,pn.Window);if(null!=o&&o.is_visible){this.setWindowToFocusById(r.getProcessId);break}}}retrievePastSessionData(){const e=this._sessionManagmentService._pickUpKey;if(this._sessionManagmentService.hasTempSession(e)){const i=this._sessionManagmentService.getTempSession(e)||"";this._sessionManagmentService.getSession(i);this._sessionManagmentService.removeSession(i)}}static \u0275fac=function(i){return new(i||t)(ee(Gn),ee(Tl),ee(Kr),ee(Qr))};static \u0275cmp=a({type:t,selectors:[["cos-window"]],viewQuery:function(i,r){if(1&i&&Wt(_H,5),2&i){let o;$t(o=Gt())&&(r.divWindow=o.first)}},inputs:{runningProcessID:"runningProcessID",processAppIcon:"processAppIcon",processAppName:"processAppName",isMaximizable:"isMaximizable"},features:[er],ngContentSelectors:vH,decls:23,vars:41,consts:[["divWindow",""],["leftHS",""],["elseBlock",""],["tabindex","0","ngDraggable","","ngResizable","",1,"window-container","window-dd-box",3,"stopped","started","rzStop","ngStyle","handle","rzHandles","rzMinWidth","rzMinHeight"],["appHighlight","","tabindex","0",1,"header-container",3,"click","dblclick","ngStyle"],[1,"left-header-section"],[3,"src","alt"],[1,"right-header-section"],["appHighlight","","id","hideBtn","title","Hide",3,"click"],["width","10","viewBox","0 0 10 1"],["d","M0 0h10v1H0z","fill","#FFFFF"],["id","maxBtn","appHighlight","","title","Maximize",3,"click",4,"ngIf","ngIfElse"],["id","closeBtn","appHighlight","","title","Close",3,"click","ngStyle"],["width","10","viewBox","0 0 10 10"],["d","M10.2.7L9.5 0 5.1 4.4.7 0 0 .7l4.4 4.4L0 9.5l.7.7 4.4-4.4 4.4 4.4.7-.7-4.4-4.4z","fill","#FFFFF"],["tabindex","0",1,"window-content-container"],["id","maxBtn","appHighlight","","title","Maximize",3,"click"],["d","M0 0v10h10V0H0zm1 1h8v8H1V1z",3,"ngStyle"],["id","minBtn","appHighlight","","title","Minimize",3,"click"],["width","15","viewBox","0 0 24 24"],["fill","none","d","M0 0h24v24H0z"],["d","M7 6V3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1h-3v3c0 .552-.45 1-1.007 1H4.007A1.001 1.001 0 0 1 3 21l.003-14c0-.552.45-1 1.007-1H7zM5.003 8L5 20h10V8H5.003zM9 6h8v10h2V4H9v2z","fill","#FFFFF"]],template:function(i,r){if(1&i){const o=Ht();qh(),x(0,"div",3,0),ye("stopped",function(l){return te(o),ne(r.onDragEnd(l))})("started",function(){return te(o),ne(r.onDragStart(r.processId))})("rzStop",function(l){return te(o),ne(r.onRZStop(l))}),x(2,"div",4),ye("click",function(){return te(o),ne(r.setFocusOnWindow(r.processId))})("dblclick",function(){return te(o),ne(r.onTitleBarDoubleClick())}),x(3,"div",5,1)(5,"h1")(6,"figure"),ge(7,"img",6),x(8,"figcaption"),ce(9),L()()()(),x(10,"div",7)(11,"nav")(12,"button",8),ye("click",function(){return te(o),ne(r.onHideBtnClick(r.processId))}),Hr(),x(13,"svg",9),ge(14,"path",10),L()(),ze(15,CH,3,3,"button",11)(16,IH,4,0,"ng-template",null,2,Li),hs(),x(18,"button",12),ye("click",function(){return te(o),ne(r.onCloseBtnClick())}),Hr(),x(19,"svg",13),ge(20,"path",14),L()()()()(),hs(),x(21,"div",15),Qh(22),L()()}if(2&i){const o=fi(4),s=fi(17);K("@openClose",Jh(21,kw,r.windowOpenCloseAction,$_(15,wH,r.windowTransform0p,r.windowTransform25p,r.windowTransform50p,r.windowTransform75p,r.windowTransform100p)))("@hideShow",Jh(30,kw,r.windowHideShowAction,$_(24,EH,r.yAxis0p,r.yAxis25p,r.yAxis50p,r.yAxis75p,r.yAxis100p)))("@minimizeMaximize",Jh(38,kw,r.windowMinMaxAction,yD(33,SH,r.windowWidth,r.windowHeight,r.windowTransform,r.windowZIndex)))("ngStyle",r.currentStyles)("handle",o)("rzHandles","e,s,w,se,sw")("rzMinWidth",r.defaultWidthOnOpen)("rzMinHeight",r.defaultHeightOnOpen),B(2),K("ngStyle",r.headerActiveStyles),B(5),K("src",r.icon,et)("alt",r.name),B(2),Jt(" ",r.displayName," "),B(6),K("ngIf",!r.currentWindowSizeState)("ngIfElse",s),B(3),K("ngStyle",r.closeBtnStyles)}},dependencies:[ea,xp,v0,Dz,Tw],styles:[".window-container[_ngcontent-%COMP%]{font-size:1rem;text-align:center;background-color:gray;box-shadow:0 0 20px #0000007f;position:absolute;min-width:25%;min-height:10%;top:40%;left:15%;outline:1px hsl(0deg 0% 20%/70%);overflow:hidden}.header-container[_ngcontent-%COMP%]{width:100%;position:relative;display:flex}.left-header-section[_ngcontent-%COMP%]{width:calc(100% - 135px);height:30px;left:0}.right-header-section[_ngcontent-%COMP%]{height:30px;right:0}.window-content-container[_ngcontent-%COMP%]{width:100%;min-height:10%;position:relative}.window-dd-box[_ngcontent-%COMP%]{justify-content:center;align-items:center;background:#121212;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}.window-dd-box[_ngcontent-%COMP%]:active{box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}h1[_ngcontent-%COMP%]{color:#fff;font-size:12px;font-weight:400;height:29px;border-bottom:1px transparent blue;width:-moz-fit-content;width:fit-content;flex-grow:1;display:flex;left:0}img[_ngcontent-%COMP%]{height:18px;width:18px;margin:0 6px 0 8px;image-rendering:optimizeQuality}figure[_ngcontent-%COMP%]{display:flex;align-items:center;height:30px}figcaption[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}button[_ngcontent-%COMP%]{border-left:1px transparent blue;box-sizing:content-box;color:#fff;display:flex;font-size:20px;width:45px;place-content:center;place-items:center}svg[_ngcontent-%COMP%]{fill:#fff;margin-bottom:2px}nav[_ngcontent-%COMP%]{display:flex;position:absolute;width:-moz-fit-content;width:fit-content;right:0;height:30px}.ng-draggable[_ngcontent-%COMP%], .ng-dragging[_ngcontent-%COMP%]{cursor:auto}.ng-resizable-diagonal[_ngcontent-%COMP%]{border-bottom:12px solid transparent}"],data:{animation:[gH,mH,yH]}})}return t})();const DH=["titleContent"];let xH=(()=>{class t{titleContent;_processIdService;_runningProcessService;_maximizeWindowSub;SECONDS_DELAY=250;hasWindow=!0;icon="osdrive/Pictures/favicon_nice.png";name="hello";processId=0;type=on.User;displayName="Hello";constructor(e,i){this._processIdService=e,this._runningProcessService=i,this.processId=this._processIdService.getNewProcessId(),this._runningProcessService.addProcess(this.getComponentDetail()),this._maximizeWindowSub=this._runningProcessService.maximizeWindowNotify.subscribe(()=>{this.maximizeWindow()})}ngAfterViewInit(){this.setTitleWindowToFocus(this.processId),setTimeout(()=>{this.captureComponentImg()},this.SECONDS_DELAY)}ngOnDestroy(){this._maximizeWindowSub?.unsubscribe()}captureComponentImg(){_r(this.titleContent.nativeElement).then(e=>{this._runningProcessService.addProcessImage(this.name,{pid:this.processId,imageData:e})})}maximizeWindow(){if(`${this.name}-${this.processId}`===this._runningProcessService.getEventOrginator()){this._runningProcessService.removeEventOriginator();const r=document.getElementById("vanta"),o=70;this.titleContent.nativeElement.style.height=(r?.offsetHeight||0)-o+"px",this.titleContent.nativeElement.style.width=`${r?.offsetWidth}px`}}setTitleWindowToFocus(e){this._runningProcessService.focusOnCurrentProcessNotify.next(e)}getComponentDetail(){return new Ci(this.processId,this.name,this.icon,this.hasWindow,this.type)}static \u0275fac=function(i){return new(i||t)(ee(Ii),ee(Gn))};static \u0275cmp=a({type:t,selectors:[["cos-title"]],viewQuery:function(i,r){if(1&i&&Wt(DH,7),2&i){let o;$t(o=Gt())&&(r.titleContent=o.first)}},decls:4,vars:3,consts:[["titleContent",""],[3,"click","runningProcessID","processAppIcon","processAppName"],[1,"title"]],template:function(i,r){if(1&i){const o=Ht();x(0,"cos-window",1),ye("click",function(){return te(o),ne(r.setTitleWindowToFocus(r.processId))}),x(1,"p",2,0),ce(3," Hello, World! "),L()()}2&i&&K("runningProcessID",r.processId)("processAppIcon",r.icon)("processAppName",r.name)},dependencies:[Xr],styles:[".title[_ngcontent-%COMP%]{font-size:50px;text-align:center;background-color:orange;height:100%;min-height:78px;width:100%}"]})}return t})(),MH=(()=>{class t{hasWindow=!0;icon="favicon.ico";name="greeting";processId=0;type=on.User;displayName="";constructor(){}ngOnInit(){}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=a({type:t,selectors:[["cos-greeting"]],decls:2,vars:0,template:function(i,r){1&i&&(x(0,"p"),ce(1,"greeting works!"),L())}})}return t})();var xo=function(t){return t.LIST_VIEW="List View",t.CONTENT_VIEW="Content View",t.DETAILS_VIEW="Details View",t.TILES_VIEW="Tiles View",t.SMALL_ICON_VIEW="Small Icon View",t.MEDIUM_ICON_VIEW="Medium Icon View",t.LARGE_ICON_VIEW="Large Icon View",t.EXTRA_LARGE_ICON_VIEW="Extra Large Icon View",t}(xo||{}),tt=re(308);class Bd{IMAGE_FILE_EXTENSIONS=[".jpg",".png",".avif",".bmp",".ico",".jpeg",".tiff",".tif",".svg",".webp",".xlm"];VIDEO_FILE_EXTENSIONS=[".mp4",".webm",".ogg",".mkv"];AUDIO_FILE_EXTENSIONS=[".mp3",".flac",".aac",".dolby",".mpeg",".opus",".m4a",".ogg",".oga",".wav",".caf",".weba",".webm"]}var rc=function(t){return t.LARGE_ICONS="Large Icons",t.MEDIUM_ICONS="Medium Icons",t.SMALL_ICONS="Small Icons",t}(rc||{}),Bi=function(t){return t.NAME="Name",t.DATE_MODIFIED="Date Modified",t.ITEM_TYPE="Item Type",t.SIZE="Size",t}(Bi||{});class oc{_IconPath;_currentPath;_contentPath;_fileType;_fileName;_opensWith;_dateModified;_size;_isFile;_fileSizeUnit;_mode;constructor(){this._IconPath="",this._currentPath="",this._contentPath="",this._fileType="",this._fileName="",this._opensWith="",this._dateModified=new Date("1990-01-01"),this._size=0,this._isFile=!0,this._fileSizeUnit="B",this._mode=0}get getIconPath(){return this._IconPath}set setIconPath(n){this._IconPath=n}get getCurrentPath(){return this._currentPath}set setCurrentPath(n){this._currentPath=n}get getContentPath(){return this._contentPath}set setContentPath(n){this._contentPath=n}get getFileType(){return this._fileType}set setFileType(n){this._fileType=n}get getFileName(){return this._fileName}set setFileName(n){this._fileName=n}get getOpensWith(){return this._opensWith}set setOpensWith(n){this._opensWith=n}get getDateModified(){return this._dateModified}get getDateModifiedUS(){return this._dateModified.toLocaleString("en-US")}get getDateTimeModifiedUS(){return this._dateModified.toLocaleString("en-US",{month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0}).replace(",","")}set setDateModified(n){this._dateModified="string"==typeof n?new Date(n):n}get getSize(){return this._size}get getSize1(){let n=0;return this._size>=0&&this._size<=999&&(n=this._size),this._size>=1e3&&this._size<=999999&&(n=Math.round(this._size/1e3*100)/100),this._size>=1e6&&this._size<=999999999&&(n=Math.round(this._size/1e6*100)/100),n}set setSize(n){this._size=n}get getIsFile(){return this._isFile}set setIsFile(n){this._isFile=n}get getFileSizeUnit(){return this._size>=0&&this._size<=999&&(this._fileSizeUnit="B"),this._size>=1e3&&this._size<=999999&&(this._fileSizeUnit="KB"),this._size>=1e6&&this._size<=999999999&&(this._fileSizeUnit="MB"),this._fileSizeUnit}get getMode(){return"0"+(this._mode&parseInt("777",8)).toString(8)}set setMode(n){this._mode=n}}class Ko{_iconPath;_fileName;_fileType;_contentPath;_opensWith;constructor(n,e,i,r,o){this._iconPath=n,this._fileName=e,this._fileType=i,this._contentPath=r,this._opensWith=o}get getIconPath(){return this._iconPath}set setIconPath(n){this._iconPath=n}get geFileName(){return this._fileName}set setFileName(n){this._fileName=n}get getContentPath(){return this._contentPath}set setContentPath(n){this._contentPath=n}get getFileType(){return this._fileType}set setFileType(n){this._fileType=n}get getOpensWith(){return this._opensWith}set setOpensWith(n){this._opensWith=n}}class TH{_name;_path;constructor(){this._path="",this._name=""}get getPath(){return this._path}set setPath(n){this._path=n}get getName(){return this._name}set setName(n){this._name=n}}class $k{_createdDate;_modifiedDate;_size;_mode;constructor(n=new Date("1990-01-01"),e=new Date("1990-01-01"),i=0,r=0){this._createdDate=n,this._modifiedDate=e,this._size=i,this._mode=r}get getCreatedDate(){return this._createdDate}set setCreatedDate(n){this._createdDate=new Date(n)}get getModifiedDate(){return this._modifiedDate}set setModifiedDate(n){this._modifiedDate=new Date(n)}get getSize(){return this._size}set setSize(n){this._size=n}get getMode(){return this._mode}set setMode(n){this._mode=n}}var Gk=re(211),ca=re(838);const kH=JSON.parse('{"Desktop":{"fileexplorer.url":null,"heat.url":null,"hello.url":null,"surfs.url":null,"taskmanager.url":null,"terminal.url":null,"titanium.url":null},"Documents":{"Credits.md":null,"Dynamic Programming.txt":null,"PDFs":{"CyberPower_UM_EC650LCD 2.pdf":null,"MotherBoard":{"PRO-B650-P-WIFI.pdf":null}},"Screen-Shots":{"Sample ScreenShot.png":null},"starting a new proj in VSCode.txt":null},"Downloads":{"anothertest.txt":null},"Games":{"D3D.url":null,"Data":{"D3D.jsdos":null,"Digger.jsdos":null,"Doom.jsdos":null,"Jill of the Jungle.jsdos":null,"Machine Nation.jsdos":null,"Shadow Knight.jsdos":null},"Diggers.url":null,"Doom.url":null,"Flash-Games ":{"logo-anim.swf":null},"icons":{"d3d.png":null,"diggers.png":null,"doom.png":null,"doom1.png":null}},"Music":{"jazz-club-in-new-orleans.mp3":null,"titanium.mp3":null},"Pictures":{"Samples":{"Chill on the Moon.jpg":null,"Sparkling Water.jpg":null,"Sunset Car.jpg":null,"Sunset.jpg":null,"mystical.jpg":null,"no_img.jpeg":null},"favicon.ico":null,"favicon1.ico":null,"favicon_nice.png":null,"heat.png":null},"Videos":{"nuts.mp4":null,"surfs.mp4":null},"icons":{"arrow_down.png":null,"arrow_next.png":null,"arrow_next_1.png":null,"arrow_up.png":null,"audioplayer.png":null,"camera_48.png":null,"chkmark26.png":null,"chkmark32.png":null,"chkmark32_blk.png":null,"circle.png":null,"circle_blk.png":null,"cmd.ico":null,"code-editor-2_48.png":null,"code-editor_64.png":null,"config.ico":null,"content_view.ico":null,"cross_mark_32.png":null,"desktop.ico":null,"desktop_folder.ico":null,"details_pane.ico":null,"details_view.ico":null,"documents.ico":null,"documents_folder.ico":null,"downloads.ico":null,"downloads.png":null,"downloads1.png":null,"downloads_folder.ico":null,"econo.png":null,"empty_folder.ico":null,"empty_recycle.ico":null,"emulator-1.png":null,"emulator-2.png":null,"extral_large_image.ico":null,"file.ico":null,"file_explorer.ico":null,"file_explorer.png":null,"flash48.png":null,"flash_67.png":null,"floppy.ico":null,"folder.ico":null,"games.ico":null,"generic-program.ico":null,"grey_history_32.png":null,"grey_nav_expand_32.png":null,"grey_nav_forward_32.png":null,"grey_nav_refresh_32.png":null,"image.ico":null,"info_48.png":null,"js-dos-logo.png":null,"large_image.ico":null,"list_of_thumbnails_view.ico":null,"markdown-2_50.png":null,"markdown-50.png":null,"markdown-file_50.png":null,"medium_icons_view.ico":null,"music.png":null,"music_file.ico":null,"music_folder.ico":null,"my_computer.ico":null,"nav_expand_32.png":null,"nav_left_32.png":null,"nav_right_32.png":null,"nav_up-32.png":null,"navigation_pane.ico":null,"non_empty_folder.ico":null,"non_empty_recycle.ico":null,"pdf-48.png":null,"photos_48.png":null,"picture_folder.ico":null,"pictures.ico":null,"pin_24.png":null,"preview_pane.ico":null,"red-x_50.png":null,"search_32.png":null,"small_icons_view.ico":null,"taskmanger.png":null,"taskmanger_2.png":null,"terminal-2_48.png":null,"terminal_48.png":null,"text-editor_48.png":null,"tiles_view.ico":null,"unknown.ico":null,"unpin_24.png":null,"unpin_32.png":null,"video.ico":null,"video_file.ico":null,"video_folder.ico":null,"videoplayer-2_48.png":null,"videoplayer.png":null,"vs-code_48.png":null,"vs-code_64.png":null,"white_history_32.png":null,"x_32.png":null,"zip_folder.ico":null},"simple.txt":null,"watr-fluid.mp3":null}');var PH=re(68),AH=re.n(PH);let la=(()=>{class t{static instace;_fileInfo;_consts=new Bd;_fileSystem;_directoryFileEntires=[];_fileExistsMap;_eventOriginator="";dirFilesReadyNotify=new ke;dirFilesUpdateNotify=new ke;SECONDS_DELAY=200;constructor(){this._fileExistsMap=new Map,t.instace=this}initBrowserFsAsync(){var e=this;return Ne(function*(){if(!e._fileSystem)return new Promise((i,r)=>{Gk.configure({fs:"MountableFileSystem",options:{"/":{fs:"OverlayFS",options:{readable:{fs:"XmlHttpRequest",options:{index:kH,baseUrl:"osdrive"}},writable:{fs:"IndexedDB",options:{storeName:"browser-fs-cache"}}}}}},o=>{o&&(console.log("initBrowserFs Error:",o),r())}),e._fileSystem=Gk.BFSRequire("fs"),i()})})()}changeFolderIcon(e,i){return"Music"===e?"/osdrive/icons/music_folder.ico":"Videos"===e?"/osdrive/icons/video_folder.ico":"Pictures"===e?"/osdrive/icons/picture_folder.ico":"Desktop"===e?"/osdrive/icons/desktop_folder.ico":"Documents"===e?"/osdrive/icons/documents_folder.ico":"Downloads"===e?"/osdrive/icons/downloads_folder.ico":i}checkIfDirectory(e){var i=this;return Ne(function*(){return new Promise((r,o)=>{i._fileSystem.stat(e,(s,l)=>{s&&(console.log("checkIfDirectory error:",s),o(s));const h=!!l&&l.isDirectory();r(h)})})})()}checkIfExistsAsync(e){var i=this;return Ne(function*(){return new Promise(r=>{i._fileSystem.exists(`${e}`,o=>{o?(console.log("checkIfExistsAsync :Already exists",o),r(!0)):(console.log("checkIfExistsAsync :Does not exists",o),r(!1))})})})()}copyFileAsync(e,i){var r=this;return Ne(function*(){const o=r.getFileName(e);return new Promise((s,l)=>{r._fileSystem.readFile(e,(h,g=ca.hp.from(""))=>{h?(console.log("copyFileAsync error:",h),l(!1)):r._fileSystem.writeFile(`${i}/${o}`,g,{flag:"wx"},w=>{if("EEXIST"===w?.code){console.log("copyFileAsync Error: file already exists",w);const C=r.iterateFileName(`${i}/${o}`);r._fileSystem.writeFile(C,g,k=>{k&&(console.log("copyFileAsync Iterate Error:",k),l(!1)),s(!0)})}else console.log("copyFileAsync Error:",w),r._fileExistsMap.set(`${i}/${o}`,0),s(!0)})})})})()}copyHandler(e,i,r){var o=this;return Ne(function*(){if(yield o.checkIfDirectory(`${i}`)){const l=o.getFileName(i);if(yield o.createFolderAsync(r,l)){const g=yield o.getEntriesFromDirectoryAsync(i);for(const w of g)if(yield o.checkIfDirectory(`${i}/${w}`)){if(!(yield o.copyHandler(e,`${i}/${w}`,`${r}/${l}`)))return console.log(`Failed to copy directory: ${i}/${w}`),!1}else{if(!(yield o.copyFileAsync(`${i}/${w}`,`${r}/${l}`)))return console.log(`file:${i}/${w} failed to copy to destination:${r}/${l}`),!1;console.log(`file:${i}/${w} successfully copied to destination:${r}/${l}`)}}}else{if(!(yield o.copyFileAsync(`${i}`,`${r}`)))return console.log(`file:${i} failed to copy to destination:${r}`),!1;console.log(`file:${i} successfully copied to destination:${r}`)}return!0})()}createFolderAsync(e,i){var r=this;return Ne(function*(){return new Promise((o,s)=>{r._fileSystem.mkdir(`${e}/${i}`,511,l=>{if("EEXIST"===l?.code){console.log("createFolderAsync Error:folder  already exists",l);const h=r.iterateFileName(`${e}/${i}`);r._fileSystem.mkdir(h,511,g=>{g&&(console.log("createFolderAsync  Error:",g),s(!1)),o(!0)})}else console.log(`err:${l}`),r._fileExistsMap.set(`${e}/${i}`,0),o(!0)})})})()}deleteFolderAsync(e){var i=this;return Ne(function*(){return new Promise((r,o)=>{i._fileSystem.exists(`${e}/`,s=>{s?i._fileSystem.rmdir(`${e}/`,l=>{l&&(console.log("deleteFolderAsync Error: folder delete failed",l),o(!1)),r(!0)}):console.log("deleteFolderAsync Error: folder doesn't exists",s)})})})()}deleteFileAsync(e){var i=this;return Ne(function*(){return new Promise((r,o)=>{i._fileSystem.unlink(e,s=>{s&&(console.log("deleteFileAsync error:",s),o(!1)),r(!0)})})})()}getExtraFileMetaDataAsync(e){var i=this;return Ne(function*(){return new Promise((r,o)=>{i._fileSystem.exists(`${e}`,s=>{s?i._fileSystem.stat(e,(l,h)=>{l&&(console.log("getExtraFileMetaDataAsync error:",l),o(l)),r(new $k(h?.ctime,h?.mtime,h?.size,h?.mode))}):(console.log("getExtraFileMetaDataAsync :Does not exists",s),r(new $k))})})})()}getFileAsync(e){var i=this;return Ne(function*(){return e?new Promise((r,o)=>{i._fileSystem.readFile(e,(s,l=ca.hp.from(""))=>{s?(console.log("getFileAsync error:",s),o(s)):r(l.toString())})}):(console.error("getFileAsync error: Path must not be empty"),Promise.reject(new Error("Path must not be empty")))})()}getFileBlobAsync(e){var i=this;return Ne(function*(){return e?new Promise((r,o)=>{i._fileSystem.readFile(e,(s,l=ca.hp.from(""))=>{s&&(console.log("getFileBlobAsync error:",s),o(s)),l=l||new Uint8Array;const h=i.bufferToUrl(l);r(h)})}):(console.error("getFileBlobAsync error: Path must not be empty"),Promise.reject(new Error("Path must not be empty")))})()}getEntriesFromDirectoryAsync(e){var i=this;return Ne(function*(){return e?(yield i.initBrowserFsAsync(),new Promise((r,o)=>{const s=i._fileSystem;setTimeout(()=>{s.readdir(e,function(l,h){l?(console.log("Oops! a boo boo happened, filesystem wasn't ready:",l),o([])):r(h||[])})},i.SECONDS_DELAY)})):(console.error("getEntriesFromDirectoryAsync error: Path must not be empty"),Promise.reject(new Error("Path must not be empty")))})()}getFileEntriesFromDirectory(e,i){for(let r=0;r<e.length;r++){const o=e[r],s=new TH;s.setName=(0,tt.basename)(o,(0,tt.extname)(o)),s.setPath=(0,tt.resolve)(i,o),this._directoryFileEntires.push(s)}return this._directoryFileEntires}getFileName(e){return`${(0,tt.basename)(e,(0,tt.extname)(e))}${(0,tt.extname)(e)}`}getFileInfoAsync(e){var i=this;return Ne(function*(){const r=(0,tt.extname)(e);if(i._fileInfo=new oc,r){const o=yield i.getExtraFileMetaDataAsync(e);if(".url"==r){const s=yield i.getShortCutFromURLAsync(e);i._fileInfo.setIconPath=s.getIconPath,i._fileInfo.setCurrentPath=e,i._fileInfo.setContentPath=s.getContentPath,i._fileInfo.setFileType=s.getFileType,i._fileInfo.setFileName=(0,tt.basename)(e,(0,tt.extname)(e)),i._fileInfo.setOpensWith=s.getOpensWith,i._fileInfo.setDateModified=o.getModifiedDate,i._fileInfo.setSize=o.getSize,i._fileInfo.setMode=o.getMode}else if(i._consts.IMAGE_FILE_EXTENSIONS.includes(r)){const s=yield i.getShortCutFromB64DataUrlAsync(e,"image");i._fileInfo.setIconPath=s.getIconPath,i._fileInfo.setCurrentPath=e,i._fileInfo.setContentPath=s.getContentPath,i._fileInfo.setFileType=r,i._fileInfo.setFileName=s.geFileName,i._fileInfo.setOpensWith="photoviewer",i._fileInfo.setDateModified=o.getModifiedDate,i._fileInfo.setSize=o.getSize,i._fileInfo.setMode=o.getMode}else if(i._consts.VIDEO_FILE_EXTENSIONS.includes(r)){const s=yield i.getShortCutFromB64DataUrlAsync(e,"video");i._fileInfo.setIconPath="/osdrive/icons/video_file.ico",i._fileInfo.setCurrentPath=e,i._fileInfo.setContentPath=s.getContentPath,i._fileInfo.setFileType=r,i._fileInfo.setFileName=s.geFileName,i._fileInfo.setOpensWith="videoplayer",i._fileInfo.setDateModified=o.getModifiedDate,i._fileInfo.setSize=o.getSize,i._fileInfo.setMode=o.getMode}else if(i._consts.AUDIO_FILE_EXTENSIONS.includes(r)){const s=yield i.getShortCutFromB64DataUrlAsync(e,"audio");i._fileInfo.setIconPath="/osdrive/icons/music_file.ico",i._fileInfo.setCurrentPath=e,i._fileInfo.setContentPath=s.getContentPath,i._fileInfo.setFileType=r,i._fileInfo.setFileName=s.geFileName,i._fileInfo.setOpensWith="audioplayer",i._fileInfo.setDateModified=o.getModifiedDate,i._fileInfo.setSize=o.getSize,i._fileInfo.setMode=o.getMode}else".txt"==r||".properties"==r?(i._fileInfo.setIconPath="/osdrive/icons/file.ico",i._fileInfo.setCurrentPath=e,i._fileInfo.setFileType=(0,tt.extname)(e),i._fileInfo.setFileName=(0,tt.basename)(e,(0,tt.extname)(e)),i._fileInfo.setOpensWith="texteditor",i._fileInfo.setDateModified=o.getModifiedDate,i._fileInfo.setSize=o.getSize,i._fileInfo.setMode=o.getMode):".md"==r?(i._fileInfo.setIconPath="/osdrive/icons/markdown-file_50.png",i._fileInfo.setCurrentPath=e,i._fileInfo.setFileType=(0,tt.extname)(e),i._fileInfo.setFileName=(0,tt.basename)(e,(0,tt.extname)(e)),i._fileInfo.setOpensWith="markdownviewer",i._fileInfo.setDateModified=o.getModifiedDate,i._fileInfo.setSize=o.getSize,i._fileInfo.setMode=o.getMode):".jsdos"==r?(i._fileInfo.setIconPath="/osdrive/icons/emulator-2.png",i._fileInfo.setCurrentPath=e,i._fileInfo.setFileType=(0,tt.extname)(e),i._fileInfo.setFileName=(0,tt.basename)(e,(0,tt.extname)(e)),i._fileInfo.setOpensWith="jsdos",i._fileInfo.setDateModified=o.getModifiedDate,i._fileInfo.setSize=o.getSize,i._fileInfo.setMode=o.getMode):".swf"==r?(i._fileInfo.setIconPath="/osdrive/icons/flash_67.png",i._fileInfo.setCurrentPath=e,i._fileInfo.setFileType=(0,tt.extname)(e),i._fileInfo.setFileName=(0,tt.basename)(e,(0,tt.extname)(e)),i._fileInfo.setOpensWith="ruffle",i._fileInfo.setDateModified=o.getModifiedDate,i._fileInfo.setSize=o.getSize,i._fileInfo.setMode=o.getMode):(i._fileInfo.setIconPath="/osdrive/icons/unknown.ico",i._fileInfo.setCurrentPath=e,i._fileInfo.setFileName=(0,tt.basename)(e,(0,tt.extname)(e)),i._fileInfo.setDateModified=o.getModifiedDate,i._fileInfo.setSize=o.getSize,i._fileInfo.setMode=o.getMode)}else{const o=yield i.setFolderValuesAsync(e),s=yield i.getExtraFileMetaDataAsync(e);i._fileInfo.setIconPath=i.changeFolderIcon(o.geFileName,o.getIconPath),i._fileInfo.setCurrentPath=e,i._fileInfo.setFileType=o.getFileType,i._fileInfo.setFileName=o.geFileName,i._fileInfo.setOpensWith=o.getOpensWith,i._fileInfo.setIsFile=!1,i._fileInfo.setDateModified=s.getModifiedDate,i._fileInfo.setSize=s.getSize,i._fileInfo.setMode=s.getMode}return i._fileInfo})()}getShortCutFromB64DataUrlAsync(e,i){var r=this;return Ne(function*(){return new Promise((o,s)=>{r._fileSystem.readFile(e,(l,h=ca.hp.from(""))=>{l&&(console.log("getShortCutFromB64DataUrlAsync error:",l),s(l));const w=h.toString("utf8");if(r.isUtf8Encoded(w))if("data:image"==w.substring(0,10)||"data:video"==w.substring(0,10)||"data:audio"==w.substring(0,10)){const C=h.toString().split(",")[1],A=ca.hp.from(C,"base64"),z=r.bufferToUrl(A);"data:image"==w.substring(0,10)?o(new Ko(z,(0,tt.basename)(e,(0,tt.extname)(e)),"",z,"")):o(new Ko("",(0,tt.basename)(e,(0,tt.extname)(e)),"",z,""))}else{const C=r.bufferToUrl2(h);o(new Ko("image"===i?C:"",(0,tt.basename)(e,(0,tt.extname)(e)),"",C,""))}else o(new Ko("",(0,tt.basename)(e,(0,tt.extname)(e)),"",r.bufferToUrl2(h),""))})})})()}getShortCutFromURLAsync(e){var i=this;return Ne(function*(){return new Promise((r,o)=>{i._fileSystem.readFile(e,function(s,l=ca.hp.from("")){s&&(console.log("getShortCutAsync error:",s),o(new Ko("","","","","")));const h=l?l.toString():ca.hp.from("").toString(),g=AH().parse(h)||{InternetShortcut:{FileName:"hi",IconPath:"",FileType:"",ContentPath:"",OpensWith:""}};if("object"==typeof g){const w=g?.InternetShortcut,C=w?.FileName,k=w?.IconPath,A=w?.FileType,z=w?.ContentPath,J=w?.OpensWith;r(new Ko(k,C,A,z,J))}})})})()}movehandler(e,i){var r=this;return Ne(function*(){if(0===i.length)return!0;const o=i.shift()||"",s=r.getFileName(o);if(yield r.checkIfDirectory(`${o}`)){const h=yield r.getEntriesFromDirectoryAsync(o);if(!(yield r.createFolderAsync(e,s)))return console.log(`folder:${e}/${s}  creation failed`),!1;for(const w of h)if(yield r.checkIfDirectory(`${o}/${w}`))i.push(`${o}/${w}`);else{const k=yield r.moveFileAsync(`${o}/${w}`,`${e}/${s}`);console.log(k?`file:${o}/${w} successfully moved to destination:${e}/${s}`:`file:${o}/${w} failed to move to destination:${e}/${s}`)}}else{const h=yield r.moveFileAsync(`${o}`,`${e}`);console.log(h?`file:${o} successfully moved to destination:${e}`:`file:${o} failed to move to destination:${e}`)}return r.movehandler(`${e}/${s}`,i)})()}writeFilesAsync(e,i){var r=this;return Ne(function*(){return new Promise((o,s)=>{i.forEach(l=>{const h=new FileReader;h.readAsDataURL(l),h.onload=g=>{r._fileSystem.writeFile(`${e}/${l.name}`,g.target?.result,{flag:"wx"},w=>{if("EEXIST"===w?.code){console.log("writeFileAsync Error: file already exists",w);const C=r.iterateFileName(`${e}/${l.name}`);r._fileSystem.writeFile(C,g.target?.result,k=>{k&&(console.log("writeFileAsync Iterate Error:",k),s(k)),o(!0)})}else r._fileExistsMap.set(`${e}/${l.name}`,0),o(!0)})}})})})()}writeFileAsync(e,i){var r=this;return Ne(function*(){return new Promise((o,s)=>{r._fileSystem.writeFile(`${e}/${i.getFileName}`,i.getContentPath,{flag:"wx"},l=>{if("EEXIST"===l?.code){console.log("writeFileAsync Error: file already exists",l);const h=r.iterateFileName(`${e}/${i.getFileName}`);r._fileSystem.writeFile(h,i.getContentPath,g=>{g&&(console.log("writeFileAsync Iterate Error:",g),s(!1)),o(!0)})}else r._fileExistsMap.set(`${e}/${i.getFileName}`,0),o(!0)})})})()}removeHandler(e,i){var r=this;return Ne(function*(){const o=yield r.getEntriesFromDirectoryAsync(i);for(const l of o){const h=`${i}/${l}`;if(yield r.checkIfDirectory(h)){if(!(yield r.removeHandler(e,h)))return console.log(`Failed to delete directory: ${h}`),!1}else{if(!(yield r.deleteFileAsync(h)))return console.log(`File: ${l} in ${h} failed deletion`),!1;console.log(`File: ${l} in ${h} deleted successfully`)}}return console.log(`folder to delete: ${i}`),(yield r.deleteFolderAsync(`${i}`))?(console.log(`Directory: ${i} deleted successfully`),!0):(console.log(`Failed to delete directory: ${i}`),!1)})()}renameAsync(e,i,r){var o=this;return Ne(function*(){return new Promise((s,l)=>{let h="",g="";r?(h=`${(0,tt.dirname)(e)}/${i}${(0,tt.extname)(e)}`,g="file"):(h=`${(0,tt.dirname)(e)}/${i}`,g="folder"),o._fileSystem.exists(`${h}`,w=>{w?(console.log(`renameAsync Error: ${g} already exists`,w),l(!1)):o._fileSystem.rename(`${e}`,h,C=>{C&&(console.log(`renameAsync Error: ${g} rename`,C),l(!1)),s(!0)})})})})()}resetDirectoryFiles(){this._directoryFileEntires=[]}moveFileAsync(e,i){var r=this;return Ne(function*(){return new Promise((o,s)=>{const l=r.getFileName(e),h=`${i}/${l}`;r._fileSystem.readFile(e,(g,w=ca.hp.from(""))=>{g?(console.log("getFile in moveAsync error:",g),s(!1)):(r._fileSystem.writeFile(`${h}`,w,C=>{C?(console.log("writeFile in moveAsync error:",C),s(!1)):(r._fileSystem.unlink(e,k=>{k&&(console.log("unlink file error:",k),s(k)),console.log("successfully unlinked"),o(!0)}),console.log("successfully renamed"),o(!0))}),console.log("successfully fetched"),o(!0))})})})()}iterateFileName(e){const i=(0,tt.extname)(e),r=(0,tt.basename)(e,i);let o=this._fileExistsMap.get(e)||0;return o+=1,this._fileExistsMap.set(e,o),`${(0,tt.dirname)(e)}/${r} (${o})${i}`}setFolderValuesAsync(e){var i=this;return Ne(function*(){return new Promise((r,o)=>{i._fileSystem.exists(`${e}`,s=>{s?i._fileSystem.stat(e,(l,h)=>{l&&(console.log("setFolderValuesAsync error:",l),o(new Ko("","","","","")));const w="/osdrive/icons/"+(h&&h.isDirectory()?"folder.ico":"unknown.ico");r(new Ko(w,(0,tt.basename)(e,(0,tt.extname)(e)),"folder",(0,tt.basename)(e,(0,tt.extname)(e)),"fileexplorer"))}):(console.log("setFolderValuesAsync :Does not exists",s),r(new Ko("","","","","")))})})})()}bufferToUrl(e){return URL.createObjectURL(new Blob([new Uint8Array(e)]))}bufferToUrl2(e){return URL.createObjectURL(new Blob([e]))}uint8ToBase64(e){return btoa(String.fromCharCode(...new Uint8Array(e)))}isUtf8Encoded(e){try{const r=(new TextEncoder).encode(e);return new TextDecoder("utf-8",{fatal:!0}).decode(r),!0}catch{return!1}}addEventOriginator(e){this._eventOriginator=e}getEventOrginator(){return this._eventOriginator}removeEventOriginator(){this._eventOriginator=""}static \u0275fac=function(i){return new(i||t)};static \u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),vr=(()=>{class t{_runningProcessService;_appDirectory;_TriggerList;_onlyOneInstanceAllowed=["taskmanager"];static instance;startProcessNotify=new ke;appNotFoundNotify=new ke;appIsRunningNotify=new ke;constructor(e){this._runningProcessService=e,this._appDirectory=new Z0,this._TriggerList=[],t.instance=this}startApplication(e){let i="";if(this._appDirectory.appExist(e.getOpensWith)){if(!this._runningProcessService.isProcessRunning(e.getOpensWith)||this._runningProcessService.isProcessRunning(e.getOpensWith)&&!this._onlyOneInstanceAllowed.includes(e.getOpensWith))return this.startProcessNotify.next(e.getOpensWith),void this._TriggerList.push(e);if(this._onlyOneInstanceAllowed.includes(e.getOpensWith))return i=`Only one instance of ${e.getOpensWith} is allowed to run.`,void this.appIsRunningNotify.next(i)}i=`Osdrive:/App Directory/${e.getOpensWith}`,this.appNotFoundNotify.next(i)}getLastProcessTrigger(){return this._TriggerList.length>0&&this._TriggerList.pop()||new oc}static \u0275fac=function(i){return new(i||t)(Nt(Gn))};static \u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Pw=(()=>{class t{autoArrangeIconsNotify=new ke;alignIconsToGridNotify=new ke;viewByNotify=new ke;sortByNotify=new ke;refreshNotify=new ke;showDesktopIconsNotify=new ke;static \u0275fac=function(i){return new(i||t)};static \u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ll=(()=>{class t{_isPasteActive=!1;_path="NOPATH";_actions="";pinToTaskBar=new ke;unPinFromTaskBar=new ke;openApplicationFromTaskBar=new ke;closeApplicationFromTaskBar=new ke;showTaskBarMenu=new ke;hideTaskBarMenu=new ke;keepTaskBarMenu=new ke;hideContextMenus=new ke;storeData=new ke;setPasteState(e){this._isPasteActive=e}getPasteState(){return this._isPasteActive}setPath(e){this._path=e}getPath(){return this._path}setActions(e){this._actions=e}getActions(){return this._actions}static \u0275fac=function(i){return new(i||t)};static \u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function OH(t,n){1&t&&ge(0,"div",5)}function NH(t,n){1&t&&(x(0,"div",15),ge(1,"div",16),L())}function FH(t,n){1&t&&ge(0,"div",5)}function RH(t,n){if(1&t){const e=Ht();x(0,"div",7)(1,"div",8),ye("click",function(){const r=te(e).$implicit;return ne(le(2).onMenuItemClick(r.action))}),x(2,"span",9),ge(3,"figure",10),L(),x(4,"span",11),ce(5),L(),x(6,"span",12),ge(7,"figure",10),L()(),ze(8,OH,1,0,"div",13)(9,NH,2,0,"div",14)(10,FH,1,0,"div",13),L()}if(2&t){const e=n.$implicit,i=n.index;B(5),Wn(e.label),B(3),K("ngIf",2===i||4===i||6===i),B(),K("ngIf",2===i||4===i||6===i),B(),K("ngIf",2===i||4===i||6===i)}}function LH(t,n){if(1&t&&(x(0,"div",4),ge(1,"div",5),ze(2,RH,11,4,"div",6),ge(3,"div",5),L()),2&t){const e=le();B(2),K("ngForOf",e.generalMenu)}}function BH(t,n){1&t&&ge(0,"img",24),2&t&&K("src",le().$implicit.icon,et)}function VH(t,n){if(1&t){const e=Ht();x(0,"div",7)(1,"div",8),ye("click",function(){const r=te(e).$implicit;return ne(le(2).onMenuItemClick(r.action))}),x(2,"div",18)(3,"figure",19),ze(4,BH,1,1,"img",20),L()(),x(5,"div",21)(6,"p",22),ce(7),L()(),x(8,"div",23),ge(9,"figure",19),L()()()}if(2&t){const e=n.$implicit;B(4),K("ngIf",e.icon.length>0),B(3),Wn(e.label)}}function UH(t,n){if(1&t&&(x(0,"div",17),ge(1,"div",5),ze(2,VH,10,2,"div",6),ge(3,"div",5),L()),2&t){const e=le();B(2),K("ngForOf",e.generalMenu)}}function zH(t,n){1&t&&ge(0,"img",43),2&t&&K("src",le(2).$implicit.icon1,et)}function jH(t,n){1&t&&ge(0,"img",43),2&t&&K("src",le(2).$implicit.icon2,et)}function HH(t,n){if(1&t){const e=Ht();x(0,"div",36),ye("click",function(){te(e);const r=le().$implicit;return ne(le(2).onMenuItemClick(r.action))})("mouseenter",function(){te(e);const r=le().$implicit;return ne(le(2).onMenuItemHover(r.action1))}),x(1,"div",37)(2,"figure",38),ze(3,zH,1,1,"img",39),L()(),x(4,"div",40)(5,"p",41),ce(6),L()(),x(7,"div",42)(8,"figure",38),ze(9,jH,1,1,"img",39),L()()()}if(2&t){const e=le().$implicit;B(3),K("ngIf",e.icon1),B(3),Jt(" ",e.label,""),B(3),K("ngIf",e.icon2)}}function WH(t,n){1&t&&ge(0,"img",43),2&t&&K("src",le(2).$implicit.icon1,et)}function $H(t,n){1&t&&ge(0,"img",43),2&t&&K("src",le(2).$implicit.icon2,et)}function GH(t,n){if(1&t){const e=Ht();x(0,"div",44),ye("click",function(){te(e);const r=le().$implicit;return ne(le(2).onMenuItemClick(r.action))}),x(1,"div",37)(2,"figure",38),ze(3,WH,1,1,"img",39),L()(),x(4,"div",40)(5,"p",41),ce(6),L()(),x(7,"div",42)(8,"figure",38),ze(9,$H,1,1,"img",39),L()()()}if(2&t){const e=le().$implicit;B(3),K("ngIf",e.icon1),B(3),Jt(" ",e.label,""),B(3),K("ngIf",e.icon2)}}function ZH(t,n){1&t&&ge(0,"img",43),2&t&&K("src",le(2).$implicit.icon1,et)}function YH(t,n){1&t&&ge(0,"img",43),2&t&&K("src",le(2).$implicit.icon2,et)}function qH(t,n){if(1&t&&(x(0,"div",45)(1,"div",37)(2,"figure",38),ze(3,ZH,1,1,"img",39),L()(),x(4,"div",46)(5,"p",41),ce(6),L()(),x(7,"div",42)(8,"figure",38),ze(9,YH,1,1,"img",39),L()()()),2&t){const e=le().$implicit;B(3),K("ngIf",e.icon1),B(3),Jt(" ",e.label,""),B(3),K("ngIf",e.icon2)}}function QH(t,n){if(1&t&&ge(0,"img",54),2&t){const e=le().$implicit;K("ngClass","A"===e.styleOption?"dm-nested-img-alt":"dm-nested-img-alt2")("src",e.icon,et)}}function KH(t,n){if(1&t&&(x(0,"div",40),ce(1),L()),2&t){const e=le().$implicit;B(),Wn(e.label)}}function XH(t,n){if(1&t&&(x(0,"div",40)(1,"p",41),ce(2),L()()),2&t){const e=le().$implicit;B(2),Jt(" ",e.label,"")}}function JH(t,n){1&t&&ge(0,"div",26)}function eW(t,n){1&t&&(x(0,"div",55),ge(1,"div",56),L())}function tW(t,n){1&t&&ge(0,"div",26)}function nW(t,n){if(1&t){const e=Ht();x(0,"div",49),ye("click",function(){const r=te(e).$implicit;return ne(le(4).onMenuItemClick(r.action))}),x(1,"div",50)(2,"div",37)(3,"figure",51),ze(4,QH,1,2,"img",52),L()(),ze(5,KH,2,1,"div",53)(6,XH,3,1,"div",53),x(7,"div",42),ge(8,"figure",38),L()(),ze(9,JH,1,0,"div",34)(10,eW,2,0,"div",35)(11,tW,1,0,"div",34),L()}if(2&t){const e=n.$implicit;B(3),K("ngClass","A"===e.styleOption?"dm-nested-figure-alt":"dm-nested-figure-alt2"),B(),K("ngIf",e.variables),B(),K("ngIf","A"===e.styleOption||"B"===e.styleOption),B(),K("ngIf","C"===e.styleOption),B(3),K("ngIf",e.emptyline),B(),K("ngIf",e.emptyline),B(),K("ngIf",e.emptyline)}}function iW(t,n){if(1&t&&(x(0,"div",47),ge(1,"div",26),ze(2,nW,12,7,"div",48),ge(3,"div",26),L()),2&t){const e=le(),i=e.$implicit;mt("id","dmNestedMenu-",e.index,""),B(2),K("ngForOf",i.nest)}}function rW(t,n){1&t&&ge(0,"div",26)}function oW(t,n){1&t&&(x(0,"div",55),ge(1,"div",56),L())}function sW(t,n){1&t&&ge(0,"div",26)}function aW(t,n){if(1&t&&(x(0,"div",29),ze(1,HH,10,3,"div",30)(2,GH,10,3,"div",31)(3,qH,10,3,"div",32)(4,iW,4,3,"div",33)(5,rW,1,0,"div",34)(6,oW,2,0,"div",35)(7,sW,1,0,"div",34),L()),2&t){const e=n.$implicit,i=le(2);B(),K("ngIf",e.label!==i.paste),B(),K("ngIf",e.label===i.paste&&i.isPasteActive),B(),K("ngIf",e.label===i.paste&&!i.isPasteActive),B(),K("ngIf",e.nest.length),B(),K("ngIf",e.emptyline),B(),K("ngIf",e.emptyline),B(),K("ngIf",e.emptyline)}}function cW(t,n){if(1&t&&(x(0,"div",25),ge(1,"div",26),ze(2,aW,8,7,"div",27),ge(3,"div",28),L()),2&t){const e=le();B(2),K("ngForOf",e.nestedMenu)}}let Aw=(()=>{class t{generalMenu=[];nestedMenu=[];fileExplorerMenu=[];menuType="";_menuService;_storeDataSub;isPasteActive;menuOption="";tskBarMenuOption="taskbar-menu";nestedMenuOption="nested-menu";fileExplrMngrMenuOption="file-explorer-file-manager-menu";keys=[];paste="Paste";constructor(e){this._menuService=e,this.isPasteActive=this._menuService.getPasteState(),this._storeDataSub=this._menuService.storeData.subscribe(i=>{const o=i[1];this._menuService.setPath(i[0]),this._menuService.setActions(o),this._menuService.setPasteState(!0)})}ngOnDestroy(){this._storeDataSub?.unsubscribe()}ngOnChanges(e){this.menuOption=this.menuType}onMenuItemClick(e){e()}onMenuItemHover(e){e()}getKeys(e){this.keys=Object.keys(e)}static \u0275fac=function(i){return new(i||t)(ee(Ll))};static \u0275cmp=a({type:t,selectors:[["cos-menu"]],inputs:{generalMenu:"generalMenu",nestedMenu:"nestedMenu",fileExplorerMenu:"fileExplorerMenu",menuType:"menuType"},features:[er],decls:7,vars:1,consts:[["fileExplrMngrMenu",""],["tskBarMenu",""],["nestedMenu0",""],[3,"ngTemplateOutlet"],["id","dmfileExplrMngrMenu",1,"dm-vertical-menu"],[1,"dm-empty-line-container"],["lass","dm-vertical-menu-cntnr",4,"ngFor","ngForOf"],["lass","dm-vertical-menu-cntnr"],[1,"dm-vertical-menu-item",3,"click"],[1,"span","dm-head"],[1,"dm-fig-cntxt-menu"],[1,"span","dm-mid"],[1,"span","dm-tail"],["class","dm-empty-line-container",4,"ngIf"],["class","dm-line-container",4,"ngIf"],[1,"dm-line-container"],[1,"dm-line"],[1,"dm-vertical-menu"],[1,"dm-tskbar-head"],[1,"dm-tskbar-fig-cntxt-menu"],["class","dm-tskbar-img-alt",3,"src",4,"ngIf"],[1,"dm-tskbar-mid"],[1,"dm-p"],[1,"dm-tskbar-tail"],[1,"dm-tskbar-img-alt",3,"src"],["id","dmNestedMenu",1,"dm-nested-vertical-menu"],[1,"dm-nested-empty-line-container"],["class","dm-nested-vertical-sub-menu",4,"ngFor","ngForOf"],[1,"dm-nested-empty-line-container1"],[1,"dm-nested-vertical-sub-menu"],["class","dm-nested-vertical-menu-item",3,"click","mouseenter",4,"ngIf"],["class","dm-nested-vertical-menu-item",3,"click",4,"ngIf"],["class","dm-nested-vertical-menu-item turn-off-hover-effect ",4,"ngIf"],["class","dm-nested-vertical-sub-menu-content",3,"id",4,"ngIf"],["class","dm-nested-empty-line-container",4,"ngIf"],["class","dm-nested-line-container",4,"ngIf"],[1,"dm-nested-vertical-menu-item",3,"click","mouseenter"],[1,"dm-nested-head"],[1,"dm-nested-figure"],["class","dm-nested-img",3,"src",4,"ngIf"],[1,"dm-nested-mid"],[1,"dm-nested-p"],[1,"dm-nested-tail"],[1,"dm-nested-img",3,"src"],[1,"dm-nested-vertical-menu-item",3,"click"],[1,"dm-nested-vertical-menu-item","turn-off-hover-effect"],[1,"dm-nested-mid-disabled"],[1,"dm-nested-vertical-sub-menu-content",3,"id"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[1,"dm-nested-vertical-menu-item"],[3,"ngClass"],[3,"ngClass","src",4,"ngIf"],["class","dm-nested-mid",4,"ngIf"],[3,"ngClass","src"],[1,"dm-nested-line-container"],[1,"dm-nested-line"]],template:function(i,r){if(1&i&&(Cl(0,3),ze(1,LH,4,1,"ng-template",null,0,Li)(3,UH,4,1,"ng-template",null,1,Li)(5,cW,4,1,"ng-template",null,2,Li)),2&i){const o=fi(2),s=fi(4),l=fi(6);K("ngTemplateOutlet",r.menuOption===r.fileExplrMngrMenuOption?o:r.menuOption===r.tskBarMenuOption?s:l)}},dependencies:[yd,bs,ea,_d],styles:[".dm-vertical-menu[_ngcontent-%COMP%]{position:absolute;width:205px;box-shadow:2px 2px #0000004d;border:1px solid #9c9898;z-index:2}.dm-vertical-menu-item-cntnr[_ngcontent-%COMP%]{width:100%}.dm-vertical-menu-item[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;padding:2px 0;background-color:#2b2b2b;display:inline-flex;width:100%;z-index:2}.dm-vertical-menu[_ngcontent-%COMP%]   .dm-vertical-menu-item[_ngcontent-%COMP%]:hover, .dm-vertical-menu[_ngcontent-%COMP%]{background-color:#484444}.dm-line-container[_ngcontent-%COMP%]{max-height:1px;background-color:#2b2b2b}.dm-line[_ngcontent-%COMP%]{border:1px solid #9c9898;margin:0 8px}.dm-empty-line-container[_ngcontent-%COMP%]{max-height:3px;min-height:3px;background-color:#2b2b2b}span[_ngcontent-%COMP%]{display:block}span.dm-head[_ngcontent-%COMP%]{padding-left:4px}span.dm-mid[_ngcontent-%COMP%]{padding:0 4px;color:#fff;text-align:left;font-size:11px;font-weight:400}span.dm-tail[_ngcontent-%COMP%]{padding-left:47px}.dm-fig-cntxt-menu[_ngcontent-%COMP%]{position:relative;align-items:center;display:inline-flex;min-width:18px;top:0;left:15%}.dm-img-alt[_ngcontent-%COMP%]{height:16px;width:16px;image-rendering:optimizeQuality;position:relative}.dm-figure-alt[_ngcontent-%COMP%]{align-items:center;display:inline-flex;min-width:18px}.dm-tskbar-head[_ngcontent-%COMP%]{max-width:27%;padding-left:5px;padding-top:2px;padding-bottom:2px}.dm-tskbar-mid[_ngcontent-%COMP%]{min-width:48%;padding-left:10px;padding-top:2px;padding-bottom:2px;color:#fff;text-align:left;font-size:11px;font-weight:400}.dm-p[_ngcontent-%COMP%]{position:relative;top:10%}.dm-tskbar-tail[_ngcontent-%COMP%]{max-width:25%;padding-left:48px;padding-top:2px;padding-bottom:2px}.dm-tskbar-fig-cntxt-menu[_ngcontent-%COMP%]{position:relative;align-items:center;display:inline-flex;min-width:18px;top:0;left:15%}.dm-tskbar-img-alt[_ngcontent-%COMP%]{height:18px;width:18px;image-rendering:optimizeQuality;position:relative}.dm-nested-vertical-menu[_ngcontent-%COMP%]{position:absolute;width:210px;box-shadow:2px 2px #0000004d;border:1px solid #9c9898;z-index:2}.dm-nested-vertical-menu-item[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;padding:2px 0;background-color:#2b2b2b;display:inline-flex;width:100%;z-index:2}.dm-nested-line-container[_ngcontent-%COMP%]{max-height:1px;background-color:#2b2b2b}.dm-nested-line[_ngcontent-%COMP%]{border:1px solid #9c9898;margin:0 8px}.dm-nested-empty-line-container[_ngcontent-%COMP%]{max-height:3px;min-height:3px;background-color:#2b2b2b}.dm-nested-empty-line-container1[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%;height:3px;background-color:#2b2b2b}.dm-nested-vertical-sub-menu[_ngcontent-%COMP%]{float:left;overflow:hidden;width:100%;outline:none}.dm-nested-p[_ngcontent-%COMP%]{position:relative;top:10%}.dm-nested-vertical-sub-menu-content[_ngcontent-%COMP%]{display:none;position:absolute;background-color:#2b2b2b;box-shadow:2px 2px #0000004d;border:1px solid #9c9898;width:205px;z-index:2;left:98%;margin-top:-29px;animation:_ngcontent-%COMP%_fade 1s ease forwards;transition-delay:1s}.turn-off-hover-effect[_ngcontent-%COMP%]{pointer-events:none}@keyframes _ngcontent-%COMP%_fade{0%{opacity:0;transform:translateY(0)}to{opacity:1;transform:translateY(0)}}.dm-nested-vertical-menu[_ngcontent-%COMP%]   .dm-nested-vertical-menu-item[_ngcontent-%COMP%]:hover{background-color:#484444}.dm-nested-vertical-sub-menu[_ngcontent-%COMP%]:hover   .dm-nested-vertical-sub-menu-content[_ngcontent-%COMP%]{display:block;transition-delay:1s}.dm-nested-head[_ngcontent-%COMP%]{max-width:25%;padding-left:4px}.dm-nested-mid[_ngcontent-%COMP%], .dm-nested-mid-disabled[_ngcontent-%COMP%]{min-width:50%;padding:0 4px;color:#fff;text-align:left;font-size:11px;font-weight:400}.dm-nested-mid-disabled[_ngcontent-%COMP%]{color:#969696c6}.dm-nested-tail[_ngcontent-%COMP%]{max-width:25%;padding-left:62px}.dm-nested-figure[_ngcontent-%COMP%]{align-items:center;display:inline-flex;width:18px;height:18px}.dm-nested-img[_ngcontent-%COMP%]{height:18px;width:18px;image-rendering:optimizeQuality;position:relative;margin:0}.dm-nested-img-alt[_ngcontent-%COMP%]{height:8px;width:8px;image-rendering:optimizeQuality;position:relative}.dm-nested-figure-alt[_ngcontent-%COMP%]{position:relative;align-items:center;display:inline-flex;width:18px;height:18px;top:-25%;left:35%}.dm-nested-img-alt2[_ngcontent-%COMP%]{height:16px;width:16px;image-rendering:optimizeQuality;position:relative}.dm-nested-figure-alt2[_ngcontent-%COMP%]{position:relative;align-items:center;display:inline-flex;min-width:18px;top:0;left:15%}"]})}return t})(),Zk=(()=>{class t{sanitizer;constructor(e){this.sanitizer=e}transform(e){return this.sanitizer.bypassSecurityTrustResourceUrl(e)}static \u0275fac=function(i){return new(i||t)(ee(zv,16))};static \u0275pipe=S({name:"safeResourceUrl",type:t,pure:!0})}return t})(),lW=(()=>{class t{transform(e,i=10,r=!1,o="..."){return e?(r&&(i=e.substring(0,i).lastIndexOf(" ")),e.length>i?e.substring(0,i)+o:e):""}static \u0275fac=function(i){return new(i||t)};static \u0275pipe=S({name:"truncateString",type:t,pure:!0})}return t})();const uW=["fileExplorerMainContainer"],dW=["fileExplorerRootContainer"],fW=["fileExplorerContentContainer"];function hW(t,n){1&t&&(x(0,"span",120)(1,"figure",75),ge(2,"img",76),un(3,"safeResourceUrl"),L()()),2&t&&(B(2),K("src",dn(3,1,"osdrive/icons/grey_nav_forward_32.png"),et))}function pW(t,n){if(1&t&&(x(0,"div",117),ze(1,hW,4,3,"span",118),x(2,"span",119),ce(3),L()()),2&t){const e=n.$implicit,i=n.index;B(),K("ngIf",i>0),B(2),Wn(e)}}function gW(t,n){if(1&t&&(x(0,"div",121)(1,"span",122)(2,"figure",123),ge(3,"img",124),un(4,"safeResourceUrl"),L()(),x(5,"span",125),ce(6),L()()),2&t){const e=n.$implicit;B(3),K("src",dn(4,2,"osdrive/icons/white_history_32.png"),et),B(3),Wn(e)}}function mW(t,n){1&t&&(ge(0,"img",91),un(1,"safeResourceUrl")),2&t&&K("src",dn(1,1,"osdrive/icons/cross_mark_32.png"),et)}function yW(t,n){1&t&&(ge(0,"img",91),un(1,"safeResourceUrl")),2&t&&K("src",dn(1,1,"osdrive/icons/nav_right_32.png"),et)}function _W(t,n){if(1&t&&(x(0,"div",126)(1,"span",122)(2,"figure",127),ge(3,"img",128),un(4,"safeResourceUrl"),L()(),x(5,"span",129),ce(6),L()()),2&t){const e=n.$implicit;B(3),K("src",dn(4,2,"osdrive/icons/white_history_32.png"),et),B(3),Wn(e)}}function vW(t,n){if(1&t){const e=Ht();x(0,"li",131)(1,"button",132),ye("dblclick",function(){const r=te(e).$implicit;return ne(le(2).runProcess(r))})("mouseenter",function(r){const o=te(e),s=o.$implicit,l=o.index;return ne(le(2).onMouseEnter(r,s,l))})("mouseleave",function(){const r=te(e).index;return ne(le(2).onMouseLeave(r))})("contextmenu",function(r){const o=te(e),s=o.$implicit,l=o.index;return ne(le(2).onShowIconContextMenu(r,s,l))})("click",function(){const r=te(e).index;return ne(le(2).onBtnClick(r))}),x(2,"figure",133),ge(3,"img",134),un(4,"safeResourceUrl"),x(5,"figcaption",135),ce(6),un(7,"truncateString"),L(),x(8,"div",136)(9,"form",68),ye("ngSubmit",function(){return te(e),ne(le(2).isFormDirty())}),x(10,"input",137),ye("keypress",function(r){return te(e),ne(le(2).onKeyPress(r))}),L()()()()()()}if(2&t){const e=n.$implicit,i=n.index,r=le(2);mt("id","ilElmnt-",r.processId,""),B(),vn("id","btnElmnt-",r.processId,"-",i,""),B(),vn("id","figElmnt-",r.processId,"-",i,""),B(),vn("id","imgElmnt-",r.processId,"-",i,""),K("src",dn(4,24,e.getIconPath),et)("alt",e.getFileName),B(2),vn("id","figCapElmnt-",r.processId,"-",i,""),B(),Jt(" ",dn(7,26,e.getFileName)," "),B(2),vn("id","renameContainer-",r.processId,"-",i,""),B(),K("formGroup",r.renameForm),B(),vn("id","renameTxtBox-",r.processId,"-",i,"")}}function wW(t,n){1&t&&ze(0,vW,11,28,"li",130),2&t&&K("ngForOf",le().files)}function EW(t,n){if(1&t){const e=Ht();x(0,"li",139)(1,"button",140),ye("dblclick",function(){const r=te(e).$implicit;return ne(le(2).runProcess(r))})("mouseenter",function(r){const o=te(e),s=o.$implicit,l=o.index;return ne(le(2).onMouseEnter(r,s,l))})("mouseleave",function(){const r=te(e).index;return ne(le(2).onMouseLeave(r))})("contextmenu",function(r){const o=te(e),s=o.$implicit,l=o.index;return ne(le(2).onShowIconContextMenu(r,s,l))})("click",function(){const r=te(e).index;return ne(le(2).onBtnClick(r))}),x(2,"span",141)(3,"figure",142),ge(4,"img",143),un(5,"safeResourceUrl"),L(),x(6,"figcaption",144),ce(7),un(8,"truncateString"),L(),x(9,"div",136)(10,"form",68),ye("ngSubmit",function(){return te(e),ne(le(2).isFormDirty())}),x(11,"input",137),ye("keypress",function(r){return te(e),ne(le(2).onKeyPress(r))}),L()()()()()()}if(2&t){const e=n.$implicit,i=n.index,r=le(2);mt("id","ilElmnt-",r.processId,""),B(),vn("id","btnElmnt-",r.processId,"-",i,""),B(3),vn("id","imgElmnt-",r.processId,"-",i,""),K("src",dn(5,21,e.getIconPath),et)("alt",e.getFileName),B(2),vn("id","figCapElmnt-",r.processId,"-",i,""),B(),Jt(" ",dn(8,23,e.getFileName)," "),B(2),vn("id","renameContainer-",r.processId,"-",i,""),B(),K("formGroup",r.renameForm),B(),vn("id","renameTxtBox-",r.processId,"-",i,"")}}function SW(t,n){1&t&&ze(0,EW,12,25,"li",138),2&t&&K("ngForOf",le().files)}function bW(t,n){1&t&&(x(0,"p"),ce(1,"Detail View"),L())}function CW(t,n){if(1&t&&(x(0,"div",156)(1,"div",157),ce(2),L()()),2&t){const e=le().$implicit;B(2),Jt("Date modified: ",e.getDateModifiedUS," ")}}function IW(t,n){if(1&t&&(x(0,"div",156)(1,"div",157),ce(2),L(),x(3,"div",157),ce(4),L()()),2&t){const e=le().$implicit;B(2),Jt("Date modified: ",e.getDateModifiedUS," "),B(2),Xs("",e.getSize1," ",e.getFileSizeUnit," ")}}function DW(t,n){if(1&t){const e=Ht();x(0,"li",146)(1,"button",147),ye("dblclick",function(){const r=te(e).$implicit;return ne(le(2).runProcess(r))})("mouseenter",function(r){const o=te(e),s=o.$implicit,l=o.index;return ne(le(2).onMouseEnter(r,s,l))})("mouseleave",function(){const r=te(e).index;return ne(le(2).onMouseLeave(r))})("contextmenu",function(r){const o=te(e),s=o.$implicit,l=o.index;return ne(le(2).onShowIconContextMenu(r,s,l))})("click",function(){const r=te(e).index;return ne(le(2).onBtnClick(r))}),x(2,"span",148)(3,"figure",149),ge(4,"img",150),un(5,"safeResourceUrl"),L(),x(6,"div",151)(7,"figcaption",152),ce(8),un(9,"truncateString"),L(),ze(10,CW,3,1,"div",153)(11,IW,5,3,"ng-template",null,9,Li),x(13,"div",136)(14,"form",68),ye("ngSubmit",function(){return te(e),ne(le(2).isFormDirty())}),x(15,"input",137),ye("keypress",function(r){return te(e),ne(le(2).onKeyPress(r))}),L()()()()(),x(16,"div",154),ge(17,"div",155),L()()()}if(2&t){const e=n.$implicit,i=n.index,r=fi(12),o=le(2);B(),vn("id","btnElmnt-",o.processId,"-",i,""),B(2),vn("id","figElmnt-",o.processId,"-",i,""),B(),vn("id","imgElmnt-",o.processId,"-",i,""),K("src",dn(5,24,e.getIconPath),et)("alt",e.getFileName),B(3),vn("id","figCapElmnt-",o.processId,"-",i,""),B(),Jt(" ",dn(9,26,e.getFileName)," "),B(2),K("ngIf",!e.getIsFile)("ngIfElse",r),B(3),vn("id","renameContainer-",o.processId,"-",i,""),B(),K("formGroup",o.renameForm),B(),vn("id","renameTxtBox-",o.processId,"-",i,"")}}function xW(t,n){1&t&&ze(0,DW,18,28,"li",145),2&t&&K("ngForOf",le().files)}function MW(t,n){if(1&t&&(x(0,"figcaption",165),ce(1),un(2,"truncateString"),L()),2&t){const e=le(),i=e.$implicit,r=e.index;vn("id","figCapElmnt-",le(2).processId,"-",r,""),B(),Jt(" ",dn(2,4,i.getFileName)," ")}}function TW(t,n){if(1&t){const e=Ht();x(0,"div",166)(1,"div",136)(2,"form",68),ye("ngSubmit",function(){return te(e),ne(le(3).isFormDirty())}),x(3,"input",137),ye("keypress",function(r){return te(e),ne(le(3).onKeyPress(r))}),L()()(),x(4,"div",167)(5,"div",168),ce(6),L(),x(7,"div",169),ce(8),L(),x(9,"div",169),ce(10),L()()()}if(2&t){const e=le(),i=e.$implicit,r=e.index,o=le(2);B(),vn("id","renameContainer-",o.processId,"-",r,""),B(),K("formGroup",o.renameForm),B(),vn("id","renameTxtBox-",o.processId,"-",r,""),B(2),vn("id","figCapElmnt-",o.processId,"-",r,""),B(),Wn(i.getFileName),B(2),Wn(i.getFileType),B(2),Xs("",i.getSize1," ",i.getFileSizeUnit,"")}}function kW(t,n){if(1&t){const e=Ht();x(0,"li",159)(1,"button",160),ye("dblclick",function(){const r=te(e).$implicit;return ne(le(2).runProcess(r))})("mouseenter",function(r){const o=te(e),s=o.$implicit,l=o.index;return ne(le(2).onMouseEnter(r,s,l))})("mouseleave",function(){const r=te(e).index;return ne(le(2).onMouseLeave(r))})("contextmenu",function(r){const o=te(e),s=o.$implicit,l=o.index;return ne(le(2).onShowIconContextMenu(r,s,l))})("click",function(){const r=te(e).index;return ne(le(2).onBtnClick(r))}),x(2,"span",161)(3,"figure",162),ge(4,"img",163),un(5,"safeResourceUrl"),L(),ze(6,MW,3,6,"figcaption",164)(7,TW,11,14,"ng-template",null,9,Li),x(9,"div",136)(10,"form",68),ye("ngSubmit",function(){return te(e),ne(le(2).isFormDirty())}),x(11,"input",137),ye("keypress",function(r){return te(e),ne(le(2).onKeyPress(r))}),L()()()()()()}if(2&t){const e=n.$implicit,i=n.index,r=fi(8),o=le(2);B(),vn("id","btnElmnt-",o.processId,"-",i,""),B(3),vn("id","imgElmnt-",o.processId,"-",i,""),K("src",dn(5,17,e.getIconPath),et)("alt",e.getFileName),B(2),K("ngIf",!e.getIsFile)("ngIfElse",r),B(3),vn("id","renameContainer-",o.processId,"-",i,""),B(),K("formGroup",o.renameForm),B(),vn("id","renameTxtBox-",o.processId,"-",i,"")}}function PW(t,n){1&t&&ze(0,kW,12,19,"li",158),2&t&&K("ngForOf",le().files)}function AW(t,n){if(1&t&&ge(0,"cos-menu",170),2&t){const e=le();Bt(e.fileExplrCntxtMenuStyle),K("generalMenu",e.menuData)("menuType",e.fileExplrMngrMenuOption)}}function OW(t,n){if(1&t&&ge(0,"cos-menu",171),2&t){const e=le();Bt(e.fileExplrCntxtMenuStyle),K("nestedMenu",e.fileExplrMenu)("menuType",e.fileExplrMenuOption)}}function NW(t,n){if(1&t&&(x(0,"div",174)(1,"div",175),ce(2),L()()),2&t){const e=n.$implicit;B(2),Xs("",e.label," ",e.data," ")}}function FW(t,n){if(1&t&&(x(0,"div",172),ze(1,NW,3,2,"div",173),L()),2&t){const e=le();mt("id","fx-information-tip-",e.processId,""),B(),K("ngForOf",e.fileInfoTipData)}}let RW=(()=>{class t{fileExplrMainCntnr;fileExplorerRootContainer;fileExplrCntntCntnr;_processIdService;_runningProcessService;_fileService;_directoryFilesEntires;_triggerProcessService;_stateManagmentService;_sessionManagmentService;_menuService;_formBuilder;_appState;_consts=new Bd;_viewByNotifySub;_sortByNotifySub;_refreshNotifySub;_autoArrangeIconsNotifySub;_autoAlignIconsNotifyBySub;_dirFilesUpdatedSub;_hideContextMenuSub;_maximizeWindowSub;_minimizeWindowSub;isPrevBtnActive=!1;isNextBtnActive=!1;isUpBtnActive=!0;isNavigatedBefore=!1;isRenameActive=!1;isIconInFocusDueToCurrentAction=!1;isIconInFocusDueToPriorAction=!1;isBtnClickEvt=!1;isHideCntxtMenuEvt=!1;isShiftSubMenuLeft=!1;selectedFile;selectedElementId=-1;prevSelectedElementId=-1;hideCntxtMenuEvtCnt=0;btnClickCnt=0;renameFileTriggerCnt=0;currentIconName="";isSearchBoxNotEmpty=!1;showPathHistory=!1;onClearSearchIconHover=!1;onSearchIconHover=!1;showIconCntxtMenu=!1;showFileExplrCntxtMenu=!1;showInformationTip=!1;iconCntxtCntr=0;fileExplrCntxtCntr=0;fileExplrCntxtMenuStyle={};clearSearchStyle={};searchStyle={};prevNavBtnStyle={};nextNavBtnStyle={};recentNavBtnStyle={};upNavBtnStyle={};upNavBtnCntnrStyle={};tabLayoutCntnrStyle={};olClassName="ol-icon-size-view";files=[];_fileInfo;prevPathEntries=[];nextPathEntries=[];recentPathEntries=[];upPathEntries=["/Desktop"];_directoryHops=["This PC"];SECONDS_DELAY=[100,1500,6e3,12e3,250];defaultviewOption=xo.MEDIUM_ICON_VIEW;currentViewOption=xo.MEDIUM_ICON_VIEW;currentViewOptionId=3;smallIconsView=xo.SMALL_ICON_VIEW;mediumIconsView=xo.MEDIUM_ICON_VIEW;largeIconsView=xo.LARGE_ICON_VIEW;extraLargeIconsView=xo.EXTRA_LARGE_ICON_VIEW;listView=xo.LIST_VIEW;detailsView=xo.DETAILS_VIEW;contentView=xo.CONTENT_VIEW;tilesView=xo.TILES_VIEW;sortByName=Bi.NAME;sortByItemType=Bi.ITEM_TYPE;sortBySize=Bi.SIZE;sortByDateModified=Bi.DATE_MODIFIED;isExtraLargeIcon=!1;isLargeIcon=!1;isMediumIcon=!0;isSmallIcon=!1;isListIcon=!1;isDetailsIcon=!1;isContentIcon=!1;isTitleIcon=!1;isSortByName=!1;isSortByItemType=!1;isSortBySize=!1;isSortByDateModified=!1;renameForm;pathForm;searchForm;searchHistory=["Java","ProgramFile","Perenne"];pathHistory=["/icons","/Games","/Videos"];menuData=[{icon:"",label:"Open",action:this.onTriggerRunProcess.bind(this)},{icon:"",label:"Open in new window",action:this.doNothing.bind(this)},{icon:"",label:"Pin to Start",action:this.doNothing.bind(this)},{icon:"",label:"Cut",action:this.onCut.bind(this)},{icon:"",label:"Copy",action:this.onCopy.bind(this)},{icon:"",label:"Delete",action:this.onDeleteFile.bind(this)},{icon:"",label:"Rename",action:this.onRenameFileTxtBoxShow.bind(this)},{icon:"",label:"Properties",action:this.doNothing.bind(this)}];fileExplrMenu=[];fileExplrMngrMenuOption="file-explorer-file-manager-menu";fileExplrMenuOption="nested-menu";fileInfoTipData=[{label:"",data:""}];fileType="";fileAuthor="";fileSize="";fileDimesions="";fileDateModified="";icon="osdrive/icons/file_explorer.png";navPathIcon="osdrive/icons/my_computer.ico";name="fileexplorer";processId=0;type=on.System;directory="/";displayName="fileexplorer";hasWindow=!0;constructor(e,i,r,o,s,l,h,g,w){this._processIdService=e,this._runningProcessService=i,this._fileService=r,this._triggerProcessService=o,this._stateManagmentService=h,this._sessionManagmentService=g,this._menuService=w,this._formBuilder=l,this.processId=this._processIdService.getNewProcessId(),this._runningProcessService.addProcess(this.getComponentDetail()),this.retrievePastSessionData(),this._dirFilesUpdatedSub=this._fileService.dirFilesUpdateNotify.subscribe(()=>{this._fileService.getEventOrginator()===this.name&&(this.loadFilesInfoAsync(),this._fileService.removeEventOriginator())}),this._maximizeWindowSub=this._runningProcessService.maximizeWindowNotify.subscribe(()=>{this.maximizeWindow()}),this._minimizeWindowSub=this._runningProcessService.minimizeWindowNotify.subscribe(C=>{this.minimizeWindow(C)}),this._sortByNotifySub=s.sortByNotify.subscribe(C=>{this.sortIcons(C)}),this._refreshNotifySub=s.refreshNotify.subscribe(()=>{this.refreshIcons()}),this._hideContextMenuSub=this._menuService.hideContextMenus.subscribe(()=>{this.hideIconContextMenu()})}ngOnInit(){this._fileInfo=this._triggerProcessService.getLastProcessTrigger(),this._fileInfo&&"fileexplorer"===this._fileInfo.getOpensWith&&!this._fileInfo.getIsFile&&(this.directory=this._fileInfo.getCurrentPath),this.renameForm=this._formBuilder.nonNullable.group({renameInput:""}),this.pathForm=this._formBuilder.nonNullable.group({pathInput:""}),this.searchForm=this._formBuilder.nonNullable.group({searchInput:""}),this.setNavButtonsColor(),this.getFileExplorerMenuData()}ngAfterViewInit(){var e=this;return Ne(function*(){e.setFileExplorerWindowToFocus(e.processId),e.hidePathTextBoxOnload(),e.changeFileExplorerLayoutCSS(e.currentViewOption),e.changeTabLayoutIconCntnrCSS(e.currentViewOptionId,!1),e.pathForm.setValue({pathInput:"/"!==e.directory?e.directory:"/"}),yield e.loadFilesInfoAsync().then(()=>{setTimeout(()=>{e.captureComponentImg()},e.SECONDS_DELAY[4])})})()}ngOnDestroy(){this._viewByNotifySub?.unsubscribe(),this._sortByNotifySub?.unsubscribe(),this._refreshNotifySub?.unsubscribe(),this._autoArrangeIconsNotifySub?.unsubscribe(),this._autoAlignIconsNotifyBySub?.unsubscribe(),this._dirFilesUpdatedSub?.unsubscribe(),this._hideContextMenuSub?.unsubscribe(),this._maximizeWindowSub?.unsubscribe(),this._minimizeWindowSub?.unsubscribe()}captureComponentImg(){_r(this.fileExplorerRootContainer.nativeElement).then(e=>{this._runningProcessService.addProcessImage(this.name,{pid:this.processId,imageData:e})})}colorTabLayoutContainer(){this.tabLayoutCntnrStyle={"background-color":"#403c3c"}}unColorTabLayoutContainer(){this.tabLayoutCntnrStyle={"background-color":""}}onMouseEnterTabLayoutBtn(e,i){this.changeTabLayoutIconCntnrCSS(i,!0),this.changeFileExplorerLayoutCSS(e)}onMouseLeaveTabLayoutBtn(e){this.changeTabLayoutIconCntnrCSS(e,!1),this.changeFileExplorerLayoutCSS(this.defaultviewOption)}onClickTabLayoutBtn(e,i){this.currentViewOptionId=i,this.currentViewOption=e,this.defaultviewOption=e,this.changeTabLayoutIconCntnrCSS(i,!0);for(let r=1;r<=8;r++)r!=i&&this.changeTabLayoutIconCntnrCSS(r,!1)}changeFileExplorerLayoutCSS(e){(e==this.smallIconsView||e==this.mediumIconsView||e==this.largeIconsView||e==this.extraLargeIconsView)&&(this.currentViewOption=e,this.changeLayoutCss(e),this.changeOrderedlistStyle(e),this.changeButtonAndImageSize(e)),(e==this.listView||e==this.detailsView||e==this.tilesView||e==this.contentView)&&(this.currentViewOption=e,this.changeLayoutCss(e),this.changeOrderedlistStyle(e))}changeTabLayoutIconCntnrCSS(e,i){const r=document.getElementById(`tabLayoutIconCntnr-${this.processId}-${e}`);this.currentViewOptionId==e&&r&&(r.style.border="0.5px solid #ccc",r.style.backgroundColor=i?"#807c7c":"#605c5c"),this.currentViewOptionId!=e&&r&&(i?(r.style.backgroundColor="#403c3c",r.style.border="0.5px solid #ccc"):(r.style.backgroundColor="",r.style.border="",r.style.margin="0"))}changeLayoutCss(e){const r=["icon-view","list-view","details-view","tiles-view","content-view"],o=[this.smallIconsView,this.mediumIconsView,this.largeIconsView,this.extraLargeIconsView,this.listView,this.detailsView,this.tilesView,this.contentView].indexOf(e);o<=3?this.olClassName="ol-icon-size-view":o>=4&&(this.olClassName=`ol-${r[o-3]}`)}changeButtonAndImageSize(e){const r=["30px","45px","75px","90px"],o=[["90px","70px"],["110px","90px"]],s=[this.smallIconsView,this.mediumIconsView,this.largeIconsView,this.extraLargeIconsView].indexOf(e),l=s<=2?0:1;for(let h=0;h<this.files.length;h++){const g=document.getElementById(`btnElmnt-${this.processId}-${h}`),w=document.getElementById(`imgElmnt-${this.processId}-${h}`);g&&(g.style.width=o[l][0],g.style.height=o[l][1]),w&&(w.style.width=r[s],w.style.height=r[s])}}changeOrderedlistStyle(e){const r=[["90px","70px"],["110px","90px"]],s=[this.smallIconsView,this.mediumIconsView,this.largeIconsView,this.extraLargeIconsView].indexOf(e)<=2?0:1,l=document.getElementById(`olElmnt-${this.processId}`);if(e==this.smallIconsView||e==this.mediumIconsView||e==this.largeIconsView||e==this.extraLargeIconsView)l&&(l.style.gridTemplateColumns=`repeat(auto-fill,${r[s][0]})`,l.style.gridTemplateRows=`repeat(auto-fill,${r[s][1]})`,l.style.rowGap="20px",l.style.columnGap="0px",l.style.padding="5px 0",l.style.gridAutoFlow="row");else if(e==this.contentView){const h=this.fileExplrCntntCntnr.nativeElement.getBoundingClientRect();l&&(l.style.gridTemplateColumns=`repeat(auto-fill, minmax(50px, ${h.width}px)`,l.style.gridTemplateRows="repeat(auto-fill, 43px)")}}setNavButtonsColor(){this.prevNavBtnStyle={fill:"#ccc"},this.nextNavBtnStyle={fill:"#ccc"},this.recentNavBtnStyle={fill:"#ccc"},this.upNavBtnStyle={fill:"#fff"}}colorChevron(){this.recentNavBtnStyle={fill:"rgb(18, 107, 240)"}}unColorChevron(){this.recentNavBtnStyle={fill:"#ccc"}}uncolorUpNavBtn(){this.upNavBtnCntnrStyle={"background-color":""}}colorUpNavBtn(){this.upNavBtnCntnrStyle=this.isUpBtnActive?{"background-color":"#3f3e3e",transition:"background-color 0.3s ease"}:{"background-color":""}}goUpAlevel(){var e=this;return Ne(function*(){if(e.upPathEntries.length>0){const i=e.directory;e.isNavigatedBefore||(e.isNavigatedBefore=!0,e.prevPathEntries.push(i),e.isPrevBtnActive=!0,e.prevNavBtnStyle={fill:"#fff"});let r=e.upPathEntries.pop()??"";i===r?(r=e.upPathEntries.pop()??"",e.directory=r,e.prevPathEntries.push(r)):(e.directory=r,e.prevPathEntries.push(r));const o=(0,tt.basename)(e.directory);0==e.upPathEntries.length&&(e.isUpBtnActive=!1,e.upNavBtnStyle={fill:"#ccc"}),e.populateHopsList(),e.setNavPathIcon(o,e.directory),yield e.loadFilesInfoAsync()}})()}colorPrevNavBtn(){this.prevNavBtnStyle=this.isPrevBtnActive?{fill:"rgb(18, 107, 240)"}:{fill:"#ccc"}}uncolorPrevNavBtn(){this.prevNavBtnStyle={fill:"#ccc"}}goBackAlevel(){var e=this;return Ne(function*(){if(e.prevPathEntries.length>0){const i=e.directory;-1==e.recentPathEntries.indexOf(i)&&e.recentPathEntries.push(i);const r=e.upPathEntries.indexOf(i);-1!=r?e.upPathEntries.splice(r,1):e.upPathEntries.push(i),e.nextPathEntries.push(i),e.isNextBtnActive=!0,e.isUpBtnActive=!0,e.nextNavBtnStyle={fill:"#fff"},e.upNavBtnStyle={fill:"#fff"};let o=e.prevPathEntries.pop()??"";i===o&&(o=e.prevPathEntries.pop()??""),e.directory=o;const s=(0,tt.basename)(e.directory);0==e.prevPathEntries.length&&(e.isPrevBtnActive=!1,e.prevNavBtnStyle={fill:"#ccc"}),e.populateHopsList(),e.setNavPathIcon(s,e.directory),yield e.loadFilesInfoAsync()}})()}colorNextNavBtn(){this.nextNavBtnStyle=this.isNextBtnActive?{fill:"rgb(18, 107, 240)"}:{fill:"#ccc"}}uncolorNextNavBtn(){this.nextNavBtnStyle={fill:"#ccc"}}goForwardAlevel(){var e=this;return Ne(function*(){if(e.nextPathEntries.length>0){e.prevPathEntries.push(e.directory),e.isPrevBtnActive=!0,e.prevNavBtnStyle={fill:"#fff"};const r=e.directory=e.nextPathEntries.pop()??"",o=e.upPathEntries.indexOf(r);-1!==o?e.upPathEntries.splice(o,1):e.upPathEntries.push(r),0==e.upPathEntries.length&&(e.isUpBtnActive=!1,e.upNavBtnStyle={fill:"#ccc"});const s=(0,tt.basename)(e.directory);0==e.nextPathEntries.length&&(e.isNextBtnActive=!1,e.nextNavBtnStyle={fill:"#ccc"}),e.populateHopsList(),e.setNavPathIcon(s,e.directory),yield e.loadFilesInfoAsync()}})()}onDragOver(e){e.stopPropagation(),e.preventDefault()}onDrop(e){var i=this;return Ne(function*(){e.preventDefault();let r=[];e?.dataTransfer?.files&&(r=[...e?.dataTransfer?.files]),r.length>=1&&(yield i._fileService.writeFilesAsync(i.directory,r))&&(yield i.loadFilesInfoAsync())})()}loadFilesInfoAsync(){var e=this;return Ne(function*(){e.files=[],e._fileService.resetDirectoryFiles();const i=yield e._fileService.getEntriesFromDirectoryAsync(e.directory);e._directoryFilesEntires=e._fileService.getFileEntriesFromDirectory(i,e.directory);for(let r=0;r<i.length;r++){const o=e._directoryFilesEntires[r],s=yield e._fileService.getFileInfoAsync(o.getPath);e.files.push(s)}})()}runProcess(e){var i=this;return Ne(function*(){console.log("fileexplorer-runProcess:",e),i.showInformationTip=!1,"fileexplorer"===e.getOpensWith&&"fileexplorer"!==e.getFileName&&"folder"===e.getFileType?(i.isNavigatedBefore||(i.prevPathEntries.push(i.directory),i.upPathEntries.push(i.directory),i.isNavigatedBefore=!0),i.isPrevBtnActive=!0,i.directory=e.getCurrentPath,i.displayName=e.getFileName,i.icon=e.getIconPath,i.prevPathEntries.push(i.directory),i.upPathEntries.push(i.directory),-1==i.recentPathEntries.indexOf(i.directory)&&i.recentPathEntries.push(i.directory),i.populateHopsList(),i.setNavPathIcon(e.getFileName,e.getCurrentPath),i.storeAppState(e.getCurrentPath),yield i.loadFilesInfoAsync()):i._triggerProcessService.startApplication(e)})()}setNavPathIcon(e,i){console.log(`fileexplorer - setNavPathIcon: fileName:${e} -----  directory:${i}`),this.navPathIcon="Desktop"===e&&"/Desktop"===i?"osdrive/icons/desktop.ico":"Documents"===e&&"/Documents"===i?"osdrive/icons/documents.ico":"Downloads"===e&&"/Downloads"===i?"osdrive/icons/downloads.png":"Music"===e&&"/Music"===i?"osdrive/icons/music.png":"Pictures"===e&&"/Pictures"===i?"osdrive/icons/pictures.ico":"Videos"===e&&"/Videos"===i?"osdrive/icons/video.ico":"Games"===e&&"/Games"===i?"osdrive/icons/games.ico":"fileexplorer"===e&&"/"===i||""===e&&"/"===i?"osdrive/icons/my_computer.ico":"osdrive/icons/folder.ico"}onTriggerRunProcess(){this.runProcess(this.selectedFile)}onBtnClick(e){this.doBtnClickThings(e),this.setBtnStyle(e,!0)}onShowIconContextMenu(e,i,r){this._menuService.hideContextMenus.next(),this.iconCntxtCntr++;const s=this.fileExplrCntntCntnr.nativeElement.getBoundingClientRect(),l=this.checkAndHandleMenuBounds(s,e,213);this._runningProcessService.addEventOriginator(`${this.name}-${this.processId}`),this.selectedFile=i,this.isIconInFocusDueToPriorAction=!1,this.showInformationTip=!1,this.showIconCntxtMenu||(this.showIconCntxtMenu=!this.showIconCntxtMenu),this.doBtnClickThings(r),this.setBtnStyle(r,!0),this.fileExplrCntxtMenuStyle={position:"absolute",transform:`translate(${String(l.xAxis)}px, ${String(l.yAxis)}px)`,"z-index":2},e.preventDefault()}onShowFileExplorerContextMenu(e){if(this.fileExplrCntxtCntr++,this.iconCntxtCntr>=this.fileExplrCntxtCntr)return;this._menuService.hideContextMenus.next();const r=this.fileExplrCntntCntnr.nativeElement.getBoundingClientRect(),o=this.checkAndHandleMenuBounds(r,e,230);this._runningProcessService.addEventOriginator(`${this.name}-${this.processId}`),this.showFileExplrCntxtMenu||(this.showFileExplrCntxtMenu=!this.showFileExplrCntxtMenu),this.fileExplrCntxtMenuStyle={position:"absolute",transform:`translate(${String(o.xAxis)}px, ${String(o.yAxis)}px)`,"z-index":2},e.preventDefault()}hideIconContextMenu(e){this.showIconCntxtMenu=!1,this.showFileExplrCntxtMenu=!1,this.isShiftSubMenuLeft=!1,this.iconCntxtCntr=0,this.fileExplrCntxtCntr=0,void 0!==e&&e===this.name&&this._menuService.hideContextMenus.next()}handleIconHighLightState(){this.isBtnClickEvt&&this.btnClickCnt>=1&&!this.isHideCntxtMenuEvt&&0==this.hideCntxtMenuEvtCnt?(this.isRenameActive&&this.isFormDirty(),this.isIconInFocusDueToPriorAction&&this.hideCntxtMenuEvtCnt>=0&&this.setBtnStyle(this.selectedElementId,!1),this.isRenameActive||(this.isBtnClickEvt=!1,this.btnClickCnt=0)):(this.hideCntxtMenuEvtCnt++,this.isHideCntxtMenuEvt=!0,this.isHideCntxtMenuEvt&&this.hideCntxtMenuEvtCnt>=1&&!this.isBtnClickEvt&&0==this.btnClickCnt&&(this.isIconInFocusDueToCurrentAction=!1,this.btnStyleAndValuesChange()))}doBtnClickThings(e){this.isIconInFocusDueToCurrentAction=!0,this.isIconInFocusDueToPriorAction=!1,this.prevSelectedElementId=this.selectedElementId,this.selectedElementId=e,this.isBtnClickEvt=!0,this.btnClickCnt++,this.isHideCntxtMenuEvt=!1,this.hideCntxtMenuEvtCnt=0,this.prevSelectedElementId!=e&&this.removeBtnStyle(this.prevSelectedElementId)}onMouseEnter(e,i,r){this.showInformationTip=!0,this.setBtnStyle(r,!0),this.displayInformationTip(e,i)}onMouseLeave(e){this.showInformationTip=!1,e!=this.selectedElementId?this.removeBtnStyle(e):e==this.selectedElementId&&this.isIconInFocusDueToPriorAction&&this.setBtnStyle(e,!1)}setBtnStyle(e,i){const r=document.getElementById(`btnElmnt-${this.processId}-${e}`);r&&(r.style.backgroundColor="#4c4c4c",r.style.border="1px solid #3c3c3c",this.selectedElementId==e&&(i&&this.isIconInFocusDueToCurrentAction&&(r.style.backgroundColor="#787474"),!i&&this.isIconInFocusDueToCurrentAction&&(r.style.backgroundColor="#787474"),i&&this.isIconInFocusDueToPriorAction&&(r.style.backgroundColor="#4c4c4c"),!i&&this.isIconInFocusDueToPriorAction&&(r.style.backgroundColor="transparent",r.style.border="0.5px solid white")))}btnStyleAndValuesReset(){this.isBtnClickEvt=!1,this.btnClickCnt=0,this.removeBtnStyle(this.selectedElementId),this.removeBtnStyle(this.prevSelectedElementId),this.selectedElementId=-1,this.prevSelectedElementId=-1,this.btnClickCnt=0,this.isIconInFocusDueToPriorAction=!1}btnStyleAndValuesChange(){this.isBtnClickEvt=!1,this.btnClickCnt=0,this.prevSelectedElementId=this.selectedElementId,this.isIconInFocusDueToPriorAction=!0,this.isIconInFocusDueToCurrentAction=!1,this.setBtnStyle(this.selectedElementId,!1)}removeBtnStyle(e){const i=document.getElementById(`btnElmnt-${this.processId}-${e}`);i&&(i.style.backgroundColor="transparent",i.style.border="none")}doNothing(){}onCopy(){this._menuService.storeData.next([this.selectedFile.getCurrentPath,"copy"])}onCut(){this._menuService.storeData.next([this.selectedFile.getCurrentPath,"cut"])}checkAndHandleMenuBounds(e,i,r){let o=0,s=0;const g=e.right-i.clientX,w=e.bottom-i.clientY;let C=!1,k=!1;return g>=0&&g<=10&&(this.isShiftSubMenuLeft=!0,C=!0,o=i.clientX-e.left-g),w>=40&&w<=r&&(k=!0,s=i.clientY-e.top-(r-w)),o=C?o:i.clientX-e.left,s=k?s:i.clientY-e.top,{xAxis:o,yAxis:s}}shiftViewSubMenu(){this.shiftNestedMenuPosition(0)}shiftSortBySubMenu(){this.shiftNestedMenuPosition(1)}shiftNewSubMenu(){this.shiftNestedMenuPosition(6)}shiftNestedMenuPosition(e){const i=document.getElementById(`dmNestedMenu-${e}`);i&&this.isShiftSubMenuLeft&&(i.style.left="-98%")}onDragStart(e){}onDragEnd(e){}setFileExplorerWindowToFocus(e){this._runningProcessService.focusOnCurrentProcessNotify.next(e)}sortIcons(e){"Size"===e?this.files=this.files.sort((i,r)=>r.getSize-i.getSize):"Date Modified"===e?this.files=this.files.sort((i,r)=>r.getDateModified.getTime()-i.getDateModified.getTime()):"Name"===e?this.files=this.files.sort((i,r)=>i.getFileName<r.getFileName?-1:1):"Item Type"===e&&(this.files=this.files.sort((i,r)=>i.getFileType<r.getFileType?-1:1))}displayInformationTip(e,i){const r=this.fileExplrCntntCntnr.nativeElement.getBoundingClientRect(),o=e.clientX-r.left-15,s=e.clientY-r.top+10;setTimeout(()=>{const l=document.getElementById(`fx-information-tip-${this.processId}`);l&&setTimeout(()=>{l.style.display="block",l.style.transform=`translate(${String(o)}px, ${String(s)}px)`,l.style.position="absolute",l.style.zIndex="3",this.setInformationTipInfo(i)},this.SECONDS_DELAY[1])},this.SECONDS_DELAY[0])}setInformationTipInfo(e){const i=["Author:","Item type:","Date created:","Date modified:","Dimesions:","General","Size:","Type:"],o=e.getFileType,s=e.getDateModifiedUS,l=`${String(e.getSize1)}  ${e.getFileSizeUnit}`,h=e.getFileName;if(this.fileInfoTipData=[],this._consts.IMAGE_FILE_EXTENSIONS.includes(e.getFileType)){const g=new Image;g.src=e.getIconPath;const w=g?.naturalWidth,C=g?.naturalHeight,k=`${w} x ${C}`;this.fileInfoTipData.push({label:i[1],data:`${e.getFileType.replace(".","").toLocaleUpperCase()} File`}),this.fileInfoTipData.push({label:i[4],data:k}),this.fileInfoTipData.push({label:i[6],data:l})}".txt"===o&&(this.fileInfoTipData.push({label:i[7],data:"Text Document"}),this.fileInfoTipData.push({label:i[3],data:s}),this.fileInfoTipData.push({label:i[6],data:l})),"folder"===o&&("Desktop"===h||"Documents"===h||"Downloads"===h?this.fileInfoTipData.push({label:i[2],data:s}):"Music"===h?this.fileInfoTipData.push({label:"",data:"Contains music and other audio files"}):"Videos"===h?this.fileInfoTipData.push({label:"",data:"Contains movies and other video files"}):"Pictures"===h?this.fileInfoTipData.push({label:"",data:"Contains digital photos, images and graphic files"}):(this.fileInfoTipData.push({label:i[7],data:o}),this.fileInfoTipData.push({label:i[2],data:s})))}refreshIcons(){var e=this;return Ne(function*(){e.isIconInFocusDueToPriorAction=!1,yield e.loadFilesInfoAsync()})()}onDeleteFile(){var e=this;return Ne(function*(){let i=!1;i=e.selectedFile.getIsFile?yield e._fileService.deleteFileAsync(e.selectedFile.getCurrentPath):yield e._fileService.deleteFolderAsync(e.selectedFile.getCurrentPath),i&&(yield e.loadFilesInfoAsync())})()}onKeyPress(e){const r=new RegExp("^[a-zA-Z0-9_]+$").test(e.key);return r?(this.hideInvalidCharsToolTip(),r):(this.showInvalidCharsToolTip(),setTimeout(()=>{this.hideInvalidCharsToolTip()},this.SECONDS_DELAY[2]),r)}onInputChange(){const i=document.getElementById(`searchTxtBox-${this.processId}`).value.length;i>0?this.isSearchBoxNotEmpty=!0:i<=0&&(this.isSearchBoxNotEmpty=!1),this.resetSearchIconHiglight(),this.resetClearSearchIconHiglight()}onClearSearchTextBox(){document.getElementById(`searchTxtBox-${this.processId}`).value="",this.isSearchBoxNotEmpty=!1,this.resetSearchIconHiglight(),this.resetClearSearchIconHiglight()}handleClearSearchIconHighlights(){this.onClearSearchIconHover=!this.onClearSearchIconHover,this.isSearchBoxNotEmpty&&(this.onClearSearchIconHover?this.clearSearchStyle={"background-color":"#3f3e3e",transition:"background-color 0.3s ease"}:this.onClearSearchIconHover||(this.clearSearchStyle={"background-color":"#191919"}))}resetClearSearchIconHiglight(){this.clearSearchStyle={"background-color":"#191919"},this.isSearchBoxNotEmpty||(this.onClearSearchIconHover=!1)}handleSearchIconHighlights(){this.onSearchIconHover=!this.onSearchIconHover,this.isSearchBoxNotEmpty&&(this.onSearchIconHover?this.searchStyle={"background-color":"rgb(18, 107, 240)",transition:"background-color 0.3s ease"}:this.onSearchIconHover||(this.searchStyle={"background-color":"blue"}))}resetSearchIconHiglight(){this.isSearchBoxNotEmpty?this.searchStyle={"background-color":"blue"}:(this.searchStyle={"background-color":"#191919"},this.onSearchIconHover=!1)}onSearch(){}showPathTextBox(){const e=document.getElementById(`pathTxtBoxCntr-${this.processId}`),i=document.getElementById(`pathTxtBox-${this.processId}`),r=document.getElementById(`pathIconBox-${this.processId}`);e&&(e.style.display="flex"),i&&(i.style.display="block",this.showPathHistory?"/"===this.directory&&this.pathForm.setValue({pathInput:"/"}):this.pathForm.setValue({pathInput:this.directory}),i?.focus(),i?.select()),r&&(r.style.display="none")}hidePathTextBox(){const e=document.getElementById(`pathTxtBoxCntr-${this.processId}`),i=document.getElementById(`pathTxtBox-${this.processId}`),r=document.getElementById(`pathIconBox-${this.processId}`);i&&(i.style.display="none"),e&&(e.style.display="none"),r&&(r.style.display="flex")}hidePathTextBoxOnload(){const e=document.getElementById(`pathTxtBoxCntr-${this.processId}`),i=document.getElementById(`pathTxtBox-${this.processId}`);i&&(i.style.display="none"),e&&(e.style.display="none")}populateHopsList(){const e=this.directory.split("/");e.shift(),this._directoryHops=e,console.log("this._directoryHops:",this._directoryHops)}showInvalidCharsToolTip(){const e=document.getElementById(`invalidChars-${this.processId}`),i=document.getElementById(`renameContainer-${this.processId}-${this.selectedElementId}`),r=this.fileExplrCntntCntnr.nativeElement.getBoundingClientRect(),o=i.getBoundingClientRect();e&&(e.style.transform=`translate(${o.left-r.left+2}px, ${o.top-r.top+2}px)`,e.style.zIndex="2",e.style.opacity="1",e.style.transition="opacity 0.5s ease")}hideInvalidCharsToolTip(){const e=document.getElementById(`invalidChars-${this.processId}`);e&&(e.style.transform="translate(-100000px, 100000px)",e.style.zIndex="-1",e.style.opacity="0",e.style.transition="opacity 0.5s ease 1")}isFormDirty(){1==this.renameForm.dirty?this.onRenameFileTxtBoxDataSave():0==this.renameForm.dirty&&(this.renameFileTriggerCnt++,this.renameFileTriggerCnt>1&&(this.onRenameFileTxtBoxHide(),this.renameFileTriggerCnt=0))}onRenameFileTxtBoxShow(){this.isRenameActive=!this.isRenameActive;const e=document.getElementById(`figCapElmnt-${this.processId}-${this.selectedElementId}`),i=document.getElementById(`renameContainer-${this.processId}-${this.selectedElementId}`),r=document.getElementById(`renameTxtBox-${this.processId}-${this.selectedElementId}`);e&&(e.style.display="none"),i&&(i.style.display="block",this.currentIconName=this.selectedFile.getFileName,this.renameForm.setValue({renameInput:this.currentIconName}),r?.focus(),r?.select())}onRenameFileTxtBoxDataSave(){var e=this;return Ne(function*(){e.isRenameActive=!e.isRenameActive;const i=document.getElementById(`figCapElmnt-${e.processId}-${e.selectedElementId}`),r=document.getElementById(`renameContainer-${e.processId}-${e.selectedElementId}`),o=e.renameForm.value.renameInput;if(""!==o&&0!==o.length&&o!==e.currentIconName){if(yield e._fileService.renameAsync(e.selectedFile.getCurrentPath,o,e.selectedFile.getIsFile)){const l=e.files.findIndex(h=>h.getCurrentPath==e.selectedFile.getContentPath&&h.getFileName==e.selectedFile.getFileName);e.selectedFile.setFileName=o,e.selectedFile.setDateModified=Date.now(),e.files[l]=e.selectedFile,e.renameForm.reset(),yield e.loadFilesInfoAsync()}}else e.renameForm.reset();e.setBtnStyle(e.selectedElementId,!1),e.renameFileTriggerCnt=0,i&&(i.style.display="block"),r&&(r.style.display="none")})()}onRenameFileTxtBoxHide(){this.isRenameActive=!this.isRenameActive;const e=document.getElementById(`figCapElmnt-${this.processId}-${this.selectedElementId}`),i=document.getElementById(`renameContainer-${this.processId}-${this.selectedElementId}`);e&&(e.style.display="block"),i&&(i.style.display="none"),this.isIconInFocusDueToPriorAction=!0,this.isIconInFocusDueToCurrentAction=!1}showSearchHistory(){const e=document.getElementById(`searchHistory-${this.processId}`);e&&this.searchHistory.length>0&&(e.style.display="block")}hideSearchHistory(){document.getElementById(`searchHistory-${this.processId}`).style.display="none"}hideshowPathHistory(){const e=document.getElementById(`pathHistory-${this.processId}`),r=document.getElementById(`hdrNavPathCntnr-${this.processId}`).offsetWidth-25;this.showPathHistory=!this.showPathHistory,this.showPathHistory?e&&this.pathHistory.length>0&&(e.style.display="block",e.style.width=`${r}px`):this.showPathHistory||(e.style.display="none")}hidePathHistory(){document.getElementById(`pathHistory-${this.processId}`).style.display="none",this.showPathHistory=!1}storeAppState(e){const i=`${this.name}-${this.processId}`;this._appState={pid:this.processId,app_data:e,app_name:this.name,unique_id:i},this._stateManagmentService.addState(i,this._appState,pn.App)}retrievePastSessionData(){const e=this._sessionManagmentService._pickUpKey;if(this._sessionManagmentService.hasTempSession(e)){const i=this._sessionManagmentService.getTempSession(e)||"",r=this._sessionManagmentService.getSession(i);if(void 0!==r){const o=r[0];void 0!==o&&""!=o.app_data&&(this.directory=o.app_data)}}}maximizeWindow(){if(`${this.name}-${this.processId}`===this._runningProcessService.getEventOrginator()){this._runningProcessService.removeEventOriginator();const r=document.getElementById("vanta"),o=246.5;this.fileExplrMainCntnr.nativeElement.style.height=(r?.offsetHeight||0)-o+"px",this.fileExplrCntntCntnr.nativeElement.style.height=(r?.offsetHeight||0)-o+"px"}}minimizeWindow(e){if(`${this.name}-${this.processId}`===this._runningProcessService.getEventOrginator()){this._runningProcessService.removeEventOriginator();const l=e[1]-176.5;this.fileExplrMainCntnr.nativeElement.style.height=`${l}px`,this.fileExplrCntntCntnr.nativeElement.style.height=`${l}px`}}sortByNameM(){this.sortBy(this.sortByName)}sortBySizeM(){this.sortBy(this.sortBySize)}sortByItemTypeM(){this.sortBy(this.sortByItemType)}sortByDateModifiedM(){this.sortBy(this.sortByDateModified)}sortBy(e){e===Bi.DATE_MODIFIED&&(this.isSortByDateModified=!0,this.isSortByItemType=!1,this.isSortByName=!1,this.isSortBySize=!1),e===Bi.ITEM_TYPE&&(this.isSortByItemType=!0,this.isSortByDateModified=!1,this.isSortByName=!1,this.isSortBySize=!1),e===Bi.SIZE&&(this.isSortBySize=!0,this.isSortByItemType=!1,this.isSortByName=!1,this.isSortByDateModified=!1),e===Bi.NAME&&(this.isSortByName=!0,this.isSortByItemType=!1,this.isSortByDateModified=!1,this.isSortBySize=!1),this.getFileExplorerMenuData()}buildViewMenu(){return[{icon:"osdrive/icons/circle.png",label:"Extra Large icons",action:()=>this.isExtraLargeIcon=!this.isExtraLargeIcon,variables:this.isExtraLargeIcon,emptyline:!1,styleOption:"A"},{icon:"osdrive/icons/circle.png",label:"Large icons",action:()=>this.isLargeIcon=!this.isLargeIcon,variables:this.isMediumIcon,emptyline:!1,styleOption:"A"},{icon:"osdrive/icons/circle.png",label:"Medium icons",action:()=>this.isMediumIcon=!this.isMediumIcon,variables:this.isLargeIcon,emptyline:!1,styleOption:"A"},{icon:"osdrive/icons/circle.png",label:"Small icons",action:()=>this.isSmallIcon=!this.isSmallIcon,variables:this.isLargeIcon,emptyline:!1,styleOption:"A"},{icon:"osdrive/icons/circle.png",label:"List icons",action:()=>this.isListIcon=!this.isListIcon,variables:this.isListIcon,emptyline:!1,styleOption:"A"},{icon:"osdrive/icons/circle.png",label:"Details icons",action:()=>this.isDetailsIcon=!this.isDetailsIcon,variables:this.isDetailsIcon,emptyline:!1,styleOption:"A"},{icon:"osdrive/icons/circle.png",label:"Titles icons",action:()=>this.isTitleIcon=!this.isTitleIcon,variables:this.isTitleIcon,emptyline:!1,styleOption:"A"}]}buildSortByMenu(){return[{icon:"osdrive/icons/circle.png",label:"Name",action:this.sortByNameM.bind(this),variables:this.isSortByName,emptyline:!1,styleOption:"A"},{icon:"osdrive/icons/circle.png",label:"Size",action:this.sortBySizeM.bind(this),variables:this.isSortBySize,emptyline:!1,styleOption:"A"},{icon:"osdrive/icons/circle.png",label:"Item type",action:this.sortByItemTypeM.bind(this),variables:this.isSortByItemType,emptyline:!1,styleOption:"A"},{icon:"osdrive/icons/circle.png",label:"Date modified",action:this.sortByDateModifiedM.bind(this),variables:this.isSortByDateModified,emptyline:!1,styleOption:"A"}]}buildNewMenu(){return[{icon:"osdrive/icons/empty_folder.ico",label:"Folder",action:()=>console.log(),variables:!0,emptyline:!1,styleOption:"C"},{icon:"osdrive/icons/text-editor_48.png",label:"Rich Text",action:()=>console.log(),variables:!0,emptyline:!1,styleOption:"C"}]}getFileExplorerMenuData(){this.fileExplrMenu=[{icon1:"",icon2:"osdrive/icons/arrow_next_1.png",label:"View",nest:this.buildViewMenu(),action:()=>"",action1:this.shiftViewSubMenu.bind(this),emptyline:!1},{icon1:"",icon2:"osdrive/icons/arrow_next_1.png",label:"Sort by",nest:this.buildSortByMenu(),action:()=>"",action1:this.shiftSortBySubMenu.bind(this),emptyline:!1},{icon1:"",icon2:"",label:"Refresh",nest:[],action:()=>console.log("Refresh"),action1:()=>"",emptyline:!0},{icon1:"",icon2:"",label:"Paste",nest:[],action:()=>console.log("Paste!! Paste!!"),action1:()=>"",emptyline:!1},{icon1:"/osdrive/icons/terminal_48.png",icon2:"",label:"Open in Terminal",nest:[],action:()=>console.log("Open Terminal"),action1:()=>"",emptyline:!1},{icon1:"osdrive/icons/vs-code_48.png",icon2:"",label:"Open with Code",nest:[],action:()=>console.log("Open CodeEditor"),action1:()=>"",emptyline:!0},{icon1:"",icon2:"osdrive/icons/arrow_next_1.png",label:"New",nest:this.buildNewMenu(),action:()=>"",action1:this.shiftNewSubMenu.bind(this),emptyline:!0},{icon1:"",icon2:"",label:"Properties",nest:[],action:()=>console.log("Properties"),action1:()=>"",emptyline:!1}]}getComponentDetail(){return new Ci(this.processId,this.name,this.icon,this.hasWindow,this.type)}static \u0275fac=function(i){return new(i||t)(ee(Ii),ee(Gn),ee(la),ee(vr),ee(Pw),ee(y0),ee(Kr),ee(Qr),ee(Ll))};static \u0275cmp=a({type:t,selectors:[["cos-fileexplorer"]],viewQuery:function(i,r){if(1&i&&(Wt(uW,7),Wt(dW,7),Wt(fW,7)),2&i){let o;$t(o=Gt())&&(r.fileExplrMainCntnr=o.first),$t(o=Gt())&&(r.fileExplorerRootContainer=o.first),$t(o=Gt())&&(r.fileExplrCntntCntnr=o.first)}},decls:239,vars:120,consts:[["fileExplorerRootContainer",""],["fileExplorerMainContainer",""],["navExplorerContainer",""],["fileExplorerContentContainer",""],["iconsView",""],["listView0",""],["detailsView0",""],["contentView0",""],["tilesView0",""],["elseBlock",""],[3,"click","runningProcessID","processAppIcon","processAppName"],[1,"fileexp-header-tab-container"],[1,"fileexp-header-tabs"],[1,"fileexp-tab","highlight-default"],[1,"fileexp-tab"],[1,"fileexp-tab","active"],[1,"fileexp-header-tab-content-container"],[1,"fileexp-tab-pane"],[1,"fileexp-tab-pane","active"],[1,"view-tab-pane-container"],[1,"tab-empty-line-container"],[1,"view-tab-pane-top-cntnr"],[1,"view-tab-pane-top1"],[1,"tab-empty-space"],[1,"figure-tab-view-pane"],[1,"img-tab-view-pane",3,"src"],[1,"span-tab-view-pane"],[1,"span-tab-view-pane1"],[1,"view-tab-pane-top2"],[1,"tab-pane-top2-1"],[1,"span-tab-pane-cntnr"],[1,"figure-tab-view-pane1"],[1,"img-tab-view-pane1",3,"src"],[1,"div-tab-view-pane"],[1,"span-tab-view-pane-cntnt"],[1,"tab-empty-space1"],[1,"tab-pane-top2-2"],[1,"view-tab-pane-bottom"],[1,"view-tab-layout-container"],[1,"view-tab-layout-top-cntnr"],[1,"view-tab-layout-top1",3,"mouseenter","mouseleave"],[1,"view-tab-layout-content"],[1,"span-tab-layout-cntnr",3,"mouseenter","mouseleave","click","id"],[1,"figure-tab-view-layout"],[1,"img-tab-view-layout",3,"src"],[1,"div-tab-view-layout"],[1,"view-tab-layout-content1"],[1,"view-tab-layout-content2"],[1,"view-tab-layout-top2"],[1,"view-tab-layout-bottom"],[1,"view-tab-current-view-container"],[1,"header-empty-line-container"],[1,"fileexp-header-container"],[1,"header-nav-btn-container"],[1,"figure-alt"],[1,"img-alt-left-right"],["xmlns","http://www.w3.org/2000/svg","height","16","width","16","viewBox","0 0 512 512",3,"click","mouseenter","mouseleave"],["d","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"],["d","M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"],[1,"figure-alt-chevron"],[1,"img-alt-chevron"],["xmlns","http://www.w3.org/2000/svg","height","9","width","9","viewBox","0 200 512 512",3,"mouseenter","mouseleave"],["d","M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"],[1,"figure-alt-up",3,"click","mouseenter","mouseleave"],[1,"img-alt-up"],["xmlns","http://www.w3.org/2000/svg","height","16","width","16","viewBox","0 0 512 512"],["d","M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 141.2V448c0 17.7 14.3 32 32 32s32-14.3 32-32V141.2L329.4 246.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"],[1,"header-nav-path-container",3,"id"],[3,"ngSubmit","formGroup"],[1,"nav-path-container",3,"click","focusout"],[1,"span","head-nav-path-cntnr"],[1,"figure-nav-path-cntnr"],[1,"img-nav-path-cntnr",3,"src"],[1,"nav-path-gen-main-container",3,"id"],[1,"span","head-nav-path-gen-cntnr0"],[1,"figure-nav-path-gen-cntnr"],[1,"img-nav-path-gen-cntnr",3,"src"],["class","nav-path-gen-container",4,"ngFor","ngForOf"],["type","text","formControlName","pathInput","autofocus","","spellcheck","false",1,"path-input",3,"placeholder","id"],[1,"span","head-nav-path-cntnr1",3,"click"],[1,"figure-nav-path-cntnr1"],[1,"img-nav-path-cntnr1",3,"src"],[1,"span","head-nav-path-cntnr2",3,"click"],[1,"figure-nav-path-cntnr2"],[1,"img-nav-path-cntnr2",3,"src"],[1,"nav-path-containter1",3,"id"],["class","nav-path-entry-containter",4,"ngFor","ngForOf"],[1,"header-nav-search-container"],[1,"search-container"],[1,"span","head-search-cntnr"],[1,"figure-search-cntnr"],[1,"img-search-cntnr",3,"src"],["type","text","placeholder","Search OSDisk(C:)","formControlName","searchInput","spellcheck","false",1,"search-input",3,"focus","focusout","input","id"],[1,"span","head-search-cntnr1",3,"click","mouseenter","mouseleave"],["class","img-search-cntnr",3,"src",4,"ngIf"],[1,"span","head-search-cntnr2",3,"click","mouseenter","mouseleave"],[1,"search-history-containter",3,"id"],["class","search-entry-containter",4,"ngFor","ngForOf"],[1,"header-empty-line-container2"],[1,"fileexp-main-container"],[1,"fileexp-content-container"],[1,"navigation-content-container"],["id","myUL"],[1,"caret"],[1,"nested"],[1,"file-content-container"],[3,"dragover","drop","click","contextmenu","ngClass","id"],[3,"ngTemplateOutlet"],[1,"tool-tip-container",3,"id"],[1,"tool-tip-arrow"],[1,"tool-tip-base"],[3,"generalMenu","style","menuType",4,"ngIf"],[3,"nestedMenu","style","menuType",4,"ngIf"],["class","fx-information-tip-container",3,"id",4,"ngIf"],[1,"previewOrdetails-content-container"],[1,"fileexp-footer-container"],[1,"span-footer"],[1,"nav-path-gen-container"],["class","span head-nav-path-gen-cntnr",4,"ngIf"],[1,"span","mid-nav-path-gen-cntnr"],[1,"span","head-nav-path-gen-cntnr"],[1,"nav-path-entry-containter"],[1,"span"],[1,"figure-nav-path-entry"],[1,"img-nav-path-entry",3,"src"],[1,"span","mid-nav-path-entry"],[1,"search-entry-containter"],[1,"figure-search-entry"],[1,"img-search-entry",3,"src"],[1,"span","mid-search-entry"],["class","li-icon-size-view",3,"id",4,"ngFor","ngForOf"],[1,"li-icon-size-view",3,"id"],["tabindex","0",1,"button-icon-size-view",3,"dblclick","mouseenter","mouseleave","contextmenu","click","id"],[1,"figure-icon-size-view",3,"id"],[1,"img-icon-size-view",3,"src","alt","id"],[1,"figcaption-icon-size-view",3,"id"],[1,"rename-textbox",3,"id"],["type","text","formControlName","renameInput","autofocus","","spellcheck","false",3,"keypress","id"],["class","li-list-view",3,"id",4,"ngFor","ngForOf"],[1,"li-list-view",3,"id"],["tabindex","0",1,"button-list-view",3,"dblclick","mouseenter","mouseleave","contextmenu","click","id"],[1,"span-list-view"],[1,"figure-list-view"],[1,"img-list-view",3,"src","alt","id"],[1,"figcaption-list-view",3,"id"],["class","li-content-view",4,"ngFor","ngForOf"],[1,"li-content-view"],["tabindex","0",1,"button-content-view",3,"dblclick","mouseenter","mouseleave","contextmenu","click","id"],[1,"span-content-view"],[1,"figure-content-view",3,"id"],[1,"img-content-view",3,"src","alt","id"],[1,"div-content-view"],[1,"figcaption-content-view",3,"id"],["class","div-extra-info-cntnr",4,"ngIf","ngIfElse"],[1,"line-container"],[1,"line"],[1,"div-extra-info-cntnr"],[1,"div-extra-info-content"],["class","li-tiles-view",4,"ngFor","ngForOf"],[1,"li-tiles-view"],["tabindex","0",1,"button-tiles-view",3,"dblclick","mouseenter","mouseleave","contextmenu","click","id"],[1,"span-tiles-view"],[1,"figure-tiles-view"],[1,"img-tiles-view",3,"src","alt","id"],["class","figcaption-tiles-view",3,"id",4,"ngIf","ngIfElse"],[1,"figcaption-tiles-view",3,"id"],[1,"figcaption-title-view-cntnr"],[1,"div-figcaption-tiles-view-cntnr"],[1,"div-figcaption-tiles-view",3,"id"],[1,"div-figcaption-tiles-view"],[3,"generalMenu","menuType"],[3,"nestedMenu","menuType"],[1,"fx-information-tip-container",3,"id"],["class","fx-information-tip-item-container",4,"ngFor","ngForOf"],[1,"fx-information-tip-item-container"],[1,"fx-information-tip-item"]],template:function(i,r){if(1&i){const o=Ht();x(0,"cos-window",10),ye("click",function(){return te(o),ne(r.setFileExplorerWindowToFocus(r.processId))}),x(1,"div",null,0)(3,"div",11)(4,"div",12)(5,"div",13),ce(6,"File"),L(),x(7,"div",14),ce(8,"Home"),L(),x(9,"div",15),ce(10,"View"),L()(),x(11,"div",16),ge(12,"div",17)(13,"div",17),x(14,"div",18)(15,"div",19),ge(16,"div",20),x(17,"div",21)(18,"div",22),ge(19,"div",23),x(20,"figure",24),ge(21,"img",25),un(22,"safeResourceUrl"),L(),x(23,"span",26),ce(24," Navigation "),L(),x(25,"span",27),ce(26," pane "),L()(),x(27,"div",28),ge(28,"div",23),x(29,"div",29)(30,"span",30)(31,"figure",31),ge(32,"img",32),un(33,"safeResourceUrl"),L(),x(34,"div",33)(35,"span",34),ce(36," Preview pane"),L()()()(),ge(37,"div",35),x(38,"div",36)(39,"span",30)(40,"figure",31),ge(41,"img",32),un(42,"safeResourceUrl"),L(),x(43,"div",33)(44,"span",34),ce(45," Details pane "),L()()()()()(),x(46,"div",37),ce(47," Panes "),L()(),x(48,"div",38),ge(49,"div",20),x(50,"div",39)(51,"div",40),ye("mouseenter",function(){return te(o),ne(r.colorTabLayoutContainer())})("mouseleave",function(){return te(o),ne(r.unColorTabLayoutContainer())}),x(52,"div",41)(53,"span",42),ye("mouseenter",function(){return te(o),ne(r.onMouseEnterTabLayoutBtn(r.extraLargeIconsView,1))})("mouseleave",function(){return te(o),ne(r.onMouseLeaveTabLayoutBtn(1))})("click",function(){return te(o),ne(r.onClickTabLayoutBtn(r.extraLargeIconsView,1))}),x(54,"figure",43),ge(55,"img",44),un(56,"safeResourceUrl"),L(),x(57,"div",45),ce(58,"Extra large icons"),L()(),x(59,"span",42),ye("mouseenter",function(){return te(o),ne(r.onMouseEnterTabLayoutBtn(r.largeIconsView,2))})("mouseleave",function(){return te(o),ne(r.onMouseLeaveTabLayoutBtn(2))})("click",function(){return te(o),ne(r.onClickTabLayoutBtn(r.largeIconsView,2))}),x(60,"figure",43),ge(61,"img",44),un(62,"safeResourceUrl"),L(),x(63,"div",45),ce(64,"Large icons"),L()(),x(65,"span",42),ye("mouseenter",function(){return te(o),ne(r.onMouseEnterTabLayoutBtn(r.mediumIconsView,3))})("mouseleave",function(){return te(o),ne(r.onMouseLeaveTabLayoutBtn(3))})("click",function(){return te(o),ne(r.onClickTabLayoutBtn(r.mediumIconsView,3))}),x(66,"figure",43),ge(67,"img",44),un(68,"safeResourceUrl"),L(),x(69,"div",45),ce(70,"Medium icons"),L()()(),x(71,"div",46)(72,"span",42),ye("mouseenter",function(){return te(o),ne(r.onMouseEnterTabLayoutBtn(r.smallIconsView,4))})("mouseleave",function(){return te(o),ne(r.onMouseLeaveTabLayoutBtn(4))})("click",function(){return te(o),ne(r.onClickTabLayoutBtn(r.smallIconsView,4))}),x(73,"figure",43),ge(74,"img",44),un(75,"safeResourceUrl"),L(),x(76,"div",45),ce(77,"Small icons"),L()(),x(78,"span",42),ye("mouseenter",function(){return te(o),ne(r.onMouseEnterTabLayoutBtn(r.listView,5))})("mouseleave",function(){return te(o),ne(r.onMouseLeaveTabLayoutBtn(5))})("click",function(){return te(o),ne(r.onClickTabLayoutBtn(r.listView,5))}),x(79,"figure",43),ge(80,"img",44),un(81,"safeResourceUrl"),L(),x(82,"div",45),ce(83,"List"),L()(),x(84,"span",42),ye("mouseenter",function(){return te(o),ne(r.onMouseEnterTabLayoutBtn(r.detailsView,6))})("mouseleave",function(){return te(o),ne(r.onMouseLeaveTabLayoutBtn(6))})("click",function(){return te(o),ne(r.onClickTabLayoutBtn(r.detailsView,6))}),x(85,"figure",43),ge(86,"img",44),un(87,"safeResourceUrl"),L(),x(88,"div",45),ce(89,"Details"),L()()(),x(90,"div",47)(91,"span",42),ye("mouseenter",function(){return te(o),ne(r.onMouseEnterTabLayoutBtn(r.tilesView,7))})("mouseleave",function(){return te(o),ne(r.onMouseLeaveTabLayoutBtn(7))})("click",function(){return te(o),ne(r.onClickTabLayoutBtn(r.tilesView,7))}),x(92,"figure",43),ge(93,"img",44),un(94,"safeResourceUrl"),L(),x(95,"div",45),ce(96,"Tiles"),L()(),x(97,"span",42),ye("mouseenter",function(){return te(o),ne(r.onMouseEnterTabLayoutBtn(r.contentView,8))})("mouseleave",function(){return te(o),ne(r.onMouseLeaveTabLayoutBtn(8))})("click",function(){return te(o),ne(r.onClickTabLayoutBtn(r.contentView,8))}),x(98,"figure",43),ge(99,"img",44),un(100,"safeResourceUrl"),L(),x(101,"div",45),ce(102,"Content"),L()()()(),ge(103,"div",48),L(),x(104,"div",49),ce(105," Layout "),L()(),ge(106,"div",50),L()()(),ge(107,"div",51),x(108,"div",52)(109,"div",53)(110,"figure",54)(111,"div",55),Hr(),x(112,"svg",56),ye("click",function(){return te(o),ne(r.goBackAlevel())})("mouseenter",function(){return te(o),ne(r.colorPrevNavBtn())})("mouseleave",function(){return te(o),ne(r.uncolorPrevNavBtn())}),ge(113,"path",57),L()()(),hs(),x(114,"figure",54)(115,"div",55),Hr(),x(116,"svg",56),ye("click",function(){return te(o),ne(r.goForwardAlevel())})("mouseenter",function(){return te(o),ne(r.colorNextNavBtn())})("mouseleave",function(){return te(o),ne(r.uncolorNextNavBtn())}),ge(117,"path",58),L()()(),hs(),x(118,"figure",59)(119,"div",60),Hr(),x(120,"svg",61),ye("mouseenter",function(){return te(o),ne(r.colorChevron())})("mouseleave",function(){return te(o),ne(r.unColorChevron())}),ge(121,"path",62),L()()(),hs(),x(122,"figure",63),ye("click",function(){return te(o),ne(r.goUpAlevel())})("mouseenter",function(){return te(o),ne(r.colorUpNavBtn())})("mouseleave",function(){return te(o),ne(r.uncolorUpNavBtn())}),x(123,"div",64),Hr(),x(124,"svg",65),ge(125,"path",66),L()()()(),hs(),x(126,"div",67)(127,"form",68),ye("ngSubmit",function(){return te(o),ne(r.isFormDirty())}),x(128,"div",69),ye("click",function(){return te(o),ne(r.showPathTextBox())})("focusout",function(){return te(o),ne(r.hidePathTextBox())}),x(129,"span",70)(130,"figure",71),ge(131,"img",72),un(132,"safeResourceUrl"),L()(),x(133,"div",73)(134,"span",74)(135,"figure",75),ge(136,"img",76),un(137,"safeResourceUrl"),L()(),ze(138,pW,4,2,"div",77),L(),x(139,"div",73),ge(140,"input",78),L(),x(141,"span",79),ye("click",function(){return te(o),ne(r.hideshowPathHistory())}),x(142,"figure",80),ge(143,"img",81),un(144,"safeResourceUrl"),L()(),x(145,"span",82),ye("click",function(){return te(o),ne(r.refreshIcons())}),x(146,"figure",83),ge(147,"img",84),un(148,"safeResourceUrl"),L()()()(),x(149,"div",85),ze(150,gW,7,4,"div",86),L()(),x(151,"div",87)(152,"form",68),ye("ngSubmit",function(){return te(o),ne(r.isFormDirty())}),x(153,"div",88)(154,"span",89)(155,"figure",90),ge(156,"img",91),un(157,"safeResourceUrl"),L()(),x(158,"input",92),ye("focus",function(){return te(o),ne(r.showSearchHistory())})("focusout",function(){return te(o),ne(r.hideSearchHistory())})("input",function(){return te(o),ne(r.onInputChange())}),L(),x(159,"span",93),ye("click",function(){return te(o),ne(r.onClearSearchTextBox())})("mouseenter",function(){return te(o),ne(r.handleClearSearchIconHighlights())})("mouseleave",function(){return te(o),ne(r.handleClearSearchIconHighlights())}),x(160,"figure",90),ze(161,mW,2,3,"img",94),L()(),x(162,"span",95),ye("click",function(){return te(o),ne(r.onSearch())})("mouseenter",function(){return te(o),ne(r.handleSearchIconHighlights())})("mouseleave",function(){return te(o),ne(r.handleSearchIconHighlights())}),x(163,"figure",90),ze(164,yW,2,3,"img",94),L()()()(),x(165,"div",96),ze(166,_W,7,4,"div",97),L()()(),ge(167,"div",98),x(168,"div",99,1)(170,"div",100)(171,"div",101,2)(173,"ul",102)(174,"li")(175,"span",103),ce(176,"This PC"),L(),x(177,"ul",104)(178,"li"),ce(179,"Water"),L(),x(180,"li"),ce(181,"Coffee"),L(),x(182,"li")(183,"span",103),ce(184,"Tea"),L(),x(185,"ul",104)(186,"li"),ce(187,"Black Tea"),L(),x(188,"li"),ce(189,"White Tea"),L(),x(190,"li")(191,"span",103),ce(192,"Green Tea"),L(),x(193,"ul",104)(194,"li"),ce(195,"Sencha"),L(),x(196,"li"),ce(197,"Gyokuro"),L(),x(198,"li"),ce(199,"Matcha"),L(),x(200,"li"),ce(201,"Pi Lo Chun"),L()()()()()()()()(),x(202,"div",105,3)(204,"ol",106),ye("dragover",function(l){return te(o),ne(r.onDragOver(l))})("drop",function(l){return te(o),ne(r.onDrop(l))})("click",function(){return te(o),ne(r.hideIconContextMenu(r.name))})("click",function(){return te(o),ne(r.handleIconHighLightState())})("contextmenu",function(l){return te(o),ne(r.onShowFileExplorerContextMenu(l))}),Cl(205,107),ze(206,wW,1,1,"ng-template",null,4,Li)(208,SW,1,1,"ng-template",null,5,Li)(210,bW,2,0,"ng-template",null,6,Li)(212,xW,1,1,"ng-template",null,7,Li)(214,PW,1,1,"ng-template",null,8,Li),x(216,"div",108),ge(217,"div",109),x(218,"div",110),ce(219," A file name can't contain any of the following characters: "),ge(220,"br")(221,"br"),ce(222,' \\ / : * ? " < > | '),L()(),ze(223,AW,1,4,"cos-menu",111)(224,OW,1,4,"cos-menu",112)(225,FW,2,3,"div",113),L()(),x(226,"div",114)(227,"p"),ce(228,"hide/show"),L()()()(),x(229,"div",115),ge(230,"span",116),x(231,"span",116),ce(232),L(),x(233,"span",116),ce(234,"|"),L(),x(235,"span",116),ce(236),L(),x(237,"span",116),ce(238,"|"),L()()()()}if(2&i){const o=fi(207),s=fi(209),l=fi(211),h=fi(213),g=fi(215);K("runningProcessID",r.processId)("processAppIcon",r.icon)("processAppName",r.displayName),B(21),K("src",dn(22,88,"osdrive/icons/navigation_pane.ico"),et),B(11),K("src",dn(33,90,"osdrive/icons/preview_pane.ico"),et),B(9),K("src",dn(42,92,"osdrive/icons/details_pane.ico"),et),B(10),Bt(r.tabLayoutCntnrStyle),B(2),mt("id","tabLayoutIconCntnr-",r.processId,"-1"),B(2),K("src",dn(56,94,"osdrive/icons/extral_large_image.ico"),et),B(4),mt("id","tabLayoutIconCntnr-",r.processId,"-2"),B(2),K("src",dn(62,96,"osdrive/icons/large_image.ico"),et),B(4),mt("id","tabLayoutIconCntnr-",r.processId,"-3"),B(2),K("src",dn(68,98,"osdrive/icons/medium_icons_view.ico"),et),B(5),mt("id","tabLayoutIconCntnr-",r.processId,"-4"),B(2),K("src",dn(75,100,"osdrive/icons/small_icons_view.ico"),et),B(4),mt("id","tabLayoutIconCntnr-",r.processId,"-5"),B(2),K("src",dn(81,102,"osdrive/icons/list_of_thumbnails_view.ico"),et),B(4),mt("id","tabLayoutIconCntnr-",r.processId,"-6"),B(2),K("src",dn(87,104,"osdrive/icons/details_view.ico"),et),B(5),mt("id","tabLayoutIconCntnr-",r.processId,"-7"),B(2),K("src",dn(94,106,"osdrive/icons/tiles_view.ico"),et),B(4),mt("id","tabLayoutIconCntnr-",r.processId,"-8"),B(2),K("src",dn(100,108,"osdrive/icons/content_view.ico"),et),B(13),Bt(r.prevNavBtnStyle),B(4),Bt(r.nextNavBtnStyle),B(4),Bt(r.recentNavBtnStyle),B(2),Bt(r.upNavBtnCntnrStyle),B(2),Bt(r.upNavBtnStyle),B(2),mt("id","hdrNavPathCntnr-",r.processId,""),B(),K("formGroup",r.pathForm),B(4),K("src",dn(132,110,r.navPathIcon),et),B(2),mt("id","pathIconBox-",r.processId,""),B(3),K("src",dn(137,112,"osdrive/icons/grey_nav_forward_32.png"),et),B(2),K("ngForOf",r._directoryHops),B(),mt("id","pathTxtBoxCntr-",r.processId,""),B(),L_("placeholder",r.directory),mt("id","pathTxtBox-",r.processId,""),B(),Xn("active",r.showPathHistory),B(2),K("src",dn(144,114,"osdrive/icons/grey_nav_expand_32.png"),et),B(4),K("src",dn(148,116,"osdrive/icons/grey_nav_refresh_32.png"),et),B(2),mt("id","pathHistory-",r.processId,""),B(),K("ngForOf",r.pathHistory),B(2),K("formGroup",r.searchForm),B(4),K("src",dn(157,118,"osdrive/icons/search_32.png"),et),B(2),mt("id","searchTxtBox-",r.processId,""),B(),Bt(r.clearSearchStyle),B(2),K("ngIf",r.isSearchBoxNotEmpty),B(),Bt(r.searchStyle),Xn("active",r.isSearchBoxNotEmpty),B(2),K("ngIf",r.isSearchBoxNotEmpty),B(),mt("id","searchHistory-",r.processId,""),B(),K("ngForOf",r.searchHistory),B(38),mt("id","olElmnt-",r.processId,""),K("ngClass",r.olClassName),B(),K("ngTemplateOutlet",r.currentViewOption===r.smallIconsView||r.currentViewOption===r.mediumIconsView||r.currentViewOption===r.largeIconsView||r.currentViewOption===r.extraLargeIconsView?o:r.currentViewOption===r.listView?s:r.currentViewOption===r.detailsView?l:r.currentViewOption===r.contentView?h:g),B(11),mt("id","invalidChars-",r.processId,""),B(7),K("ngIf",r.showIconCntxtMenu),B(),K("ngIf",r.showFileExplrCntxtMenu),B(),K("ngIf",r.showInformationTip),B(7),Jt("",r.files.length," items"),B(4),Jt("",r.files.length-r.files.length," items selected")}},dependencies:[yd,bs,ea,_d,$p,Al,Sd,Fp,Fl,kd,Xr,Aw,Zk,lW],styles:['.fileexp-main-container{width:100%;height:100%}.fileexp-content-container{width:100%;display:flex;background-color:#202020}.fileexp-footer-container{width:100%;height:24px;display:inline-flex;background-color:#303438}.span-footer{color:#fff;font-size:11px;font-weight:400;margin:5px 4px}.fileexp-header-tab-container{width:100%}.fileexp-header-tabs{display:flex;background-color:#080404}.fileexp-tab{width:55px;padding:4px 8px;margin:0 4px;font-weight:400;font-size:11px;text-align:center;cursor:default;background-color:#000;color:#fff;transition:background-color .3s}.fileexp-tab.highlight-default{margin:0;background-color:#0464ac;color:#fff}.fileexp-tab.active{border:.3px solid #2d2d2d;border-bottom:none;background-color:#202020;color:#fff}.fileexp-header-tab-content-container{width:100%;height:100%}.fileexp-tab-pane{display:none}.fileexp-tab-pane.active{display:flex}.view-tab-pane-container{width:-moz-fit-content;width:fit-content;height:94px;background-color:#191919;border-bottom:1px solid #2d2d2d;border-top:1px solid #2d2d2d}.tab-empty-line-container{height:2.5px;background-color:#191919}.tab-empty-space{height:5px}.tab-empty-space1{height:10px}.view-tab-pane-top-cntnr{display:flex;width:100%;border-right:.5px solid #9d9d9d}.view-tab-pane-top1{padding-left:5px}.figure-tab-view-pane{position:relative;min-width:8px;place-items:center}.img-tab-view-pane{height:25px;width:25px}.span-tab-view-pane{position:relative;text-align:center;color:#fff;font-size:11px;font-weight:400;top:-3px}.span-tab-view-pane1{position:relative;text-align:center;color:#fff;font-size:11px;font-weight:400;top:-10px}.view-tab-pane-top2{display:block;padding-right:2px}.tab-pane-top2-1,.tab-pane-top2-2{position:relative;width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;top:2px}.tab-pane-top2-2{top:0}.span-tab-pane-cntnr{display:flex;padding:2px}.figure-tab-view-pane1{position:relative;height:16px;width:17px;place-items:center}.img-tab-view-pane1{height:16px;width:16px;margin:0 1px}.div-tab-view-pane{display:flex;width:71px;margin:0 1px}.span-tab-view-pane-cntnt{position:relative;text-align:center;color:#fff;font-size:11px;font-weight:400;top:1px}.view-tab-pane-bottom{position:relative;font-size:11px;color:#fff;font-weight:400;text-align:center;top:1px}.view-tab-layout-container{width:-moz-fit-content;width:fit-content;height:94px;background-color:#191919;border-bottom:1px solid #2d2d2d;border-top:1px solid #2d2d2d;padding-left:4px;padding-right:4px}.view-tab-layout-top-cntnr{display:flex;width:100%}.view-tab-layout-top1{margin-top:4px;width:345px;height:68px;background-color:#302c2c;border:1px solid #2d2d2d}.view-tab-layout-top2{width:4px;height:72px;border-right:.5px solid #9d9d9d}.view-tab-layout-content,.view-tab-layout-content1,.view-tab-layout-content2{display:flex;padding:1px 2px;width:100%}.view-tab-layout-content1,.view-tab-layout-content2{padding:0 2px}.figure-tab-view-layout{position:relative;height:16px;width:20px;place-items:center}.img-tab-view-layout{height:16px;width:16px;margin:0 1px}.span-tab-layout-cntnr{display:flex;border:.5px solid transparent;padding:2px 0}.div-tab-view-layout{display:flex;width:90px;align-items:center;vertical-align:top;text-align:left;color:#fff;font-size:11px;font-weight:400;margin:0 1px}.view-tab-layout-bottom{position:relative;font-size:11px;color:#fff;font-weight:400;text-align:center;top:1px;margin-bottom:4px}.view-tab-current-view-container{display:flex;width:100%;height:94px;background-color:#191919;border-bottom:1px solid #2d2d2d;border-top:1px solid #2d2d2d}.fileexp-header-container{width:100%;display:flex;background-color:#191919}.header-empty-line-container{height:6px;background-color:#191919}.header-empty-line-container2{height:7px;background-color:#191919}.header-nav-btn-container{left:0;height:24px;width:-moz-fit-content;width:fit-content;display:flex}.img-alt-left-right{height:16px;width:16px;top:5px;image-rendering:optimizeQuality;position:relative}.figure-alt{position:relative;align-items:center;width:-moz-fit-content;width:fit-content;margin:0 10px}.img-alt-chevron{height:9px;width:9px;image-rendering:optimizeQuality;position:relative;top:5px}.figure-alt-chevron{position:relative;align-items:center;width:-moz-fit-content;width:fit-content;margin:0 1px}.figure-alt-up{position:relative;align-items:center;width:-moz-fit-content;width:fit-content;padding:0 0 0 5px}.img-alt-up{height:16px;width:16px;top:6px;image-rendering:optimizeQuality;position:relative}.header-nav-path-container{width:100%;padding:0 0 0 2px}.nav-path-container{display:flex;width:100%}.figure-nav-path-cntnr{position:relative;min-width:18px}.img-nav-path-cntnr{height:18px;width:15px;margin:0 3px;image-rendering:optimizeQuality;position:relative}span.head-nav-path-cntnr{align-items:center;display:inline-flex;border:.5px solid #9d9d9d;border-right:none}.nav-path-gen-main-container{display:flex;height:24px;width:450px;width:100%;border:.5px solid #9d9d9d;border-left:none;border-right:none}.nav-path-gen-container{display:inline-flex;width:-moz-fit-content;width:fit-content}.nav-path-gen-container:hover{display:inline-flex;width:-moz-fit-content;width:fit-content;background-color:#3f3e3e}span.head-nav-path-gen-cntnr0{align-items:center;display:inline-flex}span.head-nav-path-gen-cntnr0:hover{align-items:center;display:inline-flex;background-color:#3f3e3e}span.head-nav-path-gen-cntnr{align-items:center;display:inline-flex}span.head-nav-path-gen-cntnr.active{align-items:center;display:inline-flex;border:.5px solid #9d9d9d}.nav-path-gen-container:hover span.head-nav-path-gen-cntnr{align-items:center;display:inline-flex;border-right:.5px solid #191919}span.mid-nav-path-gen-cntnr{display:flex;align-items:center;margin:0 4px;color:#ccc;text-align:left;font-size:11px;font-weight:400}.figure-nav-path-gen-cntnr{position:relative;min-width:14px}.img-nav-path-gen-cntnr{height:11px;width:11px;image-rendering:optimizeQuality;position:relative}.figure-nav-path-cntnr1{position:relative;min-width:18px}.img-nav-path-cntnr1{height:10px;width:10px;margin:0 6px;image-rendering:optimizeQuality;position:relative}span.head-nav-path-cntnr1{align-items:center;display:inline-flex;border:.5px solid #9d9d9d;border-left:none;border-right:none}span.head-nav-path-cntnr1.active{align-items:center;display:inline-flex;border:.5px solid #9d9d9d;background-color:#3f3e3e}span.head-nav-path-cntnr1:hover{align-items:center;display:inline-flex;border:.5px solid rgb(18,107,240);transition:border-color .3s ease}.figure-nav-path-cntnr2{position:relative;min-width:20px}.img-nav-path-cntnr2{height:12px;width:12px;margin:0 6px;image-rendering:optimizeQuality;position:relative}span.head-nav-path-cntnr2{align-items:center;display:inline-flex;border:.5px solid #9d9d9d}span.head-nav-path-cntnr2.active{align-items:center;display:inline-flex;border:.5px solid #9d9d9d;background-color:#3f3e3e}span.head-nav-path-cntnr2:hover{align-items:center;display:inline-flex;border:.5px solid rgb(18,107,240);transition:border-color .3s ease}.path-input{position:relative;width:350px;width:100%;height:24px;border:.5px solid #9d9d9d;border-left:none;border-right:none;color:whitefff;background-color:#191919;display:none}.nav-path-containter1{position:absolute;width:405px;border:1px solid #9d9d9d;margin-right:10px;max-height:180px;overflow-y:auto;background-color:#191919;z-index:2;display:none}.nav-path-entry-containter{display:inline-flex;width:100%;margin:8px 8px 8px 0;overflow-y:hidden}.figure-nav-path-entry{position:relative;align-items:center;min-width:8px}.img-nav-path-entry{height:12px;width:12px;top:0;margin:0 8px;image-rendering:optimizeQuality;position:relative}span.mid-nav-path-entry{padding:0 2px;color:#fff;text-align:left;font-size:10px;font-weight:400;white-space:nowrap;overflow:hidden;display:inline-flex;align-items:center}.header-nav-search-container{width:-moz-fit-content;width:fit-content;right:0;margin:0 10px}.search-input{position:relative;min-width:105px;max-width:100%;height:24px;border:.5px solid #9d9d9d;border-left:none;border-right:none;color:#ccc;background-color:#191919}.search-container{display:flex;width:100%}.figure-search-cntnr{position:relative;min-width:28px}.img-search-cntnr{height:12px;width:12px;margin:0 8px;image-rendering:optimizeQuality;position:relative}span.head-search-cntnr{align-items:center;display:inline-flex;border:.5px solid #9d9d9d;border-right:none}span.head-search-cntnr1{align-items:center;display:inline-flex;border:.5px solid #9d9d9d;border-left:none;border-right:none}span.head-search-cntnr2{align-items:center;display:inline-flex;border:.5px solid #9d9d9d;border-left:none}span.head-search-cntnr2.active{align-items:center;display:inline-flex;border:.5px solid #9d9d9d;background-color:#00f}.search-history-containter{position:absolute;width:inherit;border:1px solid #9d9d9d;margin-right:10px;max-height:180px;overflow-y:hidden;background-color:#191919;z-index:2;display:none}.search-entry-containter{display:inline-flex;width:100%;margin:8px 8px 8px 0;overflow-y:hidden}.figure-search-entry{position:relative;align-items:center;min-width:8px}.img-search-entry{height:12px;width:12px;top:0;margin:0 8px;image-rendering:optimizeQuality;position:relative}span.mid-search-entry{padding:0 2px;color:#fff;text-align:left;font-size:10px;font-weight:400;white-space:nowrap;overflow:hidden;display:inline-flex;align-items:center}.navigation-content-container{min-width:150px;background-color:#191919}ul,#myUL{list-style-type:none}#myUL{margin:0;padding:0}.caret{cursor:pointer;-webkit-user-select:none;user-select:none;color:#fff}.caret:before{content:"\\25b6";color:#ccc;display:inline-block;margin-right:6px}.caret-down:before{transform:rotate(90deg)}.nested{display:none}.nav-active{display:block}.file-content-container{border-left:.5px solid #5a5a5a;min-width:100px;width:100%;overflow-y:auto;height:350px}.previewOrdetails-content-container{min-width:200px;border-left:.5px solid #5a5a5a;background-color:#202020}.ol-icon-size-view{display:grid;grid-auto-flow:row;grid-template-columns:repeat(auto-fill,90px);grid-template-rows:repeat(auto-fill,70px);height:calc(100% - 40px);width:100%;padding:5px 0;row-gap:20px}.li-icon-size-view{display:flex;justify-content:center;padding:2px;height:min-content;z-index:1}.figure-icon-size-view{display:flex;flex-direction:column;margin-bottom:-2px;place-items:center}.figcaption-icon-size-view{-webkit-box-orient:vertical;color:#fff;display:-webkit-box;font-size:12px;letter-spacing:.1px;-webkit-line-clamp:2;position:relative;padding:2px 0;top:-1px;line-height:13px;overflow:hidden;word-break:break-all}.img-icon-size-view{height:45px;width:45px}.button-icon-size-view{background-color:transparent;width:90px;height:70px}.ol-list-view{display:grid;grid-auto-flow:column!important;grid-template-columns:repeat(auto-fill,250px)!important;grid-template-rows:repeat(auto-fill,20px)!important;height:calc(100% - 40px);width:100%;padding:5px 0;row-gap:20px!important;column-gap:2px!important}.li-list-view{display:flex;justify-content:left;padding:2px 2px 2px 15px;height:min-content;z-index:1}.span-list-view{display:flex}.figure-list-view{display:flex;position:relative;place-items:center}.img-list-view{height:18px;width:18px;margin:0 1px}.figcaption-list-view{display:flex;position:relative;width:100%;align-items:center;text-align:left;color:#fff;padding-left:4px;font-size:12px;font-weight:300;margin:0 1px;top:-1px;line-height:13px}.button-list-view{max-width:250px;height:20px}.ol-tiles-view{display:grid;grid-auto-flow:column!important;grid-template-columns:repeat(auto-fill,250px)!important;grid-template-rows:repeat(auto-fill,50px)!important;height:calc(100% - 40px);width:100%;padding:2px 0;row-gap:0px!important;column-gap:10px!important}.li-tiles-view{display:flex;justify-content:left;padding:2px 2px 2px 15px;height:min-content;z-index:1}.span-tiles-view{display:flex}.figure-tiles-view{display:flex;position:relative;place-items:center}.img-tiles-view{height:45px;width:45px;margin:0 1px}.figcaption-tiles-view{display:flex;position:relative;width:100%;align-items:center;text-align:left;color:#fff;font-size:12px;font-weight:300;margin:0 1px;padding-left:3px;top:-8px;line-height:13px}.figcaption-title-view-cntnr{width:100%;height:45px;padding-left:3px}.div-figcaption-tiles-view-cntnr{position:relative;left:-1%}.div-figcaption-tiles-view{align-items:center;text-align:left;color:#fff;font-size:12px;font-weight:300;margin:0 1px;line-height:13px;padding:1px 0}.button-tiles-view{width:250px;height:45px}.ol-content-view{display:grid;height:calc(100% - 40px);width:100%;padding:0!important;row-gap:0px!important;column-gap:0px!important;grid-auto-flow:row!important}.li-content-view{display:flex;justify-content:left;padding:2px 2px 2px 15px;height:min-content;z-index:1}.span-content-view{position:relative;display:flex;padding:2px;height:43px}.div-content-view{display:flex;width:100%;height:40px}.figure-content-view{display:flex;position:relative;place-items:center;height:43px}.img-content-view{height:39px;width:39px;margin:0 1px}.figcaption-content-view{display:flex;position:relative;width:70%;align-items:center;text-align:left;color:#fff;font-size:12px;font-weight:300;margin:0 1px;top:-10px;line-height:13px}.div-extra-info-cntnr{position:relative;width:30%;right:20%;top:4px}.div-extra-info-content{position:relative;width:220px;text-align:left;color:#fff;font-size:11px;font-weight:200;text-overflow:clip;padding:1px 0}.button-content-view{width:100%;height:43px}.line-container{height:.5px;background-color:#202020}.line{border:.2px solid white}.rename-textbox{position:relative;display:none;top:2px;margin-bottom:2px;max-width:75px;max-height:16px;border:1px solid #ccc;overflow:hidden;z-index:2}input{text-align:calc(75px / 2 px);font-size:11.5px;padding-left:4px}input::selection{background-color:#0056b3;color:#fff}.tool-tip-container{position:absolute;width:-moz-fit-content;width:fit-content;border-bottom:1px solid black;box-shadow:0 1px #0000004d;border-bottom-right-radius:5px;border-bottom-left-radius:5px;z-index:-1;opacity:0;transform:translate(-100000px,100000px)}.tool-tip-base{width:-moz-fit-content;width:fit-content;height:40px;line-height:5px;padding:10px;font-size:10px;font-weight:400;text-align:center;color:#000;background:#fff;border:4px solid rgb(255,255,255);border-radius:5px}.tool-tip-arrow{content:"";position:relative;width:0;height:0;border-width:10px;border-style:solid;border-color:#FFFFFF transparent transparent transparent;left:20px;transform:rotate(180deg)}.fx-information-tip-container{display:none;position:absolute;z-index:2;width:-moz-fit-content;width:fit-content;border:1px solid #5a5a5a;background-color:#202020}.fx-information-tip-item-container{z-index:2;width:100%;height:100%}.fx-information-tip-item{z-index:2;padding:2px;height:-moz-fit-content;height:fit-content;width:-moz-fit-content;width:fit-content;font-size:11px;font-weight:400;text-align:center;color:#fff}\n'],encapsulation:2})}return t})();class LW extends U{constructor(n,e){super()}schedule(n,e=0){return this}}const ug={setInterval(t,n,...e){const{delegate:i}=ug;return i?.setInterval?i.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){const{delegate:n}=ug;return(n?.clearInterval||clearInterval)(t)},delegate:void 0},Yk={now:()=>(Yk.delegate||Date).now(),delegate:void 0};class Vd{constructor(n,e=Vd.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,i){return new this.schedulerActionCtor(this,n).schedule(i,e)}}Vd.now=Yk.now;const Ow=new class VW extends Vd{constructor(n,e=Vd.now){super(n,e),this.actions=[],this._active=!1}flush(n){const{actions:e}=this;if(this._active)return void e.push(n);let i;this._active=!0;do{if(i=n.execute(n.state,n.delay))break}while(n=e.shift());if(this._active=!1,i){for(;n=e.shift();)n.unsubscribe();throw i}}}(class BW extends LW{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){var i;if(this.closed)return this;this.state=n;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,e),this}requestAsyncId(n,e,i=0){return ug.setInterval(n.flush.bind(n,this),i)}recycleAsyncId(n,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&ug.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(n,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let r,i=!1;try{this.work(n)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:n,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Jn(i,this),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}}),UW=Ow;function dg(t=0,n,e=UW){let i=-1;return null!=n&&(zM(n)?e=n:i=n),new qt(r=>{let o=function zW(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;o<0&&(o=0);let s=0;return e.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function qk(t=0,n=Ow){return t<0&&(t=0),dg(t,t,n)}function Qk(t,n){return Ut((e,i)=>{let r=null,o=0,s=!1;const l=()=>s&&!r&&i.complete();e.subscribe(yn(i,h=>{r?.unsubscribe();let g=0;const w=o++;Cs(t(h,w)).subscribe(r=yn(i,C=>i.next(n?n(h,C,w,g++):C),()=>{r=null,l()}))},()=>{s=!0,l()}))})}var fg=function(t){return t[t.HIGH=3]="HIGH",t[t.NORMAL=2]="NORMAL",t[t.LOW=1]="LOW",t[t.PAUSED=0]="PAUSED",t}(fg||{}),Bl=function(t){return t[t.HIGH=1e3]="HIGH",t[t.NOMRAL=2e3]="NOMRAL",t[t.LOW=4e3]="LOW",t[t.PAUSED=36e6]="PAUSED",t}(Bl||{}),wt=function(t){return t.NAME="Name",t.STATUS="Status",t.CPU="CPU",t.MEMORY="Memory",t.GPU="GPU",t.DISK="Disk",t.NETWORK="Network",t.PID="PID",t.POWER_USAGE="Power usage",t.PROCESS_NAME="Process name",t.TYPE="Type",t}(wt||{}),hg=function(t){return t.DETAILED_VIEW="Detailed View",t.MINI_VIEW="Mini View",t}(hg||{});let Nw=(()=>{class t{errorNotify=new ke;InfoNotify=new ke;warningNotify=new ke;closeDialogBoxNotify=new ke;static \u0275fac=function(i){return new(i||t)};static \u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),jW=(()=>{class t{el;renderer;startX;isResizing=!1;initialWidth;columnIndex;table=null;constructor(e,i){this.el=e,this.renderer=i}onMouseDown(e){e.preventDefault(),this.startX=e.pageX,this.isResizing=!0,this.initialWidth=this.el.nativeElement.offsetWidth;const r=Array.from(this.el.nativeElement.parentElement.children);if(this.columnIndex=r.indexOf(this.el.nativeElement),this.renderer.addClass(this.el.nativeElement,"resizing"),this.renderer.addClass(document.body,"resizing"),this.table=this.findParentTable(this.el.nativeElement),this.table){const o=this.table.querySelectorAll("th"),s=h=>{if(this.isResizing){const w=this.initialWidth+(h.pageX-this.startX);this.renderer.setStyle(this.el.nativeElement,"width",w+"px"),o[this.columnIndex].style.width=`${w}px`;const C=this.table?.querySelectorAll("tr");console.log("row count:",C),C?.forEach(k=>{const A=k.querySelectorAll("td");A[this.columnIndex]&&(A[this.columnIndex].style.width=`${w}px`)})}},l=()=>{this.isResizing=!1,this.renderer.removeClass(this.el.nativeElement,"resizing"),this.renderer.removeClass(document.body,"resizing"),document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",l)};document.addEventListener("mousemove",s),document.addEventListener("mouseup",l)}}findParentTable(e){for(;e;){if("TABLE"===e.tagName)return e;e?.parentElement&&(e=e.parentElement)}return null}static \u0275fac=function(i){return new(i||t)(ee(Ei),ee($r))};static \u0275dir=y({type:t,selectors:[["","columnResize",""]],hostBindings:function(i,r){1&i&&ye("mousedown",function(s){return r.onMouseDown(s)})}})}return t})();const HW=["tskManagerRootContainer"],WW=["tskMgrTable"],$W=["tskmgrTblCntnr"];function GW(t,n){1&t&&ge(0,"img",49),2&t&&K("src","osdrive/icons/circle.png",et)}function ZW(t,n){1&t&&ge(0,"img",49),2&t&&K("src","osdrive/icons/circle.png",et)}function YW(t,n){1&t&&ge(0,"img",49),2&t&&K("src","osdrive/icons/circle.png",et)}function qW(t,n){1&t&&ge(0,"img",49),2&t&&K("src","osdrive/icons/circle.png",et)}function QW(t,n){1&t&&(x(0,"span",84),ce(1,"v"),L())}function KW(t,n){1&t&&(x(0,"span",84),ce(1,"\u1d27"),L())}function XW(t,n){1&t&&(x(0,"span"),ce(1,"v"),L())}function JW(t,n){1&t&&(x(0,"span"),ce(1,"\u1d27"),L())}function e9(t,n){1&t&&(x(0,"span"),ce(1,"v"),L())}function t9(t,n){1&t&&(x(0,"span"),ce(1,"\u1d27"),L())}function n9(t,n){1&t&&(x(0,"span"),ce(1,"v"),L())}function i9(t,n){1&t&&(x(0,"span"),ce(1,"\u1d27"),L())}function r9(t,n){1&t&&(x(0,"span"),ce(1,"v"),L())}function o9(t,n){1&t&&(x(0,"span"),ce(1,"\u1d27"),L())}function s9(t,n){1&t&&(x(0,"span",85),ce(1,"v"),L())}function a9(t,n){1&t&&(x(0,"span",85),ce(1,"\u1d27"),L())}function c9(t,n){1&t&&(x(0,"span",85),ce(1,"v"),L())}function l9(t,n){1&t&&(x(0,"span",85),ce(1,"\u1d27"),L())}function u9(t,n){1&t&&(x(0,"span",85),ce(1,"v"),L())}function d9(t,n){1&t&&(x(0,"span",85),ce(1,"\u1d27"),L())}function f9(t,n){1&t&&(x(0,"span",85),ce(1,"v"),L())}function h9(t,n){1&t&&(x(0,"span",85),ce(1,"\u1d27"),L())}function p9(t,n){1&t&&(x(0,"span",85),ce(1,"v"),L())}function g9(t,n){1&t&&(x(0,"span",85),ce(1,"\u1d27"),L())}function m9(t,n){1&t&&(x(0,"span"),ce(1,"v"),L())}function y9(t,n){1&t&&(x(0,"span"),ce(1,"\u1d27"),L())}function _9(t,n){1&t&&ge(0,"img",86),2&t&&K("src","osdrive/icons/chkmark32.png",et)}function v9(t,n){1&t&&ge(0,"img",86),2&t&&K("src","osdrive/icons/chkmark32.png",et)}function w9(t,n){1&t&&ge(0,"img",86),2&t&&K("src","osdrive/icons/chkmark32.png",et)}function E9(t,n){1&t&&ge(0,"img",86),2&t&&K("src","osdrive/icons/chkmark32.png",et)}function S9(t,n){1&t&&ge(0,"img",86),2&t&&K("src","osdrive/icons/chkmark32.png",et)}function b9(t,n){1&t&&ge(0,"img",86),2&t&&K("src","osdrive/icons/chkmark32.png",et)}function C9(t,n){1&t&&ge(0,"img",86),2&t&&K("src","osdrive/icons/chkmark32.png",et)}function I9(t,n){1&t&&ge(0,"img",86),2&t&&K("src","osdrive/icons/chkmark32.png",et)}function D9(t,n){1&t&&ge(0,"img",86),2&t&&K("src","osdrive/icons/chkmark32.png",et)}function x9(t,n){1&t&&ge(0,"img",86),2&t&&K("src","osdrive/icons/chkmark32.png",et)}function M9(t,n){1&t&&(x(0,"figure",93),ge(1,"img",94),L()),2&t&&(B(),K("src","osdrive/icons/econo.png",et))}function T9(t,n){if(1&t){const e=Ht();x(0,"tr",64),ye("click",function(){const r=te(e),o=r.$implicit,s=r.index;return ne(le(3).onProcessSelected(s,o.getProcessId))}),x(1,"td",87)(2,"figure",88),ge(3,"img",44),x(4,"figcaption",89),ce(5),L()()(),x(6,"td"),ce(7),L(),x(8,"td"),ze(9,M9,2,1,"figure",90),L(),x(10,"td",91),ce(11),L(),x(12,"td"),ce(13),L(),x(14,"td",92),ce(15),L(),x(16,"td",null,6),ce(18),L(),x(19,"td",null,7),ce(21),L(),x(22,"td",null,8),ce(24),L(),x(25,"td",null,9),ce(27),L(),x(28,"td",null,10),ce(30),L()()}if(2&t){const e=n.$implicit,i=n.index,r=le(3);Xn("active",i===r.selectedRow),vn("id","trElmnt-",r.processId,"-",i,""),B(3),K("src",e.getIcon,et),B(2),Wn(e.getProcessName),B(2),Wn(e.getType),B(2),K("ngIf","Suspended"===e.getProcessStatus),B(2),Wn(e.getProcessId),B(2),Wn(e.getProcessName),B(),Bt(r.setUtilColoumnColors(e.getCpuUsage)),vn("id","tdCpuElmnt-",r.processId,"-",i,""),B(),Jt("",e.getCpuUsage,"%"),B(),Bt(r.setUtilColoumnColors(e.getMemoryUsage)),B(2),Jt("",e.getMemoryUsage," MB"),B(),Bt(r.setUtilColoumnColors(e.getDiskUsage)),B(2),Jt("",e.getDiskUsage," MB/s"),B(),Bt(r.setUtilColoumnColors(e.getNetworkUsage)),B(2),Jt("",e.getNetworkUsage," Mbps"),B(),Bt(r.setUtilColoumnColors(e.getGpuUsage)),B(2),Jt("",e.getGpuUsage,"%"),B(),Bt(r.setUtilColoumnColors(e.getPowerUsage)),B(2),Jt(" ",e.getPowerUsage,"")}}function k9(t,n){if(1&t){const e=Ht();x(0,"table",50,4)(2,"thead"),ge(3,"div",51),x(4,"tr",52),ye("contextmenu",function(r){return te(e),ne(le(2).showContextMenu(r))})("click",function(){return te(e),ne(le(2).hideContextMenu())}),x(5,"th",53),ye("click",function(){return te(e),ne(le(2).sortTable("Name",!0))}),x(6,"div",54),ze(7,QW,2,0,"span",55)(8,KW,2,0,"span",55),L(),x(9,"div",56)(10,"span",57),ce(11," Name "),L()()(),x(12,"th",58),ye("click",function(){return te(e),ne(le(2).sortTable("Type",!0))}),x(13,"div",54),ze(14,XW,2,0,"span",59)(15,JW,2,0,"span",59),L(),x(16,"div",56)(17,"span",57),ce(18," Type "),L()()(),x(19,"th",60)(20,"div",54),ze(21,e9,2,0,"span",59)(22,t9,2,0,"span",59),L(),x(23,"div",56)(24,"span",57),ce(25," Status "),L()()(),x(26,"th",61),ye("click",function(){return te(e),ne(le(2).sortTable("PID",!0))}),x(27,"div",54),ze(28,n9,2,0,"span",59)(29,i9,2,0,"span",59),L(),x(30,"div",62)(31,"span",57),ce(32," PID "),L()()(),x(33,"th",63),ye("click",function(){return te(e),ne(le(2).sortTable("Process name",!0))}),x(34,"div",54),ze(35,r9,2,0,"span",59)(36,o9,2,0,"span",59),L(),x(37,"div",62)(38,"span",57),ce(39," Process name "),L()()(),x(40,"th",64),ye("click",function(){return te(e),ne(le(2).sortTable("CPU",!0))}),x(41,"div",65)(42,"div",66),ze(43,s9,2,0,"span",67)(44,a9,2,0,"span",67),L(),x(45,"div",68)(46,"div",69),ce(47),L(),x(48,"div",70),ce(49," %"),L()()(),x(50,"div",71)(51,"span",72),ce(52," CPU"),L()()(),x(53,"th",64),ye("click",function(){return te(e),ne(le(2).sortTable("Memory",!0))}),x(54,"div",65)(55,"div",66),ze(56,c9,2,0,"span",67)(57,l9,2,0,"span",67),L(),x(58,"div",68)(59,"div",69),ce(60),L(),x(61,"div",70),ce(62," %"),L()()(),x(63,"div",71)(64,"span",73),ce(65," Memory"),L()()(),x(66,"th",64),ye("click",function(){return te(e),ne(le(2).sortTable("Disk",!0))}),x(67,"div",65)(68,"div",66),ze(69,u9,2,0,"span",67)(70,d9,2,0,"span",67),L(),x(71,"div",74)(72,"div",69),ce(73),L(),x(74,"div",70),ce(75," %"),L()()(),x(76,"div",71)(77,"span",73),ce(78," Disk"),L()()(),x(79,"th",64),ye("click",function(){return te(e),ne(le(2).sortTable("Network",!0))}),x(80,"div",65)(81,"div",66),ze(82,f9,2,0,"span",67)(83,h9,2,0,"span",67),L(),x(84,"div",74)(85,"div",69),ce(86),L(),x(87,"div",70),ce(88," %"),L()()(),x(89,"div",71)(90,"span",73),ce(91," Network"),L()()(),x(92,"th",64),ye("click",function(){return te(e),ne(le(2).sortTable("GPU",!0))}),x(93,"div",65)(94,"div",66),ze(95,p9,2,0,"span",67)(96,g9,2,0,"span",67),L(),x(97,"div",74)(98,"div",69),ce(99),L(),x(100,"div",70),ce(101," %"),L()()(),x(102,"div",71)(103,"span",73),ce(104," GPU"),L()()(),x(105,"th",75),ye("click",function(){return te(e),ne(le(2).sortTable("Power usage",!0))}),x(106,"div",54),ze(107,m9,2,0,"span",59)(108,y9,2,0,"span",59),L(),x(109,"div",56)(110,"span",57),ce(111," Power usage"),L()()()(),x(112,"div",76,5)(114,"div",77),ye("click",function(){return te(e),ne(le(2).toggleColumnVisibility("Type"))}),x(115,"span",78)(116,"figure",79),ze(117,_9,1,1,"img",80),L()(),x(118,"span",81),ce(119,"Type"),L(),x(120,"span",82),ge(121,"figure"),L()(),x(122,"div",77),ye("click",function(){return te(e),ne(le(2).toggleColumnVisibility("Status"))}),x(123,"span",78)(124,"figure",79),ze(125,v9,1,1,"img",80),L()(),x(126,"span",81),ce(127,"Status"),L(),x(128,"span",82),ge(129,"figure"),L()(),x(130,"div",77),ye("click",function(){return te(e),ne(le(2).toggleColumnVisibility("PID"))}),x(131,"span",78)(132,"figure",79),ze(133,w9,1,1,"img",80),L()(),x(134,"span",81),ce(135,"PID"),L(),x(136,"span",82),ge(137,"figure"),L()(),x(138,"div",77),ye("click",function(){return te(e),ne(le(2).toggleColumnVisibility("Process name"))}),x(139,"span",78)(140,"figure",79),ze(141,E9,1,1,"img",80),L()(),x(142,"span",81),ce(143,"Process name"),L(),x(144,"span",82),ge(145,"figure"),L()(),x(146,"div",77),ye("click",function(){return te(e),ne(le(2).toggleColumnVisibility("CPU"))}),x(147,"span",78)(148,"figure",79),ze(149,S9,1,1,"img",80),L()(),x(150,"span",81),ce(151,"CPU"),L(),x(152,"span",82),ge(153,"figure"),L()(),x(154,"div",77),ye("click",function(){return te(e),ne(le(2).toggleColumnVisibility("Memory"))}),x(155,"span",78)(156,"figure",79),ze(157,b9,1,1,"img",80),L()(),x(158,"span",81),ce(159,"Memory"),L(),x(160,"span",82),ge(161,"figure"),L()(),x(162,"div",77),ye("click",function(){return te(e),ne(le(2).toggleColumnVisibility("Disk"))}),x(163,"span",78)(164,"figure",79),ze(165,C9,1,1,"img",80),L()(),x(166,"span",81),ce(167,"Disk"),L(),x(168,"span",82),ge(169,"figure"),L()(),x(170,"div",77),ye("click",function(){return te(e),ne(le(2).toggleColumnVisibility("Network"))}),x(171,"span",78)(172,"figure",79),ze(173,I9,1,1,"img",80),L()(),x(174,"span",81),ce(175,"Network"),L(),x(176,"span",82),ge(177,"figure"),L()(),x(178,"div",77),ye("click",function(){return te(e),ne(le(2).toggleColumnVisibility("GPU"))}),x(179,"span",78)(180,"figure",79),ze(181,D9,1,1,"img",80),L()(),x(182,"span",81),ce(183,"GPU"),L(),x(184,"span",82),ge(185,"figure"),L()(),x(186,"div",77),ye("click",function(){return te(e),ne(le(2).toggleColumnVisibility("Power usage"))}),x(187,"span",78)(188,"figure",79),ze(189,x9,1,1,"img",80),L()(),x(190,"span",81),ce(191,"Power usage"),L(),x(192,"span",82),ge(193,"figure"),L()()()(),x(194,"tbody"),ze(195,T9,31,32,"tr",83),L()()}if(2&t){const e=le(2);B(5),Bt(e.thStyle),B(2),K("ngIf",e.isDescSorting("Name")),B(),K("ngIf",e.isAscSorting("Name")),B(4),Bt(e.thStyle1),B(2),K("ngIf",e.isDescSorting("Type")),B(),K("ngIf",e.isAscSorting("Type")),B(6),K("ngIf",e.isDescSorting("Status")),B(),K("ngIf",e.isAscSorting("Status")),B(4),Bt(e.thStyle2),B(2),K("ngIf",e.isDescSorting("PID")),B(),K("ngIf",e.isAscSorting("PID")),B(4),Bt(e.thStyle3),B(2),K("ngIf",e.isDescSorting("Process name")),B(),K("ngIf",e.isAscSorting("Process name")),B(4),Bt(e.setThHeaderContainerColor(e.cpuUtil,"CPU")),mt("id","cpuTh-",e.processId,""),B(),mt("id","cpuDiv-",e.processId,""),B(2),K("ngIf",e.isDescSorting("CPU")),B(),K("ngIf",e.isAscSorting("CPU")),B(),mt("id","cpuDiv-",e.processId,""),B(),mt("id","cpuUtilDiv-",e.processId,""),B(),Jt(" ",e.cpuUtil,""),B(3),mt("id","cpuDiv1-",e.processId,""),B(),mt("id","cpuDiv1-",e.processId,""),B(2),Bt(e.setThHeaderContainerColor(e.memUtil,"Memory")),mt("id","memoryTh-",e.processId,""),B(),mt("id","memoryDiv-",e.processId,""),B(2),K("ngIf",e.isDescSorting("Memory")),B(),K("ngIf",e.isAscSorting("Memory")),B(),mt("id","memoryDiv-",e.processId,""),B(),mt("id","memoryUtilDiv-",e.processId,""),B(),Jt(" ",e.memUtil,""),B(3),mt("id","memoryDiv1-",e.processId,""),B(3),Bt(e.setThHeaderContainerColor(e.diskUtil,"Disk")),mt("id","diskTh-",e.processId,""),B(),mt("id","diskDiv-",e.processId,""),B(2),K("ngIf",e.isDescSorting("Disk")),B(),K("ngIf",e.isAscSorting("Disk")),B(2),mt("id","diskUtilDiv-",e.processId,""),B(),Jt(" ",e.diskUtil,""),B(3),mt("id","diskDiv1-",e.processId,""),B(3),Bt(e.setThHeaderContainerColor(e.networkUtil,"Network")),mt("id","networkTh-",e.processId,""),B(),mt("id","networkDiv-",e.processId,""),B(2),K("ngIf",e.isDescSorting("Network")),B(),K("ngIf",e.isAscSorting("Network")),B(2),mt("id","networkUtilDiv-",e.processId,""),B(),Jt(" ",e.networkUtil,""),B(3),mt("id","networkDiv1-",e.processId,""),B(3),Bt(e.setThHeaderContainerColor(e.gpuUtil,"GPU")),mt("id","gpuTh-",e.processId,""),B(),mt("id","gpuDiv-",e.processId,""),B(2),K("ngIf",e.isDescSorting("GPU")),B(),K("ngIf",e.isAscSorting("GPU")),B(2),mt("id","gpuUtilDiv-",e.processId,""),B(),Jt(" ",e.gpuUtil,""),B(3),mt("id","gpuDiv1-",e.processId,""),B(3),Bt(e.thStyle4),B(2),K("ngIf",e.isDescSorting("Power usage")),B(),K("ngIf",e.isAscSorting("Power usage")),B(4),Bt(e.cntxtMenuStyle),B(3),Xn("active",e.typeColumnVisible),B(2),K("ngIf",e.typeColumnVisible),B(6),Xn("active",e.statusColumnVisible),B(2),K("ngIf",e.statusColumnVisible),B(6),Xn("active",e.pidColumnVisible),B(2),K("ngIf",e.pidColumnVisible),B(6),Xn("active",e.processNameColumnVisible),B(2),K("ngIf",e.processNameColumnVisible),B(6),Xn("active",e.cpuColumnVisible),B(2),K("ngIf",e.cpuColumnVisible),B(6),Xn("active",e.memoryColumnVisible),B(2),K("ngIf",e.memoryColumnVisible),B(6),Xn("active",e.diskColumnVisible),B(2),K("ngIf",e.diskColumnVisible),B(6),Xn("active",e.networkColumnVisible),B(2),K("ngIf",e.networkColumnVisible),B(6),Xn("active",e.gpuColumnVisible),B(2),K("ngIf",e.gpuColumnVisible),B(6),Xn("active",e.powerColumnVisible),B(2),K("ngIf",e.powerColumnVisible),B(6),K("ngForOf",e.processes)}}function P9(t,n){if(1&t){const e=Ht();x(0,"div",null,2)(2,"div",13)(3,"div",14),ye("click",function(){return te(e),ne(le().hideShowNavMenu("tskmgr-nav-file-menu"))})("mouseenter",function(){return te(e),ne(le().hideShowNavMenu1("tskmgr-nav-file-menu","enter"))}),x(4,"span",15),ce(5,"File"),L(),x(6,"div",16)(7,"div",17)(8,"span",18),ce(9,"Run new task"),L()(),x(10,"div",19),ye("click",function(){return te(e),ne(le().onExitBtnClick())}),x(11,"span",18),ce(12,"Exit"),L()()()(),x(13,"div",20)(14,"span",15),ce(15,"Options"),L()(),x(16,"div",14),ye("click",function(){return te(e),ne(le().hideShowNavMenu("tskmgr-nav-view-menu"))})("mouseenter",function(){return te(e),ne(le().hideShowNavMenu1("tskmgr-nav-view-menu","enter"))}),x(17,"span",15),ce(18,"View"),L(),x(19,"div",21)(20,"div",17)(21,"span",22),ye("click",function(){return te(e),ne(le().generateLies())}),ce(22,"Refresh now"),L()(),x(23,"div",17)(24,"span",18),ce(25,"Update speed"),L(),x(26,"div",23)(27,"figure",24),ge(28,"img",25),L()(),x(29,"div",26)(30,"div",19),ye("click",function(){return te(e),ne(le().refreshRate(3))}),x(31,"div",27)(32,"figure",28),ze(33,GW,1,1,"img",29),L()(),x(34,"span",18),ce(35,"High"),L()(),x(36,"div",19),ye("click",function(){return te(e),ne(le().refreshRate(2))}),x(37,"div",27)(38,"figure",28),ze(39,ZW,1,1,"img",29),L()(),x(40,"span",18),ce(41,"Normal"),L()(),x(42,"div",19),ye("click",function(){return te(e),ne(le().refreshRate(1))}),x(43,"div",27)(44,"figure",28),ze(45,YW,1,1,"img",29),L()(),x(46,"span",18),ce(47,"Low"),L()(),x(48,"div",19),ye("click",function(){return te(e),ne(le().refreshRate(0))}),x(49,"div",27)(50,"figure",28),ze(51,qW,1,1,"img",29),L()(),x(52,"span",18),ce(53,"Paused"),L()()()()()()(),x(54,"div",30),ye("click",function(){return te(e),ne(le().hideShowNavMenu(""))}),ge(55,"span",31),x(56,"div",32)(57,"div",33),ce(58,"Processes"),L(),x(59,"div",34),ce(60,"Performance"),L(),x(61,"div",34),ce(62,"App history"),L(),x(63,"div",34),ce(64,"Services"),L()(),x(65,"div",35)(66,"div",36)(67,"div",37)(68,"div",38)(69,"div",39,3),ze(71,k9,196,126,"table",40),L()(),x(72,"div",41)(73,"div",42)(74,"figure",43),ye("click",function(){return te(e),ne(le().onFewerDetailsBtnClick())}),ge(75,"img",44),x(76,"figcaption",45),ce(77,"Fewer details"),L()()(),x(78,"div",46)(79,"button",47),ye("click",function(){return te(e),ne(le().onEndTaskBtnClick())}),ce(80," End task "),L()()()()(),x(81,"div",48)(82,"p"),ce(83," Somethings is coming"),L()(),x(84,"div",48)(85,"p"),ce(86," Somethings is coming"),L()(),x(87,"div",48)(88,"p"),ce(89," Somethings is coming"),L()()()()()}if(2&t){const e=le();B(6),mt("id","tskmgr-nav-file-menu-",e.processId,""),B(13),mt("id","tskmgr-nav-view-menu-",e.processId,""),B(9),K("src","osdrive/icons/arrow_next.png",et),B(3),Xn("active",3===e.selectedRefreshRate),B(2),K("ngIf",3===e.selectedRefreshRate),B(4),Xn("active",2===e.selectedRefreshRate),B(2),K("ngIf",2===e.selectedRefreshRate),B(4),Xn("active",1===e.selectedRefreshRate),B(2),K("ngIf",1===e.selectedRefreshRate),B(4),Xn("active",0===e.selectedRefreshRate),B(2),K("ngIf",0===e.selectedRefreshRate),B(20),K("ngIf",e.processes.length>0),B(4),K("src","osdrive/icons/arrow_up.png",et),B(4),K("ngClass",e.activeFocus())}}function A9(t,n){if(1&t){const e=Ht();x(0,"tr",64),ye("click",function(){const r=te(e),o=r.$implicit,s=r.index;return ne(le(3).onProcessSelected(s,o.getProcessId))}),x(1,"td",99)(2,"figure",88),ge(3,"img",44),x(4,"figcaption",89),ce(5),L()()()()}if(2&t){const e=n.$implicit,i=n.index,r=le(3);Xn("active",i===r.selectedRow),vn("id","trElmnt-",r.processId,"-",i,""),B(3),K("src",e.getIcon,et),B(2),Wn(e.getProcessName)}}function O9(t,n){if(1&t&&(x(0,"table",98)(1,"tbody"),ze(2,A9,6,7,"tr",83),L()()),2&t){const e=le(2);B(2),K("ngForOf",e.processes)}}function N9(t,n){if(1&t){const e=Ht();x(0,"div",37)(1,"div",38)(2,"div",95),ze(3,O9,3,1,"table",96),L()(),x(4,"div",41)(5,"div",42)(6,"figure",43),ye("click",function(){return te(e),ne(le().onMoreDetailsBtnClick())}),ge(7,"img",44),x(8,"figcaption",45),ce(9,"More details"),L()()(),x(10,"div",46)(11,"button",97),ye("click",function(){return te(e),ne(le().onEndTaskBtnClick())}),ce(12," End task "),L()()()()}if(2&t){const e=le();B(3),K("ngIf",e.processes.length>0),B(4),K("src","osdrive/icons/arrow_down.png",et),B(4),K("ngClass",e.activeFocus())}}let F9=(()=>{class t{tskManagerRootContainer;tskMgrTable;tskmgrTblCntnr;_maximizeWindowSub;_processIdService;_runningProcessService;_notificationService;_renderer;_processListChangeSub;_taskmgrRefreshIntervalSub;_chnageTaskmgrRefreshIntervalSub;_currentSortingOrder;_sorting={column:"",order:"asc"};sleepNumber=0;sleepCounter=0;processNumberToSuspend=0;refreshRateInterval=0;processIdToClose=0;statusColumnVisible=!0;cpuColumnVisible=!0;memoryColumnVisible=!0;diskColumnVisible=!0;networkColumnVisible=!0;pidColumnVisible=!1;gpuColumnVisible=!0;powerColumnVisible=!0;processNameColumnVisible=!1;typeColumnVisible=!1;cntxtMenuStyle={};thStyle={};thStyle1={};thStyle2={};thStyle3={};thStyle4={};isActive=!1;isFocus=!1;selectedRow=-1;showBtnNavMenu=!1;detailedView=hg.DETAILED_VIEW;viewOptions="";SECONDS_DELAY=250;processes=[];closingNotAllowed=["system","desktop","filemanager","taskbar","startbutton","clock","taskbarentry"];groupedData={};selectedRefreshRate=0;cpuUtil=0;memUtil=0;diskUtil=0;networkUtil=0;gpuUtil=0;powerUtil="Very low";hasWindow=!0;icon="osdrive/icons/taskmanger.png";name="taskmanager";processId=0;type=on.System;displayName="Task Manager";constructor(e,i,r,o){this._processIdService=e,this._runningProcessService=i,this._notificationService=r,this._renderer=o,this.processId=this._processIdService.getNewProcessId(),this._runningProcessService.addProcess(this.getComponentDetail()),this._processListChangeSub=this._runningProcessService.processListChangeNotify.subscribe(()=>{this.updateRunningProcess()}),this._maximizeWindowSub=this._runningProcessService.maximizeWindowNotify.subscribe(()=>{this.maximizeWindow()}),this._currentSortingOrder=this._sorting.order,this._chnageTaskmgrRefreshIntervalSub=new ke,this.refreshRateInterval=Bl.NOMRAL,this.selectedRefreshRate=fg.NORMAL,this.viewOptions=this.detailedView}ngOnInit(){this.processes=this._runningProcessService.getProcesses()}ngOnDestroy(){this._processListChangeSub?.unsubscribe(),this._taskmgrRefreshIntervalSub?.unsubscribe(),this._chnageTaskmgrRefreshIntervalSub?.unsubscribe(),this._maximizeWindowSub?.unsubscribe(),this.sleepCounter=0,this.processNumberToSuspend=0,this.sleepNumber=0}ngAfterViewInit(){this.setTaskMangrWindowToFocus(this.processId),this.hideContextMenu(),this.applyDefaultColumnStyle(),this._taskmgrRefreshIntervalSub=qk(this.refreshRateInterval).subscribe(()=>{this.generateLies(),this.sortTable(this._sorting.column,!1)}),this._chnageTaskmgrRefreshIntervalSub.pipe(Qk(e=>(this._taskmgrRefreshIntervalSub?.unsubscribe(),qk(e)))).subscribe(()=>{this.generateLies(),this.sortTable(this._sorting.column,!1)}),setTimeout(()=>{this.captureComponentImg()},this.SECONDS_DELAY)}captureComponentImg(){_r(this.tskManagerRootContainer.nativeElement).then(e=>{this._runningProcessService.addProcessImage(this.name,{pid:this.processId,imageData:e})})}isDescSorting(e){return this._sorting.column===e&&"desc"===this._sorting.order}isAscSorting(e){return this._sorting.column===e&&"asc"===this._sorting.order}setTaskMangrWindowToFocus(e){this._runningProcessService.focusOnCurrentProcessNotify.next(e),this.hideContextMenu()}closeHeaderList(){this.hideContextMenu()}updateRunningProcess(){this.processes=this._runningProcessService.getProcesses(),setTimeout(()=>{this.applyDefaultColumnStyle()},10)}refreshRate(e){e>=fg.PAUSED&&e<=fg.HIGH&&(this.refreshRateInterval=[Bl.PAUSED,Bl.LOW,Bl.NOMRAL,Bl.HIGH][e],this.selectedRefreshRate=e,this._chnageTaskmgrRefreshIntervalSub.next(this.refreshRateInterval))}sortTable(e,i){i&&(this._currentSortingOrder=this.isDescSorting(e)?"asc":"desc",this._sorting={column:e,order:this._currentSortingOrder},this.thStyle={"background-color":"#ffffff"},this.thStyle1={"background-color":"#ffffff"},this.thStyle2={"background-color":"#ffffff"},this.thStyle3={"background-color":"#ffffff"},this.thStyle4={"background-color":"#ffffff"}),e==wt.CPU||e==wt.GPU?this.processes="asc"==this._currentSortingOrder?this.processes.sort((r,o)=>o.getCpuUsage-r.getCpuUsage):this.processes.sort((r,o)=>o.getCpuUsage-r.getCpuUsage).reverse():e==wt.MEMORY?this.processes="asc"==this._currentSortingOrder?this.processes.sort((r,o)=>o.getMemoryUsage-r.getMemoryUsage):this.processes.sort((r,o)=>o.getMemoryUsage-r.getMemoryUsage).reverse():e==wt.DISK?this.processes="asc"==this._currentSortingOrder?this.processes.sort((r,o)=>o.getDiskUsage-r.getDiskUsage):this.processes.sort((r,o)=>o.getDiskUsage-r.getDiskUsage).reverse():e==wt.NETWORK?this.processes="asc"==this._currentSortingOrder?this.processes.sort((r,o)=>o.getNetworkUsage-r.getNetworkUsage):this.processes.sort((r,o)=>o.getNetworkUsage-r.getNetworkUsage).reverse():e==wt.PID?(this.thStyle2={"background-color":"#d0ecfc"},this.processes="asc"==this._currentSortingOrder?this.processes.sort((r,o)=>o.getProcessId-r.getProcessId):this.processes.sort((r,o)=>o.getProcessId-r.getProcessId).reverse()):e==wt.NAME?(this.thStyle={"background-color":"#d0ecfc"},this.processes="asc"==this._currentSortingOrder?this.processes.sort((r,o)=>r.getProcessName<o.getProcessName?-1:1):this.processes.sort((r,o)=>r.getProcessName<o.getProcessName?-1:1).reverse()):e==wt.PROCESS_NAME?(this.thStyle3={"background-color":"#d0ecfc"},this.processes="asc"==this._currentSortingOrder?this.processes.sort((r,o)=>r.getProcessName<o.getProcessName?-1:1):this.processes.sort((r,o)=>r.getProcessName<o.getProcessName?-1:1).reverse()):e==wt.POWER_USAGE?(this.thStyle4={"background-color":"#d0ecfc"},this.processes="asc"==this._currentSortingOrder?this.processes.sort((r,o)=>r.getPowerUsage<o.getPowerUsage?-1:1):this.processes.sort((r,o)=>r.getPowerUsage<o.getPowerUsage?-1:1).reverse()):e==wt.TYPE&&(this.thStyle1={"background-color":"#d0ecfc"},this.processes="asc"==this._currentSortingOrder?this.processes.sort((r,o)=>r.getType<o.getType?-1:1):this.processes.sort((r,o)=>r.getType<o.getType?-1:1).reverse())}showContextMenu(e){const i=this.tskMgrTable.nativeElement.getBoundingClientRect(),r=e.clientX-i.left,o=e.clientY-i.top;this._runningProcessService.addEventOriginator(`${this.name}-${this.processId}`),this.cntxtMenuStyle={display:"block",width:"180px",transform:`translate(${r}px, ${o-65}px)`,"z-index":2,opacity:1},e.preventDefault()}hideContextMenu(){this.cntxtMenuStyle={display:"none"}}hideShowNavMenu(e){let i;this.showBtnNavMenu=!this.showBtnNavMenu,""==e?(i=document.getElementById(`tskmgr-nav-file-menu-${this.processId}`),i&&(i.style.display="none"),i=document.getElementById(`tskmgr-nav-view-menu-${this.processId}`),i&&(i.style.display="none")):""!=e&&("tskmgr-nav-file-menu"==e&&this.showBtnNavMenu?(i=document.getElementById(`tskmgr-nav-file-menu-${this.processId}`),i.style.display="block",i.style.left="2px",i.style.top="20px"):"tskmgr-nav-file-menu"==e&&!this.showBtnNavMenu&&(i=document.getElementById(`tskmgr-nav-file-menu-${this.processId}`),i.style.display="none"),"tskmgr-nav-view-menu"==e&&this.showBtnNavMenu?(i=document.getElementById(`tskmgr-nav-view-menu-${this.processId}`),i.style.display="block",i.style.left="85px",i.style.top="20px"):"tskmgr-nav-view-menu"==e&&!this.showBtnNavMenu&&(i=document.getElementById(`tskmgr-nav-view-menu-${this.processId}`),i.style.display="none"))}hideShowNavMenu1(e,i){let r;"enter"===i&&("tskmgr-nav-file-menu"==e&&this.showBtnNavMenu&&(r=document.getElementById(`tskmgr-nav-file-menu-${this.processId}`),r.style.display="block",r.style.left="2px",r.style.top="20px",r=document.getElementById(`tskmgr-nav-view-menu-${this.processId}`),r.style.display="none"),"tskmgr-nav-view-menu"==e&&this.showBtnNavMenu&&(r=document.getElementById(`tskmgr-nav-view-menu-${this.processId}`),r.style.display="block",r.style.left="85px",r.style.top="20px",r=document.getElementById(`tskmgr-nav-file-menu-${this.processId}`),r.style.display="none"))}generateLies(){const e=this._runningProcessService.getProcesses(),i=["Very low","Low","Moderate","High","Very high"],r=100,s=10;0==this.sleepNumber&&(this.sleepNumber=this.getRandomNums(1,200)),0==this.processNumberToSuspend&&(this.processNumberToSuspend=e[this.getRandomNums(0,e.length-1)].getProcessId);for(let g=0;g<e.length;g++){const w=e[g];w.setProcessStatus="",w.setPowerUsage=i[0],w.getProcessId==this.processNumberToSuspend?this.sleepCounter<=this.sleepNumber?(w.setProcessStatus="Suspended",w.setCpuUsage=0,w.setDiskUsage=0,w.setMemoryUsage=0,w.setNetworkUsage=0,w.setGpuUsage=0,w.setPowerUsage=i[0],this.sleepCounter++):(this.sleepCounter=0,this.processNumberToSuspend=0,this.sleepNumber=0,w.setProcessStatus="",w.setPowerUsage=i[0]):(this.getRandomNums(1,s)>5&&(w.setCpuUsage=this.addTrailingZeros(this.getRandomFloatingNums(0,r))),this.getRandomNums(1,s)<=1&&(w.setDiskUsage=this.addTrailingZeros(this.getRandomFloatingNums(0,r))),this.getRandomNums(1,s)>7&&(w.setMemoryUsage=this.addTrailingZeros(this.getRandomFloatingNums(0,r))),this.getRandomNums(1,s)<=2&&(w.setNetworkUsage=this.addTrailingZeros(this.getRandomFloatingNums(0,r))),this.getRandomNums(1,s)<=1&&(w.setGpuUsage=this.addTrailingZeros(this.getRandomFloatingNums(0,r))),this.getRandomNums(1,s)<=1&&(w.setPowerUsage=i[this.getRandomNums(0,4)]))}this.processes=e,this.sumRowValues(e)}sumRowValues(e){this.cpuUtil=Math.round(e.reduce((i,{getCpuUsage:r})=>i+r,0)),this.memUtil=Math.round(e.reduce((i,{getMemoryUsage:r})=>i+r,0)),this.diskUtil=Math.round(e.reduce((i,{getDiskUsage:r})=>i+r,0)),this.networkUtil=Math.round(e.reduce((i,{getNetworkUsage:r})=>i+r,0)),this.gpuUtil=Math.round(e.reduce((i,{getGpuUsage:r})=>i+r,0))}getRandomFloatingNums(e,i){return e=Math.floor(e),i=Math.ceil(i),Math.floor(Math.random()*(i-e)+10)/10}getRandomNums(e,i){return Math.floor(Math.random()*(i-e+1)+e)}addTrailingZeros(e){const r=String(e);return 0!=e&&1==r.length?parseFloat(r.padEnd(3,".1")):e}groupTableBy(){const e={};for(const i of this.processes)i.getType==on.System?(e[on.System]||(e[on.System]=[]),e[on.System].push(i)):i.getType==on.User&&(e[on.User]||(e[on.User]=[]),e[on.User].push(i));return e}onFewerDetailsBtnClick(){this.viewOptions=hg.MINI_VIEW}onMoreDetailsBtnClick(){this.viewOptions=hg.DETAILED_VIEW}onExitBtnClick(){this.processIdToClose=this.processId,this.onEndTaskBtnClick()}onEndTaskBtnClick(){const e=this._runningProcessService.getProcess(this.processIdToClose);this.closingNotAllowed.includes(e.getProcessName)?this._notificationService.InfoNotify.next(`The app:${e.getProcessName} is not allowed to be closed`):this._runningProcessService.closeProcessNotify.next(e)}onProcessSelected(e,i){this.selectedRow=e,this.processIdToClose=i,-1!=this.selectedRow&&(this.isActive=!0,this.isFocus=!0)}toggleColumnVisibility(e){e===wt.TYPE?this.typeColumnVisible=!this.typeColumnVisible:e===wt.STATUS?this.statusColumnVisible=!this.statusColumnVisible:e===wt.PID?this.pidColumnVisible=!this.pidColumnVisible:e===wt.PROCESS_NAME?this.processNameColumnVisible=!this.processNameColumnVisible:e===wt.CPU?this.cpuColumnVisible=!this.cpuColumnVisible:e===wt.MEMORY?this.memoryColumnVisible=!this.memoryColumnVisible:e===wt.DISK?this.diskColumnVisible=!this.diskColumnVisible:e===wt.NETWORK?this.networkColumnVisible=!this.networkColumnVisible:e===wt.GPU?this.gpuColumnVisible=!this.gpuColumnVisible:e===wt.POWER_USAGE&&(this.powerColumnVisible=!this.powerColumnVisible),this.applyColumnStyles(e)}applyDefaultColumnStyle(){const e=[wt.NAME,wt.TYPE,wt.STATUS,wt.PID,wt.PROCESS_NAME,wt.CPU,wt.MEMORY,wt.DISK,wt.NETWORK,wt.GPU,wt.POWER_USAGE];for(let i=0;i<e.length;i++)this.applyColumnStyles(e[i])}applyColumnStyles(e){const i=this.tskMgrTable.nativeElement,o=[wt.NAME,wt.TYPE,wt.STATUS,wt.PID,wt.PROCESS_NAME,wt.CPU,wt.MEMORY,wt.DISK,wt.NETWORK,wt.GPU,wt.POWER_USAGE].indexOf(e);for(let s=0;s<=this.processes.length;s++)e===wt.TYPE&&(this.typeColumnVisible?this._renderer.removeStyle(i.rows[s].cells[o],"display"):this._renderer.setStyle(i.rows[s].cells[o],"display","none")),e===wt.STATUS&&(this.statusColumnVisible?this._renderer.removeStyle(i.rows[s].cells[o],"display"):this._renderer.setStyle(i.rows[s].cells[o],"display","none")),e===wt.PID&&(this.pidColumnVisible?this._renderer.removeStyle(i.rows[s].cells[o],"display"):this._renderer.setStyle(i.rows[s].cells[o],"display","none")),e===wt.PROCESS_NAME&&(this.processNameColumnVisible?this._renderer.removeStyle(i.rows[s].cells[o],"display"):this._renderer.setStyle(i.rows[s].cells[o],"display","none")),e===wt.CPU&&(this.cpuColumnVisible?this._renderer.removeStyle(i.rows[s].cells[o],"display"):this._renderer.setStyle(i.rows[s].cells[o],"display","none")),e===wt.MEMORY&&(this.memoryColumnVisible?this._renderer.removeStyle(i.rows[s].cells[o],"display"):this._renderer.setStyle(i.rows[s].cells[o],"display","none")),e===wt.DISK&&(this.diskColumnVisible?this._renderer.removeStyle(i.rows[s].cells[o],"display"):this._renderer.setStyle(i.rows[s].cells[o],"display","none")),e===wt.NETWORK&&(this.networkColumnVisible?this._renderer.removeStyle(i.rows[s].cells[o],"display"):this._renderer.setStyle(i.rows[s].cells[o],"display","none")),e===wt.GPU&&(this.gpuColumnVisible?this._renderer.removeStyle(i.rows[s].cells[o],"display"):this._renderer.setStyle(i.rows[s].cells[o],"display","none")),e===wt.POWER_USAGE&&(this.powerColumnVisible?this._renderer.removeStyle(i.rows[s].cells[o],"display"):this._renderer.setStyle(i.rows[s].cells[o],"display","none"))}activeFocus(){return{active:this.isActive?"active":"",focus:this.isFocus?"focus":""}}setUtilColoumnColors(e){if("number"==typeof e){if(e<=2.5)return{"text-align":"right","background-color":"#fff4c4"};if(e>2.5&&e<=5)return{"text-align":"right","background-color":"#ffecac"};if(e>5&&e<=7.5)return{"text-align":"right","background-color":"#ffa41c"};if(e>7.5)return{"text-align":"right","background-color":"#fc6c30"}}else if("string"==typeof e){if("Very low"==e)return{"background-color":"#fff4c4"};if("Low"==e)return{"background-color":"#ffecac"};if("Moderate"==e)return{"background-color":"#ffd464"};if("High"==e)return{"background-color":"#ffa41c"};if("Very high"==e)return{"background-color":"#fc6c30"}}return{}}setThHeaderContainerColor(e,i){if(i==this._sorting.column){const o=document.getElementById(`${i.toLowerCase()}Div-${this.processId}`),s=document.getElementById(`${i.toLowerCase()}Div1-${this.processId}`),l=document.getElementById(`${i.toLowerCase()}UtilDiv-${this.processId}`);e<10?(o.style.backgroundColor="#d0ecfc",s.style.backgroundColor="#d0ecfc",l.style.right="-40%"):e>=10&&(o.style.backgroundColor=e>=90?"#fcc4ac":"#d0ecfc",s.style.backgroundColor=e>=90?"#fcc4ac":"#d0ecfc",o.style.borderLeft=e>=90?"#fcc4ac":"",s.style.borderLeft=e>=90?"#fcc4ac":"",o.style.borderRight=e>=90?"#fcc4ac":"",s.style.borderRight=e>=90?"#fcc4ac":"",l.style.right=e>=100?"-5%":"-20%")}else{const o=document.getElementById(`${i.toLowerCase()}Div-${this.processId}`),s=document.getElementById(`${i.toLowerCase()}Div1-${this.processId}`),l=document.getElementById(`${i.toLowerCase()}UtilDiv-${this.processId}`);o&&s&&l&&(e<10?l.style.right="-40%":e>=10&&(o.style.backgroundColor=e>=90?"#fcc4ac":"#ffffff",s.style.backgroundColor=e>=90?"#fcc4ac":"#ffffff",o.style.borderLeft=e>=90?"#fcc4ac":"",s.style.borderLeft=e>=90?"#fcc4ac":"",o.style.borderRight=e>=90?"#fcc4ac":"",s.style.borderRight=e>=90?"#fcc4ac":"",l.style.right=e>=100?"-5%":"-20%"))}}maximizeWindow(){if(`${this.name}-${this.processId}`===this._runningProcessService.getEventOrginator()){this._runningProcessService.removeEventOriginator();const r=document.getElementById("vanta"),o=158;this.tskmgrTblCntnr.nativeElement.style.height=(r?.offsetHeight||0)-o+"px",this.tskmgrTblCntnr.nativeElement.style.width=`${r?.offsetWidth}px`,this.tskMgrTable.nativeElement.style.width=`${r?.offsetWidth}px`}}getComponentDetail(){return new Ci(this.processId,this.name,this.icon,this.hasWindow,this.type)}static \u0275fac=function(i){return new(i||t)(ee(Ii),ee(Gn),ee(Nw),ee($r))};static \u0275cmp=a({type:t,selectors:[["cos-taskmanager"]],viewQuery:function(i,r){if(1&i&&(Wt(HW,5),Wt(WW,5),Wt($W,5)),2&i){let o;$t(o=Gt())&&(r.tskManagerRootContainer=o.first),$t(o=Gt())&&(r.tskMgrTable=o.first),$t(o=Gt())&&(r.tskmgrTblCntnr=o.first)}},decls:6,vars:4,consts:[["detailedView0",""],["miniView0",""],["tskManagerRootContainer",""],["tskmgrTblCntnr",""],["tskMgrTable",""],["tsmgrCntxtMenu",""],["memoryId",""],["diskId",""],["networkId",""],["gpuId",""],["pwruseId",""],[3,"click","focusout","runningProcessID","processAppIcon","processAppName"],[3,"ngTemplateOutlet"],[1,"tskmgr-nav-btn-cntnr"],[1,"tskmgr-nav-btn",3,"click","mouseenter"],[1,"tskmgr-btn-span"],[1,"tskmgr-nav-menu-cntnr",3,"id"],[1,"tskmgr-nav-menu-item"],[1,"tskmgr-item-span"],[1,"tskmgr-nav-menu-item",3,"click"],[1,"tskmgr-nav-btn"],[1,"tskmgr-nav-menu-cntnr1",3,"id"],[1,"tskmgr-item-span",3,"click"],[1,"tskmgr-nav-div"],[1,"tskmgr-nav-figure"],[1,"tskmgr-nav-img",3,"src"],[1,"tskmgr-nav-sub-menu-cntnr"],[1,"tskmgr-nav-sub-menu-div","head"],[1,"tskmgr-nav-sub-menu-figure"],["class","tskmgr-nav-sub-menu-img",3,"src",4,"ngIf"],[1,"tskmgr-tabbed-window",3,"click"],[2,"height","3px","background-color","#ffffff","border-top","none"],[1,"tskmgr-tabs"],[1,"tskmgr-tab","active"],[1,"tskmgr-tab"],[1,"tskmgr-tab-content"],[1,"tskmgr-tab-pane","active"],[1,"card"],[1,"card-body"],[1,"tskmgr-table-cntnr"],["class","tskmgr-table",4,"ngIf"],[1,"tsksmgr-footer-div-cntnr"],[1,"tsksmgr-footer-div-cntnt"],[1,"tskmgr-figure0",2,"position","relative","left","5px",3,"click"],[1,"tskmgr-img0",3,"src"],[1,"tskmgr-figcaption0","just-for-one-span"],[1,"tsksmgr-footer-div-cntnt1"],[1,"btn","btn-primary",3,"click","ngClass"],[1,"tskmgr-tab-pane"],[1,"tskmgr-nav-sub-menu-img",3,"src"],[1,"tskmgr-table"],[2,"height","10px","border-top","none"],[3,"contextmenu","click"],["columnResize","","id","th-1",3,"click"],[1,"tskmgr-sort-icon-cntnr-basic"],["class","tskmgr-sort-icon",4,"ngIf"],[1,"tskmgr-th-div-name-cntnr-l"],[1,"tskmgr-th-span-name"],["columnResize","","id","th-2",3,"click"],[4,"ngIf"],["columnResize","","id","th-3"],["columnResize","","id","th-4",3,"click"],[1,"tskmgr-th-div-name-cntnr-r"],["columnResize","","id","th-5",3,"click"],[3,"click","id"],[1,"tskmgr-numeric-th-div-cntnr",3,"id"],[1,"tskmgr-sort-icon-cntnr"],["class","tskmgr-sort-icon1",4,"ngIf"],[1,"tskmgr-th-div-number-cntnr",3,"id"],[1,"tskmgr-th-div-number",3,"id"],[1,"tskmgr-th-div-symbol"],[1,"tskmgr-numeric-th-name-cntnr",3,"id"],[1,"tskmgr-th-span-name1",3,"id"],[1,"tskmgr-th-span-name1"],[1,"tskmgr-th-div-number-cntnr"],["columnResize","",3,"click"],[1,"tskmgr-vertical-menu"],[1,"tskmgr-vertical-menu-item",3,"click"],[1,"tskmgr-span","head"],[1,"tskmgr-figure"],["class","tskmgr-img",3,"src",4,"ngIf"],[1,"tskmgr-span","mid"],[1,"tskmgr-span","tail"],[3,"active","id","click",4,"ngFor","ngForOf"],[1,"tskmgr-sort-icon"],[1,"tskmgr-sort-icon1"],[1,"tskmgr-img",3,"src"],[2,"min-width","20%","padding-left","16px"],[1,"tskmgr-figure0"],[1,"tskmgr-figcaption0"],["class","tskmgr-figcaption0","style","top: 1px; position: relative; right: -75% ;",4,"ngIf"],[2,"text-align","right"],[3,"id"],[1,"tskmgr-figcaption0",2,"top","1px","position","relative","right","-75%"],[1,"tskmgr-img0",2,"height","14px","width","14px",3,"src"],[1,"taskmgr-table-cntnr"],["class","taskmgr-table mini",4,"ngIf"],[1,"btn","btn-primary-b",3,"click","ngClass"],[1,"taskmgr-table","mini"],[2,"width","55%"]],template:function(i,r){if(1&i){const o=Ht();x(0,"cos-window",11),ye("click",function(){return te(o),ne(r.setTaskMangrWindowToFocus(r.processId))})("focusout",function(){return te(o),ne(r.hideShowNavMenu(""))}),Cl(1,12),ze(2,P9,90,20,"ng-template",null,0,Li)(4,N9,13,3,"ng-template",null,1,Li),L()}if(2&i){const o=fi(3),s=fi(5);K("runningProcessID",r.processId)("processAppIcon",r.icon)("processAppName",r.name),B(),K("ngTemplateOutlet",r.viewOptions===r.detailedView?o:s)}},dependencies:[yd,bs,ea,_d,Xr,jW],styles:['.card[_ngcontent-%COMP%]{width:100%;height:100%;border:1px solid #ccc}.card-body[_ngcontent-%COMP%]{width:100%;height:100%;padding:0;background-color:#fff;color:#000;border-top:none;margin-bottom:43px}.card-body[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.card-body[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.row[_ngcontent-%COMP%]{margin:10px 0;min-height:10px;min-width:10px}.col[_ngcontent-%COMP%]{padding:10px;background-color:#fff;border:1px solid #cccccc;color:#000}.col[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#007bff}.col[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.tskmgr-table-cntnr[_ngcontent-%COMP%]{width:680px;height:260px;overflow:auto;border-top:none}.tskmgr-table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%;margin:1px 0;font-family:Arial,sans-serif;table-layout:auto}.taskmgr-table.mini[_ngcontent-%COMP%]{border-collapse:collapse;min-width:100%;margin:1px 0;font-family:Arial,sans-serif;table-layout:auto}.tskmgr-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#fff;color:#333;padding:0;text-align:left;font-weight:lighter;height:40px;min-width:80px;border:1px solid #ccc;border-top:none;vertical-align:middle}tbody[_ngcontent-%COMP%]{border-left:0;border-right:0}.tskmgr-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#fff}.tskmgr-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#fff}.tskmgr-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:3px 5px;min-width:80px;margin-left:5px;margin-right:5px;font-size:12px;font-weight:lighter;text-align:left;border:1px solid #ccc;border-top:none;border-bottom:none}.tskmgr-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child   td[_ngcontent-%COMP%]:last-child{border-left:0;border-right:0}.tskmgr-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e8f4fc}.tskmgr-table[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#d0ecfc!important}th[columnResize][_ngcontent-%COMP%], td[columnResize][_ngcontent-%COMP%]{position:relative}th[columnResize][_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;right:0;width:1px;height:100%;cursor:col-resize;background-color:#f0f0f0}span[_ngcontent-%COMP%]{display:block}.tskmgr-th-div-name-cntnr-l[_ngcontent-%COMP%]{display:flex;padding-left:5px;height:50%}.tskmgr-th-div-name-cntnr-r[_ngcontent-%COMP%]{display:flex;padding-right:5px;height:50%}.tskmgr-sort-icon-cntnr-basic[_ngcontent-%COMP%]{height:50%;margin-left:50%}.tskmgr-sort-icon[_ngcontent-%COMP%]{font-size:13px}.tskmgr-th-span-name[_ngcontent-%COMP%]{position:relative;font-size:12px;font-weight:400;color:#043e7c;text-overflow:ellipsis;top:18%}.tskmgr-numeric-th-div-cntnr[_ngcontent-%COMP%]{display:flex;width:80px;height:50%}.tskmgr-sort-icon-cntnr[_ngcontent-%COMP%]{display:flex;width:40%;height:100%}.tskmgr-sort-icon1[_ngcontent-%COMP%]{font-size:13px;position:relative;right:-20%;top:0%}.tskmgr-th-div-number-cntnr[_ngcontent-%COMP%]{display:flex;height:100%;width:60%}.tskmgr-th-div-number[_ngcontent-%COMP%]{font-size:medium;position:relative;font-weight:400;width:58%;top:0%}.tskmgr-th-div-symbol[_ngcontent-%COMP%]{font-size:medium;position:relative;font-weight:400;width:42%;top:0%}.tskmgr-numeric-th-name-cntnr[_ngcontent-%COMP%]{position:relative;height:50%;width:80px;font-size:14px}.tskmgr-th-span-name1[_ngcontent-%COMP%]{position:relative;font-size:12px;font-weight:400;color:#043e7c;text-overflow:ellipsis;text-align:right;padding-right:5px;top:18%}.taskmgr-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-left:0;border-right:0}.tskmgr-figure0[_ngcontent-%COMP%]{align-items:center;display:inline-flex;width:-moz-fit-content;width:fit-content}.tskmgr-figcaption0[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:12px;font-weight:400}.tskmgr-img0[_ngcontent-%COMP%]{height:18px;width:18px;image-rendering:optimizeQuality;position:relative;margin:0 4px 0 0}.tskmgr-tabbed-window[_ngcontent-%COMP%]{min-width:150px;border:1px solid #ccc}.tskmgr-tabbed-window[_ngcontent-%COMP%]:first-child   .tskmgr-tabbed-window[_ngcontent-%COMP%]:last-child{border-left:0;border-right:0}.tskmgr-tabs[_ngcontent-%COMP%]{display:flex;background-color:#fff;color:#000;border-bottom:none}.tskmgr-tab[_ngcontent-%COMP%]{flex:1;padding:2px 5px;background-color:#f2f2f2;text-align:center;cursor:pointer;transition:background-color .3s;font-weight:400;font-size:12px;border-left:1px solid #ccc;border-right:1px solid #ccc;border-top:1px solid #ccc;max-width:-moz-fit-content;max-width:fit-content;max-height:-moz-fit-content;max-height:fit-content}.tskmgr-tab.active[_ngcontent-%COMP%]{background-color:#fff;border-left:0;border-right:0;border-top:1px solid #ccc;color:#000}.tskmgr-tab-content[_ngcontent-%COMP%]{padding:0;border-top:none}.tskmgr-tab-pane[_ngcontent-%COMP%]{display:none}.tskmgr-tab-pane.active[_ngcontent-%COMP%]{display:block}.just-for-one-span[_ngcontent-%COMP%]{color:#000;font-weight:400;padding-left:2px}.just-for-one-span[_ngcontent-%COMP%]:first-letter{text-decoration:underline}.tsksmgr-footer-div-cntnr[_ngcontent-%COMP%]{display:flex;position:fixed;bottom:0;left:0%;width:100%;height:45px;font-size:small;font-weight:lighter;border-top:1px solid #ccc;background-color:#fff}.tsksmgr-footer-div-cntnt[_ngcontent-%COMP%]{display:flex;position:relative;width:50%;left:0%}.tsksmgr-footer-div-cntnt1[_ngcontent-%COMP%]{display:flex;position:relative;padding-left:5%;width:50%;right:0%}.btn.btn-primary[_ngcontent-%COMP%]{position:relative;background-color:#d0cccc;color:#75787c;border:1px solid #bcbcbc;padding:2px 20px;font-size:12px;font-weight:400;height:22px;right:-68%;top:25%}.btn.btn-primary-b[_ngcontent-%COMP%]{position:relative;background-color:#d0cccc;color:#75787c;border:1px solid #bcbcbc;padding:2px 20px;font-size:12px;font-weight:400;height:22px;right:-25%;top:25%}.btn.btn-primary[_ngcontent-%COMP%]:first-letter   .btn.btn-primary-b[_ngcontent-%COMP%]:first-letter{text-decoration:underline}.btn.btn-primary[_ngcontent-%COMP%]:hover   .btn.btn-primary-b[_ngcontent-%COMP%]:hover{background-color:#84b3e4;border:1px solid #0056b3;color:#000}.btn.btn-primary.active[_ngcontent-%COMP%], .btn.btn-primary.focus[_ngcontent-%COMP%]   .btn.btn-primary-b.active[_ngcontent-%COMP%], .btn.btn-primary-b.focus[_ngcontent-%COMP%]{background-color:#e4e4e1;border:1px solid #ccc;color:#000}.btn.btn-primary.head[_ngcontent-%COMP%]:active, .btn.btn-primary.head[_ngcontent-%COMP%]:focus{background-color:#0056b3;border:1px solid #0056b3;color:#fff}.tskmgr-nav-btn-cntnr[_ngcontent-%COMP%]{background-color:#fff;display:flex;position:relative}.tskmgr-nav-btn[_ngcontent-%COMP%]{display:inline-flex;border:1px transparent;padding:1px 5px;height:20px}.tskmgr-btn-span[_ngcontent-%COMP%]{position:relative;font-size:12px;font-weight:400;text-align:left;top:14%}.tskmgr-nav-btn[_ngcontent-%COMP%]:hover{background-color:#98ccf4;border-color:#8cc8f6}.tskmgr-nav-menu-cntnr[_ngcontent-%COMP%], .tskmgr-nav-menu-cntnr1[_ngcontent-%COMP%]{display:none;position:absolute;background-color:#fff;padding:3px;box-shadow:2px 2px #0000004d;z-index:1}.tskmgr-nav-menu-item[_ngcontent-%COMP%]{display:flex;position:relative;background-color:#fff;width:140px;padding:4px 0}.tskmgr-nav-sub-menu-cntnr[_ngcontent-%COMP%]{display:none;position:absolute;background-color:#fff;padding:3px;box-shadow:2px 2px #0000004d;left:95%;top:-2px;z-index:1}.tskmgr-nav-menu-item[_ngcontent-%COMP%]:hover{background-color:#8cc8f6}.tskmgr-nav-menu-item[_ngcontent-%COMP%]:hover   .tskmgr-nav-sub-menu-cntnr[_ngcontent-%COMP%]{display:block}.tskmgr-nav-sub-menu-cntnr[_ngcontent-%COMP%]   .tskmgr-nav-menu-item[_ngcontent-%COMP%]{padding:1px 0}.tskmgr-item-span[_ngcontent-%COMP%]{display:inline-flex;align-items:center;position:relative;padding-left:10px;font-size:12px;font-weight:400;text-align:left}.tskmgr-nav-div[_ngcontent-%COMP%]{padding-left:22px;height:14px}.tskmgr-nav-figure[_ngcontent-%COMP%]{position:relative;align-items:center;place-content:center;display:inline-flex;width:14px;height:14px;top:-2px}.tskmgr-nav-img[_ngcontent-%COMP%]{height:12px;width:12px;image-rendering:optimizeQuality;position:relative}.tskmgr-nav-sub-menu-div[_ngcontent-%COMP%]{display:block;width:19px;height:19px}.tskmgr-nav-sub-menu-div.active[_ngcontent-%COMP%]{background-color:#98ccf4}.tskmgr-nav-sub-menu-figure[_ngcontent-%COMP%]{position:relative;display:inline-flex;width:18px;height:18px;top:-2px;left:5px}.tskmgr-nav-sub-menu-img[_ngcontent-%COMP%]{height:8px;width:8px;image-rendering:optimizeQuality;position:relative}.tskmgr-vertical-menu[_ngcontent-%COMP%]{position:absolute;width:180px;box-shadow:2px 2px #0000004d;border:1px solid #9c9898;z-index:2}.tskmgr-vertical-menu-item[_ngcontent-%COMP%]{height:24px;background-color:#eee;display:inline-flex;width:100%;z-index:2}.tskmgr-vertical-menu-item[_ngcontent-%COMP%]:hover{background-color:#98ccf4;text-decoration:none}.tskmgr-span[_ngcontent-%COMP%]{display:block}.tskmgr-span.head[_ngcontent-%COMP%]{max-width:25%;padding-left:4px}.tskmgr-span.head.active[_ngcontent-%COMP%]{max-width:25%;padding-left:4px;background-color:#98ccf4}.tskmgr-span.mid[_ngcontent-%COMP%]{min-width:50%;padding:0 4px;color:#000;text-align:left;font-size:12px;font-weight:400}.tskmgr-span.tail[_ngcontent-%COMP%]{max-width:25%;padding-left:68px}.tskmgr-img[_ngcontent-%COMP%]{height:16px;width:16px;image-rendering:optimizeQuality;position:relative}.tskmgr-figure[_ngcontent-%COMP%]{position:relative;align-items:center;display:inline-flex;min-width:18px;top:0;left:15%}']})}return t})(),sc=(()=>{class t{scripts={};loadScript(e,i){var r=this;return Ne(function*(){return r.scripts[e]?Promise.resolve():(r.scripts[e]={name:e,src:i},yield r.loadExternalScript(r.scripts[e]))})()}loadScripts(e,i){var r=this;return Ne(function*(){const o=[];for(let s=0;s<=e.length-1;s++)if(!r.scripts[e[s]]){r.scripts[e[s]]={name:e[s],src:i[s]};const l=yield r.loadExternalScript(r.scripts[e[s]]);o.push(l)}return Promise.resolve()})()}loadExternalScript(e){return Ne(function*(){return new Promise((i,r)=>{const o=document.createElement("script");o.type="text/javascript",o.src=e.src,o.async=!0,o.onload=()=>{i()},o.onerror=s=>{r(s)},document.getElementsByTagName("head")[0].appendChild(o)})})()}static \u0275fac=function(i){return new(i||t)};static \u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const R9=["doswindow"];let L9=(()=>{class t{dosWindow;_fileService;_processIdService;_runningProcessService;_triggerProcessService;_stateManagmentService;_sessionManagmentService;_scriptService;_ci;_fileInfo;_appState;gameSrc="";SECONDS_DELAY=250;name="jsdos";hasWindow=!0;icon="/osdrive/icons/js-dos-logo.png";isMaximizable=!1;processId=0;type=on.User;displayName="JS-Dos";dosOptions={style:"none",noSideBar:!0,noFullscreen:!0,noSocialLinks:!0};constructor(e,i,r,o,s,l,h){this._fileService=e,this._processIdService=i,this._triggerProcessService=o,this._stateManagmentService=s,this._sessionManagmentService=l,this._scriptService=h,this.processId=this._processIdService.getNewProcessId(),this.retrievePastSessionData(),this._runningProcessService=r,this._runningProcessService.addProcess(this.getComponentDetail())}ngOnInit(){this._fileInfo=this._triggerProcessService.getLastProcessTrigger()}ngOnDestroy(){this.dosOptions&&null!=this._ci&&this._ci.exit()}ngAfterViewInit(){var e=this;return Ne(function*(){e.setJSDosWindowToFocus(e.processId),e.gameSrc=""!==e.gameSrc?e.gameSrc:e.getGamesSrc(e._fileInfo.getContentPath,e._fileInfo.getCurrentPath),e._scriptService.loadScript("js-dos","assets/js-dos/js-dos.js").then(Ne(function*(){emulators.pathPrefix="/";const i=yield e._fileService.getFileBlobAsync(e.gameSrc);e._ci=yield Dos(e.dosWindow.nativeElement,e.dosOptions).run(i),e.storeAppState(e.gameSrc),URL.revokeObjectURL(e.gameSrc),e.displayName=e._fileInfo.getFileName})),setTimeout(()=>{e.captureComponentImg()},e.SECONDS_DELAY)})()}captureComponentImg(){_r(this.dosWindow.nativeElement).then(e=>{this._runningProcessService.addProcessImage(this.name,{pid:this.processId,imageData:e})})}setJSDosWindowToFocus(e){this._runningProcessService.focusOnCurrentProcessNotify.next(e)}getGamesSrc(e,i){let r="";return r=this.checkForExt(e,i)?"/"+this._fileInfo.getContentPath:this._fileInfo.getCurrentPath,r}checkForExt(e,i){const r=(0,tt.extname)(e),o=(0,tt.extname)(i),s=".jsdos";let l=!1;return""!=r&&r==s?l=!0:o==s&&(l=!1),l}storeAppState(e){const i=`${this.name}-${this.processId}`;this._appState={pid:this.processId,app_data:e,app_name:this.name,unique_id:i},this._stateManagmentService.addState(i,this._appState,pn.App)}retrievePastSessionData(){const e=this._sessionManagmentService._pickUpKey;if(this._sessionManagmentService.hasTempSession(e)){const i=this._sessionManagmentService.getTempSession(e)||"",r=this._sessionManagmentService.getSession(i);if(void 0!==r){const o=r[0];void 0!==o&&""!=o.app_data&&(this.gameSrc=o.app_data)}}}getComponentDetail(){return new Ci(this.processId,this.name,this.icon,this.hasWindow,this.type,this._triggerProcessService.getLastProcessTrigger)}static \u0275fac=function(i){return new(i||t)(ee(la),ee(Ii),ee(Gn),ee(vr),ee(Kr),ee(Qr),ee(sc))};static \u0275cmp=a({type:t,selectors:[["cos-jsdos"]],viewQuery:function(i,r){if(1&i&&Wt(R9,5),2&i){let o;$t(o=Gt())&&(r.dosWindow=o.first)}},decls:3,vars:4,consts:[["doswindow",""],[3,"click","runningProcessID","processAppIcon","processAppName","isMaximizable"],[1,"canvas",2,"height","600px","width","800px","position","relative"]],template:function(i,r){if(1&i){const o=Ht();x(0,"cos-window",1),ye("click",function(){return te(o),ne(r.setJSDosWindowToFocus(r.processId))}),ge(1,"div",2,0),L()}2&i&&K("runningProcessID",r.processId)("processAppIcon",r.icon)("processAppName",r.name)("isMaximizable",r.isMaximizable)},dependencies:[Xr],styles:[".canvas[_ngcontent-%COMP%]{height:100%;image-rendering:pixelated;top:0!important;width:100%}.emulator-root[_ngcontent-%COMP%]{background:#000;overflow:hidden;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none;touch-action:none}.emulator-canvas[_ngcontent-%COMP%], .emulator-video[_ngcontent-%COMP%]{image-rendering:-moz-crisp-edges;image-rendering:crisp-edges;image-rendering:pixelated;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none;touch-action:none}.emulator-video[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;height:100%;display:none}.emulator-loading[_ngcontent-%COMP%]{position:absolute;inset:0;background:#000;color:#fff;font-weight:700}.emulator-loading-inner[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;height:100%;width:100%;margin:0;padding:0}.emulator-loading-pre-1[_ngcontent-%COMP%]{font-size:2vw;margin:0 0 1em}.emulator-loading-pre-2[_ngcontent-%COMP%]{margin:1em 0;font-size:2vw;font-family:monospace;font-weight:100;text-transform:uppercase}.emulator-loader[_ngcontent-%COMP%]{background:gray;background-size:cover;width:50px;height:50px}.emulator-control-exit-fullscreen-icon[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3C!-- Generator: Adobe Illustrator 17.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E%3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 16 16' enable-background='new 0 0 16 16' xml:space='preserve'%3E%3Cg id='minimize_1_' fill='%23FFFFFF'%3E%3Cg%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M15.99,0.99c0-0.55-0.45-1-1-1c-0.28,0-0.53,0.11-0.71,0.29l-3.29,3.29V1.99 c0-0.55-0.45-1-1-1s-1,0.45-1,1v4c0,0.55,0.45,1,1,1h4c0.55,0,1-0.45,1-1s-0.45-1-1-1h-1.59L15.7,1.7 C15.88,1.52,15.99,1.27,15.99,0.99z M5.99,8.99h-4c-0.55,0-1,0.45-1,1s0.45,1,1,1h1.59l-3.29,3.29c-0.18,0.18-0.29,0.43-0.29,0.71 c0,0.55,0.45,1,1,1c0.28,0,0.53-0.11,0.71-0.29l3.29-3.29v1.59c0,0.55,0.45,1,1,1s1-0.45,1-1v-4C6.99,9.44,6.54,8.99,5.99,8.99z' /%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")!important}.emulator-control-close-icon[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3C!-- Generator: Adobe Illustrator 18.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 20 20' enable-background='new 0 0 20 20' fill='%23FFF' xml:space='preserve'%3E%3Cg id='cross_mark_6_'%3E%3Cg%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M11.41,10l4.29-4.29C15.89,5.53,16,5.28,16,5c0-0.55-0.45-1-1-1 c-0.28,0-0.53,0.11-0.71,0.29L10,8.59L5.71,4.29C5.53,4.11,5.28,4,5,4C4.45,4,4,4.45,4,5c0,0.28,0.11,0.53,0.29,0.71L8.59,10 l-4.29,4.29C4.11,14.47,4,14.72,4,15c0,0.55,0.45,1,1,1c0.28,0,0.53-0.11,0.71-0.29L10,11.41l4.29,4.29 C14.47,15.89,14.72,16,15,16c0.55,0,1-0.45,1-1c0-0.28-0.11-0.53-0.29-0.71L11.41,10z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")!important}.emulator-mouse-overlay[_ngcontent-%COMP%]{position:absolute;inset:0}.emulator-click-to-start-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;flex-direction:column;display:none}.emulator-click-to-start-text[_ngcontent-%COMP%]{color:#fff;font-size:2em;margin:0 0 1em;font-family:monospace;text-transform:uppercase;font-weight:400}.emulator-click-to-start-icon[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 20 20' enable-background='new 0 0 20 20' xml:space='preserve'%3E%3Cg id='play_1_'%3E%3Cg%3E%3Cpath fill='%23FFF' fill-rule='evenodd' clip-rule='evenodd' d='M16,10c0-0.36-0.2-0.67-0.49-0.84l0.01-0.01l-10-6L5.51,3.16 C5.36,3.07,5.19,3,5,3C4.45,3,4,3.45,4,4v12c0,0.55,0.45,1,1,1c0.19,0,0.36-0.07,0.51-0.16l0.01,0.01l10-6l-0.01-0.01 C15.8,10.67,16,10.36,16,10z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");width:64px;height:64px}.emulator-fullscreen-workaround[_ngcontent-%COMP%]{position:fixed!important;inset:0;background:#000;z-index:999}.emulator-button-touch-zone[_ngcontent-%COMP%], .emulator-button[_ngcontent-%COMP%]{cursor:pointer;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none;touch-action:none;overflow:hidden;background:none;color:#fff;border-radius:50%;filter:opacity(.8)}.emulator-button-touch-zone[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;border-color:#ffffff80;border-style:solid;box-shadow:0 0 2px 2px #ffffff80,inset 0 0 2px 2px #ffffff80}.emulator-button[_ngcontent-%COMP%]{position:absolute;background-color:#80808080;background-size:50%;background-repeat:no-repeat;background-position:center;border:1px solid rgb(255,255,255);text-shadow:-1px -1px 0 rgb(0,0,0),1px -1px 0 rgb(0,0,0),-1px 1px 0 rgb(0,0,0),1px 1px 0 rgb(0,0,0);text-align:center;box-shadow:0 0 0 1px #000}.emulator-control-select[_ngcontent-%COMP%]:hover, .emulator-button-touch-zone[_ngcontent-%COMP%]:hover{filter:opacity(1) hue-rotate(-70deg) saturate(5) sepia(1)}.emulator-button-touch-zone.emulator-button-control[_ngcontent-%COMP%]{filter:opacity(1)!important;background-color:gray!important;z-index:999}.emulator-button-highlight[_ngcontent-%COMP%], .emulator-button-control[_ngcontent-%COMP%]:hover{filter:opacity(1) hue-rotate(-70deg) saturate(5) sepia(1)!important}.emulator-control-select[_ngcontent-%COMP%]{overflow:hidden;background:none;color:#fff;border-radius:10%;border:1px solid rgb(255,255,255);box-shadow:0 0 0 1px #000;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none;touch-action:none;filter:opacity(.7)}.emulator-options[_ngcontent-%COMP%]{justify-content:flex-end;flex-wrap:wrap-reverse;display:flex;flex-direction:row;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none;touch-action:none}.emulator-keyboard[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;z-index:999;color:#000;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none;touch-action:none}@keyframes _ngcontent-%COMP%_notyf-fadeinup{0%{opacity:0;transform:translateY(25%)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_notyf-fadeinleft{0%{opacity:0;transform:translate(25%)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_notyf-fadeoutright{0%{opacity:1;transform:translate(0)}to{opacity:0;transform:translate(25%)}}@keyframes _ngcontent-%COMP%_notyf-fadeoutdown{0%{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(25%)}}@keyframes _ngcontent-%COMP%_ripple{0%{transform:scale(0) translateY(-45%) translate(13%)}to{transform:scale(1) translateY(-45%) translate(13%)}}.notyf[_ngcontent-%COMP%]{position:fixed;top:0;left:0;height:100%;width:100%;color:#fff;z-index:9999;display:flex;flex-direction:column;align-items:flex-end;justify-content:flex-end;pointer-events:none;box-sizing:border-box;padding:20px}.notyf__icon--error[_ngcontent-%COMP%], .notyf__icon--success[_ngcontent-%COMP%]{height:21px;width:21px;background:#fff;border-radius:50%;display:block;margin:0 auto;position:relative}.notyf__icon--error[_ngcontent-%COMP%]:after, .notyf__icon--error[_ngcontent-%COMP%]:before{content:\"\";background:currentColor;display:block;position:absolute;width:3px;border-radius:3px;left:9px;height:12px;top:5px}.notyf__icon--error[_ngcontent-%COMP%]:after{transform:rotate(-45deg)}.notyf__icon--error[_ngcontent-%COMP%]:before{transform:rotate(45deg)}.notyf__icon--success[_ngcontent-%COMP%]:after, .notyf__icon--success[_ngcontent-%COMP%]:before{content:\"\";background:currentColor;display:block;position:absolute;width:3px;border-radius:3px}.notyf__icon--success[_ngcontent-%COMP%]:after{height:6px;transform:rotate(-45deg);top:9px;left:6px}.notyf__icon--success[_ngcontent-%COMP%]:before{height:11px;transform:rotate(45deg);top:5px;left:10px}.notyf__toast[_ngcontent-%COMP%]{display:block;overflow:hidden;pointer-events:auto;animation:_ngcontent-%COMP%_notyf-fadeinup .3s ease-in forwards;box-shadow:0 3px 7px #00000040;position:relative;padding:0 15px;border-radius:2px;max-width:300px;transform:translateY(25%);box-sizing:border-box;flex-shrink:0}.notyf__toast--disappear[_ngcontent-%COMP%]{transform:translateY(0);animation:_ngcontent-%COMP%_notyf-fadeoutdown .3s forwards;animation-delay:.25s}.notyf__toast--disappear[_ngcontent-%COMP%]   .notyf__icon[_ngcontent-%COMP%], .notyf__toast--disappear[_ngcontent-%COMP%]   .notyf__message[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_notyf-fadeoutdown .3s forwards;opacity:1;transform:translateY(0)}.notyf__toast--disappear[_ngcontent-%COMP%]   .notyf__dismiss[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_notyf-fadeoutright .3s forwards;opacity:1;transform:translate(0)}.notyf__toast--disappear[_ngcontent-%COMP%]   .notyf__message[_ngcontent-%COMP%]{animation-delay:.05s}.notyf__toast--upper[_ngcontent-%COMP%]{margin-bottom:20px}.notyf__toast--lower[_ngcontent-%COMP%]{margin-top:20px}.notyf__toast--dismissible[_ngcontent-%COMP%]   .notyf__wrapper[_ngcontent-%COMP%]{padding-right:30px}.notyf__ripple[_ngcontent-%COMP%]{height:400px;width:400px;position:absolute;transform-origin:bottom right;right:0;top:0;border-radius:50%;transform:scale(0) translateY(-51%) translate(13%);z-index:5;animation:_ngcontent-%COMP%_ripple .4s ease-out forwards}.notyf__wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:17px;padding-bottom:17px;padding-right:15px;border-radius:3px;position:relative;z-index:10}.notyf__icon[_ngcontent-%COMP%]{width:22px;text-align:center;font-size:1.3em;opacity:0;animation:_ngcontent-%COMP%_notyf-fadeinup .3s forwards;animation-delay:.3s;margin-right:13px}.notyf__dismiss[_ngcontent-%COMP%]{position:absolute;top:0;right:0;height:100%;width:26px;margin-right:-15px;animation:_ngcontent-%COMP%_notyf-fadeinleft .3s forwards;animation-delay:.35s;opacity:0}.notyf__dismiss-btn[_ngcontent-%COMP%]{background-color:#00000040;border:none;cursor:pointer;transition:opacity .2s ease,background-color .2s ease;outline:none;opacity:.35;height:100%;width:100%}.notyf__dismiss-btn[_ngcontent-%COMP%]:after, .notyf__dismiss-btn[_ngcontent-%COMP%]:before{content:\"\";background:#fff;height:12px;width:2px;border-radius:3px;position:absolute;left:calc(50% - 1px);top:calc(50% - 5px)}.notyf__dismiss-btn[_ngcontent-%COMP%]:after{transform:rotate(-45deg)}.notyf__dismiss-btn[_ngcontent-%COMP%]:before{transform:rotate(45deg)}.notyf__dismiss-btn[_ngcontent-%COMP%]:hover{opacity:.7;background-color:#00000026}.notyf__dismiss-btn[_ngcontent-%COMP%]:active{opacity:.8}.notyf__message[_ngcontent-%COMP%]{vertical-align:middle;position:relative;opacity:0;animation:_ngcontent-%COMP%_notyf-fadeinup .3s forwards;animation-delay:.25s;line-height:1.5em}@media only screen and (max-width:480px){.notyf[_ngcontent-%COMP%]{padding:0}.notyf__ripple[_ngcontent-%COMP%]{height:600px;width:600px;animation-duration:.5s}.notyf__toast[_ngcontent-%COMP%]{max-width:none;border-radius:0;box-shadow:0 -2px 7px #00000021;width:100%}.notyf__dismiss[_ngcontent-%COMP%]{width:56px}}.hg-theme-default[_ngcontent-%COMP%]{width:100%;-webkit-user-select:none;user-select:none;box-sizing:border-box;overflow:hidden;touch-action:manipulation}.hg-theme-default[_ngcontent-%COMP%]   .hg-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{pointer-events:none}.hg-theme-default[_ngcontent-%COMP%]   button.hg-button[_ngcontent-%COMP%]{border-width:0;outline:0;font-size:inherit}.hg-theme-default[_ngcontent-%COMP%]{font-family:HelveticaNeue-Light,Helvetica Neue Light,Helvetica Neue,Helvetica,Arial,Lucida Grande,sans-serif;background-color:#ececec;padding:5px;border-radius:5px}.hg-theme-default[_ngcontent-%COMP%]   .hg-button[_ngcontent-%COMP%]{display:inline-block;flex-grow:1}.hg-theme-default[_ngcontent-%COMP%]   .hg-row[_ngcontent-%COMP%]{display:flex}.hg-theme-default[_ngcontent-%COMP%]   .hg-row[_ngcontent-%COMP%]:not(:last-child){margin-bottom:5px}.hg-theme-default[_ngcontent-%COMP%]   .hg-row[_ngcontent-%COMP%]   .hg-button-container[_ngcontent-%COMP%], .hg-theme-default[_ngcontent-%COMP%]   .hg-row[_ngcontent-%COMP%]   .hg-button[_ngcontent-%COMP%]:not(:last-child){margin-right:5px}.hg-theme-default[_ngcontent-%COMP%]   .hg-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{margin-right:0}.hg-theme-default[_ngcontent-%COMP%]   .hg-row[_ngcontent-%COMP%]   .hg-button-container[_ngcontent-%COMP%]{display:flex}.hg-theme-default[_ngcontent-%COMP%]   .hg-button[_ngcontent-%COMP%]{box-shadow:0 0 3px -1px #0000004d;height:40px;border-radius:5px;box-sizing:border-box;padding:5px;background:#fff;border-bottom:1px solid #b5b5b5;cursor:pointer;display:flex;align-items:center;justify-content:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.hg-theme-default[_ngcontent-%COMP%]   .hg-button.hg-activeButton[_ngcontent-%COMP%]{background:#efefef}.hg-theme-default.hg-layout-numeric[_ngcontent-%COMP%]   .hg-button[_ngcontent-%COMP%]{width:33.3%;height:60px;align-items:center;display:flex;justify-content:center}.hg-theme-default[_ngcontent-%COMP%]   .hg-button.hg-button-numpadadd[_ngcontent-%COMP%], .hg-theme-default[_ngcontent-%COMP%]   .hg-button.hg-button-numpadenter[_ngcontent-%COMP%]{height:85px}.hg-theme-default[_ngcontent-%COMP%]   .hg-button.hg-button-numpad0[_ngcontent-%COMP%]{width:105px}.hg-theme-default[_ngcontent-%COMP%]   .hg-button.hg-button-com[_ngcontent-%COMP%]{max-width:85px}.hg-theme-default[_ngcontent-%COMP%]   .hg-button.hg-standardBtn.hg-button-at[_ngcontent-%COMP%]{max-width:45px}.hg-theme-default[_ngcontent-%COMP%]   .hg-button.hg-selectedButton[_ngcontent-%COMP%]{background:#05194687;color:#fff}.hg-theme-default[_ngcontent-%COMP%]   .hg-button.hg-standardBtn[data-skbtn=\".com\"][_ngcontent-%COMP%]{max-width:82px}.hg-theme-default[_ngcontent-%COMP%]   .hg-button.hg-standardBtn[data-skbtn=\"@\"][_ngcontent-%COMP%]{max-width:60px}\n\n*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:before, [_ngcontent-%COMP%]:after{box-sizing:border-box}html[_ngcontent-%COMP%]{tab-size:4}html[_ngcontent-%COMP%]{line-height:1.15;-webkit-text-size-adjust:100%}body[_ngcontent-%COMP%]{margin:0}body[_ngcontent-%COMP%]{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"}hr[_ngcontent-%COMP%]{height:0;color:inherit}abbr[title][_ngcontent-%COMP%]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%], pre[_ngcontent-%COMP%]{font-family:ui-monospace,SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:1em}small[_ngcontent-%COMP%]{font-size:80%}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}table[_ngcontent-%COMP%]{text-indent:0;border-color:inherit}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}button[_ngcontent-%COMP%], [type=button][_ngcontent-%COMP%]{-webkit-appearance:button}[_ngcontent-%COMP%]::-moz-focus-inner{border-style:none;padding:0}legend[_ngcontent-%COMP%]{padding:0}progress[_ngcontent-%COMP%]{vertical-align:baseline}[_ngcontent-%COMP%]::-webkit-inner-spin-button, [_ngcontent-%COMP%]::-webkit-outer-spin-button{height:auto}[_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary[_ngcontent-%COMP%]{display:list-item}blockquote[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], dd[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], hr[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%]{margin:0}button[_ngcontent-%COMP%]{background-color:transparent;background-image:none}fieldset[_ngcontent-%COMP%]{margin:0;padding:0}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}html[_ngcontent-%COMP%]{font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\",Segoe UI Symbol,\"Noto Color Emoji\";line-height:1.5}body[_ngcontent-%COMP%]{font-family:inherit;line-height:inherit}*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:before, [_ngcontent-%COMP%]:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:currentColor}hr[_ngcontent-%COMP%]{border-top-width:1px}img[_ngcontent-%COMP%]{border-style:solid}textarea[_ngcontent-%COMP%]{resize:vertical}input[_ngcontent-%COMP%]::placeholder, textarea[_ngcontent-%COMP%]::placeholder{opacity:1;color:#9ca3af}button[_ngcontent-%COMP%]{cursor:pointer}table[_ngcontent-%COMP%]{border-collapse:collapse}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-size:inherit;font-weight:inherit}a[_ngcontent-%COMP%]{color:inherit;text-decoration:inherit}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{padding:0;line-height:inherit;color:inherit}pre[_ngcontent-%COMP%], code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%]{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}img[_ngcontent-%COMP%], svg[_ngcontent-%COMP%], video[_ngcontent-%COMP%], canvas[_ngcontent-%COMP%], audio[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], embed[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{display:block;vertical-align:middle}img[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{max-width:100%;height:auto}[hidden][_ngcontent-%COMP%]{display:none}*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:before, [_ngcontent-%COMP%]:after{--tw-border-opacity: 1;border-color:rgba(229,231,235,var(--tw-border-opacity))}.pointer-events-none[_ngcontent-%COMP%]{pointer-events:none}.absolute[_ngcontent-%COMP%]{position:absolute}.relative[_ngcontent-%COMP%]{position:relative}.top-0[_ngcontent-%COMP%]{top:0}.top-2[_ngcontent-%COMP%]{top:.5rem}.top-1\\/2[_ngcontent-%COMP%]{top:50%}.right-0[_ngcontent-%COMP%]{right:0}.right-2[_ngcontent-%COMP%]{right:.5rem}.bottom-0[_ngcontent-%COMP%]{bottom:0}.left-0[_ngcontent-%COMP%]{left:0}.left-2[_ngcontent-%COMP%]{left:.5rem}.left-10[_ngcontent-%COMP%]{left:2.5rem}.z-50[_ngcontent-%COMP%]{z-index:50}.col-span-2[_ngcontent-%COMP%]{grid-column:span 2 / span 2}.mx-1[_ngcontent-%COMP%]{margin-left:.25rem;margin-right:.25rem}.mx-2[_ngcontent-%COMP%]{margin-left:.5rem;margin-right:.5rem}.-mx-6[_ngcontent-%COMP%]{margin-left:-1.5rem;margin-right:-1.5rem}.my-2[_ngcontent-%COMP%]{margin-top:.5rem;margin-bottom:.5rem}.my-4[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:1rem}.mt-0[_ngcontent-%COMP%]{margin-top:0}.mt-1[_ngcontent-%COMP%]{margin-top:.25rem}.mt-2[_ngcontent-%COMP%]{margin-top:.5rem}.mt-4[_ngcontent-%COMP%]{margin-top:1rem}.mt-8[_ngcontent-%COMP%]{margin-top:2rem}.mt-0\\.5[_ngcontent-%COMP%]{margin-top:.125rem}.-mt-1[_ngcontent-%COMP%]{margin-top:-.25rem}.-mt-3[_ngcontent-%COMP%]{margin-top:-.75rem}.-mt-6[_ngcontent-%COMP%]{margin-top:-1.5rem}.-mt-7[_ngcontent-%COMP%]{margin-top:-1.75rem}.mr-2[_ngcontent-%COMP%]{margin-right:.5rem}.mb-2[_ngcontent-%COMP%]{margin-bottom:.5rem}.ml-2[_ngcontent-%COMP%]{margin-left:.5rem}.-ml-2[_ngcontent-%COMP%]{margin-left:-.5rem}.inline-block[_ngcontent-%COMP%]{display:inline-block}.inline[_ngcontent-%COMP%]{display:inline}.flex[_ngcontent-%COMP%]{display:flex}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.table[_ngcontent-%COMP%]{display:table}.grid[_ngcontent-%COMP%]{display:grid}.hidden[_ngcontent-%COMP%]{display:none}.h-2[_ngcontent-%COMP%]{height:.5rem}.h-4[_ngcontent-%COMP%]{height:1rem}.h-5[_ngcontent-%COMP%]{height:1.25rem}.h-6[_ngcontent-%COMP%]{height:1.5rem}.h-8[_ngcontent-%COMP%]{height:2rem}.h-12[_ngcontent-%COMP%]{height:3rem}.h-full[_ngcontent-%COMP%]{height:100%}.max-h-72[_ngcontent-%COMP%]{max-height:18rem}.w-2[_ngcontent-%COMP%]{width:.5rem}.w-4[_ngcontent-%COMP%]{width:1rem}.w-5[_ngcontent-%COMP%]{width:1.25rem}.w-6[_ngcontent-%COMP%]{width:1.5rem}.w-8[_ngcontent-%COMP%]{width:2rem}.w-10[_ngcontent-%COMP%]{width:2.5rem}.w-14[_ngcontent-%COMP%]{width:3.5rem}.w-20[_ngcontent-%COMP%]{width:5rem}.w-24[_ngcontent-%COMP%]{width:6rem}.w-3\\/4[_ngcontent-%COMP%]{width:75%}.w-full[_ngcontent-%COMP%]{width:100%}.flex-shrink-0[_ngcontent-%COMP%]{flex-shrink:0}.flex-shrink[_ngcontent-%COMP%]{flex-shrink:1}.flex-grow-0[_ngcontent-%COMP%]{flex-grow:0}.flex-grow[_ngcontent-%COMP%]{flex-grow:1}.transform[_ngcontent-%COMP%]{--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;transform:translate(var(--tw-translate-x)) translateY(var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\\:scale-125[_ngcontent-%COMP%]:hover{--tw-scale-x: 1.25;--tw-scale-y: 1.25}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_ping{75%,to{transform:scale(2);opacity:0}}@keyframes _ngcontent-%COMP%_pulse{50%{opacity:.5}}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(-25%);animation-timing-function:cubic-bezier(.8,0,1,1)}50%{transform:none;animation-timing-function:cubic-bezier(0,0,.2,1)}}@keyframes _ngcontent-%COMP%_reverse-spin{0%{transform:rotate(360deg)}}.animate-ping[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_ping 1s cubic-bezier(0,0,.2,1) infinite}.animate-pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s cubic-bezier(.4,0,.6,1) infinite}.animate-reverse-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_reverse-spin 1s linear infinite}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.grid-cols-2[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))}.flex-row[_ngcontent-%COMP%]{flex-direction:row}.flex-col[_ngcontent-%COMP%]{flex-direction:column}.flex-wrap[_ngcontent-%COMP%]{flex-wrap:wrap}.items-center[_ngcontent-%COMP%]{align-items:center}.justify-center[_ngcontent-%COMP%]{justify-content:center}.justify-between[_ngcontent-%COMP%]{justify-content:space-between}.justify-around[_ngcontent-%COMP%]{justify-content:space-around}.justify-evenly[_ngcontent-%COMP%]{justify-content:space-evenly}.gap-4[_ngcontent-%COMP%]{gap:1rem}.self-start[_ngcontent-%COMP%]{align-self:flex-start}.overflow-auto[_ngcontent-%COMP%]{overflow:auto}.overflow-hidden[_ngcontent-%COMP%]{overflow:hidden}.overflow-y-auto[_ngcontent-%COMP%]{overflow-y:auto}.overflow-x-hidden[_ngcontent-%COMP%]{overflow-x:hidden}.overflow-ellipsis[_ngcontent-%COMP%]{text-overflow:ellipsis}.whitespace-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.break-words[_ngcontent-%COMP%]{overflow-wrap:break-word}.break-all[_ngcontent-%COMP%]{word-break:break-all}.rounded[_ngcontent-%COMP%]{border-radius:.25rem}.rounded-2xl[_ngcontent-%COMP%]{border-radius:1rem}.rounded-full[_ngcontent-%COMP%]{border-radius:9999px}.rounded-r-md[_ngcontent-%COMP%]{border-top-right-radius:.375rem;border-bottom-right-radius:.375rem}.rounded-l-lg[_ngcontent-%COMP%]{border-top-left-radius:.5rem;border-bottom-left-radius:.5rem}.rounded-br-md[_ngcontent-%COMP%]{border-bottom-right-radius:.375rem}.border-2[_ngcontent-%COMP%]{border-width:2px}.border[_ngcontent-%COMP%]{border-width:1px}.border-t-2[_ngcontent-%COMP%]{border-top-width:2px}.border-b-2[_ngcontent-%COMP%]{border-bottom-width:2px}.border-b[_ngcontent-%COMP%]{border-bottom-width:1px}.border-gray-400[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgba(156,163,175,var(--tw-border-opacity))}.border-gray-800[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgba(31,41,55,var(--tw-border-opacity))}.border-red-600[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgba(220,38,38,var(--tw-border-opacity))}.border-green-200[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgba(167,243,208,var(--tw-border-opacity))}.border-blue-400[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgba(96,165,250,var(--tw-border-opacity))}.bg-white[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgba(255,255,255,var(--tw-bg-opacity))}.bg-gray-200[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgba(229,231,235,var(--tw-bg-opacity))}.bg-gray-300[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgba(209,213,219,var(--tw-bg-opacity))}.bg-gray-400[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgba(156,163,175,var(--tw-bg-opacity))}.bg-gray-500[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgba(107,114,128,var(--tw-bg-opacity))}.bg-gray-600[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgba(75,85,99,var(--tw-bg-opacity))}.bg-gray-800[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgba(31,41,55,var(--tw-bg-opacity))}.bg-red-200[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgba(254,202,202,var(--tw-bg-opacity))}.bg-red-400[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgba(248,113,113,var(--tw-bg-opacity))}.bg-green-100[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgba(209,250,229,var(--tw-bg-opacity))}.bg-green-200[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgba(167,243,208,var(--tw-bg-opacity))}.bg-opacity-80[_ngcontent-%COMP%]{--tw-bg-opacity: .8}.p-2[_ngcontent-%COMP%]{padding:.5rem}.px-2[_ngcontent-%COMP%]{padding-left:.5rem;padding-right:.5rem}.px-4[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem}.px-8[_ngcontent-%COMP%]{padding-left:2rem;padding-right:2rem}.py-0[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}.py-1[_ngcontent-%COMP%]{padding-top:.25rem;padding-bottom:.25rem}.py-2[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.5rem}.py-4[_ngcontent-%COMP%]{padding-top:1rem;padding-bottom:1rem}.pt-2[_ngcontent-%COMP%]{padding-top:.5rem}.pt-6[_ngcontent-%COMP%]{padding-top:1.5rem}.pb-2[_ngcontent-%COMP%]{padding-bottom:.5rem}.pb-4[_ngcontent-%COMP%]{padding-bottom:1rem}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.font-mono[_ngcontent-%COMP%]{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}.text-xs[_ngcontent-%COMP%]{font-size:.75rem;line-height:1rem}.text-sm[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem}.text-lg[_ngcontent-%COMP%]{font-size:1.125rem;line-height:1.75rem}.text-2xl[_ngcontent-%COMP%]{font-size:1.5rem;line-height:2rem}.font-bold[_ngcontent-%COMP%]{font-weight:700}.uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-black[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgba(0,0,0,var(--tw-text-opacity))}.text-gray-400[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgba(156,163,175,var(--tw-text-opacity))}.text-gray-600[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgba(75,85,99,var(--tw-text-opacity))}.text-red-400[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgba(248,113,113,var(--tw-text-opacity))}.text-red-500[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgba(239,68,68,var(--tw-text-opacity))}.text-red-800[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgba(153,27,27,var(--tw-text-opacity))}.text-green-400[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgba(52,211,153,var(--tw-text-opacity))}.text-green-600[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgba(5,150,105,var(--tw-text-opacity))}.text-blue-400[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgba(96,165,250,var(--tw-text-opacity))}.text-blue-900[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgba(30,58,138,var(--tw-text-opacity))}.text-purple-400[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgba(167,139,250,var(--tw-text-opacity))}.text-purple-600[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgba(124,58,237,var(--tw-text-opacity))}.text-pink-400[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgba(244,114,182,var(--tw-text-opacity))}.hover\\:text-gray-800[_ngcontent-%COMP%]:hover{--tw-text-opacity: 1;color:rgba(31,41,55,var(--tw-text-opacity))}.hover\\:text-green-600[_ngcontent-%COMP%]:hover{--tw-text-opacity: 1;color:rgba(5,150,105,var(--tw-text-opacity))}.underline[_ngcontent-%COMP%]{text-decoration:underline}.opacity-0[_ngcontent-%COMP%]{opacity:0}.opacity-75[_ngcontent-%COMP%]{opacity:.75}.opacity-80[_ngcontent-%COMP%]{opacity:.8}.opacity-95[_ngcontent-%COMP%]{opacity:.95}*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:before, [_ngcontent-%COMP%]:after{--tw-shadow: 0 0 #0000}.shadow[_ngcontent-%COMP%]{--tw-shadow: 0 1px 3px 0 rgba(0, 0, 0, .1), 0 1px 2px 0 rgba(0, 0, 0, .06);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg[_ngcontent-%COMP%]{--tw-shadow: 0 10px 15px -3px rgba(0, 0, 0, .1), 0 4px 6px -2px rgba(0, 0, 0, .05);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:before, [_ngcontent-%COMP%]:after{--tw-ring-inset: var(--tw-empty, );--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgba(59, 130, 246, .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000}.filter[_ngcontent-%COMP%]{--tw-blur: var(--tw-empty, );--tw-brightness: var(--tw-empty, );--tw-contrast: var(--tw-empty, );--tw-grayscale: var(--tw-empty, );--tw-hue-rotate: var(--tw-empty, );--tw-invert: var(--tw-empty, );--tw-saturate: var(--tw-empty, );--tw-sepia: var(--tw-empty, );--tw-drop-shadow: var(--tw-empty, );filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow-lg[_ngcontent-%COMP%]{--tw-drop-shadow: drop-shadow(0 10px 8px rgba(0, 0, 0, .04)) drop-shadow(0 4px 3px rgba(0, 0, 0, .1))}.transition-opacity[_ngcontent-%COMP%]{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-1000[_ngcontent-%COMP%]{transition-duration:1s}.sidebar-header[_ngcontent-%COMP%]{margin-bottom:.5rem;border-bottom-width:2px;--tw-border-opacity: 1;border-color:rgba(167,243,208,var(--tw-border-opacity));padding-bottom:.5rem;text-align:center;text-transform:uppercase;--tw-text-opacity: 1;color:rgba(75,85,99,var(--tw-text-opacity))}input[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px}select[_ngcontent-%COMP%]{border-radius:.25rem;border-width:1px;--tw-border-opacity: 1;border-color:rgba(167,243,208,var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgba(255,255,255,var(--tw-bg-opacity));padding-left:.5rem;padding-right:.5rem}select[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px}@media (min-width: 640px){.sm\\:w-80[_ngcontent-%COMP%]{width:20rem}.sm\\:w-1\\/2[_ngcontent-%COMP%]{width:50%}}"]})}return t})();const B9=["videowindow"],V9=["mainVideoCntnr"],U9=["videoCntnr"];let z9=(()=>{class t{videowindow;mainVideoCntnr;videoCntnr;_maximizeWindowSub;_minimizeWindowSub;_processIdService;_runningProcessService;_triggerProcessService;_stateManagmentService;_sessionManagmentService;_scriptService;_fileInfo;player;_consts=new Bd;_appState;videoSrc="";fileType="";recents=[];SECONDS_DELAY=250;name="videoplayer";hasWindow=!0;icon="/osdrive/icons/videoplayer.png";processId=0;type=on.System;displayName="Video-js";showTopMenu=!1;constructor(e,i,r,o,s,l){this._processIdService=e,this._triggerProcessService=r,this._stateManagmentService=o,this._runningProcessService=i,this._sessionManagmentService=s,this._scriptService=l,this.processId=this._processIdService.getNewProcessId(),this.retrievePastSessionData(),this._maximizeWindowSub=this._runningProcessService.maximizeWindowNotify.subscribe(()=>{this.maximizeWindow()}),this._minimizeWindowSub=this._runningProcessService.minimizeWindowNotify.subscribe(h=>{this.minmizeWindow(h)}),this._runningProcessService.addProcess(this.getComponentDetail())}ngOnInit(){this._fileInfo=this._triggerProcessService.getLastProcessTrigger()}showMenu(){this.showTopMenu=!0,console.log("show menu")}openFileExplorer(){this.showTopMenu=!1}playPrevious(){this.showTopMenu=!1}ngAfterViewInit(){var e=this;return Ne(function*(){e.setVideoWindowToFocus(e.processId),e.fileType=""!==e.fileType?e.fileType:"video/"+e._fileInfo.getFileType.replace(".",""),e.videoSrc=""!==e.videoSrc?e.videoSrc:e.getVideoSrc(e._fileInfo.getContentPath,e._fileInfo.getCurrentPath);const i={fluid:!0,responsive:!0,autoplay:!0,controls:!0,aspectRatio:"16:9",controlBar:{fullscreenToggle:!1,skipButtons:{backward:10,forward:10}},sources:[{src:e.videoSrc,type:e.fileType}]};e.storeAppState([e.fileType,e.videoSrc]),e._scriptService.loadScript("videojs","assets/videojs/video.min.js").then(()=>{e.player=videojs(e.videowindow.nativeElement,i,function(){console.log("onPlayerReady:","player is read")})}),setTimeout(()=>{e.captureComponentImg()},e.SECONDS_DELAY)})()}ngOnDestroy(){this.player&&(this.player.off("fullscreenchange",this.onFullscreenChange),this.player.dispose()),this._maximizeWindowSub?.unsubscribe(),this._minimizeWindowSub?.unsubscribe()}captureComponentImg(){_r(this.videowindow.nativeElement).then(e=>{this._runningProcessService.addProcessImage(this.name,{pid:this.processId,imageData:e})})}onFullscreenChange=()=>{const e=this.player.isFullscreen();console.log("Fullscreen changed:",e),e&&this.player.exitFullscreen()};addToRecentsList(e){this.recents.includes(e)||this.recents.push(e)}setVideoWindowToFocus(e){this._runningProcessService.focusOnCurrentProcessNotify.next(e)}getVideoSrc(e,i){let r="";return e.includes("blob:http")?e:(r=this.checkForExt(e,i)?"/"+this._fileInfo.getContentPath:this._fileInfo.getCurrentPath,r)}checkForExt(e,i){const r=(0,tt.extname)(e),o=(0,tt.extname)(i);let s=!1;return this._consts.VIDEO_FILE_EXTENSIONS.includes(r)?s=!0:this._consts.VIDEO_FILE_EXTENSIONS.includes(o)&&(s=!1),s}storeAppState(e){const i=`${this.name}-${this.processId}`;this._appState={pid:this.processId,app_data:e,app_name:this.name,unique_id:i},this._stateManagmentService.addState(i,this._appState,pn.App)}retrievePastSessionData(){const e=this._sessionManagmentService._pickUpKey;if(this._sessionManagmentService.hasTempSession(e)){const i=this._sessionManagmentService.getTempSession(e)||"",r=this._sessionManagmentService.getSession(i);if(void 0!==r){const o=r[0];if(void 0!==o&&""!=o.app_data){const s=o.app_data;this.fileType=s[0],this.videoSrc=s[1]}}}}maximizeWindow(){if(`${this.name}-${this.processId}`===this._runningProcessService.getEventOrginator()){this._runningProcessService.removeEventOriginator();const r=document.getElementById("vanta"),o=70;this.videoCntnr.nativeElement.style.width=`${r?.offsetWidth}px`,this.videoCntnr.nativeElement.style.height=(r?.offsetHeight||0)-o+"px"}}minmizeWindow(e){`${this.name}-${this.processId}`===this._runningProcessService.getEventOrginator()&&(this._runningProcessService.removeEventOriginator(),this.videoCntnr.nativeElement.style.width=`${e[0]}px`,this.videoCntnr.nativeElement.style.height=`${e[1]}px`)}getComponentDetail(){return new Ci(this.processId,this.name,this.icon,this.hasWindow,this.type,this._triggerProcessService.getLastProcessTrigger)}static \u0275fac=function(i){return new(i||t)(ee(Ii),ee(Gn),ee(vr),ee(Kr),ee(Qr),ee(sc))};static \u0275cmp=a({type:t,selectors:[["cos-videoplayer"]],viewQuery:function(i,r){if(1&i&&(Wt(B9,7),Wt(V9,7),Wt(U9,7)),2&i){let o;$t(o=Gt())&&(r.videowindow=o.first),$t(o=Gt())&&(r.mainVideoCntnr=o.first),$t(o=Gt())&&(r.videoCntnr=o.first)}},decls:7,vars:3,consts:[["mainVideoCntnr",""],["videoCntnr",""],["videowindow",""],[3,"click","runningProcessID","processAppIcon","processAppName"],[1,"my-video-main-container"],[1,"my-video-container"],["controls","","muted","","playsinline","","preload","none","width","640","height","360",1,"video-js"]],template:function(i,r){if(1&i){const o=Ht();x(0,"cos-window",3),ye("click",function(){return te(o),ne(r.setVideoWindowToFocus(r.processId))}),x(1,"div",4,0)(3,"div",5,1),ge(5,"video",6,2),L()()()}2&i&&K("runningProcessID",r.processId)("processAppIcon",r.icon)("processAppName",r.name)},dependencies:[Xr],styles:[".my-video-main-container[_ngcontent-%COMP%]{display:flex;height:100%;width:100%}.video-top-menu-bar[_ngcontent-%COMP%]{display:flex;width:100%;height:25px;left:0%;background-color:#fff;color:#000}.video-top-menu[_ngcontent-%COMP%]{display:block;position:absolute;width:120px;left:0%;background-color:#ccc;color:#000;font-size:small;font-weight:400;text-align:left;padding:2px 4px;top:55px;z-index:2}.video-top-menu-bar-content[_ngcontent-%COMP%]{position:relative}.my-video-container[_ngcontent-%COMP%]{display:flex;position:relative;min-width:640px;min-height:360px;color:#000}span[_ngcontent-%COMP%]{display:block;padding:4px 0}.btn.btn-primary.head[_ngcontent-%COMP%]{background-color:#fff;color:#333;border:1px solid #ffffff;padding:0 4px;font-size:13px}.btn.btn-primary.head[_ngcontent-%COMP%]:active, .btn.btn-primary.head[_ngcontent-%COMP%]:focus{background-color:#0056b3;border:1px solid #0056b3;color:#fff}.btn.btn-primary.head[_ngcontent-%COMP%]:hover{background-color:#98ccf4;border:1px solid #0056b3}"]})}return t})();const Kk=new qt(t=>t.complete());function Fw(t,n){return Ut((e,i)=>{let r=0;e.subscribe(yn(i,o=>t.call(n,o,r++)&&i.next(o)))})}let G9=(()=>{class t{el;eventSubscribe;threshold=500;mouseLongPress=new In;constructor(e){this.el=e;const i=Mi(e.nativeElement,"mousedown").pipe(Fw(o=>0==o.button),Un(o=>!0)),r=Mi(e.nativeElement,"mouseup").pipe(Fw(o=>0==o.button),Un(()=>!1));this.eventSubscribe=function W9(...t){const n=jM(t),e=function m8(t,n){return"number"==typeof Yv(t)?t.pop():n}(t,1/0),i=t;return i.length?1===i.length?Cs(i[0]):function j9(t=1/0){return _0(Ue,t)}(e)(Zv(i,n)):Kk}(i,r).pipe(Qk(o=>o?dg(this.threshold,100):function $9(...t){return Zv(t,jM(t))}(null))).subscribe(()=>this.mouseLongPress.emit())}ngOnDestroy(){this.eventSubscribe&&this.eventSubscribe.unsubscribe()}static \u0275fac=function(i){return new(i||t)(ee(Ei))};static \u0275dir=y({type:t,selectors:[["","longPress",""]],outputs:{mouseLongPress:"mouseLongPress"}})}return t})();const Z9=["waveForm"],Y9=["audioContainer"],q9=["playBtn"],Q9=["pauseBtn"],K9=["prevBtn"],X9=["nextBtn"],J9=["playlistBtn"],e7=["progress"],t7=["bar"],n7=["loading"],i7=["volumeBtn"],r7=["volumeSlider"],o7=["barFull"],s7=["barEmpty"],a7=["sliderBtn"];let c7=(()=>{class t{waveForm;audioContainer;playBtn;pauseBtn;prevBtn;nextBtn;playlistBtn;progress;bar;loading;volumeBtn;volumeSlider;barFull;barEmpty;sliderBtn;_maximizeWindowSub;_minimizeWindowSub;_processIdService;_runningProcessService;_triggerProcessService;_stateManagmentService;_sessionManagmentService;_scriptService;_fileInfo;_consts=new Bd;_appState;SECONDS_DELAY=250;audioSrc="";audioPlayer;siriWave;isSliderDown=!1;playList=[];recents=[];name="audioplayer";hasWindow=!0;icon="/osdrive/icons/audioplayer.png";processId=0;type=on.User;displayName="Howlerjs";showTopMenu=!1;track="N/A";timer="0:00";duration="0:00";constructor(e,i,r,o,s,l){this._processIdService=e,this._triggerProcessService=r,this._stateManagmentService=o,this._sessionManagmentService=s,this._scriptService=l,this.processId=this._processIdService.getNewProcessId(),this.retrievePastSessionData(),this._runningProcessService=i,this._maximizeWindowSub=this._runningProcessService.maximizeWindowNotify.subscribe(()=>{this.maximizeWindow()}),this._minimizeWindowSub=this._runningProcessService.minimizeWindowNotify.subscribe(h=>{this.minimizeWindow(h)}),this._runningProcessService.addProcess(this.getComponentDetail())}ngOnInit(){this._fileInfo=this._triggerProcessService.getLastProcessTrigger()}ngAfterViewInit(){this.setAudioWindowToFocus(this.processId),this.audioSrc=""!==this.audioSrc?this.audioSrc:this.getAudioSrc(this._fileInfo.getContentPath,this._fileInfo.getCurrentPath),this._scriptService.loadScript("howler","assets/howler/howler.min.js").then(()=>{this._scriptService.loadScript("siriwave","assets/howler/siriwave.umd.min.js").then(()=>{this.siriWave=new SiriWave({container:this.waveForm.nativeElement,width:640,height:480,autostart:!1,cover:!0,speed:.03,amplitude:.7,frequency:2}),0==this.playList.length&&(this.loadHowlSingleTrackObjectAsync().then(e=>{this.audioPlayer=e}).catch(e=>{console.error("Error loading track:",e)}),this.storeAppState(this.audioSrc))})}),setTimeout(()=>{this.captureComponentImg()},this.SECONDS_DELAY)}captureComponentImg(){_r(this.audioContainer.nativeElement).then(e=>{this._runningProcessService.addProcessImage(this.name,{pid:this.processId,imageData:e})})}ngOnDestroy(){this.audioPlayer?.unload(),this._maximizeWindowSub?.unsubscribe(),this._minimizeWindowSub?.unsubscribe()}showMenu(){this.showTopMenu=!0}openFileExplorer(){this.showTopMenu=!1}playPrevious(){this.showTopMenu=!1}onPlayBtnClicked(){this.bar.nativeElement.style.display="none",this.waveForm.nativeElement.style.display="block",this.pauseBtn.nativeElement.style.display="block",this.playBtn.nativeElement.style.display="none",this.siriWave.start(),this.audioPlayer.play(),requestAnimationFrame(this.updatePlayBackPosition.bind(this))}onPauseBtnClicked(){this.bar.nativeElement.style.display="block",this.waveForm.nativeElement.style.display="none",this.pauseBtn.nativeElement.style.display="none",this.playBtn.nativeElement.style.display="block",this.siriWave.stop(),this.audioPlayer.pause()}onPrevBtnClicked(){this.playList.length>0&&this.audioPlayer.play()}onRewind(){let i=this.audioPlayer.seek()-10;i=i<=0?0:i,this.audioPlayer.seek(i)}onNextBtnClicked(){this.playList.length>0&&this.audioPlayer.play()}onFastForward(){const i=this.audioPlayer.seek()+10;i>=this.audioPlayer.duration()?this.audioPlayer.stop():this.audioPlayer.seek(i)}onWaveFormClicked(e){const i=this.audioContainer.nativeElement.getBoundingClientRect();this.onSeek((e.clientX-i.left)/this.waveForm.nativeElement.offsetWidth)}onVolumeBtnClicked(){const e="block"===this.volumeSlider.nativeElement.style.display?"none":"block";setTimeout(()=>{this.volumeSlider.nativeElement.style.display=e},"block"===e?0:500),this.volumeSlider.nativeElement.className="block"===e?"fadein":"fadeout"}onVolumeSliderBtnClicked(){const e="block"===this.volumeSlider.nativeElement.style.display?"none":"block";setTimeout(()=>{this.volumeSlider.nativeElement.style.display=e},"block"===e?0:500),this.volumeSlider.nativeElement.className="block"===e?"fadein":"fadeout"}changeVolume(e){const i=this.audioContainer.nativeElement.getBoundingClientRect();this.audioPlayer.volume(e);const r=90*e/100;this.barFull.nativeElement.style.width=100*r+"%",this.sliderBtn.nativeElement.style.left=i.width*r+.05*i.width-25+"px"}onBarEmptyClick(e){const r=e.offsetX/parseFloat(this.barEmpty.nativeElement.scrollWidth);this.changeVolume(r)}onMousDownSliderBtn(){this.isSliderDown=!0}onVolumeMouseUp(){this.isSliderDown=!1}onVolumeMouseMove(e){if(this.isSliderDown){const i=this.audioContainer.nativeElement.getBoundingClientRect(),o=e.clientX-i.left,s=.05*parseInt(i.width),h=Math.min(1,Math.max(0,(o-s)/parseFloat(this.barEmpty.nativeElement.scrollWidth)));this.changeVolume(h)}}formatTime(e){const i=Math.floor(e/60)||0,r=Math.floor(e-60*i)||0;return i+":"+(r<10?"0":"")+r}addToRecentsList(e){this.recents.includes(e)||this.recents.push(e)}setAudioWindowToFocus(e){this._runningProcessService.focusOnCurrentProcessNotify.next(e)}resizeSiriWave(){const e=this.audioContainer.nativeElement.getBoundingClientRect(),i=.3*e.height,r=e.width;if(this.siriWave.height=i,this.siriWave.height_2=i/2,this.siriWave.MAX=this.siriWave.height_2-4,this.siriWave.width=r,this.siriWave.width_2=r/2,this.siriWave.width_4=r/4,this.siriWave.canvas.height=i,this.siriWave.canvas.width=r,this.siriWave.container.style.margin=-i/2+"px auto",this.audioPlayer){const s=.9*this.audioPlayer.volume();this.sliderBtn.nativeElement.style.left=e.width*s+.05*e.width-25+"px"}}updatePlayBackPosition(){const e=this.audioPlayer.seek()||0;this.timer=this.formatTime(Math.round(e)),this.progress.nativeElement.style.width=(e/this.audioPlayer.duration()*100||0)+"%",this.audioPlayer.playing()&&requestAnimationFrame(this.updatePlayBackPosition.bind(this))}onSeek(e){this.audioPlayer.playing()&&this.audioPlayer.seek(this.audioPlayer.duration()*e)}loadHowlSingleTrackObjectAsync(){var e=this;return Ne(function*(){return new Promise((i,r)=>{const o=e.getExt(e._fileInfo.getContentPath,e._fileInfo.getCurrentPath),s=new Howl({src:[e.audioSrc],format:[o.replace(".","")],autoplay:!1,loop:!1,volume:.5,preload:!0,onend:()=>{e.bar.nativeElement.style.display="block",e.waveForm.nativeElement.style.display="none",e.pauseBtn.nativeElement.style.display="none",e.playBtn.nativeElement.style.display="block",e.siriWave.stop()},onload:()=>{const l=s.duration();e.duration=e.formatTime(l),e.track=e._fileInfo.getFileName,i(s)},onseek:()=>{requestAnimationFrame(e.updatePlayBackPosition.bind(e))},onloaderror:l=>{r(l)}})})})()}loadHowlPlayListObjectAsync(){return new Promise((e,i)=>{this.track=this._fileInfo.getFileName;const r=(0,tt.extname)(this.audioSrc),o=new Howl({src:[this.audioSrc],format:[r],autoplay:!1,loop:!1,volume:.5,preload:!1,autoSuspend:!1,onend:()=>{this.siriWave.canvas.style.opacity=0,this.bar.nativeElement.style.display="block",this.pauseBtn.nativeElement.style.display="none",this.playBtn.nativeElement.style.display="block",this.siriWave.stop()},onload:()=>{const s=o.duration();this.duration=this.formatTime(s),e(o)},onseek:()=>{requestAnimationFrame(this.updatePlayBackPosition.bind(this))},onloaderror:s=>{console.log("there are problem:",s),i(s)}})})}maximizeWindow(){if(`${this.name}-${this.processId}`===this._runningProcessService.getEventOrginator()){this._runningProcessService.removeEventOriginator();const r=document.getElementById("vanta"),o=70;this.audioContainer.nativeElement.style.width=`${r?.offsetWidth}px`,this.audioContainer.nativeElement.style.height=(r?.offsetHeight||0)-o+"px"}}minimizeWindow(e){`${this.name}-${this.processId}`===this._runningProcessService.getEventOrginator()&&(this._runningProcessService.removeEventOriginator(),this.audioContainer.nativeElement.style.width=`${e[0]}px`,this.audioContainer.nativeElement.style.height=`${e[1]}px`)}getAudioSrc(e,i){let r="";return e.includes("blob:http")?e:(r=this.checkForExt(e,i)?"/"+this._fileInfo.getContentPath:this._fileInfo.getCurrentPath,r)}checkForExt(e,i){const r=(0,tt.extname)(e),o=(0,tt.extname)(i);let s=!1;return this._consts.AUDIO_FILE_EXTENSIONS.includes(r)?s=!0:this._consts.AUDIO_FILE_EXTENSIONS.includes(o)&&(s=!1),s}getExt(e,i){const r=(0,tt.extname)(e),o=(0,tt.extname)(i);let s="";return this._consts.AUDIO_FILE_EXTENSIONS.includes(r)?s=r:this._consts.AUDIO_FILE_EXTENSIONS.includes(o)&&(s=o),s}storeAppState(e){const i=`${this.name}-${this.processId}`;this._appState={pid:this.processId,app_data:e,app_name:this.name,unique_id:i},this._stateManagmentService.addState(i,this._appState,pn.App)}retrievePastSessionData(){const e=this._sessionManagmentService._pickUpKey;if(this._sessionManagmentService.hasTempSession(e)){const i=this._sessionManagmentService.getTempSession(e)||"",r=this._sessionManagmentService.getSession(i);if(void 0!==r){const o=r[0];void 0!==o&&""!=o.app_data&&(this.audioSrc=o.app_data)}}}getComponentDetail(){return new Ci(this.processId,this.name,this.icon,this.hasWindow,this.type,this._triggerProcessService.getLastProcessTrigger)}static \u0275fac=function(i){return new(i||t)(ee(Ii),ee(Gn),ee(vr),ee(Kr),ee(Qr),ee(sc))};static \u0275cmp=a({type:t,selectors:[["cos-audioplayer"]],viewQuery:function(i,r){if(1&i&&(Wt(Z9,7),Wt(Y9,7),Wt(q9,7),Wt(Q9,7),Wt(K9,7),Wt(X9,7),Wt(J9,7),Wt(e7,7),Wt(t7,7),Wt(n7,7),Wt(i7,7),Wt(r7,7),Wt(o7,7),Wt(s7,7),Wt(a7,7)),2&i){let o;$t(o=Gt())&&(r.waveForm=o.first),$t(o=Gt())&&(r.audioContainer=o.first),$t(o=Gt())&&(r.playBtn=o.first),$t(o=Gt())&&(r.pauseBtn=o.first),$t(o=Gt())&&(r.prevBtn=o.first),$t(o=Gt())&&(r.nextBtn=o.first),$t(o=Gt())&&(r.playlistBtn=o.first),$t(o=Gt())&&(r.progress=o.first),$t(o=Gt())&&(r.bar=o.first),$t(o=Gt())&&(r.loading=o.first),$t(o=Gt())&&(r.volumeBtn=o.first),$t(o=Gt())&&(r.volumeSlider=o.first),$t(o=Gt())&&(r.barFull=o.first),$t(o=Gt())&&(r.barEmpty=o.first),$t(o=Gt())&&(r.sliderBtn=o.first)}},decls:42,vars:6,consts:[["audioContainer",""],["loading",""],["playBtn",""],["pauseBtn",""],["prevBtn",""],["nextBtn",""],["playlistBtn",""],["volumeBtn",""],["waveForm",""],["bar",""],["progress",""],["volumeSlider",""],["barFull",""],["barEmpty",""],["sliderBtn",""],[3,"click","runningProcessID","processAppIcon","processAppName"],[1,"audio-container-main"],[1,"basic-info-container"],[1,"timer"],[1,"track"],[1,"duration"],[1,"controlsOuter"],[1,"controlsInner"],[1,"loading"],[1,"btn","playBtn",3,"click"],[1,"btn","pauseBtn",3,"click"],["longPress","",1,"btn","prevBtn",3,"click","mouseLongPress"],["longPress","",1,"btn","nextBtn",3,"click","mouseLongPress"],[1,"btn","playlistBtn"],[1,"btn","volumeBtn",3,"click"],[1,"waveform",3,"click"],[1,"pause-bar"],[1,"progress"],["id","playlist"],["id","list"],[1,"volume","fadeout",3,"mousemove","mouseup"],[1,"volume-bar","barFull"],[1,"volume-bar","barEmpty",3,"click"],[1,"sliderBtn",3,"mousedown"]],template:function(i,r){if(1&i){const o=Ht();x(0,"cos-window",15),ye("click",function(){return te(o),ne(r.setAudioWindowToFocus(r.processId))}),x(1,"div",16,0)(3,"div",17)(4,"div",18),ce(5),L(),x(6,"div",19),ce(7),L(),x(8,"div",20),ce(9),L()(),x(10,"div",21)(11,"div",22),ge(12,"div",23,1),x(14,"div",24,2),ye("click",function(){return te(o),ne(r.onPlayBtnClicked())}),L(),x(16,"div",25,3),ye("click",function(){return te(o),ne(r.onPauseBtnClicked())}),L(),x(18,"div",26,4),ye("click",function(){return te(o),ne(r.onPrevBtnClicked())})("mouseLongPress",function(){return te(o),ne(r.onRewind())}),L(),x(20,"div",27,5),ye("click",function(){return te(o),ne(r.onNextBtnClicked())})("mouseLongPress",function(){return te(o),ne(r.onFastForward())}),L()(),ge(22,"div",28,6),x(24,"div",29,7),ye("click",function(){return te(o),ne(r.onVolumeBtnClicked())}),L()(),x(26,"div",30,8),ye("click",function(l){return te(o),ne(r.onWaveFormClicked(l))}),L(),ge(28,"div",31,9)(30,"div",32,10),x(32,"div",33),ge(33,"div",34),L(),x(34,"div",35,11),ye("mousemove",function(l){return te(o),ne(r.onVolumeMouseMove(l))})("mouseup",function(){return te(o),ne(r.onVolumeMouseUp())}),ge(36,"div",36,12),x(38,"div",37,13),ye("click",function(l){return te(o),ne(r.onBarEmptyClick(l))}),L(),x(40,"div",38,14),ye("mousedown",function(){return te(o),ne(r.onMousDownSliderBtn())}),L()()()()}2&i&&(K("runningProcessID",r.processId)("processAppIcon",r.icon)("processAppName",r.name),B(5),Wn(r.timer),B(2),Wn(r.track),B(2),Wn(r.duration))},dependencies:[Xr,G9],styles:['.audio-container-main[_ngcontent-%COMP%]{min-width:640px;height:510px;width:100%;padding-top:0;margin:0;overflow:hidden;background:#7b69f0;background:linear-gradient(135deg,#7b69f0 0% 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#7b69f0",endColorstr="#3d4d91",GradientType=1);font-family:Helvetica Neue,Futura,Trebuchet MS,Arial;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:rgba(255,255,255,0)}.basic-info-container[_ngcontent-%COMP%]{position:relative;width:100%;min-height:40px;display:flex}.timer[_ngcontent-%COMP%]{position:relative;width:20%;min-height:30px;padding-left:3%;padding-top:15px;text-align:left;font-size:26px;opacity:.9;font-weight:300;color:#fff;text-shadow:1px 1px 2px rgba(0,0,0,.33)}.track[_ngcontent-%COMP%]{position:relative;width:60%;min-height:30px;padding-top:15px;text-align:center;font-size:30px;opacity:.9;font-weight:300;color:#fff;text-shadow:1px 1px 2px rgba(0,0,0,.33)}.duration[_ngcontent-%COMP%]{position:relative;width:20%;min-height:30px;padding-top:15px;padding-right:3%;text-align:right;font-size:26px;opacity:.5;font-weight:300;color:#fff;text-shadow:1px 1px 2px rgba(0,0,0,.33)}.controlsOuter[_ngcontent-%COMP%]{position:absolute;width:100%;height:70px;bottom:3%;z-index:1}.controlsInner[_ngcontent-%COMP%]{position:absolute;width:340px;height:70px;left:50%;margin:0 -170px;z-index:1}.btn[_ngcontent-%COMP%]{position:absolute;cursor:pointer;opacity:.9;filter:drop-shadow(1px 1px 2px rgba(0,0,0,.33));-webkit-user-select:none;user-select:none}.btn[_ngcontent-%COMP%]:hover{opacity:1}.playBtn[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEUAAABGCAYAAACaGVmHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QThERThENUFDNkJEMTFFNTk2RTBDMTRBMkYyNjVGMzQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QThERThENUJDNkJEMTFFNTk2RTBDMTRBMkYyNjVGMzQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBOERFOEQ1OEM2QkQxMUU1OTZFMEMxNEEyRjI2NUYzNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBOERFOEQ1OUM2QkQxMUU1OTZFMEMxNEEyRjI2NUYzNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PnFM7yIAAAFWSURBVHja7NRJDoMwDEDRcPL2ZoVeLEUtCyoCZPBsf8mS10+Wp5zzK6X0XGdJ0bdpRcnbPgfOESUFzjmKe5wrFLc4NSjucFpQ3OD0oJjHGUExiwOBYg4HEsUMDgaKehxMFLU4FCjqcChR1OBwoIjH4UQRiyMBRRyOJBQxOBJR2HEko7DhaEAhx9GEQoajEQUdRzMKGo4FFHAcSyhgOBZRhnEso3TjeEBpxvGEUo3jEeUWxzPKKU6gFHACpYATKMfegbLDWOcRl/Jr2X7JHI+2gOEZ5RTDI8othieUagwPKM0YllG6MSyiDGNYQgHDsIACjqEZBQ1DIwo6hiYUMgwNKOQYklHYMCSisGNIQhGDIQFFHAYnilgMDhTxGJQoajAoUNRhYKKoxcBAUY8BiWIGAwLFHMYIilmMHhTzGC0objBqUNxhXKG4xSihuMfYo8yB8d9HgAEATyefBJWpw70AAAAASUVORK5CYII=);width:69px;height:70px;left:50%;margin:auto -34.5px}.pauseBtn[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEUAAABGCAYAAACaGVmHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MDE4MjkzRjNDNzI0MTFFNTk2RTBDMTRBMkYyNjVGMzQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MDE4MjkzRjRDNzI0MTFFNTk2RTBDMTRBMkYyNjVGMzQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBOERFOEQ1Q0M2QkQxMUU1OTZFMEMxNEEyRjI2NUYzNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowMTgyOTNGMkM3MjQxMUU1OTZFMEMxNEEyRjI2NUYzNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pne5d1AAAAB8SURBVHja7NCxCQAwAALBuP/QZoEUlinua0G4tD1j83Asv/4GChQoUKBAgQIFChQoUKBAgQIFChQoUKBAgQIFChQoUKBAgQIFChQoUKBAgQIFChQoUKBAgQIFChQoUKBAgQIFChQoUKBAgQIFChQoUKBAgQIFCpRXV4ABAOgpXYTDYwEwAAAAAElFTkSuQmCC);width:69px;height:70px;left:50%;margin:auto -34.5px;display:none}.prevBtn[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAYAAAAe2bNZAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MDE4MjkzRkJDNzI0MTFFNTk2RTBDMTRBMkYyNjVGMzQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MDE4MjkzRkNDNzI0MTFFNTk2RTBDMTRBMkYyNjVGMzQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowMTgyOTNGOUM3MjQxMUU1OTZFMEMxNEEyRjI2NUYzNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowMTgyOTNGQUM3MjQxMUU1OTZFMEMxNEEyRjI2NUYzNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PndeAH8AAACtSURBVHja7NXJCcAgEAVQEevK0lk6M1aW6CGQQBBn+ephBv7F0wNn8Vd7OWCWnOjd2FpzYk7K2cJAxFEA78cwA6I3porohWlCoDEkBArDQmhjRAgtjApCilFFcDEQBAcTUYinKLcJCqFinGEMYxjDgDFpJkzZwDsSRf2mE4ni9gwEJW1gVZTWNKmgtEdbhELtGRYKvfRIqF4buAnV+xxUUaNu0y9q9KH8oG4BBgDjdpk0jMoz1gAAAABJRU5ErkJggg==);width:35px;height:35px;left:0;top:50%;margin:-17.5px auto}.nextBtn[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAYAAAAe2bNZAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MDE4MjkzRjdDNzI0MTFFNTk2RTBDMTRBMkYyNjVGMzQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MDE4MjkzRjhDNzI0MTFFNTk2RTBDMTRBMkYyNjVGMzQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowMTgyOTNGNUM3MjQxMUU1OTZFMEMxNEEyRjI2NUYzNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowMTgyOTNGNkM3MjQxMUU1OTZFMEMxNEEyRjI2NUYzNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PiFbkXsAAACvSURBVHja7NZBDoAgDARA9GPiz/yZ8DKsxgMHY1rYBQ5sshdCwiQcWpdSOqWb1BGrSn6RiTJjmKhiDANVjUGiYBgECo6pQdEwJSg6xoJqhtGgVFkeETZBekhjdqZ6g4H5QnXH5Cg/CkadiZmYiZkYdtYGb8QRMDdi144C1jfFd0AG69RG7jNB6nsvV3+IZhgNgo6xIGiYEgQcU4OAYRCIagwSUYxhIMwYJsKEuQQYABTs+qTMuF1rAAAAAElFTkSuQmCC);width:35px;height:35px;right:0;top:50%;margin:-17.5px auto}.playlistBtn[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAYAAAAe2bNZAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MUVBQzMwNzRDNzI0MTFFNTk2RTBDMTRBMkYyNjVGMzQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MUVBQzMwNzVDNzI0MTFFNTk2RTBDMTRBMkYyNjVGMzQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxRUFDMzA3MkM3MjQxMUU1OTZFMEMxNEEyRjI2NUYzNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoxRUFDMzA3M0M3MjQxMUU1OTZFMEMxNEEyRjI2NUYzNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PnWBPa0AAADGSURBVHjaYvz//z/DYAFMDIMIjDpm1DHDwjH/0fDugXAMCxK7AojPAnEHmpo0IFaisTsqIEECLPT+Q4ALlL0bihmQ+LQGYLsYoSXwf2iovAdiYyjbdaCiaQ+S2FkopjtgHK2bCESTC5r4+4GIKuQEjAz2DGQCHhTlDAtaLtoDjSJkoATN7iMzmjrRxO+NljODsZzpwBJNs0bLGShwhToCvWHVQYes7YruGJiFgljKmpEbTa5YKsrRcmbUMaOOGXUMNQBAgAEAm2XFJrn+jrsAAAAASUVORK5CYII=);width:35px;height:35px;top:50%;left:3%;margin:-17.5px auto}.volumeBtn[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAYAAAAe2bNZAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MUVBQzMwNzBDNzI0MTFFNTk2RTBDMTRBMkYyNjVGMzQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MUVBQzMwNzFDNzI0MTFFNTk2RTBDMTRBMkYyNjVGMzQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxRUFDMzA2RUM3MjQxMUU1OTZFMEMxNEEyRjI2NUYzNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoxRUFDMzA2RkM3MjQxMUU1OTZFMEMxNEEyRjI2NUYzNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PtAZ+FgAAAHRSURBVHja7FjRbYMwEIWqC7CCO4IzgjMCHYEV6AjuCHSEMAKMkIwAI5ARXFt9rox1phDA5KMnPSGwOZ4fx/mOVCmVPIu9JE9ke5GRGpejyeQanUapkXlj5lzEIMM1GqjRAyG1eNCLCeAVyDQq9WOdRoHrDeDP7YCM8reGiNQYQER6D6DIGHDc02xFJsfqjF00GDEnRCaBegp+RmMp8oyYERcmAAvMvWl8aLSBuQ2O58D4Ff7eqJiZa4MTF1OYUsZAwF9BKaOw0tsf6pjx+wwVXWU41Pwk1DF2opQRK7+skDIyECMlrv8GfoztwMaW9K7XTqKMujeZV8SQma31eO0iNpkW8L/a3t02Yu7aITL8CDL2S2VE/jqsnnHJ3I8urnpKldhkOEFmdB6TTO7kFveVRScjoExLqBWVTIbsax765RFh7n74GoFMiQefCLXcbWFEhs/MFfeFZGon9fsx1I78PVDPyA3qmXyqnhEzV1lgRT124/rBSq+Dj/Pa7sDUPVesrEGRvUSZMlQ/rSmgCqc7qBZ0B7aQ37RVsb2QJOIp1DcNUDXbg4wFw2qV06j5ZCqQYSE/yYZ1LxVPvjJ86v50p/8ztr96X3JT+v+zKGDfAgwAZkMcn0x+AsMAAAAASUVORK5CYII=);width:35px;height:35px;top:50%;right:3%;margin:-17.5px auto}.waveform[_ngcontent-%COMP%]{width:100%;height:30%;position:absolute;left:0;top:55%;margin:-15% auto;display:none;cursor:pointer;opacity:.8;-webkit-user-select:none;user-select:none;z-index:1}.waveform[_ngcontent-%COMP%]:hover{opacity:1}.pause-bar[_ngcontent-%COMP%]{position:absolute;top:50%;width:100%;height:2px;background-color:#ffffffe6;box-shadow:1px 1px 2px #00000054;opacity:.9}.progress[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:0%;height:100%;background-color:#0000001a;z-index:0}.loading[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;margin:-35px;width:70px;height:70px;background-color:#fff;border-radius:100%;animation:_ngcontent-%COMP%_sk-scaleout 1s infinite ease-in-out;display:none}@keyframes _ngcontent-%COMP%_sk-scaleout{0%{transform:scale(0)}to{transform:scale(1);opacity:0}}#playlist[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0;background-color:#00000080;display:none}#list[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0;display:flex;flex-direction:column;justify-content:center;align-items:center}.list-song[_ngcontent-%COMP%]{width:100%;height:120px;font-size:50px;line-height:120px;text-align:center;font-weight:700;color:#fff;text-shadow:1px 1px 2px rgba(0,0,0,.33)}.list-song[_ngcontent-%COMP%]:hover{background-color:#ffffff1a;cursor:pointer}.volume[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0;background-color:#00000080;touch-action:none;-webkit-user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:none;z-index:1}.volume-bar[_ngcontent-%COMP%]{position:absolute;top:50%;left:5%;margin:-5px auto;height:10px;background-color:#ffffffe6;box-shadow:1px 1px 2px #00000054;z-index:2}.barEmpty[_ngcontent-%COMP%]{width:90%;opacity:.5;box-shadow:none;cursor:pointer}.barFull[_ngcontent-%COMP%]{width:90%}.sliderBtn[_ngcontent-%COMP%]{width:50px;height:50px;position:absolute;top:50%;left:93.25%;margin:-25px auto;background-color:#fffc;box-shadow:1px 1px 5px #00000054;border-radius:25px;cursor:pointer;z-index:2}.fadeout[_ngcontent-%COMP%]{webkit-animation:fadeout .5s;animation:_ngcontent-%COMP%_fadeout .5s}.fadein[_ngcontent-%COMP%]{webkit-animation:fadein .5s;animation:_ngcontent-%COMP%_fadein .5s}@keyframes _ngcontent-%COMP%_fadein{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_fadeout{0%{opacity:1}to{opacity:0}}']})}return t})();class ua{_command;_responseCode;_commandOutput;constructor(n,e=0,i){this._command=n,this._responseCode=e,this._commandOutput=i}get getCommand(){return this._command}set setCommand(n){this._command=n}get getResponseCode(){return this._responseCode}set setResponseCode(n){this._responseCode=n}get getCommandOutput(){return this._commandOutput}set setCommandOutput(n){this._commandOutput=n}}class l7{_triggerProcessService;_runningProcessService;_fileService;_directoryFilesEntries;_appDirctory=new Z0;permissionChart;closingNotAllowed=["system","desktop","filemanager","taskbar","startbutton","clock","taskbarentry"];files=[];defaultDirectoryPath="/";currentDirectoryPath="/";fallBackDirPath="";constructor(){this._triggerProcessService=vr.instance,this._runningProcessService=Gn.instance,this._fileService=la.instace,this.permissionChart=new Map,this.genPermissionsRepresentation()}help(n,e,i){const r=[...n,...e];if(null==i||0==i.length){const s=["Available commands:"];for(let l=0;l<=r.length-1;l+=10){const h=r.slice(l,l+10);s.push(...h),s.push("\n")}return s.join(" ")}return"-verbose"==i?"\nterminal <command>\n\nUsage:\n\nhelp                            get a list of available commands\nhelp -verbose                   get a detailed list of commands \nopen --app  <foo>               opens app <foo>\nclose --app <pid>               closes app <pid>\nclear                           clears the terminal output and all previous command\ncurl                            query Api's, and transfer data to and from servers\ndownload <uri> <name>           download from the internet by providing a urls\nls                              list files and folder in the present directory\ncd                              change directory\ncp  -<option> <path> <path>     copy from source to destination folder\nmv  <path> <path>               move from source to destination folder\ncat <file>                      open the contents \ntocuh <file>                    create an empty files\nlist --apps -i                  get a list of all installed apps\nlist --apps -a                  get a list of all running apps\n\nAll commands:\n    clear, close, curl, cd, download, date, ls, list, help, hostname, open, pwd, version, weather\n    whoami\n        ":`unkown command:${i}`}clear(n){}date(){return(new Date).toLocaleDateString()}download(n,e){const i=document.createElement("a");i.download=e,i.href=n,i.click(),i.remove()}hostname(){return window.location.hostname}weather(n){return Ne(function*(){const e=n;return null==e||""==e||0==e.length?"Usage: weather [city]. Example: weather Indianapolis":(yield fetch(`https://wttr.in/${e}?ATm`)).text()})()}whoami(){return"guest"}version(n){return`Terminal version: ${n}`}list(n,e){const i=this._runningProcessService.getProcesses();if(null==n||null==e||0==n.length||0==e.length)return"incomplete command, list --apps -i  or list --apps -a";if("--apps"!==n)return`unkown command: ${n}`;if("-i"==e)return`Installed Apps: ${this._appDirctory.getAppList().join(", ")}`;if("-a"==e){const r=[];r.push("\n+-----------------------+-----------------------+-----------------------+\n|      Process Name     |      Process Type     |      Process ID       |\n+-----------------------+-----------------------+-----------------------+\n            ");const s="\n+-----------------------+-----------------------+-----------------------+";for(let l=0;l<=i.length-1;l++){const h=i[l],g=`\n| ${this.addspaces(h.getProcessName)} | ${this.addspaces(h.getType)} | ${this.addspaces(h.getProcessId.toString())} |\n            `;r.push(g)}return r.push(s),r.join("")}return""}open(n,e){if(null==n||0==n.length)return"incomplete command, open --app <foo>";if("--app"!==n)return`unkown command: ${n}`;if(null==e||0==e.length)return"incomplete command: open --app <foo>, <foo> must be provided";if(this._appDirctory.appExist(e)){const i=new oc;return i.setOpensWith=e,this._triggerProcessService&&this._triggerProcessService.startApplication(i),`opening app ${e}`}return`${e}: No matching application found.`}close(n,e){if(null==n||0==n.length)return"incomplete command, close --app <pid>";if("--app"!==n)return`unkown command: ${n}`;if(null==e||0==e.length)return"incomplete command: close --app <pid>, <pid> must be provided";const i=Number(e),r=this._runningProcessService.getProcess(i);return r?this.closingNotAllowed.includes(r.getProcessName)?`The app: ${r.getProcessName} is not allowed to be closed`:(this._runningProcessService.closeProcessNotify.next(r),`closing app, app name: ${r.getProcessName}  app id: ${r.getProcessId}`):`${e}: No active process with pid:${e} found.`}exit(n){const i=this._runningProcessService.getProcess(n);i&&this._runningProcessService.closeProcessNotify.next(i)}curl(n){return Ne(function*(){if(0===n.length||void 0===n[1]||0===n[1].length)return"curl: no URL provided";let e=n[1];e.includes("https://")||(e=`https://${e}`);try{return yield(yield fetch(e)).text()}catch(i){return`curl: could not fetch URL ${e}. Details: ${i}`}})()}addspaces(n,e=21){const o=e-n.length,s=n.split("");let l=0;for(;l<o;)s.push(" "),l++;return s.join("")}pwd(){return this.currentDirectoryPath}genPermissionsRepresentation(){this.permissionChart.set(7,{symbolic:"rwx",binary:111,permission:"Read + Write + Execute"}),this.permissionChart.set(6,{symbolic:"rw-",binary:110,permission:"Read + Write"}),this.permissionChart.set(5,{symbolic:"r-x",binary:101,permission:"Read + Execute"}),this.permissionChart.set(4,{symbolic:"r--",binary:100,permission:"Read"}),this.permissionChart.set(3,{symbolic:"-wx",binary:3,permission:"Write + Execute"}),this.permissionChart.set(2,{symbolic:"-w-",binary:2,permission:"Write"}),this.permissionChart.set(1,{symbolic:"--x",binary:1,permission:"Execute"}),this.permissionChart.set(0,{symbolic:"---",binary:0,permission:"None"})}getPermission(n){let e="";const i=n.split("");return i.shift(),i.forEach(r=>{const o=this.permissionChart.get(Number(r));e+=o?.symbolic}),e}ls(n){var e=this;return Ne(function*(){return yield e.loadFilesInfoAsync(e.currentDirectoryPath).then(()=>{if(null==n||""==n){const o=[];return e.files.forEach(s=>{o.push(s.getFileName)}),{type:"string[]",result:o}}if(["-l","-r","-t","-lr","-rl","-lt","-tl","-lrt","-ltr","-rtl","-rlt","-tlr","-trl"].includes(n)){const o=n.replace("-","").split("").sort().reverse();console.log("splitOptions:",o);const s=[];return o.forEach(l=>{"t"===l?e.files=e.files.sort((h,g)=>g.getDateModified.getTime()-h.getDateModified.getTime()):"r"===l?e.files.reverse():e.files.forEach(h=>{const g=e.getPermission(h.getMode),w=`\n${h.getIsFile?"-":"d"}${e.addspaces(g,10)} ${e.addspaces("Terminal",8)} ${e.addspaces("staff",6)} ${e.addspaces(String(h.getSize),6)}  ${e.addspaces(h.getDateTimeModifiedUS,12)} ${e.addspaces(h.getFileName,11)}\n                        `;s.push(w)})}),{type:"string",result:s.join("")}}return{type:"",result:""}})})()}cd(n,e=""){var i=this;return Ne(function*(){console.log("ARG0:",n);let r="",o=0;if(void 0===n)return{type:"",result:"",depth:o};if(/^(\.\.\/)+([a-zA-Z0-9_-]+\/?)*$|^(\.\/|\/)([a-zA-Z0-9_-]+\/?)+$|^\.\.$|^\.\.\/$/.test(n)){const g=n.split("/"),w=g.length>1?g.filter(A=>".."==A):[".."],C=i.cdMoveUp(w);i.fallBackDirPath=C,r=`${C}/${".."!==n?n.split("../").splice(-1)[0]:""}`.replace("//","/")}else r=`${i.currentDirectoryPath}/${n}`.replace("//","/"),i.fallBackDirPath=i.getFallBackPath(r);const l=yield i._fileService.checkIfExistsAsync(r);let h=!1;return l||(h=yield i._fileService.checkIfExistsAsync(i.fallBackDirPath),h&&(r=i.fallBackDirPath)),l||h?(console.log("key:",e),"Enter"==e&&(i.currentDirectoryPath=r),o=i.getFolderDepth(r),yield i.loadFilesInfoAsync(r).then(()=>{const w=[];return i.files.forEach(C=>{w.push("folder"===C.getFileType?`${C.getFileName}/`:C.getFileName)}),{type:"string[]",result:w,depth:o}})):{type:"string",result:"No such file or directory",depth:o}})()}cdMoveUp(n){let e="",i="",r=0;const o=this.currentDirectoryPath.split("/");o.shift();const s=o.filter(l=>""!==l);if(0==s.length)return"/";if(1==s.length)return e=s[0],`/${e}`;if(s.length>1){s.pop(),r=s.length-1;for(const h of n){if(r<=0)return e=s[0],`/${e}`;e=s[r],r--}const l=[];for(const h of s){if(h===e){l.push(`/${e}`);break}l.push(`/${h}`)}i=l.join("")}return i.replace(",","")}getFolderDepth(n){const e=n.match(/\//g);return e?e.length:0}getFallBackPath(n){const e=n.split("/"),i=[];let r="";e.shift();const o=e.filter(l=>""!==l);return o.pop(),o.forEach(l=>{i.push(`/${l}`)}),i.push("/"),r=i.join(""),r.replace(",","")}mkdir(n,e){var i=this;return Ne(function*(){if(!n||["\\","/",":","*","?",' "',"<",">","|"].includes(n))return"\nusage: mkdir direcotry_name [-v]\n                        ";{const o=n;if(yield i._fileService.createFolderAsync(i.currentDirectoryPath,o)){if(e&&"-v"==e)return`folder: ${n} successfully created`;i.sendDirectoryUpdateNotification(i.currentDirectoryPath)}}return""})()}mv(n,e){var i=this;return Ne(function*(){console.log(`sourceArg:${n}`),console.log(`destinationArg:${e}`);const r=[];return void 0===n||0===n.length?"source path required":void 0===e||0===e.length?"destination path required":(r.push(n),(yield i._fileService.movehandler(e,r))&&""===(yield i.rm("-rf",n))&&(e.includes("/Desktop")?(i.sendDirectoryUpdateNotification(n),i.sendDirectoryUpdateNotification(e)):i.sendDirectoryUpdateNotification(n)),"")})()}cp(n,e,i){var r=this;return Ne(function*(){console.log(`copy-source ${n}`),console.log(`copy-destination ${e}`);const o=[];void 0===i&&("."===(i=e)&&(i=r.currentDirectoryPath),e=n,n=void 0),"."===i&&(i=r.currentDirectoryPath);let l="";if(n){if(l=["-f","--force","-R","-r","--recursive","-v","--verbose","--help"].includes(n)?n:"",""===l)return`cp: invalid option ${n}`;if("--help"===l)return"\nUsage cp [option] ....SOURCE DEST\nCopy SOURCE to DEST.\n\nMandatory argument to long options are mandotory for short options too.\n\n   -f, --force             copy file by force\n   -r, -R, -- recursive    copy folder recurively.\n   -v, --verbose           explain what is being done.\n       --help              display the help and exit.\n\n                "}if(void 0===e||0===e.length)return"source path required";if(void 0===i||0===i.length)return"destination path required";if(yield r._fileService.checkIfDirectory(e)){if(""===l||"-f"===l||"--force"===l||"--verbose"===l)return`cp: omitting directory ${e}`;("-r"===l||"-R"===l||"--recursive"===l)&&(o.push(e),(yield r._fileService.copyHandler(n,e,i))&&r.sendDirectoryUpdateNotification(i))}else(yield r._fileService.copyHandler(n,e,i))&&r.sendDirectoryUpdateNotification(i);return""})()}rm(n,e){var i=this;return Ne(function*(){console.log(`source ${n}`),console.log(`source ${e}`);const r=[];void 0===e&&(e=n,n=void 0);let s="";if(n){if(s=["-rf"].includes(n)?n:"",""===s)return`rm: invalid option ${n}`;if("--help"===s)return"\nUsage rm [option] ....SOURCE\nDelete SOURCE.\n\nMandatory argument to long options are mandotory for short options too.\n\n   -rf                     delete folder recurively.\n   -v, --verbose           explain what is being done.\n       --help              display the help and exit.\n\n                "}if(void 0===e||0===e.length)return"source path required";if(yield i._fileService.checkIfDirectory(e)){if(""===s)return`rm: omitting directory ${e}`;if("-rf"===s&&(r.push(e),yield i._fileService.removeHandler(n,e)))return i.sendDirectoryUpdateNotification(e),""}else if(yield i._fileService.removeHandler(e,e))return i.sendDirectoryUpdateNotification(e),"";return"error"})()}sendDirectoryUpdateNotification(n){n.includes("/Desktop")?this._fileService.addEventOriginator("filemanager"):this._fileService.addEventOriginator("fileexplorer"),this._fileService.dirFilesUpdateNotify.next()}loadFilesInfoAsync(n){var e=this;return Ne(function*(){e.files=[],e._fileService.resetDirectoryFiles();const i=yield e._fileService.getEntriesFromDirectoryAsync(n);e._directoryFilesEntries=e._fileService.getFileEntriesFromDirectory(i,n);for(let r=0;r<i.length;r++){const o=e._directoryFilesEntries[r],s=yield e._fileService.getFileInfoAsync(o.getPath);e.files.push(s)}})()}}let f7=(()=>{class t{el;keyDblPressed=new In;keyPressSubscription;constructor(e){this.el=e}ngOnInit(){const e=Mi(this.el.nativeElement,"keydown");this.keyPressSubscription=e.pipe(function u7(t){return Ut((n,e)=>{let i=[];return n.subscribe(yn(e,r=>i.push(r),()=>{e.next(i),e.complete()})),t.subscribe(yn(e,()=>{const r=i;i=[],e.next(r)},pe)),()=>{i=null}})}(e.pipe(function d7(t,n=Ow){return Ut((e,i)=>{let r=null,o=null,s=null;const l=()=>{if(r){r.unsubscribe(),r=null;const g=o;o=null,i.next(g)}};function h(){const g=s+t,w=n.now();if(w<g)return r=this.schedule(void 0,g-w),void i.add(r);l()}e.subscribe(yn(i,g=>{o=g,s=n.now(),r||(r=n.schedule(h,t),i.add(r))},()=>{l(),i.complete()},void 0,()=>{o=r=null}))})}(300))),Fw(i=>2===i.length)).subscribe(i=>{i[0].key===i[1].key&&this.keyDblPressed.emit(i[0])})}ngOnDestroy(){this.keyPressSubscription&&this.keyPressSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||t)(ee(Ei))};static \u0275dir=y({type:t,selectors:[["","appKeyPressCapture",""]],outputs:{keyDblPressed:"keyDblPressed"}})}return t})();const h7=["terminalCntnr"],p7=["terminalOutputCntnr"],g7=["terminalHistoryOutput"];function m7(t,n){if(1&t&&(_s(0),x(1,"div",14)(2,"div",15),ce(3),L()(),vs()),2&t){const e=le();B(3),Jt(" ",e.banner," ")}}function y7(t,n){if(1&t&&(_s(0),x(1,"div",16)(2,"div",17),ce(3),L()(),vs()),2&t){const e=le();B(3),Jt(" ",e.welcomeMessage," ")}}function _7(t,n){if(1&t&&(_s(0),x(1,"div",19)(2,"span",20),ce(3),L(),x(4,"div",21),ce(5),L()(),vs()),2&t){const e=le().$implicit,i=le();B(3),Xs("",i.terminalPrompt,":",e.getCommand.trim(),""),B(2),Wn(e.getCommandOutput.trim())}}function v7(t,n){if(1&t&&(_s(0),x(1,"div",19)(2,"span",20),ce(3),L(),x(4,"div",22),ce(5),L()(),vs()),2&t){const e=le().$implicit,i=le();B(3),Xs("",i.terminalPrompt,":",e.getCommand.trim(),""),B(2),Wn(e.getCommandOutput.trim())}}function w7(t,n){if(1&t&&(_s(0),x(1,"div",19)(2,"span",20),ce(3),L(),x(4,"div",23),ce(5),L()(),vs()),2&t){const e=le().$implicit,i=le();B(3),Xs("",i.terminalPrompt,":",e.getCommand.trim(),""),B(2),Wn(e.getCommandOutput.trim())}}function E7(t,n){if(1&t&&(_s(0),x(1,"div",18),ze(2,_7,6,3,"ng-container",6)(3,v7,6,3,"ng-container",6)(4,w7,6,3,"ng-container",6),L(),vs()),2&t){const e=n.$implicit,i=le();B(2),K("ngIf",e.getResponseCode===i.Success||e.getResponseCode===i.Options),B(),K("ngIf",e.getResponseCode===i.Fail),B(),K("ngIf",e.getResponseCode===i.Warning)}}let S7=(()=>{class t{terminalCntnr;terminalOutputCntnr;terminalHistoryOutput;_processIdService;_runningProcessService;_maximizeWindowSub;_minimizeWindowSub;_formBuilder;_terminaCommandsImpl;_stateManagmentService;_sessionManagmentService;_appState;msgPosCounter=0;scrollCounter=0;prevPtrIndex=0;versionNum="1.0.4";SECONDS_DELAY=[120,250];doesDirExist=!0;isInLoopState=!1;isWhiteSpaceAtTheEnd=!1;Success=1;Fail=2;Warning=3;Options=4;isBannerVisible=!0;isWelcomeVisible=!0;banner="";welcomeMessage="";terminalPrompt=">";commandHistory=[];echoCommands=["close","curl","date","echo","help","hostname","list","open","version","whoami","weather","pwd"];utilityCommands=["all","cat","cd","clear","cp","dir","download","exit","ls","mkdir","mv","rm","touch"];fetchedDirectoryList=[];generatedArguments=[];allCommands=[];haveISeenThisRootArg="";haveISeenThisAutoCmplt="";terminalForm;numCntr=0;traversalDepth=0;hasWindow=!0;icon="/osdrive/icons/terminal_48.png";name="terminal";processId=0;type=on.System;displayName="Terminal";constructor(e,i,r,o,s){this._processIdService=e,this._runningProcessService=i,this._formBuilder=r,this._stateManagmentService=o,this._sessionManagmentService=s,this._terminaCommandsImpl=new l7,this.retrievePastSessionData(),this.processId=this._processIdService.getNewProcessId(),this._runningProcessService.addProcess(this.getComponentDetail()),this._maximizeWindowSub=this._runningProcessService.maximizeWindowNotify.subscribe(()=>{this.maximizeWindow()}),this._minimizeWindowSub=this._runningProcessService.minimizeWindowNotify.subscribe(l=>{this.minimizeWindow(l)})}ngOnInit(){this.terminalForm=this._formBuilder.nonNullable.group({terminalCmd:""}),this.banner=this.getTerminalBanner(),this.allCommands=[...this.echoCommands,...this.utilityCommands]}ngAfterViewInit(){this.setTerminalWindowToFocus(this.processId),this.populateWelecomeMessageField(),setTimeout(()=>{this.captureComponentImg()},this.SECONDS_DELAY[1])}ngOnDestroy(){this._maximizeWindowSub?.unsubscribe(),this._minimizeWindowSub?.unsubscribe()}captureComponentImg(){_r(this.terminalCntnr.nativeElement).then(e=>{this._runningProcessService.addProcessImage(this.name,{pid:this.processId,imageData:e})})}getYear(){return(new Date).getFullYear()}getTerminalBanner(){return`Simple Terminal, CheetahOS [Version ${this.versionNum}] \xa9 ${this.getYear()}`}populateWelecomeMessageField(){const i="Type 'help', or 'help -verbose' to view a list of available commands.".split(" "),r=setInterval(o=>{let s=0;for(let l=0;l<o.length;l++)s<1&&(this.welcomeMessage+=0==this.msgPosCounter?o[this.msgPosCounter]:" "+o[this.msgPosCounter],s++);this.msgPosCounter==o.length-1&&clearInterval(r),this.msgPosCounter++},this.SECONDS_DELAY[0],i)}onKeyDownOnWindow(e){this.focusOnInput(),"Tab"===e.key&&e.preventDefault()}focusOnInput(){const e=document.getElementById("cmdTxtBox");e&&e?.focus()}scrollToBottom(){const e=setInterval(()=>{try{this.scrollCounter<2&&(this.terminalOutputCntnr.nativeElement.scrollTop=this.terminalOutputCntnr.nativeElement.scrollHeight,this.scrollCounter++)}catch(i){console.error("Error scrolling to bottom:",i)}2==this.scrollCounter&&(clearInterval(e),this.scrollCounter=0)},this.SECONDS_DELAY[1])}onKeyDoublePressed(e){return Ne(function*(){console.log(`${e.key} Key pressed  rapidly.`)})()}onKeyDownInInputBox(e){var i=this;return Ne(function*(){if("Enter"==e.key){i.numCntr=0;const r=i.terminalForm.value.terminalCmd,o=new ua(r,0,"");""!==r&&(i.processCommand(o,"Enter"),i.commandHistory.push(o),i.prevPtrIndex=i.commandHistory.length,i.terminalForm.reset()),e.preventDefault()}else if("ArrowUp"==e.key)i.getCommandHistory("backward"),e.preventDefault();else if("ArrowDown"==e.key)i.getCommandHistory("forward"),e.preventDefault();else if("Tab"==e.key){const r=i.terminalForm.value.terminalCmd,o=void 0===r?"":r.split(" "),s=o[0];let l="";if(void 0!==s&&s.length>0&&!s.includes(" ")&&!i.allCommands.includes(s)){const h=i.getAutoCompelete(s,i.allCommands);if(1===h.length&&i.terminalForm.setValue({terminalCmd:h[0]}),h.length>1){const g=new ua(r,0," ");g.setResponseCode=i.Options,g.setCommandOutput=h.join(" "),i.commandHistory.push(g)}}if("cd"==s||"rm"==s)l=o[1],i.isWhiteSpaceAtTheEnd=i.checkForWhitSpaceAtTheEnd(r),console.log("Has-White-Space-At-The- sEnd:",i.isWhiteSpaceAtTheEnd),void 0===l&&i.terminalForm.setValue({terminalCmd:`${s}  `}),yield i.handleChangeDirectoryRequest(r,s,l);else if("cp"!=s&&"mv"!=s&&!i.generatedArguments.includes(l)){const h=i.getAutoCompelete(l,i.generatedArguments);if(1===h.length)i.terminalForm.setValue({terminalCmd:`${s} ${h[0]}`});else{const g=new ua(r,0," ");g.setResponseCode=i.Options,g.setCommandOutput=h.join(" "),i.commandHistory.push(g)}}e.preventDefault()}else i.isInLoopState=!1})()}handleChangeDirectoryRequest(e,i,r){var o=this;return Ne(function*(){if(void 0!==r&&r.length>0&&!r.includes(" ")){const s=o.getLastSegment(r);if(console.log("alteredRootArg:",s),o.isInLoopState)console.log("i am now here 1"),o.loopThroughDirectory(i,r,s),console.log("this.numCntr++:",o.numCntr);else if(console.log("i am now here"),o.fetchedDirectoryList.includes(s))console.log("fetchedDirectoryList does have:",s),o.evaluateChangeDirectoryRequest(e,i,r,s),o.isInLoopState=!0;else{console.log("fetchedDirectoryList does not have:",s);const l=new ua(e,0," ");yield o.processCommand(l).then(()=>{o.evaluateChangeDirectoryRequest(e,i,r,s),o.isInLoopState=!0,o.numCntr=0})}}else if(0==o.fetchedDirectoryList.length){console.log("i am now here 2");const s=new ua(e,0," ");yield o.processCommand(s).then(()=>{o.evaluateChangeDirectoryRequest(e,i,r,""),o.isInLoopState=!0})}else o.isInLoopState?(console.log("i am now here 4"),r.includes("/")?o.terminalForm.setValue({terminalCmd:`${i} ${o.removeCurrentDir(r)}${o.fetchedDirectoryList[0]}`}):o.terminalForm.setValue({terminalCmd:`${i} ${o.fetchedDirectoryList[0]}`}),o.numCntr++):(console.log("i am now here 5"),o.loopThroughDirectory(i,r,""))})()}loopThroughDirectory(e,i,r){console.log(`loopThroughDirectory:rootArg:${i}`),console.log(`loopThroughDirectory:alteredRootArg:${r}`),console.log("traversalDepth:",this.traversalDepth);const o=this.numCntr++;this.traversalDepth>1?(console.log("11111111"),this.terminalForm.setValue({terminalCmd:`${e} ${this.removeCurrentDir(i)}${this.fetchedDirectoryList[o]}`})):this.traversalDepth>=0&&this.traversalDepth<=1&&(console.log("22222222"),this.terminalForm.setValue({terminalCmd:`${e} ${this.fetchedDirectoryList[o]}`})),this.numCntr>this.fetchedDirectoryList.length-1&&(this.numCntr=0)}evaluateChangeDirectoryRequest(e,i,r,o){console.log("ecdr-cmdString:",e),console.log("ecdr-rootCmd:",i),console.log("ecdr-rootArg:",r),console.log("ecdr-alteredRootArg:",o);const s=this.getAutoCompelete(o,this.fetchedDirectoryList);let l=!1;if(1===s.length)r.includes("/")&&r!==this.haveISeenThisRootArg&&this.haveISeenThisAutoCmplt!==s[0]?(console.log("1- I AM STILL NEEDED 001"),this.terminalForm.setValue({terminalCmd:`${i} ${this.removeCurrentDir(r)}${s[0]}`}),this.haveISeenThisRootArg=`${this.removeCurrentDir(r)}${s[0]}`,this.haveISeenThisAutoCmplt=s[0]):r.includes("/")||(console.log("2 - I AM STILL NEEDED 0002"),this.haveISeenThisAutoCmplt=s[0],this.terminalForm.setValue({terminalCmd:`${i} ${s[0]}`})),l=!0;else if(s.length>1){console.log("3 - I AM STILL NEEDED 00003");const h=new ua(e,0," ");h.setResponseCode=this.Options,h.setCommandOutput=s.join(" "),this.commandHistory.push(h),l=!0}else{const h=new ua(e,0," ");h.setResponseCode=this.Options,h.setCommandOutput=this.fetchedDirectoryList.join(" "),this.commandHistory.push(h),l=!0}return l}removeCurrentDir(e){let i="";if(this.isWhiteSpaceAtTheEnd)return e;if(e.includes("/")){const r=e.split("/").filter(s=>""!==s),o=[];if(1===r.length)return`${r[0]}/`;r.pop();for(let s=0;s<=r.length-1;s++)o.push(`${r[s]}/`);i=o.join("")}return i.replace(",","")}getLastSegment(e){const i=e.split("/");let r="";return 1===i.length?r=i[0]:i.length>1&&(r=""!==i.slice(-1)[0]?i.slice(-1)[0]:i.slice(-2)[0]),r}checkForWhitSpaceAtTheEnd(e){return[" ","\t","\n"].some(r=>e.slice(-1).includes(r))}countSlashes(e){const i=e.match(/\//g);return i?i.length:0}shiftRight(...e){const i=e.filter(g=>void 0!==g);let o,s,l,h;console.log(`params:${i}`),i.shift();for(const g of i)this.isOption(g)?o||s?o&&!s&&(s=g):o=g:l||h?l&&!h&&(h=g):l=g;console.log(`After --- optA:${o} optB:${s} src:${l} dest:${h}`)}isOption(e){return"-"===e[0]}getCommandHistory(e){let i=0;this.commandHistory.length>0&&("backward"===e?i=0===this.prevPtrIndex?0:this.prevPtrIndex-1:"forward"===e&&(i=this.prevPtrIndex===this.commandHistory.length?this.commandHistory.length:this.prevPtrIndex+1),this.prevPtrIndex=i,this.terminalForm.setValue(i===this.commandHistory.length?{terminalCmd:""}:{terminalCmd:this.commandHistory[i].getCommand}))}isInAllCommands(e){return!!this.allCommands.includes(e)}isValidCommand(e){return this.isInAllCommands(e)}processCommand(e,i=""){var r=this;return Ne(function*(){const o=e.getCommand.split(" "),s=o[0].toLowerCase();if(r.isValidCommand(s)){if("clear"==s&&(r.commandHistory=[],r.isBannerVisible=!1,r.isWelcomeVisible=!1),"curl"==s){const l=yield r._terminaCommandsImpl.curl(o);e.setResponseCode=r.Success,e.setCommandOutput=l}if("close"==s){const l=r._terminaCommandsImpl.close(o[1],o[2]);e.setResponseCode=r.Success,e.setCommandOutput=l}if("date"==s){const l=r._terminaCommandsImpl.date();e.setResponseCode=r.Success,e.setCommandOutput=l}if("download"==s&&(r._terminaCommandsImpl.download(o[1],o[2]),e.setResponseCode=r.Success,e.setCommandOutput="downloading .."),"exit"==s&&r._terminaCommandsImpl.exit(r.processId),"help"==s){const l=r._terminaCommandsImpl.help(r.echoCommands,r.utilityCommands,o[1]);e.setResponseCode=r.Success,e.setCommandOutput=l}if("open"==s){const l=r._terminaCommandsImpl.open(o[1],o[2]);e.setResponseCode=r.Success,e.setCommandOutput=l}if("version"==s){const l=r._terminaCommandsImpl.version(r.versionNum);e.setResponseCode=r.Success,e.setCommandOutput=l}if("whoami"==s){const l=r._terminaCommandsImpl.whoami();e.setResponseCode=r.Success,e.setCommandOutput=l}if("weather"==s){const l=yield r._terminaCommandsImpl.weather(o[1]);e.setResponseCode=r.Success,e.setCommandOutput=l}if("list"==s){const l=r._terminaCommandsImpl.list(o[1],o[2]);e.setResponseCode=r.Success,e.setCommandOutput=l}if("pwd"==s){const l=r._terminaCommandsImpl.pwd();e.setResponseCode=r.Success,e.setCommandOutput=l}if("cd"==s){const l="string",h="string[]",g=yield r._terminaCommandsImpl.cd(o[1],i);(g.type===l||g.type===h)&&(e.setResponseCode=r.Success),g.type===l?(e.setCommandOutput=g.result,r.doesDirExist=!1,r.traversalDepth=g.depth):g.type===h&&(r.fetchedDirectoryList=[],r.fetchedDirectoryList=[...g.result],r.doesDirExist=!0,r.traversalDepth=g.depth)}if("ls"==s){const l="string",h="string[]",g=yield r._terminaCommandsImpl.ls(o[1]);e.setResponseCode=r.Success,g.type===l?(e.setCommandOutput=g.result,r.doesDirExist=!1):g.type===h&&(console.log("ls result:",g),e.setCommandOutput=g.result.join(" "),r.fetchedDirectoryList=[],r.fetchedDirectoryList=[...g.result])}if("mkdir"==s){const l=yield r._terminaCommandsImpl.mkdir(o[1],o[2]);e.setResponseCode=r.Success,e.setCommandOutput=l}if("rm"==s){const l=yield r._terminaCommandsImpl.rm(o[1],o[2]);e.setResponseCode=r.Success,e.setCommandOutput=l}if("mv"==s){const l=yield r._terminaCommandsImpl.mv(o[1],o[2]);e.setResponseCode=r.Success,e.setCommandOutput=l}if("cp"==s){const l=o[1],h=o[2],g=o[3],w=yield r._terminaCommandsImpl.cp(l,h,g);e.setResponseCode=r.Success,e.setCommandOutput=w}}else e.setResponseCode=r.Fail,e.setCommandOutput=`${e.getCommand}: command not found. Type 'help', or 'help -verbose' to view a list of available commands.`;r.scrollToBottom(),r.storeAppState()})()}getAutoCompelete(e,i){let r=i.filter(o=>o.startsWith(e.trim()));return r.length>0?r:[]}maximizeWindow(){if(`${this.name}-${this.processId}`===this._runningProcessService.getEventOrginator()){this._runningProcessService.removeEventOriginator();const r=document.getElementById("vanta");let o=95;this.terminalOutputCntnr.nativeElement.style.width=`${r?.offsetWidth}px`,this.terminalOutputCntnr.nativeElement.style.height=(r?.offsetHeight||0)-o+"px",this.isBannerVisible&&this.isWelcomeVisible&&(o+=55),this.terminalHistoryOutput.nativeElement.style.width=`${r?.offsetWidth}px`,this.terminalHistoryOutput.nativeElement.style.height=(r?.offsetHeight||0)-o+"px"}}minimizeWindow(e){`${this.name}-${this.processId}`===this._runningProcessService.getEventOrginator()&&(this._runningProcessService.removeEventOriginator(),this.terminalOutputCntnr.nativeElement.style.width=`${e[0]}px`,this.terminalOutputCntnr.nativeElement.style.height=`${e[1]}px`,this.terminalHistoryOutput.nativeElement.style.width=`${e[0]}px`,this.terminalHistoryOutput.nativeElement.style.height=`${e[1]}px`)}setTerminalWindowToFocus(e){this._runningProcessService.focusOnCurrentProcessNotify.next(e)}storeAppState(){const e=this.commandHistory,i=[],r=`${this.name}-${this.processId}`;for(let o=0;o<e.length;o++)i.push(e[o].getCommand);this._appState={pid:this.processId,app_data:i,app_name:this.name,unique_id:r},this._stateManagmentService.addState(r,this._appState,pn.App)}retrievePastSessionData(){const e=this._sessionManagmentService._pickUpKey;if(this._sessionManagmentService.hasTempSession(e)){const i=this._sessionManagmentService.getTempSession(e)||"",r=this._sessionManagmentService.getSession(i);if(void 0!==r){const o=r[0];if(void 0!==o&&""!=o.app_data){const s=o.app_data;for(let l=0;l<s.length;l++){const h=new ua(s[l],0,"");this.commandHistory.push(h)}}}}}getComponentDetail(){return new Ci(this.processId,this.name,this.icon,this.hasWindow,this.type)}static \u0275fac=function(i){return new(i||t)(ee(Ii),ee(Gn),ee(y0),ee(Kr),ee(Qr))};static \u0275cmp=a({type:t,selectors:[["cos-terminal"]],viewQuery:function(i,r){if(1&i&&(Wt(h7,7),Wt(p7,7),Wt(g7,7)),2&i){let o;$t(o=Gt())&&(r.terminalCntnr=o.first),$t(o=Gt())&&(r.terminalOutputCntnr=o.first),$t(o=Gt())&&(r.terminalHistoryOutput=o.first)}},decls:16,vars:8,consts:[["terminalCntnr",""],["terminalOutputCntnr",""],["terminalHistoryOutput",""],[3,"click","runningProcessID","processAppIcon","processAppName"],["tabIndex","-1",1,"terminal-container",3,"keydown","click"],[1,"terminal-output-section"],[4,"ngIf"],[1,"terminal-command-output-container-main"],[4,"ngFor","ngForOf"],[1,"terminal-input-section"],[1,"terminal-input-area"],[1,"terminal-form",3,"formGroup"],[1,"terminal-prompt"],["appKeyPressCapture","","formControlName","terminalCmd","autofocus","false","spellcheck","false","autocomplete","off","autocapitalize","off","id","cmdTxtBox",1,"terminal-input",3,"keydown","keyDblPressed"],[1,"terminal-banner-container"],[1,"terminal-banner-content"],[1,"terminal-welcome-message-container"],[1,"terminal-welcome-message-content"],[1,"terminal-command-output-container"],[1,"terminal-command-output"],[1,"prev-terminal-prompt","terminal-prior"],[1,"prev-terminal-output"],[1,"prev-terminal-output","terminal-error"],[1,"prev-terminal-output","terminal-warning"]],template:function(i,r){if(1&i){const o=Ht();x(0,"cos-window",3),ye("click",function(){return te(o),ne(r.setTerminalWindowToFocus(r.processId))}),x(1,"div",4,0),ye("keydown",function(l){return te(o),ne(r.onKeyDownOnWindow(l))})("click",function(){return te(o),ne(r.focusOnInput())}),x(3,"div",5,1),ze(5,m7,4,1,"ng-container",6)(6,y7,4,1,"ng-container",6),x(7,"div",7,2),ze(9,E7,5,3,"ng-container",8),L()(),x(10,"div",9)(11,"div",10)(12,"form",11)(13,"span",12),ce(14),L(),x(15,"input",13),ye("keydown",function(l){return te(o),ne(r.onKeyDownInInputBox(l))})("keyDblPressed",function(l){return te(o),ne(r.onKeyDoublePressed(l))}),L()()()()()()}2&i&&(K("runningProcessID",r.processId)("processAppIcon",r.icon)("processAppName",r.name),B(5),K("ngIf",r.isBannerVisible),B(),K("ngIf",r.isWelcomeVisible),B(3),K("ngForOf",r.commandHistory),B(3),K("formGroup",r.terminalForm),B(2),Wn(r.terminalPrompt))},dependencies:[bs,ea,$p,Al,Sd,Fp,Fl,kd,Xr,f7],styles:['.terminal-container[_ngcontent-%COMP%]{width:880px;height:382px;background-color:#171717}.terminal-output-section[_ngcontent-%COMP%]{width:100%;height:357px;overflow:auto;background-color:#171717;padding:5px;font-size:11.5px;line-height:10px;white-space:pre-wrap;font-family:monospace;display:flex;flex-direction:column}.terminal-input-section[_ngcontent-%COMP%]{position:fixed;width:100%;height:25px;background-color:#252424;bottom:0}.terminal-banner-container[_ngcontent-%COMP%]{display:flex;width:100%}.terminal-banner-content[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;width:-moz-fit-content;width:fit-content;color:#ccc;line-height:normal;font-weight:700;font-family:monospace;font-size:12px;margin-bottom:10px;margin-top:4px;text-align:left;white-space:pre}.terminal-welcome-message-container[_ngcontent-%COMP%]{display:flex;width:100%}.terminal-welcome-message-content[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;width:-moz-fit-content;width:fit-content;color:#ccc;line-height:normal;font-weight:400;font-family:monospace;font-size:11.5px;margin-bottom:10px;margin-top:4px;text-align:left;white-space:pre}.terminal-command-output-container-main[_ngcontent-%COMP%]{height:100%;width:100%}.terminal-command-output-container[_ngcontent-%COMP%]{display:flex}.terminal-command-output[_ngcontent-%COMP%]{padding:8px 4px 8px 8px;width:800px;color:#ccc;line-height:normal;font-weight:400;font-family:monospace;font-size:11.5px;text-align:left;white-space:pre}.terminal-command-output[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%]{margin-inline-start:20px}.terminal-command-output[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%]:not(:last-child){margin-block-end:.3em}.terminal-command-output[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%]:before{content:"- "}.terminal-command-output[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-top:0}.terminal-command-record[_ngcontent-%COMP%]{scroll-margin:15px}.terminal-form[_ngcontent-%COMP%]{display:flex;width:90%}.terminal-input-area[_ngcontent-%COMP%]{bottom:0;left:4px;padding-top:4px;position:fixed;display:inline-flex;width:100%;align-items:center}.terminal-prompt[_ngcontent-%COMP%]{position:relative;color:#ccc;font-family:monospace;font-weight:700;display:flex;top:-2px;left:.75%}.prev-terminal-prompt[_ngcontent-%COMP%]{position:relative;color:#ccc;font-family:monospace;font-weight:700;margin-bottom:3px}.prev-terminal-output[_ngcontent-%COMP%]{margin-top:3px;position:relative;display:flex;width:100%;height:100%;color:#ccc;font-family:monospace;font-weight:700;white-space:pre}.terminal-heading[_ngcontent-%COMP%]:before{margin-right:5px;content:"-- "}.terminal-input[_ngcontent-%COMP%]{position:relative;left:1.5%;font-family:monospace;font-weight:400;font-size:normal;color:#ccc;background:transparent;border:0px;outline:none;width:100%;margin-bottom:4px}.terminal-error-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.terminal-error[_ngcontent-%COMP%]{color:red}.terminal-warning[_ngcontent-%COMP%]{color:#ff0}.terminal-prior[_ngcontent-%COMP%]{color:green}']})}return t})();const b7=["ruffleContainer"];let C7=(()=>{class t{rufflePlayer;ruffleContainer;_processIdService;_runningProcessService;_triggerProcessService;_stateManagmentService;_sessionManagmentService;_scriptService;_fileInfo;_appState;gameSrc="";SECONDS_DELAY=250;name="ruffle";hasWindow=!0;icon="/osdrive/icons/emulator-1.png";isMaximizable=!1;processId=0;type=on.User;displayName="Ruffle-EM";constructor(e,i,r,o,s,l){this._processIdService=e,this._triggerProcessService=r,this._stateManagmentService=o,this._sessionManagmentService=s,this._scriptService=l,this.processId=this._processIdService.getNewProcessId(),this.retrievePastSessionData(),this._runningProcessService=i,this._runningProcessService.addProcess(this.getComponentDetail())}ngOnInit(){this._fileInfo=this._triggerProcessService.getLastProcessTrigger()}ngAfterViewInit(){var e=this;return Ne(function*(){e.setRuffleWindowToFocus(e.processId),e.gameSrc=""!==e.gameSrc?e.gameSrc:e.getGamesSrc(e._fileInfo.getContentPath,e._fileInfo.getCurrentPath),e._scriptService.loadScript("ruffle","assets/ruffle/ruffle.js").then(()=>{e.rufflePlayer=window.RufflePlayer.newest(),e.loadSWF("ruffleWindow",e.gameSrc),e.storeAppState(e.gameSrc)}),setTimeout(()=>{e.captureComponentImg()},e.SECONDS_DELAY)})()}loadSWF(e,i){if(!this.rufflePlayer)return void console.error("Ruffle is not loaded");const r=this.rufflePlayer.createPlayer();this.ruffleContainer.nativeElement.appendChild(r),r.load(i)}setRuffleWindowToFocus(e){this._runningProcessService.focusOnCurrentProcessNotify.next(e)}captureComponentImg(){_r(this.ruffleContainer.nativeElement).then(e=>{this._runningProcessService.addProcessImage(this.name,{pid:this.processId,imageData:e})})}getGamesSrc(e,i){let r="";return r=this.checkForExt(e,i)?"/"+this._fileInfo.getContentPath:this._fileInfo.getCurrentPath,r}checkForExt(e,i){const r=(0,tt.extname)(e),o=(0,tt.extname)(i),s=".swf";let l=!1;return""!=r&&r==s?l=!0:o==s&&(l=!1),l}storeAppState(e){const i=`${this.name}-${this.processId}`;this._appState={pid:this.processId,app_data:e,app_name:this.name,unique_id:i},this._stateManagmentService.addState(i,this._appState,pn.App)}retrievePastSessionData(){const e=this._sessionManagmentService._pickUpKey;if(this._sessionManagmentService.hasTempSession(e)){const i=this._sessionManagmentService.getTempSession(e)||"",r=this._sessionManagmentService.getSession(i);if(void 0!==r){const o=r[0];void 0!==o&&""!=o.app_data&&(this.gameSrc=o.app_data)}}}getComponentDetail(){return new Ci(this.processId,this.name,this.icon,this.hasWindow,this.type,this._triggerProcessService.getLastProcessTrigger)}static \u0275fac=function(i){return new(i||t)(ee(Ii),ee(Gn),ee(vr),ee(Kr),ee(Qr),ee(sc))};static \u0275cmp=a({type:t,selectors:[["cos-ruffle"]],viewQuery:function(i,r){if(1&i&&Wt(b7,7),2&i){let o;$t(o=Gt())&&(r.ruffleContainer=o.first)}},decls:3,vars:4,consts:[["ruffleContainer",""],[3,"click","runningProcessID","processAppIcon","processAppName","isMaximizable"],[2,"height","400px","width","600px","position","relative"]],template:function(i,r){if(1&i){const o=Ht();x(0,"cos-window",1),ye("click",function(){return te(o),ne(r.setRuffleWindowToFocus(r.processId))}),ge(1,"div",2,0),L()}2&i&&K("runningProcessID",r.processId)("processAppIcon",r.icon)("processAppName",r.name)("isMaximizable",r.isMaximizable)},dependencies:[Xr]})}return t})();const I7=["photoContainer"];function D7(t,n){if(1&t){const e=Ht();x(0,"div",8),ye("click",function(){const r=te(e).index;return ne(le().onClick(r))}),x(1,"div",9),ge(2,"img",5),L()()}if(2&t){const e=n.$implicit;B(2),K("src",e,et)}}let x7=(()=>{class t{changeDetectorRef;photoContainer;_fileService;_processIdService;_runningProcessService;_triggerProcessService;_stateManagmentService;_sessionManagmentService;_fileInfo;_appState;picSrc="";_consts=new Bd;SECONDS_DELAY=250;name="photoviewer";hasWindow=!0;icon="/osdrive/icons/photos_48.png";isMaximizable=!1;processId=0;type=on.System;displayName="PhotoViewer";defaultImg="/osdrive/Pictures/Samples/no_img.jpeg";tst_imageList=["/osdrive/Pictures/Samples/Chill on the Moon.jpg","/osdrive/Pictures/Samples/Mystical.jpg","/osdrive/Pictures/Samples/Sparkling Water.jpg"];imageList=[];currentImg="";currentImgIndex=0;constructor(e,i,r,o,s,l,h){this.changeDetectorRef=h,this._fileService=e,this._processIdService=i,this._triggerProcessService=o,this._stateManagmentService=s,this._sessionManagmentService=l,this.processId=this._processIdService.getNewProcessId(),this.retrievePastSessionData(),this._runningProcessService=r,this._runningProcessService.addProcess(this.getComponentDetail())}ngOnInit(){this._fileInfo=this._triggerProcessService.getLastProcessTrigger(),this.currentImg=this.imageList.length>0?this.imageList[0]:this.defaultImg}ngOnDestroy(){}ngAfterViewInit(){var e=this;return Ne(function*(){e.setImageViewerWindowToFocus(e.processId),e.picSrc=""!==e.picSrc?e.picSrc:e.getPictureSrc(e._fileInfo.getContentPath,e._fileInfo.getCurrentPath),yield e.getCurrentPicturePathAndSearchForOthers(),e.currentImg=e.imageList.length>0?e.imageList[0]:e.picSrc||e.defaultImg,e.storeAppState(e.imageList.length>0?e.imageList:e.picSrc),e.changeDetectorRef.detectChanges(),setTimeout(()=>{e.captureComponentImg()},e.SECONDS_DELAY)})()}captureComponentImg(){_r(this.photoContainer.nativeElement).then(e=>{this._runningProcessService.addProcessImage(this.name,{pid:this.processId,imageData:e})})}onKeyDown(e){"ArrowLeft"==e.key&&this.currentImgIndex>=0&&(this.currentImg=this.imageList[this.currentImgIndex--],this.currentImgIndex<0&&(this.currentImgIndex=this.imageList.length-1)),"ArrowRight"==e.key&&this.currentImgIndex<=this.imageList.length-1&&(this.currentImg=this.imageList[this.currentImgIndex++],this.currentImgIndex>this.imageList.length-1&&(this.currentImgIndex=0))}onClick(e){void 0!==e?(this.currentImg=this.imageList[e],this.currentImgIndex=e):(this.currentImgIndex=this.currentImgIndex+1,this.currentImgIndex<=this.imageList.length-1&&(this.currentImg=this.imageList[this.currentImgIndex]))}focusOnInput(){const e=document.getElementById("photoCntnr");e&&e?.focus()}getCurrentPicturePathAndSearchForOthers(){var e=this;return Ne(function*(){if(0==e.imageList.length&&!e.picSrc.includes("blob:http")){const i=(0,tt.dirname)(e.picSrc),r=yield e._fileService.getEntriesFromDirectoryAsync(i);for(let o=0;o<=r.length-1;o++)e._consts.IMAGE_FILE_EXTENSIONS.includes((0,tt.extname)(r[o]))&&e.imageList.push(`${i}/${r[o]}`)}})()}setImageViewerWindowToFocus(e){this._runningProcessService.focusOnCurrentProcessNotify.next(e)}getPictureSrc(e,i){let r="";return e.includes("blob:http")?e:(r=this.checkForExt(e,i)?"/"+this._fileInfo.getContentPath:this._fileInfo.getCurrentPath,r)}checkForExt(e,i){const r=(0,tt.extname)(e),o=(0,tt.extname)(i);let s=!1;return this._consts.IMAGE_FILE_EXTENSIONS.includes(r)?s=!0:this._consts.IMAGE_FILE_EXTENSIONS.includes(o)&&(s=!1),s}storeAppState(e){const i=`${this.name}-${this.processId}`;this._appState={pid:this.processId,app_data:e,app_name:this.name,unique_id:i},this._stateManagmentService.addState(i,this._appState,pn.App)}retrievePastSessionData(){const e=this._sessionManagmentService._pickUpKey;if(this._sessionManagmentService.hasTempSession(e)){const i=this._sessionManagmentService.getTempSession(e)||"",r=this._sessionManagmentService.getSession(i);if(void 0!==r){const o=r[0];void 0!==o&&""!=o.app_data&&("string"==typeof o.app_data?this.picSrc=o.app_data:this.imageList=o.app_data)}}}maximizeWindow(){`${this.name}-${this.processId}`===this._runningProcessService.getEventOrginator()&&(this._runningProcessService.removeEventOriginator(),document.getElementById("vanta"))}getComponentDetail(){return new Ci(this.processId,this.name,this.icon,this.hasWindow,this.type,this._triggerProcessService.getLastProcessTrigger)}static \u0275fac=function(i){return new(i||t)(ee(la),ee(Ii),ee(Gn),ee(vr),ee(Kr),ee(Qr),ee(Tl))};static \u0275cmp=a({type:t,selectors:[["cos-photoviewer"]],viewQuery:function(i,r){if(1&i&&Wt(I7,7),2&i){let o;$t(o=Gt())&&(r.photoContainer=o.first)}},decls:8,vars:5,consts:[["photoContainer",""],[3,"click","runningProcessID","processAppIcon","processAppName"],[1,"main-container",3,"click"],[1,"photo-viewer-container"],["tabindex","0","id","photoCntnr",1,"photo-viewer",3,"keydown","click"],[3,"src"],[1,"photo-slider"],["class","photo-storage",3,"click",4,"ngFor","ngForOf"],[1,"photo-storage",3,"click"],[1,"photo-slider-img"]],template:function(i,r){if(1&i){const o=Ht();x(0,"cos-window",1),ye("click",function(){return te(o),ne(r.setImageViewerWindowToFocus(r.processId))}),x(1,"div",2,0),ye("click",function(){return te(o),ne(r.focusOnInput())}),x(3,"div",3)(4,"div",4),ye("keydown",function(l){return te(o),ne(r.onKeyDown(l))})("click",function(){return te(o),ne(r.onClick())}),ge(5,"img",5),L()(),x(6,"div",6),ze(7,D7,3,1,"div",7),L()()()}2&i&&(K("runningProcessID",r.processId)("processAppIcon",r.icon)("processAppName",r.name),B(5),K("src",r.currentImg,et),B(2),K("ngForOf",r.imageList))},dependencies:[bs,Xr],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}.main-container[_ngcontent-%COMP%]{width:max-content;background:linear-gradient(to right,#29323c,#485563)}.photo-viewer-container[_ngcontent-%COMP%]{min-width:1103px;width:100%;height:100%;text-align:center}.photo-viewer-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.photo-viewer[_ngcontent-%COMP%]{width:52em;height:38em;padding:4em 0;margin:auto;overflow:hidden}.photo-viewer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:4px solid white;box-shadow:8px 2px 30px #000}.photo-slider[_ngcontent-%COMP%]{height:5.5em;margin:0 3em}.photo-slider-img[_ngcontent-%COMP%]{width:10.5em;height:6em;display:inline-flex}.photo-storage[_ngcontent-%COMP%]{display:inline-flex;width:-moz-fit-content;width:fit-content}.myslides[_ngcontent-%COMP%]{display:none}"]})}return t})();function M7(t,n){if(1&t){const e=Ht();x(0,"div",5)(1,"div",6)(2,"div",7,2)(4,"h1",8)(5,"figure",9)(6,"figcaption",10),ce(7),L()()()(),x(8,"div",11)(9,"nav",12)(10,"button",13),ye("click",function(){return te(e),ne(le().onCloseDialogBox())}),Hr(),x(11,"svg",14),ge(12,"path",15),L()()()()(),hs(),x(13,"div",16)(14,"div",17)(15,"div",18)(16,"figure",19),ge(17,"img",20),L()(),x(18,"div",21)(19,"span",22),ce(20),L()()(),x(21,"div",23)(22,"span",24),ce(23,"Application not found"),L()()(),x(24,"div",25)(25,"span",26)(26,"button",27),ye("click",function(){return te(e),ne(le().onCloseDialogBox())}),ce(27," OK "),L()()()()}if(2&t){const e=fi(3),i=le();K("handle",e),B(7),Jt(" ",i.displayMgs," "),B(10),K("src","/osdrive/icons/red-x_50.png",et),B(3),Wn(i.displayMgs)}}function T7(t,n){if(1&t){const e=Ht();x(0,"div",28)(1,"div",29,3)(3,"div",30)(4,"div",31)(5,"figure",32),ge(6,"img",33),L()(),x(7,"div",34)(8,"span",35),ce(9),L()()()(),x(10,"div",36)(11,"span",26)(12,"button",27),ye("click",function(){return te(e),ne(le().onCloseDialogBox())}),ce(13," OK "),L()()()()}if(2&t){const e=fi(2),i=le();K("handle",e),B(6),K("src","/osdrive/icons/info_48.png",et),B(3),Wn(i.displayMgs)}}let k7=(()=>{class t{changeDetectorRef;inputMsg="";notificationType="";_notificationServices;notificationOption="";errorNotification=xs.Error;infoNotification=xs.Info;notificationId=0;type=on.System;displayMgs="";constructor(e,i){this.changeDetectorRef=e,this._notificationServices=i,this.notificationId=this.generateNotificationId()}ngOnChanges(e){this.displayMgs=this.inputMsg,this.notificationOption=this.notificationType}onCloseDialogBox(){this._notificationServices.closeDialogBoxNotify.next(this.notificationId)}generateNotificationId(){const e=Math.ceil(0),i=Math.floor(999);return Math.floor(Math.random()*(i-e+1))+e}static \u0275fac=function(i){return new(i||t)(ee(Tl),ee(Nw))};static \u0275cmp=a({type:t,selectors:[["cos-dialog"]],inputs:{inputMsg:"inputMsg",notificationType:"notificationType"},features:[er],decls:5,vars:1,consts:[["errorNotice",""],["infoNotice",""],["leftHS1",""],["leftHS2",""],[3,"ngTemplateOutlet"],["ngDraggable","",1,"error-dialog-main-container",3,"handle"],["tabindex","0",1,"error-dialog-header-container"],[1,"error-dialog-left-header-section"],[1,"error-dialog-h1"],[1,"error-dialog-figure"],[1,"error-dialog-figcaption"],[1,"error-dialog-right-header-section"],[1,"error-dialog-nav"],["id","closeBtn","appHighlight","","title","Close",1,"error-dialog-button",3,"click"],["width","10","viewBox","0 0 10 10",1,"error-dialog-svg"],["d","M10.2.7L9.5 0 5.1 4.4.7 0 0 .7l4.4 4.4L0 9.5l.7.7 4.4-4.4 4.4 4.4.7-.7-4.4-4.4z","fill","#FFFFF"],[1,"error-dialog-mid-container"],[1,"error-dialog-mid-section1"],[1,"error-dialog-mid-img1"],[1,"error-dialog-figure1"],[1,"error-dialog-img1",3,"src"],[1,"error-dialog-mid-txt1"],[1,"error-dialog-mid-section1-msg"],[1,"error-dialog-mid-section2"],[1,"error-dialog-mid-section2-msg"],[1,"error-dialog-tail-container"],[2,"position","fixed","margin-top","10px","right","4%"],[1,"btn","btn-primary",3,"click"],["ngDraggable","",1,"info-dialog-main-container",3,"handle"],["tabindex","0",1,"info-dialog-mid-container"],[1,"info-dialog-mid-section1"],[1,"info-dialog-mid-img1"],[1,"info-dialog-figure1"],[1,"info-dialog-img1",3,"src"],[1,"info-dialog-mid-txt1"],[1,"info-dialog-mid-section1-msg"],[1,"info-dialog-tail-container"]],template:function(i,r){if(1&i&&(Cl(0,4),ze(1,M7,28,4,"ng-template",null,0,Li)(3,T7,14,3,"ng-template",null,1,Li)),2&i){const o=fi(2),s=fi(4);K("ngTemplateOutlet",r.notificationOption===r.errorNotification?o:s)}},dependencies:[_d,v0,Tw],styles:[".error-dialog-main-container[_ngcontent-%COMP%], .info-dialog-main-container[_ngcontent-%COMP%]{font-size:1rem;text-align:center;background-color:#fff;box-shadow:0 0 20px #0000007f;position:absolute;top:40%;left:15%;transform:translate(-50%,-50%);outline:1px hsl(0deg 0% 20%/70%);z-index:2}.error-dialog-main-container[_ngcontent-%COMP%]{width:350px;height:170px}.error-dialog-header-container[_ngcontent-%COMP%]{width:100%;position:relative;display:flex}.error-dialog-left-header-section[_ngcontent-%COMP%]{width:calc(100% - 45px);height:30px;left:0}.error-dialog-right-header-section[_ngcontent-%COMP%]{height:30px;right:0}.error-dialog-h1[_ngcontent-%COMP%]{color:#fff;font-size:13px;font-weight:400;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;height:29px;border-bottom:1px transparent blue;width:-moz-fit-content;width:fit-content;flex-grow:1;display:flex;left:0}.error-dialog-img[_ngcontent-%COMP%]{height:18px;width:18px;margin:0 6px 0 8px;image-rendering:optimizeQuality}.error-dialog-figure[_ngcontent-%COMP%]{padding-left:6px;display:flex;align-items:center;height:30px}.error-dialog-figcaption[_ngcontent-%COMP%]{color:#000;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.error-dialog-button[_ngcontent-%COMP%]{border-left:1px transparent blue;box-sizing:content-box;color:#fff;display:flex;font-size:20px;width:45px;place-content:center;place-items:center}.error-dialog-svg[_ngcontent-%COMP%]{fill:#ababab;margin-bottom:2px}.error-dialog-nav[_ngcontent-%COMP%]{display:flex;position:absolute;width:-moz-fit-content;width:fit-content;right:0;height:30px}.error-dialog-mid-container[_ngcontent-%COMP%], .info-dialog-mid-container[_ngcontent-%COMP%]{display:block;width:100%;height:95px}.error-dialog-mid-section1[_ngcontent-%COMP%]{display:flex;height:52.5px;width:100%}.error-dialog-mid-section2[_ngcontent-%COMP%], .info-dialog-mid-section2[_ngcontent-%COMP%]{height:42.5px;width:100%}.error-dialog-mid-section2-msg[_ngcontent-%COMP%], .info-dialog-mid-section2-msg[_ngcontent-%COMP%]{position:relative}.error-dialog-mid-img1[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;height:52.5px}.error-dialog-img1[_ngcontent-%COMP%]{position:relative;top:10px;height:38px;width:38px;margin:0 8px;image-rendering:optimizeQuality}.error-dialog-figure1[_ngcontent-%COMP%]{display:flex;align-items:center;height:38px}.error-dialog-figcaption1[_ngcontent-%COMP%]{color:#000;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.error-dialog-mid-txt1[_ngcontent-%COMP%]{width:calc(100% - 54px)}.error-dialog-mid-section1-msg[_ngcontent-%COMP%], .error-dialog-mid-section2-msg[_ngcontent-%COMP%]{position:relative;font-size:13px;width:100%;font-weight:400;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.error-dialog-mid-section1-msg[_ngcontent-%COMP%]{padding-left:21px;left:-52px;top:15px}.error-dialog-mid-section2-msg[_ngcontent-%COMP%]{top:0;left:-57px}.error-dialog-tail-container[_ngcontent-%COMP%]{display:flex;background-color:#e5e5e5;width:100%;height:45px}.btn.btn-primary[_ngcontent-%COMP%]{background-color:#e5e5e5;color:#000;border:2px solid #0265ce;padding:2px 20px;font-size:12px;font-weight:400;height:24px;width:65px}.info-dialog-main-container[_ngcontent-%COMP%]{width:400px;height:130px}.info-dialog-mid-section1[_ngcontent-%COMP%]{display:flex;height:80px;width:100%}.info-dialog-mid-img1[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;height:80px}.info-dialog-img1[_ngcontent-%COMP%]{position:relative;top:25px;height:38px;width:38px;margin:0 14px;image-rendering:optimizeQuality}.info-dialog-figure1[_ngcontent-%COMP%]{display:flex;align-items:center;height:38px}.info-dialog-figcaption1[_ngcontent-%COMP%]{color:#000;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.info-dialog-mid-txt1[_ngcontent-%COMP%]{width:calc(100% - 54px)}.info-dialog-mid-section1-msg[_ngcontent-%COMP%]{padding-left:10px;left:-30px;top:34px;position:relative;font-size:13px;width:100%;font-weight:400;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.info-dialog-tail-container[_ngcontent-%COMP%]{display:flex;background-color:#e5e5e5;width:100%;height:45px}"]})}return t})();const P7=["editorContainer"];let A7=(()=>{class t{editorContainer;_processIdService;_runningProcessService;_stateManagmentService;_sessionManagmentService;_triggerProcessService;_scriptService;_fileService;_fileInfo;_appState;_maximizeWindowSub;fileSrc="";quill;SECONDS_DELAY=250;hasWindow=!0;icon="osdrive/icons/text-editor_48.png";name="texteditor";processId=0;type=on.System;displayName="";constructor(e,i,r,o,s,l,h){this._processIdService=e,this.processId=this._processIdService.getNewProcessId(),this._runningProcessService=i,this._stateManagmentService=l,this._triggerProcessService=r,this._sessionManagmentService=s,this._scriptService=h,this._fileService=o,this._runningProcessService.addProcess(this.getComponentDetail())}ngOnInit(){this._fileInfo=this._triggerProcessService.getLastProcessTrigger()}ngAfterViewInit(){var e=this;this.setTextEditorWindowToFocus(this.processId),this.fileSrc=""!==this.fileSrc?this.fileSrc:this.getFileSrc(this._fileInfo.getContentPath,this._fileInfo.getCurrentPath);const i={debug:"info",modules:{toolbar:!0},placeholder:"Compose an epic...",theme:"snow"};this._scriptService.loadScript("quilljs","assets/quill/quill.js").then(Ne(function*(){const r=yield e._fileService.getFileAsync(e.fileSrc);e.quill=new Quill(e.editorContainer.nativeElement,i),e.quill.insertText(0,r,{color:"#ffff00",italic:!1})})),setTimeout(()=>{this.captureComponentImg()},this.SECONDS_DELAY)}ngOnDestroy(){this._maximizeWindowSub?.unsubscribe()}captureComponentImg(){_r(this.editorContainer.nativeElement).then(e=>{this._runningProcessService.addProcessImage(this.name,{pid:this.processId,imageData:e})})}maximizeWindow(){if(`${this.name}-${this.processId}`===this._runningProcessService.getEventOrginator()){this._runningProcessService.removeEventOriginator();const r=document.getElementById("vanta"),o=70;this.editorContainer.nativeElement.style.height=(r?.offsetHeight||0)-o+"px",this.editorContainer.nativeElement.style.width=`${r?.offsetWidth}px`}}setTextEditorWindowToFocus(e){this._runningProcessService.focusOnCurrentProcessNotify.next(e)}getFileSrc(e,i){let r="";return r=this.checkForExt(e,i)?"/"+this._fileInfo.getContentPath:this._fileInfo.getCurrentPath,r}checkForExt(e,i){const r=(0,tt.extname)(e),o=(0,tt.extname)(i),s=".txt";let l=!1;return""!=r&&r==s?l=!0:o==s&&(l=!1),l}storeAppState(e){const i=`${this.name}-${this.processId}`;this._appState={pid:this.processId,app_data:e,app_name:this.name,unique_id:i},this._stateManagmentService.addState(i,this._appState,pn.App)}retrievePastSessionData(){const e=this._sessionManagmentService._pickUpKey;if(this._sessionManagmentService.hasTempSession(e)){const i=this._sessionManagmentService.getTempSession(e)||"",r=this._sessionManagmentService.getSession(i);if(void 0!==r){const o=r[0];void 0!==o&&""!=o.app_data&&(this.fileSrc=o.app_data)}}}getComponentDetail(){return new Ci(this.processId,this.name,this.icon,this.hasWindow,this.type,this._triggerProcessService.getLastProcessTrigger)}static \u0275fac=function(i){return new(i||t)(ee(Ii),ee(Gn),ee(vr),ee(la),ee(Qr),ee(Kr),ee(sc))};static \u0275cmp=a({type:t,selectors:[["cos-texteditor"]],viewQuery:function(i,r){if(1&i&&Wt(P7,7),2&i){let o;$t(o=Gt())&&(r.editorContainer=o.first)}},decls:3,vars:3,consts:[["editorContainer",""],[3,"click","runningProcessID","processAppIcon","processAppName"],[1,"editor-main-container"]],template:function(i,r){if(1&i){const o=Ht();x(0,"cos-window",1),ye("click",function(){return te(o),ne(r.setTextEditorWindowToFocus(r.processId))}),ge(1,"div",2,0),L()}2&i&&K("runningProcessID",r.processId)("processAppIcon",r.icon)("processAppName",r.name)},dependencies:[Xr],styles:[".editor-main-container[_ngcontent-%COMP%]{min-width:800px;width:100%;min-height:600px}"]})}return t})();const O7=["monacoContent"];let N7=(()=>{class t{monacoContent;_processIdService;_runningProcessService;_stateManagmentService;_triggerProcessService;_maximizeWindowSub;SECONDS_DELAY=250;editorOptions={language:"javascript",theme:"vs-dark",automaticLayout:!0};code=this.getCode();hasWindow=!0;icon="osdrive/icons/vs-code_48.png";name="codeeditor";processId=0;type=on.User;displayName="";constructor(e,i,r,o){this._processIdService=e,this.processId=this._processIdService.getNewProcessId(),this._runningProcessService=i,this._stateManagmentService=o,this._triggerProcessService=r,this._runningProcessService.addProcess(this.getComponentDetail())}ngOnInit(){}ngAfterViewInit(){this.setCodeEditorWindowToFocus(this.processId)}ngOnDestroy(){this._maximizeWindowSub?.unsubscribe()}captureComponentImg(){_r(this.monacoContent.nativeElement).then(e=>{this._runningProcessService.addProcessImage(this.name,{pid:this.processId,imageData:e})})}maximizeWindow(){if(`${this.name}-${this.processId}`===this._runningProcessService.getEventOrginator()){this._runningProcessService.removeEventOriginator();const r=document.getElementById("vanta"),o=70;this.monacoContent.nativeElement.style.height=(r?.offsetHeight||0)-o+"px",this.monacoContent.nativeElement.style.width=`${r?.offsetWidth}px`}}getCode(){return'function x() {\nconsole.log("Hello world!");\n}'}setCodeEditorWindowToFocus(e){this._runningProcessService.focusOnCurrentProcessNotify.next(e)}getComponentDetail(){return new Ci(this.processId,this.name,this.icon,this.hasWindow,this.type,this._triggerProcessService.getLastProcessTrigger)}static \u0275fac=function(i){return new(i||t)(ee(Ii),ee(Gn),ee(vr),ee(Kr))};static \u0275cmp=a({type:t,selectors:[["cos-codeeditor"]],viewQuery:function(i,r){if(1&i&&Wt(O7,7),2&i){let o;$t(o=Gt())&&(r.monacoContent=o.first)}},decls:3,vars:5,consts:[["monacoContent",""],[3,"click","runningProcessID","processAppIcon","processAppName"],[1,"my-code-editor",3,"ngModelChange","options","ngModel"]],template:function(i,r){if(1&i){const o=Ht();x(0,"cos-window",1),ye("click",function(){return te(o),ne(r.setCodeEditorWindowToFocus(r.processId))}),x(1,"ngx-monaco-editor",2,0),U_("ngModelChange",function(l){return te(o),function lD(t,n){const e=KC(t);return e&&t.set(n),e}(r.code,l)||(r.code=l),ne(l)}),L()()}2&i&&(K("runningProcessID",r.processId)("processAppIcon",r.icon)("processAppName",r.name),B(),K("options",r.editorOptions),V_("ngModel",r.code))},dependencies:[Sd,u0,C6,Xr],styles:[".my-code-editor[_ngcontent-%COMP%]{min-width:800px;width:100%;min-height:600px;font-family:monospace;font-size:10pt;letter-spacing:normal;text-align:left}"]})}return t})();const F7=["markDownContent"];let R7=(()=>{class t{markDownContent;_processIdService;_runningProcessService;_stateManagmentService;_sessionManagmentService;_triggerProcessService;_scriptService;_fileService;_sanitizer;_renderer;_fileInfo;_appState;_maximizeWindowSub;fileSrc="";mkdDwnHtml="";SECONDS_DELAY=250;hasWindow=!0;icon="osdrive/icons/markdown-2_50.png";name="markdownviewer";processId=0;type=on.System;displayName="";constructor(e,i,r,o,s,l,h,g,w){this._processIdService=e,this._runningProcessService=i,this._stateManagmentService=o,this._sessionManagmentService=h,this._triggerProcessService=r,this._scriptService=s,this._fileService=l,this._renderer=g,this._sanitizer=w,this.processId=this._processIdService.getNewProcessId(),this.retrievePastSessionData(),this._runningProcessService=i,this._runningProcessService.addProcess(this.getComponentDetail())}ngOnInit(){this._fileInfo=this._triggerProcessService.getLastProcessTrigger()}ngAfterViewInit(){var e=this;this.setMardkDownViewerWindowToFocus(this.processId),this.fileSrc=""!==this.fileSrc?this.fileSrc:this.getFileSrc(this._fileInfo.getContentPath,this._fileInfo.getCurrentPath),this._scriptService.loadScript("markedjs","assets/marked/marked.min.js").then(Ne(function*(){const o=marked.setOptions({gfm:!0,breaks:!0})(yield e._fileService.getFileAsync(e.fileSrc)),s=e._sanitizer.bypassSecurityTrustHtml(o);e.mkdDwnHtml=s,e.storeAppState(e.fileSrc)})),setTimeout(()=>{this.captureComponentImg()},this.SECONDS_DELAY)}ngOnDestroy(){this._maximizeWindowSub?.unsubscribe()}captureComponentImg(){_r(this.markDownContent.nativeElement).then(e=>{this._runningProcessService.addProcessImage(this.name,{pid:this.processId,imageData:e})})}maximizeWindow(){if(`${this.name}-${this.processId}`===this._runningProcessService.getEventOrginator()){this._runningProcessService.removeEventOriginator();const r=document.getElementById("vanta"),o=70;this.markDownContent.nativeElement.style.height=(r?.offsetHeight||0)-o+"px",this.markDownContent.nativeElement.style.width=`${r?.offsetWidth}px`}}setMardkDownViewerWindowToFocus(e){this._runningProcessService.focusOnCurrentProcessNotify.next(e)}getFileSrc(e,i){let r="";return r=this.checkForExt(e,i)?"/"+this._fileInfo.getContentPath:this._fileInfo.getCurrentPath,r}checkForExt(e,i){const r=(0,tt.extname)(e),o=(0,tt.extname)(i);let l=!1;return""!=r&&".md"==r?l=!0:".md"==o&&(l=!1),l}storeAppState(e){const i=`${this.name}-${this.processId}`;this._appState={pid:this.processId,app_data:e,app_name:this.name,unique_id:i},this._stateManagmentService.addState(i,this._appState,pn.App)}retrievePastSessionData(){const e=this._sessionManagmentService._pickUpKey;if(this._sessionManagmentService.hasTempSession(e)){const i=this._sessionManagmentService.getTempSession(e)||"",r=this._sessionManagmentService.getSession(i);if(void 0!==r){const o=r[0];void 0!==o&&""!=o.app_data&&(this.fileSrc=o.app_data)}}}getComponentDetail(){return new Ci(this.processId,this.name,this.icon,this.hasWindow,this.type,this._triggerProcessService.getLastProcessTrigger)}static \u0275fac=function(i){return new(i||t)(ee(Ii),ee(Gn),ee(vr),ee(Kr),ee(sc),ee(la),ee(Qr),ee($r),ee(zv))};static \u0275cmp=a({type:t,selectors:[["cos-markdownviewer"]],viewQuery:function(i,r){if(1&i&&Wt(F7,7),2&i){let o;$t(o=Gt())&&(r.markDownContent=o.first)}},decls:4,vars:4,consts:[["markDownContent",""],[3,"click","runningProcessID","processAppIcon","processAppName"],[1,"markdown-main-container"],[1,"markdown-content",3,"innerHTML"]],template:function(i,r){if(1&i){const o=Ht();x(0,"cos-window",1),ye("click",function(){return te(o),ne(r.setMardkDownViewerWindowToFocus(r.processId))}),x(1,"div",2,0),ge(3,"div",3),L()()}2&i&&(K("runningProcessID",r.processId)("processAppIcon",r.icon)("processAppName",r.name),B(3),K("innerHTML",r.mkdDwnHtml,fb))},dependencies:[Xr],styles:[".markdown-main-container[_ngcontent-%COMP%]{width:100%;height:100%}.markdown-content[_ngcontent-%COMP%]{width:800px;height:600px;color:#ccc;white-space:pre;text-align:left;overflow:auto;background-color:#f9f9f9;box-sizing:border-box;font-size:16px;line-height:1.5;padding:10px}.markdown-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;margin:5px 0}.markdown-content[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{background:#fff;border:1px solid #ddd;border-radius:3px;margin-right:10px}.markdown-content[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{font-size:14px;list-style-type:none;margin:5px 0;padding:0;position:sticky;top:5px}.markdown-content[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{min-width:125px;padding:0 15px}"]})}return t})(),L7=(()=>{class t{_componentsReferences;constructor(){this._componentsReferences=new Map}addComponentReference(e,i){this._componentsReferences.set(e,i)}getComponentReference(e){return this._componentsReferences.get(e)}removeComponentReference(e){this._componentsReferences.delete(e)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class B7{changeHue(n,e){if(!/^#(?:[0-9a-fA-F]{3}){1,2}$/.test(n))return console.error("Invalid hexadecimal color code"),null;const r=n.substring(1),o=parseInt(r,16),g=this.rgbToHsl(o>>16&255,o>>8&255,255&o);g.h+=e,g.h=(g.h+360)%360;const w=this.hslToRgb(g.h,g.s,g.l);return`#${this.rgbToHex(w.r,w.g,w.b)}`}rgbToHsl(n,e,i){n/=255,e/=255,i/=255;const r=Math.max(n,e,i),o=Math.min(n,e,i);let s,l,h=(r+o)/2;if(r===o)s=l=0;else{const g=r-o;switch(l=h>.5?g/(2-r-o):g/(r+o),r){case n:s=(e-i)/g+(e<i?6:0);break;case e:s=(i-n)/g+2;break;case i:s=(n-e)/g+4}s&&(s/=6)}return{h:s||360,s:100*l,l:100*h}}hslToRgb(n,e,i){let r,o,s;if(n/=360,i/=100,0==(e/=100))r=o=s=i;else{const l=(w,C,k)=>(k<0&&(k+=1),k>1&&(k-=1),k<.16666666666666666?w+6*(C-w)*k:k<.5?C:k<.6666666666666666?w+(C-w)*(.6666666666666666-k)*6:w),h=i<.5?i*(1+e):i+e-i*e,g=2*i-h;r=l(g,h,n+1/3),o=l(g,h,n),s=l(g,h,n-1/3)}return{r:255*r,g:255*o,b:255*s}}rgbToHex(n,e,i){const r=o=>{const s=Math.round(o).toString(16);return 1===s.length?"0"+s:s};return r(n)+r(e)+r(i)}}function V7(t,n){if(1&t){const e=Ht();x(0,"div",2)(1,"div",3)(2,"div",4)(3,"h1",5)(4,"figure",6),ge(5,"img",7),x(6,"figcaption",8),ce(7),L()()()(),x(8,"div",9)(9,"nav",10)(10,"button",11),ye("click",function(){const r=te(e).$implicit;return ne(le().onClosePreviewWindow(r.pid))}),Hr(),x(11,"svg",12),ge(12,"path",13),L()()()()(),hs(),x(13,"div",14),ye("contextmenu",function(r){const o=te(e).$implicit;return ne(le().showTaskBarPreviewContextMenu(r,o.pid))})("mouseenter",function(){const r=te(e).$implicit;return ne(le().setWindowToFocus(r.pid))}),x(14,"figure",15),ge(15,"img",16),L()()()}if(2&t){const e=n.$implicit,i=le();B(5),K("src",i.icon,et),B(2),Jt(" ",i.appInfo," "),B(8),K("ngClass",e.imageData?"taskbar-preview-img1-sec":"taskbar-preview-img1-pri")("src",e.imageData||i.icon,et)}}let U7=(()=>{class t{_runningProcessService;name="";icon="";fadeState="";componentImages;appInfo="";SECONDS_DELAY=250;constructor(e){this._runningProcessService=e,this.fadeState="in"}ngOnChanges(e){}ngAfterViewInit(){setTimeout(()=>{this.componentImages=this._runningProcessService.getProcessImages(this.name),this.shortAppInfo()},this.SECONDS_DELAY)}shortAppInfo(){this.appInfo=this.name,this.appInfo=this.appInfo.length>26?this.appInfo.substring(0,26)+"...":this.appInfo}onClosePreviewWindow(e){const i=this._runningProcessService.getProcess(e);this._runningProcessService.closeProcessNotify.next(i)}keepTaskBarPreviewWindow(){this._runningProcessService.keepPreviewWindowNotify.next()}hideTaskBarPreviewWindow(){this._runningProcessService.hidePreviewWindowNotify.next()}showTaskBarPreviewContextMenu(e,i){console.log("I will implement the TaskBarPreview Context Window.........later")}setWindowToFocus(e){this._runningProcessService.focusOnCurrentProcessNotify.next(e)}static \u0275fac=function(i){return new(i||t)(ee(Gn))};static \u0275cmp=a({type:t,selectors:[["cos-taskbarpreview"]],inputs:{name:"name",icon:"icon",fadeState:"fadeState"},features:[er],decls:2,vars:2,consts:[[1,"taskbar-preview-main-container",3,"mouseenter","mouseleave"],["class","taskbar-preview-content",4,"ngFor","ngForOf"],[1,"taskbar-preview-content"],["tabindex","0",1,"taskbar-preview-header-container"],[1,"taskbar-preview-left-header-section"],[1,"taskbar-preview-h1"],[1,"taskbar-preview-figure"],[1,"taskbar-preview-img",3,"src"],[1,"taskbar-preview-figcaption"],[1,"taskbar-preview-right-header-section"],[1,"taskbar-preview-nav"],["id","closeBtn","appHighlight","","title","Close",1,"taskbar-preview-button",3,"click"],["width","10","viewBox","0 0 10 10",1,"taskbar-preview-svg"],["d","M10.2.7L9.5 0 5.1 4.4.7 0 0 .7l4.4 4.4L0 9.5l.7.7 4.4-4.4 4.4 4.4.7-.7-4.4-4.4z","fill","#FFFFF"],[1,"taskbar-preview-image-container",3,"contextmenu","mouseenter"],[1,"taskbar-preview-figure1"],[3,"ngClass","src"]],template:function(i,r){1&i&&(x(0,"div",0),ye("mouseenter",function(){return r.keepTaskBarPreviewWindow()})("mouseleave",function(){return r.hideTaskBarPreviewWindow()}),ze(1,V7,16,4,"div",1),L()),2&i&&(K("@fadeAnimation",r.fadeState),B(),K("ngForOf",r.componentImages))},dependencies:[yd,bs,Tw],styles:[".taskbar-preview-main-container[_ngcontent-%COMP%]{background-color:#0009;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);border:.2px solid rgba(0,0,0,.6);position:absolute;display:inline-flex;z-index:2}.taskbar-preview-ol[_ngcontent-%COMP%]{height:100%;position:absolute;display:flex;column-gap:1px;margin:0 1px;transition:all 75ms}.taskbar-preview-content[_ngcontent-%COMP%]{height:100%}.taskbar-preview-header-container[_ngcontent-%COMP%]{width:160px;height:25px;position:relative;display:flex}.taskbar-preview-left-header-section[_ngcontent-%COMP%]{width:calc(100% - 30px);height:25px;left:0}.taskbar-preview-right-header-section[_ngcontent-%COMP%]{height:25px;right:0}.taskbar-preview-h1[_ngcontent-%COMP%]{color:#fff;font-size:10.5px;font-weight:400;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;height:25px;border-bottom:1px transparent;width:-moz-fit-content;width:fit-content;flex-grow:1;display:flex;left:0}.taskbar-preview-figure[_ngcontent-%COMP%]{align-items:center;display:flex;min-width:0px;padding:4px}.taskbar-preview-img[_ngcontent-%COMP%]{height:14px;width:14px;position:relative;top:1px}.taskbar-preview-figcaption[_ngcontent-%COMP%]{padding-left:3px;color:#fff;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.taskbar-preview-button[_ngcontent-%COMP%]{border-left:1px transparent;box-sizing:content-box;color:#fff;display:flex;font-size:15px;width:30px;place-content:center;place-items:center}.taskbar-preview-svg[_ngcontent-%COMP%]{fill:transparent;margin-bottom:2px}.taskbar-preview-content[_ngcontent-%COMP%]:hover{background-color:#40404099}.taskbar-preview-content[_ngcontent-%COMP%]:hover   .taskbar-preview-svg[_ngcontent-%COMP%]{fill:#ababab}.taskbar-preview-nav[_ngcontent-%COMP%]{display:flex;position:absolute;width:-moz-fit-content;width:fit-content;right:0;height:25px}.taskbar-preview-image-container[_ngcontent-%COMP%]{width:160px;height:105px}.taskbar-preview-figure1[_ngcontent-%COMP%]{margin:1px 2px 6px;display:flex;height:98px;width:154px;align-items:center;background-color:#ababab}.taskbar-preview-img1-pri[_ngcontent-%COMP%]{height:48px;width:48px;position:relative;left:35%;top:1px}.taskbar-preview-img1-sec[_ngcontent-%COMP%]{height:98px;width:154px;position:relative;top:1px}"],data:{animation:[Pd("fadeAnimation",[Yo("in",rn({opacity:1})),Yo("out",rn({opacity:0})),qo("* => in",[Zo("0.30s ease-in")]),qo("in => out",[Zo("0.30s ease-out")])])]}})}return t})();const z7=["desktopContainer"],j7=["*"];function H7(t,n){if(1&t&&(x(0,"div",6),ge(1,"img",7),L()),2&t){const e=le();K("@slideStatusAnimation",e.slideState),B(),K("src",e.dsktpPrevImg,et)}}function W7(t,n){if(1&t&&ge(0,"cos-menu",8),2&t){const e=le();Bt(e.dskTopCntxtMenuStyle),K("nestedMenu",e.deskTopMenu)("menuType",e.deskTopMenuOption)}}function $7(t,n){if(1&t&&ge(0,"cos-taskbarpreview",9),2&t){const e=le();K("fadeState",e.tskBarPreviewWindowState)("name",e.appToPreview)("icon",e.appToPreviewIcon)("ngStyle",e.tskBarPrevWindowStyle)}}function G7(t,n){if(1&t&&ge(0,"cos-menu",10),2&t){const e=le();Bt(e.tskBarCntxtMenuStyle),K("generalMenu",e.taskBarMenuData)("menuType",e.tskBarMenuOption)}}let Z7=(()=>{class t{desktopContainer;_processIdService;_runningProcessService;_fileManagerServices;_fileService;_triggerProcessService;_scriptService;_menuService;_timerSubscription;_showTaskBarMenuSub;_hideContextMenuSub;_showTaskBarPreviewWindowSub;_hideTaskBarPreviewWindowSub;_keepTaskBarPreviewWindowSub;_vantaEffect;largeIcons=rc.LARGE_ICONS;mediumIcons=rc.MEDIUM_ICONS;smallIcons=rc.SMALL_ICONS;isLargeIcon=!0;isMediumIcon=!1;isSmallIcon=!1;sortByName=Bi.NAME;sortByItemType=Bi.ITEM_TYPE;sortBySize=Bi.SIZE;sortByDateModified=Bi.DATE_MODIFIED;isSortByName=!1;isSortByItemType=!1;isSortBySize=!1;isSortByDateModified=!1;isShiftSubMenuLeft=!1;autoAlignIcons=!0;autoArrangeIcons=!0;showDesktopIcons=!0;showDesktopScreenShotPreview=!1;dsktpPrevImg="";slideState="slideIn";dskTopCntxtMenuStyle={};tskBarCntxtMenuStyle={};tskBarPrevWindowStyle={};deskTopMenuOption="nested-menu";showDesktopCntxtMenu=!1;showTskBarCntxtMenu=!1;showTskBarPreviewWindow=!1;tskBarPreviewWindowState="in";tskBarMenuOption="taskbar-menu";selectedFileFromTaskBar;appToPreview="";appToPreviewIcon="";previousDisplayedTaskbarPreview="";removeTskBarPrevWindowFromDOMTimeoutId;hideTskBarPrevWindowTimeoutId;directory="/Desktop";terminalApp="terminal";textEditorApp="texteditor";codeEditorApp="codeeditor";markDownViewerApp="markdownviewer";waveBkgrnd={el:"#vanta"};ringsBkgrnd={el:"#vanta"};haloBkgrnd={el:"#vanta"};globeBkgrnd={el:"#vanta"};birdBkgrnd={el:"#vanta"};VANTAS=[this.waveBkgrnd,this.ringsBkgrnd,this.haloBkgrnd,this.globeBkgrnd,this.birdBkgrnd];MIN_NUMS_OF_DESKTOPS=0;MAX_NUMS_OF_DESKTOPS=this.VANTAS.length-1;CURRENT_DESTOP_NUM=0;MIN_DEG=0;MAX_DEG=360;CURRENT_DEG=0;defaultColor=10060;nextColor=new B7;animationId;taskBarMenuData=[{icon:"",label:"",action:this.openApplicationFromTaskBar.bind(this)},{icon:"",label:"",action:()=>console.log()}];deskTopMenu=[];hasWindow=!1;icon="osdrive/icons/generic-program.ico";name="desktop";processId=0;type=on.System;displayName="";constructor(e,i,r,o,s,l,h){this._processIdService=e,this._runningProcessService=i,this._fileManagerServices=r,this._triggerProcessService=o,this._scriptService=s,this._menuService=l,this._fileService=h,this._showTaskBarMenuSub=this._menuService.showTaskBarMenu.subscribe(g=>{this.onShowTaskBarContextMenu(g)}),this._showTaskBarPreviewWindowSub=this._runningProcessService.showPreviewWindowNotify.subscribe(g=>{this.showTaskBarPreviewWindow(g)}),this._hideContextMenuSub=this._menuService.hideContextMenus.subscribe(()=>{this.hideContextMenu()}),this._hideTaskBarPreviewWindowSub=this._runningProcessService.hidePreviewWindowNotify.subscribe(()=>{this.hideTaskBarPreviewWindow()}),this._keepTaskBarPreviewWindowSub=this._runningProcessService.keepPreviewWindowNotify.subscribe(()=>{this.keepTaskBarPreviewWindow()}),this.processId=this._processIdService.getNewProcessId(),this._runningProcessService.addProcess(this.getComponentDetail()),this.CURRENT_DEG=this.getRandomInt(0,360)}ngOnInit(){this._scriptService.loadScript("vanta-waves","assets/backgrounds/vanta.waves.min.js").then(()=>{this._vantaEffect=VANTA.WAVES({el:"#vanta",color:this.defaultColor,waveHeight:20,shininess:50,waveSpeed:.5,zoom:.75})}),this.getDesktopMenuData()}ngAfterViewInit(){this.hideContextMenu(),this.loadOtherBackgrounds()}loadOtherBackgrounds(){const e=["rings","halo","globe","birds"],i=["assets/backgrounds/vanta.rings.min.js","assets/backgrounds/vanta.halo.min.js","assets/backgrounds/vanta.globe.min.js","assets/backgrounds/vanta.birds.min.js"];for(let r=0;r<=i.length-1;r++)this._scriptService.loadScript(e[r],i[r])}changeAnimationColor(){this.CURRENT_DEG=this.CURRENT_DEG>this.MAX_DEG?this.MIN_DEG:this.CURRENT_DEG+1,console.log("nextColor:",Number(this.nextColor.changeHue("#4f32c2",this.CURRENT_DEG)?.replace("#","0x"))),this._vantaEffect.setOptions({color:Number(this.nextColor.changeHue("#4f32c2",this.CURRENT_DEG)?.replace("#","0x"))})}ngOnDestroy(){this._timerSubscription?.unsubscribe(),this._showTaskBarMenuSub?.unsubscribe(),this._hideContextMenuSub?.unsubscribe(),this._showTaskBarPreviewWindowSub?.unsubscribe(),this._hideTaskBarPreviewWindowSub?.unsubscribe(),this._keepTaskBarPreviewWindowSub?.unsubscribe(),cancelAnimationFrame(this.animationId),this._vantaEffect?.destroy()}getRandomInt(e,i){return e=Math.ceil(e),i=Math.floor(i),Math.floor(Math.random()*(i-e)+e)}showDesktopContextMenu(e){if(""==this._runningProcessService.getEventOrginator()){const o=this.checkAndHandleMenuBounds(e,281);this._menuService.hideContextMenus.next(),this.showDesktopCntxtMenu=!0,this.dskTopCntxtMenuStyle={position:"absolute",width:"210px",transform:`translate(${String(o.xAxis+2)}px, ${String(o.yAxis)}px)`,"z-index":2,opacity:1},e.preventDefault()}else this._runningProcessService.removeEventOriginator()}shiftViewSubMenu(){this.shiftNestedMenuPosition(0)}shiftSortBySubMenu(){this.shiftNestedMenuPosition(1)}shiftNewSubMenu(){this.shiftNestedMenuPosition(8)}shiftNestedMenuPosition(e){console.log("I was called by:",e);const i=document.getElementById(`dmNestedMenu-${e}`);i&&(console.log("nestedMenu:",i),this.isShiftSubMenuLeft&&(i.style.left="-98%"))}checkAndHandleMenuBounds(e,i){let r=0,o=0;const h=document.getElementById("vanta"),C=(h?.offsetWidth||0)-e.clientX,k=(h?.offsetHeight||0)-e.clientY;let A=!1,z=!1;return C<210&&(this.isShiftSubMenuLeft=!0,A=!0,r=e.clientX-(210-C)),k>=40&&k<=i&&(z=!0,o=e.clientY-(i-k)-40),r=A?r:e.clientX,o=z?o:e.clientY,{xAxis:r,yAxis:o}}captureComponentImg(){const e="/Documents/Screen-Shots";_r(this.desktopContainer.nativeElement).then(i=>{const r=new oc;r.setFileName="screen_shot.png",r.setCurrentPath=`${e}/screen_shot.png`,r.setContentPath=i,r.setIconPath=i,this.showDesktopScreenShotPreview=!0,this.slideState="slideIn",this.dsktpPrevImg=i,setTimeout(()=>{this.slideState="slideOut",this._fileService.writeFileAsync(e,r),this._fileService.addEventOriginator("fileexplorer"),this._fileService.dirFilesUpdateNotify.next()},4e3),setTimeout(()=>{this.showDesktopScreenShotPreview=!1},6e3)})}createFolder(){var e=this;return Ne(function*(){(yield e._fileService.createFolderAsync(e.directory,"New Folder"))&&(e._fileService.addEventOriginator("filemanager"),e._fileService.dirFilesUpdateNotify.next())})()}hideContextMenu(e){this.showDesktopCntxtMenu=!1,this.showTskBarCntxtMenu=!1,void 0!==e&&e===this.name&&this._menuService.hideContextMenus.next()}viewByLargeIcon(){this.viewBy(this.largeIcons)}viewByMediumIcon(){this.viewBy(this.mediumIcons)}viewBySmallIcon(){this.viewBy(this.smallIcons)}viewBy(e){e===rc.LARGE_ICONS&&(this.isLargeIcon=!0,this.isMediumIcon=!1,this.isSmallIcon=!1),e===rc.MEDIUM_ICONS&&(this.isMediumIcon=!0,this.isLargeIcon=!1,this.isSmallIcon=!1),e===rc.SMALL_ICONS&&(this.isSmallIcon=!0,this.isMediumIcon=!1,this.isLargeIcon=!1),this._fileManagerServices.viewByNotify.next(e),this.getDesktopMenuData()}sortByNameM(){this.sortBy(this.sortByName)}sortBySizeM(){this.sortBy(this.sortBySize)}sortByItemTypeM(){this.sortBy(this.sortByItemType)}sortByDateModifiedM(){this.sortBy(this.sortByDateModified)}sortBy(e){e===Bi.DATE_MODIFIED&&(this.isSortByDateModified=!0,this.isSortByItemType=!1,this.isSortByName=!1,this.isSortBySize=!1),e===Bi.ITEM_TYPE&&(this.isSortByItemType=!0,this.isSortByDateModified=!1,this.isSortByName=!1,this.isSortBySize=!1),e===Bi.SIZE&&(this.isSortBySize=!0,this.isSortByItemType=!1,this.isSortByName=!1,this.isSortByDateModified=!1),e===Bi.NAME&&(this.isSortByName=!0,this.isSortByItemType=!1,this.isSortByDateModified=!1,this.isSortBySize=!1),this._fileManagerServices.sortByNotify.next(e),this.getDesktopMenuData()}autoArrangeIcon(){this.autoArrangeIcons=!this.autoArrangeIcons,this._fileManagerServices.autoArrangeIconsNotify.next(this.autoArrangeIcons),this.getDesktopMenuData()}autoAlignIcon(){this.autoAlignIcons=!this.autoAlignIcons,this._fileManagerServices.alignIconsToGridNotify.next(this.autoAlignIcons),this.getDesktopMenuData()}refresh(){this._fileManagerServices.refreshNotify.next()}showDesktopIcon(){this.showDesktopIcons=!this.showDesktopIcons,this._fileManagerServices.showDesktopIconsNotify.next(this.showDesktopIcons),this.getDesktopMenuData()}previousBackground(){this.CURRENT_DESTOP_NUM>this.MIN_NUMS_OF_DESKTOPS&&(this.CURRENT_DESTOP_NUM--,this.buildVantaEffect(this.CURRENT_DESTOP_NUM)),this.hideContextMenu()}nextBackground(){this.CURRENT_DESTOP_NUM<this.MAX_NUMS_OF_DESKTOPS&&(this.CURRENT_DESTOP_NUM++,this.buildVantaEffect(this.CURRENT_DESTOP_NUM)),this.hideContextMenu()}openTerminal(){this.openApplication(this.terminalApp)}openTextEditor(){this.openApplication(this.textEditorApp)}openCodeEditor(){this.openApplication(this.codeEditorApp)}openMarkDownViewer(){this.openApplication(this.markDownViewerApp)}onPaste(){var e=this;return Ne(function*(){const i=e._menuService.getPath(),r=e._menuService.getActions();console.log(`path: ${i}`),console.log(`action: ${r}`),"copy"===r?(yield e._fileService.copyHandler("",i,e.directory))&&e.refresh():"cut"===r&&(yield e._fileService.movehandler(e.directory,[i]))&&e.refresh()})()}openApplication(e){const i=new oc;i.setOpensWith=e,e==this.markDownViewerApp&&(i.setCurrentPath="/Desktop",i.setContentPath="/Documents/Credits.md"),this._triggerProcessService.startApplication(i)}buildViewByMenu(){return[{icon:"osdrive/icons/circle.png",label:"Small icons",action:this.viewBySmallIcon.bind(this),variables:this.isSmallIcon,emptyline:!1,styleOption:"A"},{icon:"osdrive/icons/circle.png",label:"Medium icons",action:this.viewByMediumIcon.bind(this),variables:this.isMediumIcon,emptyline:!1,styleOption:"A"},{icon:"osdrive/icons/circle.png",label:"Large icons",action:this.viewByLargeIcon.bind(this),variables:this.isLargeIcon,emptyline:!0,styleOption:"A"},{icon:"osdrive/icons/chkmark32.png",label:"Auto arrange icons",action:this.autoArrangeIcon.bind(this),variables:this.autoArrangeIcons,emptyline:!1,styleOption:"B"},{icon:"osdrive/icons/chkmark32.png",label:"Align icons to grid",action:this.autoAlignIcon.bind(this),variables:this.autoAlignIcons,emptyline:!0,styleOption:"B"},{icon:"osdrive/icons/chkmark32.png",label:"Show desktop icons",action:this.showDesktopIcon.bind(this),variables:this.showDesktopIcons,emptyline:!1,styleOption:"B"}]}buildSortByMenu(){return[{icon:"osdrive/icons/circle.png",label:"Name",action:this.sortByNameM.bind(this),variables:this.isSortByName,emptyline:!1,styleOption:"A"},{icon:"osdrive/icons/circle.png",label:"Size",action:this.sortBySizeM.bind(this),variables:this.isSortBySize,emptyline:!1,styleOption:"A"},{icon:"osdrive/icons/circle.png",label:"Item type",action:this.sortByItemTypeM.bind(this),variables:this.isSortByItemType,emptyline:!1,styleOption:"A"},{icon:"osdrive/icons/circle.png",label:"Date modified",action:this.sortByDateModifiedM.bind(this),variables:this.isSortByDateModified,emptyline:!1,styleOption:"A"}]}buildNewMenu(){return[{icon:"osdrive/icons/empty_folder.ico",label:"Folder",action:this.createFolder.bind(this),variables:!0,emptyline:!1,styleOption:"C"},{icon:"osdrive/icons/text-editor_48.png",label:"Rich Text",action:this.openTextEditor.bind(this),variables:!0,emptyline:!1,styleOption:"C"},{icon:"osdrive/icons/vs-code_48.png",label:"Code Editor",action:this.openCodeEditor.bind(this),variables:!0,emptyline:!1,styleOption:"C"}]}getDesktopMenuData(){this.deskTopMenu=[{icon1:"",icon2:"osdrive/icons/arrow_next_1.png",label:"View",nest:this.buildViewByMenu(),action:()=>"",action1:this.shiftViewSubMenu.bind(this),emptyline:!1},{icon1:"",icon2:"osdrive/icons/arrow_next_1.png",label:"Sort by",nest:this.buildSortByMenu(),action:()=>"",action1:this.shiftSortBySubMenu.bind(this),emptyline:!1},{icon1:"",icon2:"",label:"Refresh",nest:[],action:this.refresh.bind(this),action1:()=>"",emptyline:!0},{icon1:"",icon2:"",label:"Paste",nest:[],action:this.onPaste.bind(this),action1:()=>"",emptyline:!1},{icon1:"/osdrive/icons/terminal_48.png",icon2:"",label:"Open in Terminal",nest:[],action:this.openTerminal.bind(this),action1:()=>"",emptyline:!1},{icon1:"/osdrive/icons/camera_48.png",icon2:"",label:"Screen Shot",nest:[],action:this.captureComponentImg.bind(this),action1:()=>"",emptyline:!1},{icon1:"",icon2:"",label:"Next Background",nest:[],action:this.nextBackground.bind(this),action1:()=>"",emptyline:!1},{icon1:"",icon2:"",label:"Previous Background",nest:[],action:this.previousBackground.bind(this),action1:()=>"",emptyline:!0},{icon1:"",icon2:"osdrive/icons/arrow_next_1.png",label:"New",nest:this.buildNewMenu(),action:()=>"",action1:this.shiftNewSubMenu.bind(this),emptyline:!0},{icon1:"",icon2:"",label:"Many Thanks",nest:[],action:this.openMarkDownViewer.bind(this),action1:()=>"",emptyline:!1}]}buildVantaEffect(e){try{const i=this.VANTAS[e];0==e&&(this._vantaEffect=VANTA.WAVES(i)),1==e&&(this._vantaEffect=VANTA.RINGS(i)),2==e&&(this._vantaEffect=VANTA.HALO(i)),3==e&&(this._vantaEffect=VANTA.GLOBE(i)),4==e&&(this._vantaEffect=VANTA.BIRDS(i))}catch(i){console.error("err:",i)}}onShowTaskBarContextMenu(e){const i=e[0],o=e[2];this.selectedFileFromTaskBar=e[1],this.switchBetweenPinAndUnpin(o);const s=this.countInstaceAndSetMenu();this.removeOldTaskBarPreviewWindowNow(),this.showTskBarCntxtMenu=!0,this.tskBarCntxtMenuStyle=0==s?{position:"absolute",transform:`translate(${String(i.x-60)}px, ${String(i.y-68.5)}px)`,"z-index":2}:{position:"absolute",transform:`translate(${String(i.x-60)}px, ${String(i.y-97.5)}px)`,"z-index":2}}hideTaskBarContextMenu(){this.showTskBarCntxtMenu=!1}showTaskBarContextMenu(){this.showTskBarCntxtMenu=!0}switchBetweenPinAndUnpin(e){if(e){const i={icon:"osdrive/icons/unpin_24.png",label:"Unpin from taskbar",action:this.unPinApplicationFromTaskBar.bind(this)},r=this.taskBarMenuData[1];r.icon=i.icon,r.label=i.label,r.action=i.action,this.taskBarMenuData[1]=r}else if(!e){const i={icon:"osdrive/icons/pin_24.png",label:"Pin to taskbar",action:this.pinApplicationFromTaskBar.bind(this)},r=this.taskBarMenuData[1];r.icon=i.icon,r.label=i.label,r.action=i.action,this.taskBarMenuData[1]=r}}countInstaceAndSetMenu(){const e=this.selectedFileFromTaskBar,i=this._runningProcessService.getProcesses().filter(o=>o.getProcessName===e.getOpensWith).length,r=this.taskBarMenuData[0];if(r.icon=e.getIconPath,r.label=e.getOpensWith,this.taskBarMenuData[0]=r,1==i)if(2==this.taskBarMenuData.length){const o={icon:"osdrive/icons/x_32.png",label:"Close window",action:this.closeApplicationFromTaskBar.bind(this)};this.taskBarMenuData.push(o)}else{const o=this.taskBarMenuData[2];o.label="Close window",this.taskBarMenuData[2]=o}else if(i>1){const o=this.taskBarMenuData[2];o.label="Close all windows",this.taskBarMenuData[2]=o}return i}openApplicationFromTaskBar(){this.showTskBarCntxtMenu=!1,this._triggerProcessService.startApplication(this.selectedFileFromTaskBar)}closeApplicationFromTaskBar(){this.showTskBarCntxtMenu=!1;const e=this.selectedFileFromTaskBar,i=this._runningProcessService.getProcesses().filter(r=>r.getProcessName===e.getOpensWith);this._menuService.closeApplicationFromTaskBar.next(i)}pinApplicationFromTaskBar(){this.showTskBarCntxtMenu=!1,this._menuService.pinToTaskBar.next(this.selectedFileFromTaskBar)}unPinApplicationFromTaskBar(){this.showTskBarCntxtMenu=!1,this._menuService.unPinFromTaskBar.next(this.selectedFileFromTaskBar)}showTaskBarPreviewWindow(e){const i=e[0],r=e[1],o=e[2];this.appToPreview=r,this.appToPreviewIcon=o,this.hideTaskBarContextMenu(),this.previousDisplayedTaskbarPreview!==r?(this.showTskBarPreviewWindow=!1,this.previousDisplayedTaskbarPreview=r,setTimeout(()=>{this.showTskBarPreviewWindow=!0,this.tskBarPreviewWindowState="in"},400)):(this.showTskBarPreviewWindow=!0,this.tskBarPreviewWindowState="in",this.clearTimeout()),this.tskBarPrevWindowStyle={position:"absolute",transform:`translate(${String(i.x-59)}px, ${String(i.y-131)}px)`,"z-index":2}}hideTaskBarPreviewWindow(){this.hideTskBarPrevWindowTimeoutId=setTimeout(()=>{this.tskBarPreviewWindowState="out"},100),this.removeTskBarPrevWindowFromDOMTimeoutId=setTimeout(()=>{this.showTskBarPreviewWindow=!1},300)}keepTaskBarPreviewWindow(){this.clearTimeout()}removeOldTaskBarPreviewWindowNow(){this.showTskBarPreviewWindow=!1}clearTimeout(){clearTimeout(this.hideTskBarPrevWindowTimeoutId),clearTimeout(this.removeTskBarPrevWindowFromDOMTimeoutId)}getComponentDetail(){return new Ci(this.processId,this.name,this.icon,this.hasWindow,this.type)}static \u0275fac=function(i){return new(i||t)(ee(Ii),ee(Gn),ee(Pw),ee(vr),ee(sc),ee(Ll),ee(la))};static \u0275cmp=a({type:t,selectors:[["cos-desktop"]],viewQuery:function(i,r){if(1&i&&Wt(z7,7),2&i){let o;$t(o=Gt())&&(r.desktopContainer=o.first)}},ngContentSelectors:j7,decls:7,vars:4,consts:[["desktopContainer",""],["id","vanta",1,"main-desktop",3,"contextmenu","click"],["class","dsktp-screen-preview-container",4,"ngIf"],[3,"nestedMenu","style","menuType",4,"ngIf"],[3,"fadeState","name","icon","ngStyle",4,"ngIf"],[3,"generalMenu","style","menuType",4,"ngIf"],[1,"dsktp-screen-preview-container"],[3,"src"],[3,"nestedMenu","menuType"],[3,"fadeState","name","icon","ngStyle"],[3,"generalMenu","menuType"]],template:function(i,r){if(1&i){const o=Ht();qh(),x(0,"main",1,0),ye("contextmenu",function(l){return te(o),ne(r.showDesktopContextMenu(l))})("click",function(){return te(o),ne(r.hideContextMenu(r.name))}),ze(2,H7,2,2,"div",2)(3,W7,1,4,"cos-menu",3)(4,$7,1,4,"cos-taskbarpreview",4)(5,G7,1,4,"cos-menu",5),Qh(6),L()}2&i&&(B(2),K("ngIf",r.showDesktopScreenShotPreview),B(),K("ngIf",r.showDesktopCntxtMenu),B(),K("ngIf",r.showTskBarPreviewWindow),B(),K("ngIf",r.showTskBarCntxtMenu))},dependencies:[ea,xp,U7,Aw],styles:[".main-desktop[_ngcontent-%COMP%]{height:100vh;width:100vw;position:fixed;inset:0;background-color:#208c71}.dsktp-screen-preview-container[_ngcontent-%COMP%]{z-index:2;position:absolute;width:200px;height:120px;right:2px;bottom:41px}.dsktp-screen-preview-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%}.dsktp-screen-preview-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:contain}"],data:{animation:[Pd("slideStatusAnimation",[Yo("slideOut",rn({right:"-200px"})),Yo("slideIn",rn({right:"2px"})),qo("* => slideIn",[Zo("1s ease-in")]),qo("slideIn => slideOut",[Zo("2s ease-out")])])]}})}return t})();const Y7=["*"];let q7=(()=>{class t{_processIdService;_runningProcessService;_menuService;_el;SECONDS_DELAY=1e3;hasWindow=!1;icon="osdrive/icons/generic-program.ico";name="taskbar";processId=0;type=on.System;displayName="";constructor(e,i,r,o){this._processIdService=e,this._runningProcessService=i,this._menuService=r,this._el=o,this.processId=this._processIdService.getNewProcessId(),this._runningProcessService.addProcess(this.getComponentDetail())}ngAfterViewInit(){setTimeout(()=>{const e=this._el.nativeElement;e&&(e.style.position="",e.style.zIndex="")},this.SECONDS_DELAY)}hideContextMenus(){this._menuService.hideContextMenus.next()}getComponentDetail(){return new Ci(this.processId,this.name,this.icon,this.hasWindow,this.type)}static \u0275fac=function(i){return new(i||t)(ee(Ii),ee(Gn),ee(Ll),ee(Ei))};static \u0275cmp=a({type:t,selectors:[["cos-taskbar"]],ngContentSelectors:Y7,decls:2,vars:0,consts:[[1,"task-bar-nav",3,"click"]],template:function(i,r){1&i&&(qh(),x(0,"h1",0),ye("click",function(){return r.hideContextMenus()}),Qh(1),L())},styles:[".task-bar-nav[_ngcontent-%COMP%]{background-color:#0009;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);bottom:0;height:40px;left:0;position:fixed;right:0;width:100vw;z-index:5}"]})}return t})();class Q7{_seconds;_minutes;hours;_hours;_meridian;constructor(n,e,i){this._seconds=n,this._minutes=e,this.hours=i,this._hours=i,this._meridian=""}get getSeconds(){return this._seconds}set setSeconds(n){(n<0||n>60)&&(this._seconds=0)}get getMinutes(){return this._minutes}set setMinutes(n){(n<0||n>60)&&(this._minutes=0)}get getHours(){return this.hours}getHourStyle(n){return this._meridian="AM","12hr"==n&&(0==this._hours?this.hours=12:this._hours>=12&&(this._hours>12&&(this.hours=this._hours,this.hours=this.hours-12),this._meridian="PM")),this.hours}get getMeridian(){return this._meridian}set setHours(n){(n<0||n>24)&&(this.hours=0)}tick(){this._seconds=this._seconds+1,this._seconds>=60&&(this._minutes++,this._seconds=0),this._minutes>=60&&(this.hours++,this._hours++,this._minutes=0),this._hours>=24&&(this._hours=0)}}const K7=()=>({"background-color":"hsla(0,0%,25%,60%)"}),X7=()=>({color:"white"});let J7=(()=>{class t{_processIdService;_runningProcessService;_taskBarClock;_timerSubscription;_dateSubscription;subscribeTime;subscribeDate;hasWindow=!1;hover=!1;icon="osdrive/icons/generic-program.ico";name="clock";processId=0;type=on.System;constructor(e,i){this._processIdService=e,this._runningProcessService=i,this.processId=this._processIdService.getNewProcessId(),this._runningProcessService.addProcess(this.getComponentDetail());const r=new Date;this._taskBarClock=new Q7(r.getSeconds(),r.getMinutes(),r.getHours())}ngAfterViewInit(){this.oberserableTimer(),this.oberserableDate()}ngOnDestroy(){this._timerSubscription?.unsubscribe(),this._dateSubscription?.unsubscribe()}oberserableTimer(){this._timerSubscription=dg(50,1e3).subscribe(()=>{this._taskBarClock.tick(),this.subscribeTime=`${this._taskBarClock.getHourStyle("12hr")}:${this.padSingleDigits(this._taskBarClock.getMinutes)} ${this._taskBarClock.getMeridian}`})}oberserableDate(){this._dateSubscription=dg(50,36e4).subscribe(()=>{const e=new Date;this.subscribeDate=`${e.getMonth()+1}/${e.getDate()}/${e.getFullYear()}`})}padSingleDigits(e){return e>9?""+e:"0"+e}getComponentDetail(){return new Ci(this.processId,this.name,this.icon,this.hasWindow,this.type)}static \u0275fac=function(i){return new(i||t)(ee(Ii),ee(Gn))};static \u0275cmp=a({type:t,selectors:[["cos-clock"]],decls:5,vars:5,consts:[[1,"date-and-time-cntnr",3,"mouseover","mouseleave","ngStyle"],[1,"time-cntnr"],[1,"date-cntnr"]],template:function(i,r){1&i&&(x(0,"div",0),ye("mouseover",function(){return r.hover=!0})("mouseleave",function(){return r.hover=!1}),x(1,"span",1),ce(2),L(),x(3,"span",2),ce(4),L()()),2&i&&(K("ngStyle",r.hover?qa(3,K7):qa(4,X7)),B(2),Jt(" ",r.subscribeTime," "),B(2),Jt(" ",r.subscribeDate," "))},dependencies:[xp],styles:[".date-and-time-cntnr[_ngcontent-%COMP%]{display:flex;height:100%;width:70px;place-content:center;place-items:center;position:absolute;right:0}.time-cntnr[_ngcontent-%COMP%]{font-size:11px;font-weight:300;top:5px;position:absolute;color:#fff}.date-cntnr[_ngcontent-%COMP%]{font-size:11px;font-weight:300;top:22px;position:absolute;color:#fff}"]})}return t})();const e$=()=>({"background-color":"hsla(0,0%,25%,60%)"}),t$=()=>({color:""}),n$=()=>({fill:"#76B9ED"}),i$=()=>({fill:"#fff"});let r$=(()=>{class t{_processIdService;_runningProcessService;hasWindow=!1;hover=!1;icon="osdrive/icons/generic-program.ico";name="startbutton";processId=0;type=on.System;displayName="";constructor(e,i){this._processIdService=e,this._runningProcessService=i,this.processId=this._processIdService.getNewProcessId(),this._runningProcessService.addProcess(this.getComponentDetail())}ngOnInit(){}getComponentDetail(){return new Ci(this.processId,this.name,this.icon,this.hasWindow,this.type)}static \u0275fac=function(i){return new(i||t)(ee(Ii),ee(Gn))};static \u0275cmp=a({type:t,selectors:[["cos-startbutton"]],decls:3,vars:8,consts:[[3,"mouseover","mouseleave"],["width","20","viewBox","0 0 488 512"],["d","M0 93.7l183.6-25.3v177.4H0V93.7zm0 324.6l183.6 25.3V268.4H0v149.9zm203.8 28L448 480V268.4H203.8v177.9zm0-380.6v180.1H448V32L203.8 65.7z"]],template:function(i,r){1&i&&(x(0,"button",0),ye("mouseover",function(){return r.hover=!0})("mouseleave",function(){return r.hover=!1}),Hr(),x(1,"svg",1),ge(2,"path",2),L()()),2&i&&(Bt(r.hover?qa(4,e$):qa(5,t$)),B(),Bt(r.hover?qa(6,n$):qa(7,i$)))},styles:["button[_ngcontent-%COMP%]{color:#fff;font-size:20px;display:flex;place-content:center;place-items:center;position:absolute;height:100%;width:60px;left:0;background-color:unset}"]})}return t})(),o$=(()=>{class t{taskBarIconImgUrl="";taskBarIconName="";taskBarPid=0;restoreOrMinizeWindowEvent=new In;hasWindow=!1;hover=!1;icon="";name="";processId=0;type=on.System;displayName="";constructor(){}ngOnInit(){this.icon=this.taskBarIconImgUrl,this.name=this.taskBarIconName,this.processId=this.taskBarPid}restoreOrMinizeWindow(){this.restoreOrMinizeWindowEvent.emit(this.taskBarPid)}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=a({type:t,selectors:[["cos-taskbarentry"]],inputs:{taskBarIconImgUrl:"taskBarIconImgUrl",taskBarIconName:"taskBarIconName",taskBarPid:"taskBarPid"},outputs:{restoreOrMinizeWindowEvent:"restoreOrMinizeWindowEvent"},decls:3,vars:2,consts:[[3,"click"],[3,"src","alt"]],template:function(i,r){1&i&&(x(0,"li")(1,"figure",0),ye("click",function(){return r.restoreOrMinizeWindow()}),ge(2,"img",1),L()()),2&i&&(B(2),K("src",r.icon,et)("alt",r.name))},styles:["li[_ngcontent-%COMP%]{display:flex;height:100%;min-width:0;margin:0 4px}figure[_ngcontent-%COMP%]{align-items:center;display:flex;min-width:0px;padding:4px}img[_ngcontent-%COMP%]{height:25px;width:25px;image-rendering:optimizeQuality;position:relative;top:1px}"]})}return t})(),s$=(()=>{class t{el;constructor(e){this.el=e}backgroundColor="hsl(206deg 77% 70%/20%)";onMouseEnter(){this.highlight(this.backgroundColor)}onMouseLeave(){this.highlight("transparent")}highlight(e){this.el.nativeElement.style.backgroundColor=e}static \u0275fac=function(i){return new(i||t)(ee(Ei))};static \u0275dir=y({type:t,selectors:[["","taskBarEntryHighlight",""]],hostBindings:function(i,r){1&i&&ye("mouseenter",function(){return r.onMouseEnter()})("mouseleave",function(){return r.onMouseLeave()})}})}return t})();function a$(t,n){if(1&t){const e=Ht();x(0,"li",2),ye("mouseenter",function(){const r=te(e).$implicit,o=le();return ne(o.onMouseEnter(r.getOpensWith,r.getIconPath,o.pinned))})("mouseleave",function(){return te(e),ne(le().onMouseLeave())})("click",function(){const r=te(e).$implicit;return ne(le().onPinnedAppIconClick(r))})("contextmenu",function(r){const o=te(e).$implicit;return ne(le().onShowIconContextMenu(r,o))}),ge(1,"cos-taskbarentry",3),L()}if(2&t){const e=n.$implicit,i=le();mt("id","tskbar-",e.getOpensWith,""),B(),K("taskBarPid",i.appProcessId)("taskBarIconImgUrl",e.getIconPath)("taskBarIconName",e.getOpensWith)}}function c$(t,n){if(1&t){const e=Ht();x(0,"li",4),ye("mouseenter",function(){const r=te(e).$implicit,o=le();return ne(o.onMouseEnter(r.getProcessName,r.getIcon,o.unPinned))})("mouseleave",function(){return te(e),ne(le().onMouseLeave())})("contextmenu",function(r){const o=te(e).$implicit;return ne(le().onShowUnPinnedIconContextMenu(r,o))}),x(1,"cos-taskbarentry",5),ye("restoreOrMinizeWindowEvent",function(r){return te(e),ne(le().restoreOrMinizeWindow(r))}),L()()}if(2&t){const e=n.$implicit;mt("id","tskbar-UnPinned-",e.getProcessName,""),B(),K("taskBarPid",e.getProcessId)("taskBarIconImgUrl",e.getIcon)("taskBarIconName",e.getProcessName)}}let l$=(()=>{class t{_processIdService;_runningProcessService;_triggerProcessService;_menuService;_processListChangeSub;_addIconToTaskbarSub;_removeIconFromTaskbarSub;_openApplicationFromTaskbarSub;_closeApplicationsFromTaskbarSub;prevOpenedProccesses=[];SECONDS_DELAY=100;runningProcess=[];pinToTaskBarList=[];selectedFile;pinned="pinned";unPinned="unPinned";hasWindow=!1;icon="osdrive/icons/generic-program.ico";name="taskbarentry";processId=0;type=on.System;displayName="";appProcessId=0;constructor(e,i,r,o){this._processIdService=e,this._runningProcessService=i,this._triggerProcessService=o,this._menuService=r,this.processId=this._processIdService.getNewProcessId(),this._runningProcessService.addProcess(this.getComponentDetail()),this._processListChangeSub=this._runningProcessService.processListChangeNotify.subscribe(()=>{this.updateRunningProcess()}),this._addIconToTaskbarSub=this._menuService.pinToTaskBar.subscribe(s=>{this.pinIconToTaskBarList(s)}),this._removeIconFromTaskbarSub=this._menuService.unPinFromTaskBar.subscribe(s=>{this.unPinIconFromTaskBarList(s)}),this._openApplicationFromTaskbarSub=this._menuService.openApplicationFromTaskBar.subscribe(s=>{this.openApplication(s)}),this._closeApplicationsFromTaskbarSub=this._menuService.closeApplicationFromTaskBar.subscribe(s=>{this.closeApplication(s)})}ngAfterViewInit(){setTimeout(()=>{this.runningProcess=this.filterProcesses()},1500)}ngOnDestroy(){this._processListChangeSub?.unsubscribe(),this._addIconToTaskbarSub?.unsubscribe(),this._removeIconFromTaskbarSub?.unsubscribe(),this._openApplicationFromTaskbarSub?.unsubscribe(),this._closeApplicationsFromTaskbarSub?.unsubscribe()}updateRunningProcess(){this.runningProcess=this.filterProcesses(),setTimeout(()=>{this.changeProcessStateIdentifier()},this.SECONDS_DELAY)}pinIconToTaskBarList(e){this.pinToTaskBarList.some(i=>i.getOpensWith===e.getOpensWith)||this.pinToTaskBarList.push(e),this.updateRunningProcess()}unPinIconFromTaskBarList(e){const r=this.pinToTaskBarList.findIndex(o=>o.getOpensWith===e.getOpensWith);-1!=r&&this.pinToTaskBarList.splice(r,1),this.updateRunningProcess()}filterProcesses(){const e=this.getUniqueProccess(),i=[];return this.storeHistory(e),e.forEach(r=>{this.pinToTaskBarList.some(o=>o.getOpensWith===r.getProcessName)?(this.appProcessId=r.getProcessId,this.setIconState(r.getProcessName,!0)):i.push(r)}),i}getUniqueProccess(){const e=[];return this._runningProcessService.getProcesses().filter(i=>1==i.getHasWindow).forEach(i=>{e.some(r=>r.getProcessName===i.getProcessName)||e.push(i)}),e}storeHistory(e){e.forEach(i=>{this.prevOpenedProccesses.includes(i.getProcessName)||this.prevOpenedProccesses.push(i.getProcessName)})}changeProcessStateIdentifier(){const e=this.getUniqueProccess();this.prevOpenedProccesses.forEach(i=>{e.some(r=>r.getProcessName===i)?this.setIconState(i,!0):this.setIconState(i,!1)})}setIconState(e,i){const r=document.getElementById(`tskbar-${e}`);r&&(r.style.borderBottomColor=i?"hsl(207deg 100%  72% / 90%)":"transparent")}onPinnedAppIconClick(e){if(this._runningProcessService.isProcessRunning(e.getOpensWith)){const i=this._runningProcessService.getProcesses().filter(r=>r.getProcessName===e.getOpensWith);this._runningProcessService.restoreOrMinimizeWindowNotify.next(i[0].getProcessId)}else this._triggerProcessService.startApplication(e)}openApplication(e){this._triggerProcessService.startApplication(e)}closeApplication(e){for(let i=0;i<=e.length-1;i++)this._runningProcessService.closeProcessNotify.next(e[i])}onShowIconContextMenu(e,i){const l=[document.getElementById(`tskbar-${i.getOpensWith}`).getBoundingClientRect(),i,!0];this._runningProcessService.addEventOriginator(`${this.name}-${this.processId}`),this._menuService.showTaskBarMenu.next(l),e.preventDefault()}onShowUnPinnedIconContextMenu(e,i){const r=new oc;r.setOpensWith=i.getProcessName,r.setIconPath=i.getIcon;const h=[document.getElementById(`tskbar-UnPinned-${r.getOpensWith}`).getBoundingClientRect(),r,!1];this._runningProcessService.addEventOriginator(`${this.name}-${this.processId}`),this._menuService.showTaskBarMenu.next(h),e.preventDefault()}onMouseEnter(e,i,r){const h=[document.getElementById(`${"pinned"===r?"tskbar":"tskbar-UnPinned"}-${e}`).getBoundingClientRect(),e,i];this._runningProcessService.isProcessRunning(e)&&this._runningProcessService.showPreviewWindowNotify.next(h)}onMouseLeave(){this._runningProcessService.hidePreviewWindowNotify.next()}restoreOrMinizeWindow(e){this._runningProcessService.restoreOrMinimizeWindowNotify.next(e)}getComponentDetail(){return new Ci(this.processId,this.name,this.icon,this.hasWindow,this.type)}static \u0275fac=function(i){return new(i||t)(ee(Ii),ee(Gn),ee(Ll),ee(vr))};static \u0275cmp=a({type:t,selectors:[["cos-taskbarentries"]],decls:3,vars:2,consts:[["class","li-inactive","taskBarEntryHighlight","",3,"id","mouseenter","mouseleave","click","contextmenu",4,"ngFor","ngForOf"],["taskBarEntryHighlight","",3,"id","mouseenter","mouseleave","contextmenu",4,"ngFor","ngForOf"],["taskBarEntryHighlight","",1,"li-inactive",3,"mouseenter","mouseleave","click","contextmenu","id"],[3,"taskBarPid","taskBarIconImgUrl","taskBarIconName"],["taskBarEntryHighlight","",3,"mouseenter","mouseleave","contextmenu","id"],[3,"restoreOrMinizeWindowEvent","taskBarPid","taskBarIconImgUrl","taskBarIconName"]],template:function(i,r){1&i&&(x(0,"ol"),ze(1,a$,2,5,"li",0)(2,c$,2,5,"li",1),L()),2&i&&(B(),K("ngForOf",r.pinToTaskBarList),B(),K("ngForOf",r.runningProcess))},dependencies:[bs,o$,s$],styles:["ol[_ngcontent-%COMP%]{height:100%;left:60px;position:absolute;right:80px;display:flex;column-gap:6px;margin:0 1px;transition:all 75ms}li[_ngcontent-%COMP%]{height:100%;min-width:0px;border-bottom:2px solid hsl(207deg 100% 72% / 90%)}.li-inactive[_ngcontent-%COMP%]{height:100%;min-width:0px;border-bottom:2px solid transparent}"]})}return t})();const u$=["myBounds"];function d$(t,n){if(1&t){const e=Ht();x(0,"li")(1,"button",7),ye("dblclick",function(){const r=te(e).$implicit;return ne(le().runProcess(r))})("mouseenter",function(){const r=te(e).index;return ne(le().onMouseEnter(r))})("mouseleave",function(){const r=te(e).index;return ne(le().onMouseLeave(r))})("stopped",function(r){return te(e),ne(le().onDragEnd(r))})("started",function(r){return te(e),ne(le().onDragStart(r))})("contextmenu",function(r){const o=te(e),s=o.$implicit,l=o.index;return ne(le().onShowIconContextMenu(r,s,l))})("click",function(){const r=te(e).index;return ne(le().onBtnClick(r))}),x(2,"figure"),ge(3,"img",8),un(4,"safeResourceUrl"),x(5,"figcaption",9),ce(6),L(),x(7,"div",10)(8,"form",11),ye("ngSubmit",function(){return te(e),ne(le().isFormDirty())}),x(9,"input",12),ye("keypress",function(r){return te(e),ne(le().onInputChange(r))}),L()()()()()()}if(2&t){const e=n.$implicit,i=n.index,r=le(),o=fi(1);B(),Bt(r.btnStyle),mt("id","iconBtn",i,""),K("bounds",o)("inBounds",!0)("gridSize",r.gridSize)("preventDefaultEvent",!0),B(2),Bt(r.iconSizeStyle),K("src",dn(4,20,e.getIconPath),et)("alt",e.getFileName),B(2),mt("id","figCap",i,""),B(),Jt(" ",e.getFileName," "),B(),mt("id","renameContainer",i,""),B(),K("formGroup",r.renameForm),B(),mt("id","renameTxtBox",i,"")}}function f$(t,n){if(1&t&&ge(0,"cos-menu",13),2&t){const e=le();Bt(e.iconCntxtMenuStyle),K("generalMenu",e.menuData)("menuType",e.fileExplrMngrMenuOption)}}let h$=(()=>{class t{myBounds;_processIdService;_runningProcessService;_fileService;_directoryFilesEntries;_triggerProcessService;_menuService;_formBuilder;_viewByNotifySub;_sortByNotifySub;_refreshNotifySub;_autoArrangeIconsNotifySub;_autoAlignIconsNotifyBySub;_showDesktopIconNotifySub;_dirFilesUpdatedSub;_hideContextMenuSub;autoAlign=!0;autoArrange=!1;currentIconName="";showDesktopIcon=!0;isRenameActive=!1;isIconInFocusDueToPriorAction=!1;isBtnClickEvt=!1;isHideCntxtMenuEvt=!1;selectedFile;selectedElementId=-1;prevSelectedElementId=-1;hideCntxtMenuEvtCnt=0;btnClickCnt=0;renameFileTriggerCnt=0;iconCntxtMenuStyle={};iconSizeStyle={};btnStyle={};showCntxtMenu=!1;gridSize=90;SECONDS_DELAY=6e3;renameForm;hasWindow=!1;icon="osdrive/icons/generic-program.ico";name="filemanager";processId=0;type=on.System;displayName="";directory="/Desktop";files=[];menuData=[{icon:"",label:"Open",action:this.onTriggerRunProcess.bind(this)},{icon:"",label:"Pin to Start",action:this.doNothing.bind(this)},{icon:"",label:"Pin to Taskbar",action:this.pinIconToTaskBar.bind(this)},{icon:"",label:"Cut",action:this.onCut.bind(this)},{icon:"",label:"Copy",action:this.onCopy.bind(this)},{icon:"",label:"Delete",action:this.onDeleteFile.bind(this)},{icon:"",label:"Rename",action:this.onRenameFileTxtBoxShow.bind(this)},{icon:"",label:"Properties",action:this.doNothing.bind(this)}];fileExplrMngrMenuOption="file-explorer-file-manager-menu";constructor(e,i,r,o,s,l,h){this._processIdService=e,this._runningProcessService=i,this._fileService=r,this._triggerProcessService=o,this._menuService=h,this._formBuilder=l,this.processId=this._processIdService.getNewProcessId(),this._runningProcessService.addProcess(this.getComponentDetail()),this._dirFilesUpdatedSub=this._fileService.dirFilesUpdateNotify.subscribe(()=>{this._fileService.getEventOrginator()===this.name&&(this.loadFilesInfoAsync(),this._fileService.removeEventOriginator())}),this._viewByNotifySub=s.viewByNotify.subscribe(g=>{this.changeIconsSize(g)}),this._sortByNotifySub=s.sortByNotify.subscribe(g=>{this.sortIcons(g)}),this._autoArrangeIconsNotifySub=s.autoArrangeIconsNotify.subscribe(g=>{this.toggleAutoArrangeIcons(g)}),this._autoAlignIconsNotifyBySub=s.alignIconsToGridNotify.subscribe(g=>{this.toggleAutoAlignIconsToGrid(g)}),this._refreshNotifySub=s.refreshNotify.subscribe(()=>{this.refreshIcons()}),this._showDesktopIconNotifySub=s.showDesktopIconsNotify.subscribe(g=>{this.toggleDesktopIcons(g)}),this._hideContextMenuSub=this._menuService.hideContextMenus.subscribe(()=>{this.hideIconContextMenu()})}ngOnInit(){this.renameForm=this._formBuilder.nonNullable.group({renameInput:""})}ngAfterViewInit(){var e=this;return Ne(function*(){yield e.loadFilesInfoAsync()})()}ngOnDestroy(){this._viewByNotifySub?.unsubscribe(),this._sortByNotifySub?.unsubscribe(),this._refreshNotifySub?.unsubscribe(),this._autoArrangeIconsNotifySub?.unsubscribe(),this._autoAlignIconsNotifyBySub?.unsubscribe(),this._showDesktopIconNotifySub?.unsubscribe(),this._dirFilesUpdatedSub?.unsubscribe(),this._hideContextMenuSub?.unsubscribe()}onDragOver(e){e.stopPropagation(),e.preventDefault()}onDrop(e){var i=this;return Ne(function*(){e.preventDefault();let r=[];e?.dataTransfer?.files&&(r=[...e?.dataTransfer?.files]),r.length>=1&&(yield i._fileService.writeFilesAsync(i.directory,r))&&(i._fileService.addEventOriginator("filemanager"),i._fileService.dirFilesUpdateNotify.next())})()}loadFilesInfoAsync(){var e=this;return Ne(function*(){e.files=[],e._fileService.resetDirectoryFiles();const i=yield e._fileService.getEntriesFromDirectoryAsync(e.directory);e._directoryFilesEntries=e._fileService.getFileEntriesFromDirectory(i,e.directory);for(let r=0;r<i.length;r++){const o=e._directoryFilesEntries[r],s=yield e._fileService.getFileInfoAsync(o.getPath);e.files.push(s)}})()}runProcess(e){var i=this;return Ne(function*(){console.log("filemanager-runProcess:",e),i._triggerProcessService.startApplication(e),i.btnStyleAndValuesReset()})()}onBtnClick(e){this.doBtnClickThings(e),this.setBtnStyle(e,!0)}onTriggerRunProcess(){this.runProcess(this.selectedFile)}onShowIconContextMenu(e,i,r){this._runningProcessService.addEventOriginator(`${this.name}-${this.processId}`),this._menuService.hideContextMenus.next(),this.selectedFile=i,this.showCntxtMenu=!this.showCntxtMenu,this.doBtnClickThings(r),this.iconCntxtMenuStyle={position:"absolute",transform:`translate(${String(e.clientX)}px, ${String(e.clientY)}px)`,"z-index":2},e.preventDefault()}doNothing(){console.log("do nothing called")}onCopy(){this._menuService.storeData.next([this.selectedFile.getCurrentPath,"copy"])}onCut(){this._menuService.storeData.next([this.selectedFile.getCurrentPath,"cut"])}pinIconToTaskBar(){this._menuService.pinToTaskBar.next(this.selectedFile)}doBtnClickThings(e){this.prevSelectedElementId=this.selectedElementId,this.selectedElementId=e,this.isBtnClickEvt=!0,this.btnClickCnt++,this.isHideCntxtMenuEvt=!1,this.hideCntxtMenuEvtCnt=0,this.prevSelectedElementId!=e&&this.removeBtnStyle(this.prevSelectedElementId)}hideIconContextMenu(e){this.showCntxtMenu=!1,void 0!==e&&e===this.name&&this._menuService.hideContextMenus.next()}handleIconHighLightState(){this.isBtnClickEvt&&this.btnClickCnt>=1&&!this.isHideCntxtMenuEvt&&0==this.hideCntxtMenuEvtCnt?(this.isRenameActive&&this.isFormDirty(),this.isIconInFocusDueToPriorAction&&(this.hideCntxtMenuEvtCnt>=0&&this.setBtnStyle(this.selectedElementId,!1),this.isIconInFocusDueToPriorAction=!1),this.isRenameActive||(this.isBtnClickEvt=!1,this.btnClickCnt=0)):(this.hideCntxtMenuEvtCnt++,this.isHideCntxtMenuEvt=!0,this.isHideCntxtMenuEvt&&this.hideCntxtMenuEvtCnt>=1&&!this.isBtnClickEvt&&0==this.btnClickCnt&&this.btnStyleAndValuesReset(),this.isBtnClickEvt&&this.btnClickCnt>=1&&this.isHideCntxtMenuEvt&&this.hideCntxtMenuEvtCnt>1&&this.btnStyleAndValuesReset())}onDragEnd(e){const i=window.getComputedStyle(e),r=new DOMMatrixReadOnly(i.transform);console.log("TODO:FileManagerComponent, Upgrade the basic state tracking/management logic:",{translateX:r.m41,translateY:r.m42})}onDragStart(e){}onMouseEnter(e){this.setBtnStyle(e,!0)}onMouseLeave(e){e!=this.selectedElementId?this.removeBtnStyle(e):e==this.selectedElementId&&!this.isIconInFocusDueToPriorAction&&this.setBtnStyle(e,!1)}btnStyleAndValuesReset(){this.isBtnClickEvt=!1,this.btnClickCnt=0,this.removeBtnStyle(this.selectedElementId),this.removeBtnStyle(this.prevSelectedElementId),this.selectedElementId=-1,this.prevSelectedElementId=-1,this.btnClickCnt=0,this.isIconInFocusDueToPriorAction=!1}removeBtnStyle(e){const i=document.getElementById(`iconBtn${e}`);i&&(i.style.backgroundColor="transparent",i.style.border="none")}setBtnStyle(e,i){const r=document.getElementById(`iconBtn${e}`);r&&(r.style.backgroundColor="hsl(206deg 77% 70%/20%)",r.style.border="2px solid hsla(0,0%,50%,25%)",this.selectedElementId==e&&(r.style.backgroundColor=i?"#607c9c":"hsl(206deg 77% 70%/20%)"))}sortIcons(e){"Size"===e?this.files=this.files.sort((i,r)=>r.getSize-i.getSize):"Date Modified"===e?this.files=this.files.sort((i,r)=>r.getDateModified.getTime()-i.getDateModified.getTime()):"Name"===e?this.files=this.files.sort((i,r)=>i.getFileName<r.getFileName?-1:1):"Item Type"===e&&(this.files=this.files.sort((i,r)=>i.getFileType<r.getFileType?-1:1))}changeIconsSize(e){"Large Icons"===e&&(this.iconSizeStyle={width:"45px",height:"45px"}),"Medium Icons"===e&&(this.iconSizeStyle={width:"35px",height:"35px"}),"Small Icons"===e&&(this.iconSizeStyle={width:"30px",height:"30px"})}toggleDesktopIcons(e){this.showDesktopIcon=e,this.btnStyle=this.showDesktopIcon?{display:"block"}:{display:"none"}}toggleAutoAlignIconsToGrid(e){this.autoAlign=e,this.gridSize=this.autoAlign?90:0}toggleAutoArrangeIcons(e){this.autoArrange=e,this.autoArrange&&this.refreshIcons()}refreshIcons(){var e=this;return Ne(function*(){e.isIconInFocusDueToPriorAction=!1,yield e.loadFilesInfoAsync()})()}onDeleteFile(){var e=this;return Ne(function*(){let i=!1;i=e.selectedFile.getIsFile?yield e._fileService.deleteFileAsync(e.selectedFile.getCurrentPath):yield e._fileService.deleteFolderAsync(e.selectedFile.getCurrentPath),i&&(yield e.loadFilesInfoAsync())})()}onInputChange(e){const r=new RegExp("^[a-zA-Z0-9_.]+$").test(e.key);return r?(this.hideInvalidCharsToolTip(),r):(this.showInvalidCharsToolTip(),setTimeout(()=>{this.hideInvalidCharsToolTip()},this.SECONDS_DELAY),r)}showInvalidCharsToolTip(){const i=document.getElementById("invalidChars"),o=document.getElementById(`renameContainer${this.selectedElementId}`).getBoundingClientRect();i&&(i.style.transform=`translate(${o.x+2}px, ${o.y+2}px)`,i.style.zIndex="3",i.style.opacity="1",i.style.transition="opacity 0.5s ease")}hideInvalidCharsToolTip(){const i=document.getElementById("invalidChars");i&&(i.style.transform="translate(-100000px, 100000px)",i.style.zIndex="-1",i.style.opacity="0",i.style.transition="opacity 0.5s ease 1")}isFormDirty(){this.renameForm.dirty?this.onRenameFileTxtBoxDataSave():this.renameForm.dirty||(this.renameFileTriggerCnt++,this.renameFileTriggerCnt>1&&(this.onRenameFileTxtBoxHide(),this.renameFileTriggerCnt=0))}onRenameFileTxtBoxShow(){this.isRenameActive=!this.isRenameActive;const e=document.getElementById(`figCap${this.selectedElementId}`),i=document.getElementById(`renameContainer${this.selectedElementId}`),r=document.getElementById(`renameTxtBox${this.selectedElementId}`);this.removeBtnStyle(this.selectedElementId),e&&(e.style.display="none"),i&&(i.style.display="block",this.currentIconName=this.selectedFile.getFileName,this.renameForm.setValue({renameInput:this.currentIconName}),r?.focus(),r?.select())}onRenameFileTxtBoxDataSave(){var e=this;return Ne(function*(){e.isRenameActive=!e.isRenameActive;const i=document.getElementById(`figCap${e.selectedElementId}`),r=document.getElementById(`renameContainer${e.selectedElementId}`),o=e.renameForm.value.renameInput;if(""!==o&&0!==o.length&&o!==e.currentIconName){if(yield e._fileService.renameAsync(e.selectedFile.getCurrentPath,o,e.selectedFile.getIsFile)){const l=e.files.findIndex(h=>h.getCurrentPath==e.selectedFile.getContentPath&&h.getFileName==e.selectedFile.getFileName);e.selectedFile.setFileName=o,e.selectedFile.setDateModified=Date.now(),e.files[l]=e.selectedFile,e.renameForm.reset(),yield e.loadFilesInfoAsync()}}else e.renameForm.reset();e.setBtnStyle(e.selectedElementId,!1),e.renameFileTriggerCnt=0,i&&(i.style.display="block"),r&&(r.style.display="none")})()}onRenameFileTxtBoxHide(){this.isRenameActive=!this.isRenameActive;const e=document.getElementById(`figCap${this.selectedElementId}`),i=document.getElementById(`renameContainer${this.selectedElementId}`);e&&(e.style.display="block"),i&&(i.style.display="none"),this.isIconInFocusDueToPriorAction=!0}getComponentDetail(){return new Ci(this.processId,this.name,this.icon,this.hasWindow,this.type)}static \u0275fac=function(i){return new(i||t)(ee(Ii),ee(Gn),ee(la),ee(vr),ee(Pw),ee(y0),ee(Ll))};static \u0275cmp=a({type:t,selectors:[["cos-filemanager"]],viewQuery:function(i,r){if(1&i&&Wt(u$,7),2&i){let o;$t(o=Gt())&&(r.myBounds=o.first)}},decls:11,vars:2,consts:[["myBounds",""],[3,"dragover","drop","click"],[4,"ngFor","ngForOf"],["id","invalidChars",1,"tool-tip-container"],[1,"tool-tip-arrow"],[1,"tool-tip-base"],[3,"generalMenu","style","menuType",4,"ngIf"],["ngDraggable","","zIndex","1",3,"dblclick","mouseenter","mouseleave","stopped","started","contextmenu","click","bounds","inBounds","gridSize","preventDefaultEvent","id"],[3,"src","alt"],[3,"id"],[1,"rename-textbox",3,"id"],[3,"ngSubmit","formGroup"],["type","text","formControlName","renameInput","autofocus","","spellcheck","false",3,"keypress","id"],[3,"generalMenu","menuType"]],template:function(i,r){if(1&i){const o=Ht();x(0,"ol",1,0),ye("dragover",function(l){return te(o),ne(r.onDragOver(l))})("drop",function(l){return te(o),ne(r.onDrop(l))})("click",function(){return te(o),ne(r.hideIconContextMenu(r.name))})("click",function(){return te(o),ne(r.handleIconHighLightState())}),ze(2,d$,10,22,"li",2),x(3,"div",3),ge(4,"div",4),x(5,"div",5),ce(6," A file name can't contain any of the following characters: "),ge(7,"br")(8,"br"),ce(9,' \\ / : * ? " < > | '),L()(),ze(10,f$,1,4,"cos-menu",6),L()}2&i&&(B(2),K("ngForOf",r.files),B(8),K("ngIf",r.showCntxtMenu))},dependencies:[bs,ea,v0,$p,Al,Sd,Fp,Fl,kd,Aw,Zk],styles:['ol[_ngcontent-%COMP%]{display:grid;grid-auto-flow:column;grid-template-columns:repeat(auto-fill,90px);grid-template-rows:repeat(auto-fill,70px);height:calc(100% - 40px);width:100%;padding:5px 0;row-gap:20px}li[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:2px;height:min-content;z-index:1}figure[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:-2px;place-items:center}figcaption[_ngcontent-%COMP%]{-webkit-box-orient:vertical;color:#fff;display:-webkit-box;font-size:12px;letter-spacing:.1px;-webkit-line-clamp:2;position:relative;text-overflow:ellipsis;padding:2px 0;text-shadow:0 0 1px rgba(0,0,0,75%),0 0 2px rgba(0,0,0,50%),0 0 3px rgba(0,0,0,25%),0 1px 1px rgba(0,0,0,75%),0 1px 2px rgba(0,0,0,50%),0 1px 3px rgba(0,0,0,25%),0 2px 1px rgba(0,0,0,75%),0 2px 2px rgba(0,0,0,50%),0 2px 3px rgba(0,0,0,25%);top:-1px;line-height:15px;overflow:hidden;word-break:break-all}img[_ngcontent-%COMP%]{height:45px;width:45px}button[_ngcontent-%COMP%]{background-color:transparent;width:90px;height:70px}.rename-textbox[_ngcontent-%COMP%]{position:relative;display:none;top:2px;margin-bottom:2px;max-width:75px;max-height:16px;border:1px solid #ccc;overflow:hidden;z-index:2}input[_ngcontent-%COMP%]{text-align:calc(75px / 2 px);font-size:11.5px;padding-left:4px}input[_ngcontent-%COMP%]::selection{background-color:#0056b3;color:#fff}.tool-tip-container[_ngcontent-%COMP%]{position:absolute;width:-moz-fit-content;width:fit-content;border-bottom:1px solid black;box-shadow:0 1px #0000004d;border-bottom-right-radius:5px;border-bottom-left-radius:5px;z-index:-1;opacity:0;transform:translate(-100000px,100000px)}.tool-tip-base[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;height:40px;line-height:5px;padding:10px;font-size:10px;font-weight:400;text-align:center;color:#000;background:#fff;border:4px solid rgb(255,255,255);border-radius:5px}.tool-tip-arrow[_ngcontent-%COMP%]{content:"";position:relative;width:0;height:0;border-width:10px;border-style:solid;border-color:#FFFFFF transparent transparent transparent;left:20px;transform:rotate(180deg)}']})}return t})();const p$=["processContainerRef"];function g$(t,n){}let m$=(()=>{class t{itemViewContainer;_processIdService;_runningProcessService;_componentReferenceService;_triggerProcessService;_sessionMangamentServices;_notificationServices;_stateManagmentService;_componentRefView;_appDirectory;_closeProcessSub;_closeMsgDialogSub;_startProcessSub;_appNotFoundSub;_appIsRunningSub;_errorNotifySub;_infoNotifySub;userOpenedAppsList=[];retreivedKeys=[];userOpenedAppsKey="openedApps";reOpendAppsCounter=0;SECONDS_DELAY=[1500,1500];hasWindow=!1;icon="osdrive/icons/generic-program.ico";name="system";processId=0;type=on.System;displayName="";apps=[{type:c7},{type:RW},{type:F9},{type:S7},{type:z9},{type:x7},{type:A7},{type:xH},{type:MH},{type:L9},{type:C7},{type:N7},{type:R7}];constructor(e,i,r,o,s,l,h){this._processIdService=e,this.processId=this._processIdService.getNewProcessId(),this._componentReferenceService=r,this._runningProcessService=i,this._triggerProcessService=o,this._sessionMangamentServices=s,this._notificationServices=l,this._stateManagmentService=h,this._startProcessSub=this._triggerProcessService.startProcessNotify.subscribe(g=>{this.loadApps(g)}),this._appNotFoundSub=this._triggerProcessService.appNotFoundNotify.subscribe(g=>{this.showDialogMsgBox(xs.Error,g)}),this._appIsRunningSub=this._triggerProcessService.appIsRunningNotify.subscribe(g=>{this.showDialogMsgBox(xs.Info,g)}),this._errorNotifySub=this._notificationServices.errorNotify.subscribe(g=>{this.showDialogMsgBox(xs.Error,g)}),this._infoNotifySub=this._notificationServices.InfoNotify.subscribe(g=>{this.showDialogMsgBox(xs.Info,g)}),this._closeProcessSub=this._runningProcessService.closeProcessNotify.subscribe(g=>{this.onCloseBtnClicked(g)}),this._closeMsgDialogSub=this._notificationServices.closeDialogBoxNotify.subscribe(g=>{this.closeDialogMsgBox(g)}),this._runningProcessService.addProcess(this.getComponentDetail()),this._appDirectory=new Z0}ngOnDestroy(){this._closeProcessSub?.unsubscribe(),this._closeMsgDialogSub?.unsubscribe(),this._startProcessSub?.unsubscribe(),this._appNotFoundSub?.unsubscribe(),this._appIsRunningSub?.unsubscribe(),this._errorNotifySub?.unsubscribe(),this._infoNotifySub?.unsubscribe()}ngAfterViewInit(){setTimeout(()=>{const e=this.fetchPriorSessionInfo(),i=this.getSessionKey(e);this.restorePriorSession(i)},this.SECONDS_DELAY[0])}loadApps(e){var i=this;return Ne(function*(){i.lazyLoadComponment(i._appDirectory.getAppPosition(e))})()}lazyLoadComponment(e){var i=this;return Ne(function*(){const o=i.itemViewContainer.createComponent(i.apps[e].type),s=o.instance.processId;i.addEntryFromUserOpenedApps(o.instance.name),i._componentReferenceService.addComponentReference(s,o),i._runningProcessService.processListChangeNotify.next()})()}showDialogMsgBox(e,i){const r=this.itemViewContainer.createComponent(k7);this._componentReferenceService.addComponentReference(r.instance.notificationId,r),(e===xs.Error||e===xs.Info)&&(r.setInput("inputMsg",i),r.setInput("notificationType",e))}closeDialogMsgBox(e){const i=this._componentReferenceService.getComponentReference(e);this._componentRefView=i.hostView;const r=this.itemViewContainer.indexOf(this._componentRefView);this.itemViewContainer.remove(r)}onCloseBtnClicked(e){const i=this._componentReferenceService.getComponentReference(e.getProcessId);this._componentRefView=i.hostView;const r=this.itemViewContainer.indexOf(this._componentRefView);this.itemViewContainer.remove(r),this._stateManagmentService.removeState(`${e.getProcessName}-${e.getProcessId}`),this._runningProcessService.removeProcess(e),this._runningProcessService.removeProcessImage(e.getProcessName,e.getProcessId),this._componentReferenceService.removeComponentReference(e.getProcessId),this._processIdService.removeProcessId(e.getProcessId),this.deleteEntryFromUserOpenedAppsAndSession(e),this._runningProcessService.processListChangeNotify.next()}getComponentDetail(){return new Ci(this.processId,this.name,this.icon,this.hasWindow,this.type)}deleteEntryFromUserOpenedAppsAndSession(e){const r=this.userOpenedAppsList.indexOf(e.getProcessName);-1!==r&&this.userOpenedAppsList.splice(r,1),this._sessionMangamentServices.addSession(this.userOpenedAppsKey,this.userOpenedAppsList),this._sessionMangamentServices.removeSession(`${e.getProcessName}-${e.getProcessId}`)}fetchPriorSessionInfo(){const e=this._sessionMangamentServices.getSession(this.userOpenedAppsKey);return null!=e||null!=e?e:[]}getSessionKey(e){if(e.length>0){const i=this._sessionMangamentServices.getKeys();for(let r=0;r<e.length;r++){const o=i.filter(s=>s.includes(e[r]));for(let s=0;s<o.length;s++)this.retreivedKeys.push(o[s])}}return this.retreivedKeys}restorePriorSession(e){const i=this._sessionMangamentServices._pickUpKey,r=setInterval(o=>{let s=0,l=this.reOpendAppsCounter;for(;l<o.length;l++)if(s<1){const h=e[l].split("-")[0];this._sessionMangamentServices.addSession(i,e[l]),this.loadApps(h),s++}this.reOpendAppsCounter==o.length-1&&clearInterval(r),this.reOpendAppsCounter++},this.SECONDS_DELAY[1],e)}addEntryFromUserOpenedApps(e){this.userOpenedAppsList.push(e),this._sessionMangamentServices.addSession(this.userOpenedAppsKey,this.userOpenedAppsList)}static \u0275fac=function(i){return new(i||t)(ee(Ii),ee(Gn),ee(L7),ee(vr),ee(Qr),ee(Nw),ee(Kr))};static \u0275cmp=a({type:t,selectors:[["cos-root"]],viewQuery:function(i,r){if(1&i&&Wt(p$,5,wo),2&i){let o;$t(o=Gt())&&(r.itemViewContainer=o.first)}},decls:8,vars:0,consts:[["processContainerRef",""]],template:function(i,r){1&i&&(x(0,"cos-desktop"),ge(1,"cos-filemanager"),ze(2,g$,0,0,"ng-template",null,0,Li),x(4,"cos-taskbar"),ge(5,"cos-startbutton")(6,"cos-taskbarentries")(7,"cos-clock"),L()())},dependencies:[Z7,q7,J7,r$,l$,h$]})}return t})(),y$=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=f({type:t,bootstrap:[m$]});static \u0275inj=Qi({imports:[SM,xz,E6,yz,mz,I6.forRoot()]})}return t})();bU().bootstrapModule(y$).catch(t=>console.error(t))},981:(Br,Me)=>{"use strict";Me.byteLength=function D(R){var W=O(R),me=W[1];return 3*(W[0]+me)/4-me},Me.toByteArray=function T(R){var W,nt,ie=O(R),me=ie[0],ue=ie[1],oe=new Y(function _(R,W,ie){return 3*(W+ie)/4-ie}(0,me,ue)),je=0,Te=ue>0?me-4:me;for(nt=0;nt<Te;nt+=4)W=$[R.charCodeAt(nt)]<<18|$[R.charCodeAt(nt+1)]<<12|$[R.charCodeAt(nt+2)]<<6|$[R.charCodeAt(nt+3)],oe[je++]=W>>16&255,oe[je++]=W>>8&255,oe[je++]=255&W;return 2===ue&&(W=$[R.charCodeAt(nt)]<<2|$[R.charCodeAt(nt+1)]>>4,oe[je++]=255&W),1===ue&&(W=$[R.charCodeAt(nt)]<<10|$[R.charCodeAt(nt+1)]<<4|$[R.charCodeAt(nt+2)]>>2,oe[je++]=W>>8&255,oe[je++]=255&W),oe},Me.fromByteArray=function Q(R){for(var W,ie=R.length,me=ie%3,ue=[],je=0,Te=ie-me;je<Te;je+=16383)ue.push(j(R,je,je+16383>Te?Te:je+16383));return 1===me?ue.push(re[(W=R[ie-1])>>2]+re[W<<4&63]+"=="):2===me&&ue.push(re[(W=(R[ie-2]<<8)+R[ie-1])>>10]+re[W>>4&63]+re[W<<2&63]+"="),ue.join("")};for(var re=[],$=[],Y=typeof Uint8Array<"u"?Uint8Array:Array,ae="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",N=0;N<64;++N)re[N]=ae[N],$[ae.charCodeAt(N)]=N;function O(R){var W=R.length;if(W%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var ie=R.indexOf("=");return-1===ie&&(ie=W),[ie,ie===W?0:4-ie%4]}function b(R){return re[R>>18&63]+re[R>>12&63]+re[R>>6&63]+re[63&R]}function j(R,W,ie){for(var ue=[],oe=W;oe<ie;oe+=3)ue.push(b((R[oe]<<16&16711680)+(R[oe+1]<<8&65280)+(255&R[oe+2])));return ue.join("")}$[45]=62,$[95]=63},211:function(Br){Br.exports=function(Me){var re={};function $(Y){if(re[Y])return re[Y].exports;var ae=re[Y]={exports:{},id:Y,loaded:!1};return Me[Y].call(ae.exports,ae,ae.exports,$),ae.loaded=!0,ae.exports}return $.m=Me,$.c=re,$.p="",$(0)}([function(Me,re,$){(function(Y,ae,N,V){"use strict";Object.defineProperty(re,"__esModule",{value:!0});var O=$(2),D=$(9),_=function(d){return d[d.EPERM=1]="EPERM",d[d.ENOENT=2]="ENOENT",d[d.EIO=5]="EIO",d[d.EBADF=9]="EBADF",d[d.EACCES=13]="EACCES",d[d.EBUSY=16]="EBUSY",d[d.EEXIST=17]="EEXIST",d[d.ENOTDIR=20]="ENOTDIR",d[d.EISDIR=21]="EISDIR",d[d.EINVAL=22]="EINVAL",d[d.EFBIG=27]="EFBIG",d[d.ENOSPC=28]="ENOSPC",d[d.EROFS=30]="EROFS",d[d.ENOTEMPTY=39]="ENOTEMPTY",d[d.ENOTSUP=95]="ENOTSUP",d}(_||{}),T={};T[_.EPERM]="Operation not permitted.",T[_.ENOENT]="No such file or directory.",T[_.EIO]="Input/output error.",T[_.EBADF]="Bad file descriptor.",T[_.EACCES]="Permission denied.",T[_.EBUSY]="Resource busy or locked.",T[_.EEXIST]="File exists.",T[_.ENOTDIR]="File is not a directory.",T[_.EISDIR]="File is a directory.",T[_.EINVAL]="Invalid argument.",T[_.EFBIG]="File is too big.",T[_.ENOSPC]="No space left on disk.",T[_.EROFS]="Cannot modify a read-only file system.",T[_.ENOTEMPTY]="Directory is not empty.",T[_.ENOTSUP]="Operation is not supported.";var b=function(d){function a(u,c,f){void 0===c&&(c=T[u]),d.call(this,c),this.syscall="",this.errno=u,this.code=_[u],this.path=f,this.stack=(new d).stack,this.message="Error: "+this.code+": "+c+(this.path?", '"+this.path+"'":"")}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.fromJSON=function(c){var f=new a(0);return f.errno=c.errno,f.code=c.code,f.path=c.path,f.stack=c.stack,f.message=c.message,f},a.fromBuffer=function(c,f){return void 0===f&&(f=0),a.fromJSON(JSON.parse(c.toString("utf8",f+4,f+4+c.readUInt32LE(f))))},a.FileError=function(c,f){return new a(c,T[c],f)},a.ENOENT=function(c){return this.FileError(_.ENOENT,c)},a.EEXIST=function(c){return this.FileError(_.EEXIST,c)},a.EISDIR=function(c){return this.FileError(_.EISDIR,c)},a.ENOTDIR=function(c){return this.FileError(_.ENOTDIR,c)},a.EPERM=function(c){return this.FileError(_.EPERM,c)},a.ENOTEMPTY=function(c){return this.FileError(_.ENOTEMPTY,c)},a.prototype.toString=function(){return this.message},a.prototype.toJSON=function(){return{errno:this.errno,code:this.code,path:this.path,stack:this.stack,message:this.message}},a.prototype.writeToBuffer=function(c,f){void 0===c&&(c=Y.alloc(this.bufferSize())),void 0===f&&(f=0);var p=c.write(JSON.stringify(this.toJSON()),f+4);return c.writeUInt32LE(p,f),c},a.prototype.bufferSize=function(){return 4+Y.byteLength(JSON.stringify(this.toJSON()))},a}(Error),j=Object.freeze({get ErrorCode(){return _},ErrorStrings:T,ApiError:b}),Q=function(d){return d[d.NOP=0]="NOP",d[d.THROW_EXCEPTION=1]="THROW_EXCEPTION",d[d.TRUNCATE_FILE=2]="TRUNCATE_FILE",d[d.CREATE_FILE=3]="CREATE_FILE",d}(Q||{}),R=function d(a){if(this.flagStr=a,d.validFlagStrs.indexOf(a)<0)throw new b(_.EINVAL,"Invalid flag: "+a)};R.getFileFlag=function(a){return R.flagCache.hasOwnProperty(a)?R.flagCache[a]:R.flagCache[a]=new R(a)},R.prototype.getFlagString=function(){return this.flagStr},R.prototype.isReadable=function(){return-1!==this.flagStr.indexOf("r")||-1!==this.flagStr.indexOf("+")},R.prototype.isWriteable=function(){return-1!==this.flagStr.indexOf("w")||-1!==this.flagStr.indexOf("a")||-1!==this.flagStr.indexOf("+")},R.prototype.isTruncating=function(){return-1!==this.flagStr.indexOf("w")},R.prototype.isAppendable=function(){return-1!==this.flagStr.indexOf("a")},R.prototype.isSynchronous=function(){return-1!==this.flagStr.indexOf("s")},R.prototype.isExclusive=function(){return-1!==this.flagStr.indexOf("x")},R.prototype.pathExistsAction=function(){return this.isExclusive()?Q.THROW_EXCEPTION:this.isTruncating()?Q.TRUNCATE_FILE:Q.NOP},R.prototype.pathNotExistsAction=function(){return(this.isWriteable()||this.isAppendable())&&"r+"!==this.flagStr?Q.CREATE_FILE:Q.THROW_EXCEPTION},R.flagCache={},R.validFlagStrs=["r","r+","rs","rs+","w","wx","w+","wx+","a","ax","a+","ax+"];var W=function(d){return d[d.FILE=32768]="FILE",d[d.DIRECTORY=16384]="DIRECTORY",d[d.SYMLINK=40960]="SYMLINK",d}(W||{}),ie=function(a,u,c,f,p,y){void 0===f&&(f=new Date),void 0===p&&(p=new Date),void 0===y&&(y=new Date),this.size=u,this.atime=f,this.mtime=p,this.ctime=y,this.dev=0,this.ino=0,this.rdev=0,this.nlink=1,this.blksize=4096,this.uid=0,this.gid=0,this.birthtime=new Date(0),this.fileData=null,this.mode=c||(a===W.FILE?420:511),this.blocks=Math.ceil(u/512),this.mode<4096&&(this.mode|=a)};ie.fromBuffer=function(a){var u=a.readUInt32LE(0),c=a.readUInt32LE(4),f=a.readDoubleLE(8),p=a.readDoubleLE(16),y=a.readDoubleLE(24);return new ie(61440&c,u,4095&c,new Date(f),new Date(p),new Date(y))},ie.prototype.toBuffer=function(){var a=Y.alloc(32);return a.writeUInt32LE(this.size,0),a.writeUInt32LE(this.mode,4),a.writeDoubleLE(this.atime.getTime(),8),a.writeDoubleLE(this.mtime.getTime(),16),a.writeDoubleLE(this.ctime.getTime(),24),a},ie.prototype.clone=function(){return new ie(61440&this.mode,this.size,4095&this.mode,this.atime,this.mtime,this.ctime)},ie.prototype.isFile=function(){return(61440&this.mode)===W.FILE},ie.prototype.isDirectory=function(){return(61440&this.mode)===W.DIRECTORY},ie.prototype.isSymbolicLink=function(){return(61440&this.mode)===W.SYMLINK},ie.prototype.chmod=function(a){this.mode=61440&this.mode|a},ie.prototype.isSocket=function(){return!1},ie.prototype.isBlockDevice=function(){return!1},ie.prototype.isCharacterDevice=function(){return!1},ie.prototype.isFIFO=function(){return!1};var me=function(d,a){return d};function ue(d){if(d)return d;throw new b(_.EIO,"Initialize BrowserFS with a file system using BrowserFS.initialize(filesystem)")}function oe(d,a){switch(typeof d){case"number":return d;case"string":var u=parseInt(d,8);return isNaN(u)?a:u;default:return a}}function je(d){if(d instanceof Date)return d;if("number"==typeof d)return new Date(1e3*d);throw new b(_.EINVAL,"Invalid time.")}function Te(d){if(d.indexOf("\0")>=0)throw new b(_.EINVAL,"Path must be a string without null bytes.");if(""===d)throw new b(_.EINVAL,"Path must not be empty.");return D.resolve(d)}function nt(d,a,u,c){switch(typeof d){case"object":return{encoding:typeof d.encoding<"u"?d.encoding:a,flag:typeof d.flag<"u"?d.flag:u,mode:oe(d.mode,c)};case"string":return{encoding:d,flag:u,mode:c};default:return{encoding:a,flag:u,mode:c}}}function Ze(){}var he=function(){this.F_OK=0,this.R_OK=4,this.W_OK=2,this.X_OK=1,this.root=null,this.fdMap={},this.nextFd=100};he.prototype.initialize=function(a){if(!a.constructor.isAvailable())throw new b(_.EINVAL,"Tried to instantiate BrowserFS with an unavailable file system.");return this.root=a},he.prototype._toUnixTimestamp=function(a){if("number"==typeof a)return a;if(a instanceof Date)return a.getTime()/1e3;throw new Error("Cannot parse time: "+a)},he.prototype.getRootFS=function(){return this.root?this.root:null},he.prototype.rename=function(a,u,c){void 0===c&&(c=Ze);var f=me(c,1);try{ue(this.root).rename(Te(a),Te(u),f)}catch(p){f(p)}},he.prototype.renameSync=function(a,u){ue(this.root).renameSync(Te(a),Te(u))},he.prototype.exists=function(a,u){void 0===u&&(u=Ze);var c=me(u,1);try{return ue(this.root).exists(Te(a),c)}catch{return c(!1)}},he.prototype.existsSync=function(a){try{return ue(this.root).existsSync(Te(a))}catch{return!1}},he.prototype.stat=function(a,u){void 0===u&&(u=Ze);var c=me(u,2);try{return ue(this.root).stat(Te(a),!1,c)}catch(f){return c(f)}},he.prototype.statSync=function(a){return ue(this.root).statSync(Te(a),!1)},he.prototype.lstat=function(a,u){void 0===u&&(u=Ze);var c=me(u,2);try{return ue(this.root).stat(Te(a),!0,c)}catch(f){return c(f)}},he.prototype.lstatSync=function(a){return ue(this.root).statSync(Te(a),!0)},he.prototype.truncate=function(a,u,c){void 0===u&&(u=0),void 0===c&&(c=Ze);var f=0;"function"==typeof u?c=u:"number"==typeof u&&(f=u);var p=me(c,1);try{if(f<0)throw new b(_.EINVAL);return ue(this.root).truncate(Te(a),f,p)}catch(y){return p(y)}},he.prototype.truncateSync=function(a,u){if(void 0===u&&(u=0),u<0)throw new b(_.EINVAL);return ue(this.root).truncateSync(Te(a),u)},he.prototype.unlink=function(a,u){void 0===u&&(u=Ze);var c=me(u,1);try{return ue(this.root).unlink(Te(a),c)}catch(f){return c(f)}},he.prototype.unlinkSync=function(a){return ue(this.root).unlinkSync(Te(a))},he.prototype.open=function(a,u,c,f){var p=this;void 0===f&&(f=Ze);var y=oe(c,420),S=me(f="function"==typeof c?c:f,2);try{ue(this.root).open(Te(a),R.getFileFlag(u),y,function(I,P){P?S(I,p.getFdForFile(P)):S(I)})}catch(I){S(I)}},he.prototype.openSync=function(a,u,c){return void 0===c&&(c=420),this.getFdForFile(ue(this.root).openSync(Te(a),R.getFileFlag(u),oe(c,420)))},he.prototype.readFile=function(a,u,c){void 0===u&&(u={}),void 0===c&&(c=Ze);var f=nt(u,null,"r",null),p=me(c="function"==typeof u?u:c,2);try{var y=R.getFileFlag(f.flag);return y.isReadable()?ue(this.root).readFile(Te(a),f.encoding,y,p):p(new b(_.EINVAL,"Flag passed to readFile must allow for reading."))}catch(S){return p(S)}},he.prototype.readFileSync=function(a,u){void 0===u&&(u={});var c=nt(u,null,"r",null),f=R.getFileFlag(c.flag);if(!f.isReadable())throw new b(_.EINVAL,"Flag passed to readFile must allow for reading.");return ue(this.root).readFileSync(Te(a),c.encoding,f)},he.prototype.writeFile=function(a,u,c,f){void 0===c&&(c={}),void 0===f&&(f=Ze);var p=nt(c,"utf8","w",420),y=me(f="function"==typeof c?c:f,1);try{var S=R.getFileFlag(p.flag);return S.isWriteable()?ue(this.root).writeFile(Te(a),u,p.encoding,S,p.mode,y):y(new b(_.EINVAL,"Flag passed to writeFile must allow for writing."))}catch(I){return y(I)}},he.prototype.writeFileSync=function(a,u,c){var f=nt(c,"utf8","w",420),p=R.getFileFlag(f.flag);if(!p.isWriteable())throw new b(_.EINVAL,"Flag passed to writeFile must allow for writing.");return ue(this.root).writeFileSync(Te(a),u,f.encoding,p,f.mode)},he.prototype.appendFile=function(a,u,c,f){void 0===f&&(f=Ze);var p=nt(c,"utf8","a",420),y=me(f="function"==typeof c?c:f,1);try{var S=R.getFileFlag(p.flag);if(!S.isAppendable())return y(new b(_.EINVAL,"Flag passed to appendFile must allow for appending."));ue(this.root).appendFile(Te(a),u,p.encoding,S,p.mode,y)}catch(I){y(I)}},he.prototype.appendFileSync=function(a,u,c){var f=nt(c,"utf8","a",420),p=R.getFileFlag(f.flag);if(!p.isAppendable())throw new b(_.EINVAL,"Flag passed to appendFile must allow for appending.");return ue(this.root).appendFileSync(Te(a),u,f.encoding,p,f.mode)},he.prototype.fstat=function(a,u){void 0===u&&(u=Ze);var c=me(u,2);try{this.fd2file(a).stat(c)}catch(p){c(p)}},he.prototype.fstatSync=function(a){return this.fd2file(a).statSync()},he.prototype.close=function(a,u){var c=this;void 0===u&&(u=Ze);var f=me(u,1);try{this.fd2file(a).close(function(p){p||c.closeFd(a),f(p)})}catch(p){f(p)}},he.prototype.closeSync=function(a){this.fd2file(a).closeSync(),this.closeFd(a)},he.prototype.ftruncate=function(a,u,c){void 0===c&&(c=Ze);var f="number"==typeof u?u:0,p=me(c="function"==typeof u?u:c,1);try{var y=this.fd2file(a);if(f<0)throw new b(_.EINVAL);y.truncate(f,p)}catch(S){p(S)}},he.prototype.ftruncateSync=function(a,u){void 0===u&&(u=0);var c=this.fd2file(a);if(u<0)throw new b(_.EINVAL);c.truncateSync(u)},he.prototype.fsync=function(a,u){void 0===u&&(u=Ze);var c=me(u,1);try{this.fd2file(a).sync(c)}catch(f){c(f)}},he.prototype.fsyncSync=function(a){this.fd2file(a).syncSync()},he.prototype.fdatasync=function(a,u){void 0===u&&(u=Ze);var c=me(u,1);try{this.fd2file(a).datasync(c)}catch(f){c(f)}},he.prototype.fdatasyncSync=function(a){this.fd2file(a).datasyncSync()},he.prototype.write=function(a,u,c,f,p,y){void 0===y&&(y=Ze);var S,I,P,q=null;if("string"==typeof u){var se="utf8";switch(typeof c){case"function":y=c;break;case"number":q=c,se="string"==typeof f?f:"utf8",y="function"==typeof p?p:y;break;default:return(y="function"==typeof f?f:"function"==typeof p?p:y)(new b(_.EINVAL,"Invalid arguments."))}I=0,P=(S=Y.from(u,se)).length}else S=u,I=c,P=f,q="number"==typeof p?p:null,y="function"==typeof p?p:y;var we=me(y,3);try{var Fe=this.fd2file(a);null==q&&(q=Fe.getPos()),Fe.write(S,I,P,q,we)}catch(Le){we(Le)}},he.prototype.writeSync=function(a,u,c,f,p){var y,I,P,S=0;"string"==typeof u?(P="number"==typeof c?c:null,S=0,I=(y=Y.from(u,"string"==typeof f?f:"utf8")).length):(y=u,S=c,I=f,P="number"==typeof p?p:null);var se=this.fd2file(a);return null==P&&(P=se.getPos()),se.writeSync(y,S,I,P)},he.prototype.read=function(a,u,c,f,p,y){var S,I,P,q,se;if(void 0===y&&(y=Ze),"number"==typeof u){S=c;var we=f;y="function"==typeof p?p:y,I=0,q=Y.alloc(P=u),se=me(function(Le,Qe,vt){if(Le)return y(Le);y(Le,vt.toString(we),Qe)},3)}else q=u,I=c,P=f,S=p,se=me(y,3);try{var Fe=this.fd2file(a);null==S&&(S=Fe.getPos()),Fe.read(q,I,P,S,se)}catch(Le){se(Le)}},he.prototype.readSync=function(a,u,c,f,p){var S,I,P,q,y=!1,se="utf8";"number"==typeof u?(q=c,se=f,I=0,S=Y.alloc(P=u),y=!0):(S=u,I=c,P=f,q=p);var we=this.fd2file(a);null==q&&(q=we.getPos());var Fe=we.readSync(S,I,P,q);return y?[S.toString(se),Fe]:Fe},he.prototype.fchown=function(a,u,c,f){void 0===f&&(f=Ze);var p=me(f,1);try{this.fd2file(a).chown(u,c,p)}catch(y){p(y)}},he.prototype.fchownSync=function(a,u,c){this.fd2file(a).chownSync(u,c)},he.prototype.fchmod=function(a,u,c){var f=me(c,1);try{var p="string"==typeof u?parseInt(u,8):u;this.fd2file(a).chmod(p,f)}catch(y){f(y)}},he.prototype.fchmodSync=function(a,u){var c="string"==typeof u?parseInt(u,8):u;this.fd2file(a).chmodSync(c)},he.prototype.futimes=function(a,u,c,f){void 0===f&&(f=Ze);var p=me(f,1);try{var y=this.fd2file(a);"number"==typeof u&&(u=new Date(1e3*u)),"number"==typeof c&&(c=new Date(1e3*c)),y.utimes(u,c,p)}catch(S){p(S)}},he.prototype.futimesSync=function(a,u,c){this.fd2file(a).utimesSync(je(u),je(c))},he.prototype.rmdir=function(a,u){void 0===u&&(u=Ze);var c=me(u,1);try{a=Te(a),ue(this.root).rmdir(a,c)}catch(f){c(f)}},he.prototype.rmdirSync=function(a){return a=Te(a),ue(this.root).rmdirSync(a)},he.prototype.mkdir=function(a,u,c){void 0===c&&(c=Ze),"function"==typeof u&&(c=u,u=511);var f=me(c,1);try{a=Te(a),ue(this.root).mkdir(a,u,f)}catch(p){f(p)}},he.prototype.mkdirSync=function(a,u){ue(this.root).mkdirSync(Te(a),oe(u,511))},he.prototype.readdir=function(a,u){void 0===u&&(u=Ze);var c=me(u,2);try{a=Te(a),ue(this.root).readdir(a,c)}catch(f){c(f)}},he.prototype.readdirSync=function(a){return a=Te(a),ue(this.root).readdirSync(a)},he.prototype.link=function(a,u,c){void 0===c&&(c=Ze);var f=me(c,1);try{a=Te(a),u=Te(u),ue(this.root).link(a,u,f)}catch(p){f(p)}},he.prototype.linkSync=function(a,u){return a=Te(a),u=Te(u),ue(this.root).linkSync(a,u)},he.prototype.symlink=function(a,u,c,f){void 0===f&&(f=Ze);var p="string"==typeof c?c:"file",y=me(f="function"==typeof c?c:f,1);try{if("file"!==p&&"dir"!==p)return y(new b(_.EINVAL,"Invalid type: "+p));a=Te(a),u=Te(u),ue(this.root).symlink(a,u,p,y)}catch(S){y(S)}},he.prototype.symlinkSync=function(a,u,c){if(c){if("file"!==c&&"dir"!==c)throw new b(_.EINVAL,"Invalid type: "+c)}else c="file";return a=Te(a),u=Te(u),ue(this.root).symlinkSync(a,u,c)},he.prototype.readlink=function(a,u){void 0===u&&(u=Ze);var c=me(u,2);try{a=Te(a),ue(this.root).readlink(a,c)}catch(f){c(f)}},he.prototype.readlinkSync=function(a){return a=Te(a),ue(this.root).readlinkSync(a)},he.prototype.chown=function(a,u,c,f){void 0===f&&(f=Ze);var p=me(f,1);try{a=Te(a),ue(this.root).chown(a,!1,u,c,p)}catch(y){p(y)}},he.prototype.chownSync=function(a,u,c){a=Te(a),ue(this.root).chownSync(a,!1,u,c)},he.prototype.lchown=function(a,u,c,f){void 0===f&&(f=Ze);var p=me(f,1);try{a=Te(a),ue(this.root).chown(a,!0,u,c,p)}catch(y){p(y)}},he.prototype.lchownSync=function(a,u,c){a=Te(a),ue(this.root).chownSync(a,!0,u,c)},he.prototype.chmod=function(a,u,c){void 0===c&&(c=Ze);var f=me(c,1);try{var p=oe(u,-1);if(p<0)throw new b(_.EINVAL,"Invalid mode.");ue(this.root).chmod(Te(a),!1,p,f)}catch(y){f(y)}},he.prototype.chmodSync=function(a,u){var c=oe(u,-1);if(c<0)throw new b(_.EINVAL,"Invalid mode.");a=Te(a),ue(this.root).chmodSync(a,!1,c)},he.prototype.lchmod=function(a,u,c){void 0===c&&(c=Ze);var f=me(c,1);try{var p=oe(u,-1);if(p<0)throw new b(_.EINVAL,"Invalid mode.");ue(this.root).chmod(Te(a),!0,p,f)}catch(y){f(y)}},he.prototype.lchmodSync=function(a,u){var c=oe(u,-1);if(c<1)throw new b(_.EINVAL,"Invalid mode.");ue(this.root).chmodSync(Te(a),!0,c)},he.prototype.utimes=function(a,u,c,f){void 0===f&&(f=Ze);var p=me(f,1);try{ue(this.root).utimes(Te(a),je(u),je(c),p)}catch(y){p(y)}},he.prototype.utimesSync=function(a,u,c){ue(this.root).utimesSync(Te(a),je(u),je(c))},he.prototype.realpath=function(a,u,c){void 0===c&&(c=Ze);var f="object"==typeof u?u:{},p=me(c="function"==typeof u?u:Ze,2);try{a=Te(a),ue(this.root).realpath(a,f,p)}catch(y){p(y)}},he.prototype.realpathSync=function(a,u){return void 0===u&&(u={}),a=Te(a),ue(this.root).realpathSync(a,u)},he.prototype.watchFile=function(a,u,c){throw void 0===c&&(c=Ze),new b(_.ENOTSUP)},he.prototype.unwatchFile=function(a,u){throw void 0===u&&(u=Ze),new b(_.ENOTSUP)},he.prototype.watch=function(a,u,c){throw void 0===c&&(c=Ze),new b(_.ENOTSUP)},he.prototype.access=function(a,u,c){throw void 0===c&&(c=Ze),new b(_.ENOTSUP)},he.prototype.accessSync=function(a,u){throw new b(_.ENOTSUP)},he.prototype.createReadStream=function(a,u){throw new b(_.ENOTSUP)},he.prototype.createWriteStream=function(a,u){throw new b(_.ENOTSUP)},he.prototype.wrapCallbacks=function(a){me=a},he.prototype.getFdForFile=function(a){var u=this.nextFd++;return this.fdMap[u]=a,u},he.prototype.fd2file=function(a){var u=this.fdMap[a];if(u)return u;throw new b(_.EBADF,"Invalid file descriptor.")},he.prototype.closeFd=function(a){delete this.fdMap[a]},he.Stats=ie;var Ae=new he,Ke={};function ht(d,a,u,c,f){return d<a||u<a?d>u?u+1:d+1:c===f?a:a+1}function Yt(d,a){if(d===a)return 0;if(d.length>a.length){var u=d;d=a,a=u}for(var c=d.length,f=a.length;c>0&&d.charCodeAt(c-1)===a.charCodeAt(f-1);)c--,f--;for(var p=0;p<c&&d.charCodeAt(p)===a.charCodeAt(p);)p++;if(f-=p,0==(c-=p)||1===f)return f;for(var y=new Array(c<<1),S=0;S<c;)y[c+S]=d.charCodeAt(p+S),y[S]=++S;var I,P,q,se,we;for(I=0;I+3<f;)for(var Fe=a.charCodeAt(p+(P=I)),Le=a.charCodeAt(p+(q=I+1)),Qe=a.charCodeAt(p+(se=I+2)),vt=a.charCodeAt(p+(we=I+3)),Lt=I+=4,Sn=0;Sn<c;){var yi=y[c+Sn],fr=y[Sn];P=ht(fr,P,q,Fe,yi),q=ht(P,q,se,Le,yi),se=ht(q,se,we,Qe,yi),Lt=ht(se,we,Lt,vt,yi),y[Sn++]=Lt,we=se,se=q,q=P,P=fr}for(var xr=0;I<f;){var ho=a.charCodeAt(p+(P=I));xr=++I;for(var No=0;No<c;No++){var Mr=y[No];y[No]=xr=Mr<P||xr<P?Mr>xr?xr+1:Mr+1:ho===y[c+No]?P:P+1,P=Mr}}return xr}function Ot(d,a,u){d&&console.warn("["+a+"] Direct file system constructor usage is deprecated for this file system, and will be removed in the next major version. Please use the '"+a+".Create("+JSON.stringify(u)+", callback)' method instead. See https://github.com/jvilk/BrowserFS/issues/176 for more details.")}Object.keys(he.prototype).forEach(function(d){Ke[d]="function"==typeof Ae[d]?function(){return Ae[d].apply(Ae,arguments)}:Ae[d]}),Ke.changeFSModule=function(d){Ae=d},Ke.getFSModule=function(){return Ae},Ke.FS=he;var yt=typeof navigator<"u"&&!(!/(msie) ([\w.]+)/.exec(navigator.userAgent.toLowerCase())&&-1===navigator.userAgent.indexOf("Trident")),Dn=typeof window>"u";function _e(){throw new Error("BFS has reached an impossible code path; please file a bug.")}function ve(d,a,u){u.existsSync(d)||(ve(D.dirname(d),a,u),u.mkdirSync(d,a))}function Pe(d){var a=Xe(d),u=a.byteOffset,c=a.byteLength;return 0===u&&c===a.buffer.byteLength?a.buffer:a.buffer.slice(u,u+c)}function Xe(d){return d instanceof Uint8Array?d:new Uint8Array(d)}function xt(d){return d instanceof Y?d:d instanceof Uint8Array?bt(d):Y.from(d)}function bt(d){return d instanceof Y?d:0===d.byteOffset&&d.byteLength===d.buffer.byteLength?it(d.buffer):Y.from(d.buffer,d.byteOffset,d.byteLength)}function it(d){return Y.from(d)}function _t(d,a,u){if(void 0===a&&(a=0),void 0===u&&(u=d.length),a<0||u<0||u>d.length||a>u)throw new TypeError("Invalid slice bounds on buffer of length "+d.length+": ["+a+", "+u+"]");if(0===d.length)return Kt();var c=Xe(d),f=d[0],p=(f+1)%255;return d[0]=p,c[0]===p?(c[0]=f,bt(c.slice(a,u))):(d[0]=f,bt(c.subarray(a,u)))}var gn=null;function Kt(){return gn||(gn=Y.alloc(0))}function $n(d,a){Y.isBuffer(d)?a():a(new b(_.EINVAL,"option must be a Buffer."))}function G(d,a,u){var c=d.Options,f=d.Name,p=0,y=!1,S=!1;function I(we){y||(we&&(y=!0,u(we)),0==--p&&S&&u())}var P=function(we){if(c.hasOwnProperty(we)){var Fe=c[we],Le=a[we];if(null==Le){if(!Fe.optional){var Qe=Object.keys(a).filter(function(Lt){return!(Lt in c)}).map(function(Lt){return{str:Lt,distance:Yt(we,Lt)}}).filter(function(Lt){return Lt.distance<5}).sort(function(Lt,Sn){return Lt.distance-Sn.distance});return y?{}:(y=!0,{v:u(new b(_.EINVAL,"["+f+"] Required option '"+we+"' not provided."+(Qe.length>0?" You provided unrecognized option '"+Qe[0].str+"'; perhaps you meant to type '"+we+"'.":"")+"\nOption description: "+Fe.description))})}}else{if(!(Array.isArray(Fe.type)?-1!==Fe.type.indexOf(typeof Le):typeof Le===Fe.type))return y?{}:(y=!0,{v:u(new b(_.EINVAL,"["+f+"] Value provided for option "+we+" is not the proper type. Expected "+(Array.isArray(Fe.type)?"one of {"+Fe.type.join(", ")+"}":Fe.type)+", but received "+typeof Le+"\nOption description: "+Fe.description))});Fe.validator&&(p++,Fe.validator(Le,I))}}};for(var q in c){var se=P(q);if(se)return se.v}S=!0,0===p&&!y&&u()}var Z=Object.freeze({deprecationMessage:Ot,isIE:yt,isWebWorker:Dn,fail:_e,mkdirpSync:ve,buffer2ArrayBuffer:Pe,buffer2Uint8array:Xe,arrayish2Buffer:xt,uint8Array2Buffer:bt,arrayBuffer2Buffer:it,copyingSlice:_t,emptyBuffer:Kt,bufferValidator:$n,checkOptions:G}),xe=function(a){this.fs=a,this.nodefs=a.getNodeFS(),this.FS=a.getFS(),this.PATH=a.getPATH(),this.ERRNO_CODES=a.getERRNO_CODES()};xe.prototype.open=function(a){var u=this.fs.realPath(a.node),c=this.FS;try{c.isFile(a.node.mode)&&(a.nfd=this.nodefs.openSync(u,this.fs.flagsToPermissionString(a.flags)))}catch(f){throw f.code?new c.ErrnoError(this.ERRNO_CODES[f.code]):f}},xe.prototype.close=function(a){var u=this.FS;try{u.isFile(a.node.mode)&&a.nfd&&this.nodefs.closeSync(a.nfd)}catch(c){throw c.code?new u.ErrnoError(this.ERRNO_CODES[c.code]):c}},xe.prototype.read=function(a,u,c,f,p){try{return this.nodefs.readSync(a.nfd,bt(u),c,f,p)}catch(y){throw new this.FS.ErrnoError(this.ERRNO_CODES[y.code])}},xe.prototype.write=function(a,u,c,f,p){try{return this.nodefs.writeSync(a.nfd,bt(u),c,f,p)}catch(y){throw new this.FS.ErrnoError(this.ERRNO_CODES[y.code])}},xe.prototype.llseek=function(a,u,c){var f=u;if(1===c)f+=a.position;else if(2===c&&this.FS.isFile(a.node.mode))try{f+=this.nodefs.fstatSync(a.nfd).size}catch(y){throw new this.FS.ErrnoError(this.ERRNO_CODES[y.code])}if(f<0)throw new this.FS.ErrnoError(this.ERRNO_CODES.EINVAL);return a.position=f,f};var Oe=function(a){this.fs=a,this.nodefs=a.getNodeFS(),this.FS=a.getFS(),this.PATH=a.getPATH(),this.ERRNO_CODES=a.getERRNO_CODES()};Oe.prototype.getattr=function(a){var c,u=this.fs.realPath(a);try{c=this.nodefs.lstatSync(u)}catch(f){throw f.code?new this.FS.ErrnoError(this.ERRNO_CODES[f.code]):f}return{dev:c.dev,ino:c.ino,mode:c.mode,nlink:c.nlink,uid:c.uid,gid:c.gid,rdev:c.rdev,size:c.size,atime:c.atime,mtime:c.mtime,ctime:c.ctime,blksize:c.blksize,blocks:c.blocks}},Oe.prototype.setattr=function(a,u){var c=this.fs.realPath(a);try{if(void 0!==u.mode&&(this.nodefs.chmodSync(c,u.mode),a.mode=u.mode),void 0!==u.timestamp){var f=new Date(u.timestamp);this.nodefs.utimesSync(c,f,f)}}catch(p){if(!p.code)throw p;if("ENOTSUP"!==p.code)throw new this.FS.ErrnoError(this.ERRNO_CODES[p.code])}if(void 0!==u.size)try{this.nodefs.truncateSync(c,u.size)}catch(p){throw p.code?new this.FS.ErrnoError(this.ERRNO_CODES[p.code]):p}},Oe.prototype.lookup=function(a,u){var c=this.PATH.join2(this.fs.realPath(a),u),f=this.fs.getMode(c);return this.fs.createNode(a,u,f)},Oe.prototype.mknod=function(a,u,c,f){var p=this.fs.createNode(a,u,c,f),y=this.fs.realPath(p);try{this.FS.isDir(p.mode)?this.nodefs.mkdirSync(y,p.mode):this.nodefs.writeFileSync(y,"",{mode:p.mode})}catch(S){throw S.code?new this.FS.ErrnoError(this.ERRNO_CODES[S.code]):S}return p},Oe.prototype.rename=function(a,u,c){var f=this.fs.realPath(a),p=this.PATH.join2(this.fs.realPath(u),c);try{this.nodefs.renameSync(f,p),a.name=c,a.parent=u}catch(y){throw y.code?new this.FS.ErrnoError(this.ERRNO_CODES[y.code]):y}},Oe.prototype.unlink=function(a,u){var c=this.PATH.join2(this.fs.realPath(a),u);try{this.nodefs.unlinkSync(c)}catch(f){throw f.code?new this.FS.ErrnoError(this.ERRNO_CODES[f.code]):f}},Oe.prototype.rmdir=function(a,u){var c=this.PATH.join2(this.fs.realPath(a),u);try{this.nodefs.rmdirSync(c)}catch(f){throw f.code?new this.FS.ErrnoError(this.ERRNO_CODES[f.code]):f}},Oe.prototype.readdir=function(a){var u=this.fs.realPath(a);try{var c=this.nodefs.readdirSync(u);return c.push(".",".."),c}catch(f){throw f.code?new this.FS.ErrnoError(this.ERRNO_CODES[f.code]):f}},Oe.prototype.symlink=function(a,u,c){var f=this.PATH.join2(this.fs.realPath(a),u);try{this.nodefs.symlinkSync(c,f)}catch(p){throw p.code?new this.FS.ErrnoError(this.ERRNO_CODES[p.code]):p}},Oe.prototype.readlink=function(a){var u=this.fs.realPath(a);try{return this.nodefs.readlinkSync(u)}catch(c){throw c.code?new this.FS.ErrnoError(this.ERRNO_CODES[c.code]):c}};var ct=function(a,u,c,f){void 0===a&&(a=self.FS),void 0===u&&(u=self.PATH),void 0===c&&(c=self.ERRNO_CODES),void 0===f&&(f=Ke),this.flagsToPermissionStringMap={0:"r",1:"r+",2:"r+",64:"r",65:"r+",66:"r+",129:"rx+",193:"rx+",514:"w+",577:"w",578:"w+",705:"wx",706:"wx+",1024:"a",1025:"a",1026:"a+",1089:"a",1090:"a+",1153:"ax",1154:"ax+",1217:"ax",1218:"ax+",4096:"rs",4098:"rs+"},this.nodefs=f,this.FS=a,this.PATH=u,this.ERRNO_CODES=c,this.node_ops=new Oe(this),this.stream_ops=new xe(this)};ct.prototype.mount=function(a){return this.createNode(null,"/",this.getMode(a.opts.root),0)},ct.prototype.createNode=function(a,u,c,f){var p=this.FS;if(!p.isDir(c)&&!p.isFile(c)&&!p.isLink(c))throw new p.ErrnoError(this.ERRNO_CODES.EINVAL);var y=p.createNode(a,u,c);return y.node_ops=this.node_ops,y.stream_ops=this.stream_ops,y},ct.prototype.getMode=function(a){var u;try{u=this.nodefs.lstatSync(a)}catch(c){throw c.code?new this.FS.ErrnoError(this.ERRNO_CODES[c.code]):c}return u.mode},ct.prototype.realPath=function(a){for(var u=[];a.parent!==a;)u.push(a.name),a=a.parent;return u.push(a.mount.opts.root),u.reverse(),this.PATH.join.apply(null,u)},ct.prototype.flagsToPermissionString=function(a){var u="string"==typeof a?parseInt(a,10):a;return(u&=8191)in this.flagsToPermissionStringMap?this.flagsToPermissionStringMap[u]:a},ct.prototype.getNodeFS=function(){return this.nodefs},ct.prototype.getFS=function(){return this.FS},ct.prototype.getPATH=function(){return this.PATH},ct.prototype.getERRNO_CODES=function(){return this.ERRNO_CODES};var Be=function(){};Be.prototype.supportsLinks=function(){return!1},Be.prototype.diskSpace=function(a,u){u(0,0)},Be.prototype.openFile=function(a,u,c){throw new b(_.ENOTSUP)},Be.prototype.createFile=function(a,u,c,f){throw new b(_.ENOTSUP)},Be.prototype.open=function(a,u,c,f){var p=this;this.stat(a,!1,function(S,I){if(S)switch(u.pathNotExistsAction()){case Q.CREATE_FILE:return p.stat(D.dirname(a),!1,function(P,q){P?f(P):q&&!q.isDirectory()?f(b.ENOTDIR(D.dirname(a))):p.createFile(a,u,c,f)});case Q.THROW_EXCEPTION:return f(b.ENOENT(a));default:return f(new b(_.EINVAL,"Invalid FileFlag object."))}else{if(I&&I.isDirectory())return f(b.EISDIR(a));switch(u.pathExistsAction()){case Q.THROW_EXCEPTION:return f(b.EEXIST(a));case Q.TRUNCATE_FILE:return p.openFile(a,u,function(P,q){P?f(P):q?q.truncate(0,function(){q.sync(function(){f(null,q)})}):_e()});case Q.NOP:return p.openFile(a,u,f);default:return f(new b(_.EINVAL,"Invalid FileFlag object."))}}})},Be.prototype.rename=function(a,u,c){c(new b(_.ENOTSUP))},Be.prototype.renameSync=function(a,u){throw new b(_.ENOTSUP)},Be.prototype.stat=function(a,u,c){c(new b(_.ENOTSUP))},Be.prototype.statSync=function(a,u){throw new b(_.ENOTSUP)},Be.prototype.openFileSync=function(a,u,c){throw new b(_.ENOTSUP)},Be.prototype.createFileSync=function(a,u,c){throw new b(_.ENOTSUP)},Be.prototype.openSync=function(a,u,c){var f;try{f=this.statSync(a,!1)}catch{switch(u.pathNotExistsAction()){case Q.CREATE_FILE:if(!this.statSync(D.dirname(a),!1).isDirectory())throw b.ENOTDIR(D.dirname(a));return this.createFileSync(a,u,c);case Q.THROW_EXCEPTION:throw b.ENOENT(a);default:throw new b(_.EINVAL,"Invalid FileFlag object.")}}if(f.isDirectory())throw b.EISDIR(a);switch(u.pathExistsAction()){case Q.THROW_EXCEPTION:throw b.EEXIST(a);case Q.TRUNCATE_FILE:return this.unlinkSync(a),this.createFileSync(a,u,f.mode);case Q.NOP:return this.openFileSync(a,u,c);default:throw new b(_.EINVAL,"Invalid FileFlag object.")}},Be.prototype.unlink=function(a,u){u(new b(_.ENOTSUP))},Be.prototype.unlinkSync=function(a){throw new b(_.ENOTSUP)},Be.prototype.rmdir=function(a,u){u(new b(_.ENOTSUP))},Be.prototype.rmdirSync=function(a){throw new b(_.ENOTSUP)},Be.prototype.mkdir=function(a,u,c){c(new b(_.ENOTSUP))},Be.prototype.mkdirSync=function(a,u){throw new b(_.ENOTSUP)},Be.prototype.readdir=function(a,u){u(new b(_.ENOTSUP))},Be.prototype.readdirSync=function(a){throw new b(_.ENOTSUP)},Be.prototype.exists=function(a,u){this.stat(a,null,function(c){u(!c)})},Be.prototype.existsSync=function(a){try{return this.statSync(a,!0),!0}catch{return!1}},Be.prototype.realpath=function(a,u,c){if(this.supportsLinks())for(var f=a.split(D.sep),p=0;p<f.length;p++){var y=f.slice(0,p+1);f[p]=D.join.apply(null,y)}else this.exists(a,function(S){S?c(null,a):c(b.ENOENT(a))})},Be.prototype.realpathSync=function(a,u){if(this.supportsLinks()){for(var c=a.split(D.sep),f=0;f<c.length;f++){var p=c.slice(0,f+1);c[f]=D.join.apply(D,p)}return c.join(D.sep)}if(this.existsSync(a))return a;throw b.ENOENT(a)},Be.prototype.truncate=function(a,u,c){this.open(a,R.getFileFlag("r+"),420,function(f,p){if(f)return c(f);p.truncate(u,function(y){p.close(function(S){c(y||S)})})})},Be.prototype.truncateSync=function(a,u){var c=this.openSync(a,R.getFileFlag("r+"),420);try{c.truncateSync(u)}catch(f){throw f}finally{c.closeSync()}},Be.prototype.readFile=function(a,u,c,f){var p=f;this.open(a,c,420,function(y,S){if(y)return f(y);f=function(I,P){S.close(function(q){return I||(I=q),p(I,P)})},S.stat(function(I,P){if(I)return f(I);var q=Y.alloc(P.size);S.read(q,0,P.size,0,function(se){if(se)return f(se);if(null===u)return f(se,q);try{f(null,q.toString(u))}catch(we){f(we)}})})})},Be.prototype.readFileSync=function(a,u,c){var f=this.openSync(a,c,420);try{var p=f.statSync(),y=Y.alloc(p.size);return f.readSync(y,0,p.size,0),f.closeSync(),null===u?y:y.toString(u)}finally{f.closeSync()}},Be.prototype.writeFile=function(a,u,c,f,p,y){var S=y;this.open(a,f,420,function(I,P){if(I)return y(I);y=function(q){P.close(function(se){S(q||se)})};try{"string"==typeof u&&(u=Y.from(u,c))}catch(q){return y(q)}P.write(u,0,u.length,0,y)})},Be.prototype.writeFileSync=function(a,u,c,f,p){var y=this.openSync(a,f,p);try{"string"==typeof u&&(u=Y.from(u,c)),y.writeSync(u,0,u.length,0)}finally{y.closeSync()}},Be.prototype.appendFile=function(a,u,c,f,p,y){var S=y;this.open(a,f,p,function(I,P){if(I)return y(I);y=function(q){P.close(function(se){S(q||se)})},"string"==typeof u&&(u=Y.from(u,c)),P.write(u,0,u.length,null,y)})},Be.prototype.appendFileSync=function(a,u,c,f,p){var y=this.openSync(a,f,p);try{"string"==typeof u&&(u=Y.from(u,c)),y.writeSync(u,0,u.length,null)}finally{y.closeSync()}},Be.prototype.chmod=function(a,u,c,f){f(new b(_.ENOTSUP))},Be.prototype.chmodSync=function(a,u,c){throw new b(_.ENOTSUP)},Be.prototype.chown=function(a,u,c,f,p){p(new b(_.ENOTSUP))},Be.prototype.chownSync=function(a,u,c,f){throw new b(_.ENOTSUP)},Be.prototype.utimes=function(a,u,c,f){f(new b(_.ENOTSUP))},Be.prototype.utimesSync=function(a,u,c){throw new b(_.ENOTSUP)},Be.prototype.link=function(a,u,c){c(new b(_.ENOTSUP))},Be.prototype.linkSync=function(a,u){throw new b(_.ENOTSUP)},Be.prototype.symlink=function(a,u,c,f){f(new b(_.ENOTSUP))},Be.prototype.symlinkSync=function(a,u,c){throw new b(_.ENOTSUP)},Be.prototype.readlink=function(a,u){u(new b(_.ENOTSUP))},Be.prototype.readlinkSync=function(a){throw new b(_.ENOTSUP)};var Ve=function(d){function a(){d.apply(this,arguments)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype.supportsSynch=function(){return!0},a.prototype.rename=function(c,f,p){try{this.renameSync(c,f),p()}catch(y){p(y)}},a.prototype.stat=function(c,f,p){try{p(null,this.statSync(c,f))}catch(y){p(y)}},a.prototype.open=function(c,f,p,y){try{y(null,this.openSync(c,f,p))}catch(S){y(S)}},a.prototype.unlink=function(c,f){try{this.unlinkSync(c),f()}catch(p){f(p)}},a.prototype.rmdir=function(c,f){try{this.rmdirSync(c),f()}catch(p){f(p)}},a.prototype.mkdir=function(c,f,p){try{this.mkdirSync(c,f),p()}catch(y){p(y)}},a.prototype.readdir=function(c,f){try{f(null,this.readdirSync(c))}catch(p){f(p)}},a.prototype.chmod=function(c,f,p,y){try{this.chmodSync(c,f,p),y()}catch(S){y(S)}},a.prototype.chown=function(c,f,p,y,S){try{this.chownSync(c,f,p,y),S()}catch(I){S(I)}},a.prototype.utimes=function(c,f,p,y){try{this.utimesSync(c,f,p),y()}catch(S){y(S)}},a.prototype.link=function(c,f,p){try{this.linkSync(c,f),p()}catch(y){p(y)}},a.prototype.symlink=function(c,f,p,y){try{this.symlinkSync(c,f,p),y()}catch(S){y(S)}},a.prototype.readlink=function(c,f){try{f(null,this.readlinkSync(c))}catch(p){f(p)}},a}(Be),rt=function(){};rt.prototype.sync=function(a){a(new b(_.ENOTSUP))},rt.prototype.syncSync=function(){throw new b(_.ENOTSUP)},rt.prototype.datasync=function(a){this.sync(a)},rt.prototype.datasyncSync=function(){return this.syncSync()},rt.prototype.chown=function(a,u,c){c(new b(_.ENOTSUP))},rt.prototype.chownSync=function(a,u){throw new b(_.ENOTSUP)},rt.prototype.chmod=function(a,u){u(new b(_.ENOTSUP))},rt.prototype.chmodSync=function(a){throw new b(_.ENOTSUP)},rt.prototype.utimes=function(a,u,c){c(new b(_.ENOTSUP))},rt.prototype.utimesSync=function(a,u){throw new b(_.ENOTSUP)};var mn=function(d){function a(u,c,f,p,y){if(d.call(this),this._pos=0,this._dirty=!1,this._fs=u,this._path=c,this._flag=f,this._stat=p,this._buffer=y||Kt(),this._stat.size!==this._buffer.length&&this._flag.isReadable())throw new Error("Invalid buffer: Buffer is "+this._buffer.length+" long, yet Stats object specifies that file is "+this._stat.size+" long.")}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype.getBuffer=function(){return this._buffer},a.prototype.getStats=function(){return this._stat},a.prototype.getFlag=function(){return this._flag},a.prototype.getPath=function(){return this._path},a.prototype.getPos=function(){return this._flag.isAppendable()?this._stat.size:this._pos},a.prototype.advancePos=function(c){return this._pos+=c},a.prototype.setPos=function(c){return this._pos=c},a.prototype.sync=function(c){try{this.syncSync(),c()}catch(f){c(f)}},a.prototype.syncSync=function(){throw new b(_.ENOTSUP)},a.prototype.close=function(c){try{this.closeSync(),c()}catch(f){c(f)}},a.prototype.closeSync=function(){throw new b(_.ENOTSUP)},a.prototype.stat=function(c){try{c(null,this._stat.clone())}catch(f){c(f)}},a.prototype.statSync=function(){return this._stat.clone()},a.prototype.truncate=function(c,f){try{this.truncateSync(c),this._flag.isSynchronous()&&!Ke.getRootFS().supportsSynch()&&this.sync(f),f()}catch(p){return f(p)}},a.prototype.truncateSync=function(c){if(this._dirty=!0,!this._flag.isWriteable())throw new b(_.EPERM,"File not opened with a writeable mode.");if(this._stat.mtime=new Date,c>this._buffer.length){var f=Y.alloc(c-this._buffer.length,0);return this.writeSync(f,0,f.length,this._buffer.length),void(this._flag.isSynchronous()&&Ke.getRootFS().supportsSynch()&&this.syncSync())}this._stat.size=c;var p=Y.alloc(c);this._buffer.copy(p,0,0,c),this._buffer=p,this._flag.isSynchronous()&&Ke.getRootFS().supportsSynch()&&this.syncSync()},a.prototype.write=function(c,f,p,y,S){try{S(null,this.writeSync(c,f,p,y),c)}catch(I){S(I)}},a.prototype.writeSync=function(c,f,p,y){if(this._dirty=!0,null==y&&(y=this.getPos()),!this._flag.isWriteable())throw new b(_.EPERM,"File not opened with a writeable mode.");var S=y+p;if(S>this._stat.size&&(this._stat.size=S,S>this._buffer.length)){var I=Y.alloc(S);this._buffer.copy(I),this._buffer=I}var P=c.copy(this._buffer,y,f,f+p);return this._stat.mtime=new Date,this._flag.isSynchronous()?(this.syncSync(),P):(this.setPos(y+P),P)},a.prototype.read=function(c,f,p,y,S){try{S(null,this.readSync(c,f,p,y),c)}catch(I){S(I)}},a.prototype.readSync=function(c,f,p,y){if(!this._flag.isReadable())throw new b(_.EPERM,"File not opened with a readable mode.");null==y&&(y=this.getPos()),y+p>this._stat.size&&(p=this._stat.size-y);var I=this._buffer.copy(c,f,y,y+p);return this._stat.atime=new Date,this._pos=y+p,I},a.prototype.chmod=function(c,f){try{this.chmodSync(c),f()}catch(p){f(p)}},a.prototype.chmodSync=function(c){if(!this._fs.supportsProps())throw new b(_.ENOTSUP);this._dirty=!0,this._stat.chmod(c),this.syncSync()},a.prototype.isDirty=function(){return this._dirty},a.prototype.resetDirty=function(){this._dirty=!1},a}(rt),Jn=function(d){function a(u,c,f,p,y){d.call(this,u,c,f,p,y)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype.sync=function(c){c()},a.prototype.syncSync=function(){},a.prototype.close=function(c){c()},a.prototype.closeSync=function(){},a}(mn),U=function(d){function a(u,c,f,p,y){d.call(this,u,c,f,p,y)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},a.prototype.closeSync=function(){this.syncSync()},a}(mn),v=function(d){function a(u,c,f){if(void 0===f&&(f=!0),d.call(this),this._queue=[],this._queueRunning=!1,this._isInitialized=!1,this._initializeCallbacks=[],this._sync=u,this._async=c,!u.supportsSynch())throw new Error("The first argument to AsyncMirror needs to be a synchronous file system.");Ot(f,a.Name,{sync:"sync file system instance",async:"async file system instance"})}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.Create=function(c,f){try{var p=new a(c.sync,c.async,!1);p.initialize(function(y){y?f(y):f(null,p)},!1)}catch(y){f(y)}},a.isAvailable=function(){return!0},a.prototype.getName=function(){return a.Name},a.prototype._syncSync=function(c){this._sync.writeFileSync(c.getPath(),c.getBuffer(),null,R.getFileFlag("w"),c.getStats().mode),this.enqueueOp({apiMethod:"writeFile",arguments:[c.getPath(),c.getBuffer(),null,c.getFlag(),c.getStats().mode]})},a.prototype.initialize=function(c,f){var p=this;void 0===f&&(f=!0),f&&console.warn("[AsyncMirror] AsyncMirror.initialize() is deprecated and will be removed in the next major version. Please use 'AsyncMirror.Create({ sync: (sync file system instance), async: (async file system instance)}, cb)' to create and initialize AsyncMirror instances.");var y=this._initializeCallbacks;if(this._isInitialized)c();else if(1===y.push(c)){var I=function(se,we,Fe){"/"!==se&&p._sync.mkdirSync(se,we),p._async.readdir(se,function(Le,Qe){var vt=0;Le?Fe(Le):function Lt(Sn){Sn?Fe(Sn):vt<Qe.length?(q(D.join(se,Qe[vt]),Lt),vt++):Fe()}()})},q=function(se,we){p._async.stat(se,!1,function(Fe,Le){Fe?we(Fe):Le.isDirectory()?I(se,Le.mode,we):function(se,we,Fe){p._async.readFile(se,null,R.getFileFlag("r"),function(Le,Qe){if(Le)Fe(Le);else try{p._sync.writeFileSync(se,Qe,null,R.getFileFlag("w"),we)}catch(vt){Le=vt}finally{Fe(Le)}})}(se,Le.mode,we)})};I("/",0,function(se){p._isInitialized=!se,p._initializeCallbacks=[],y.forEach(function(we){return we(se)})})}},a.prototype.isReadOnly=function(){return!1},a.prototype.supportsSynch=function(){return!0},a.prototype.supportsLinks=function(){return!1},a.prototype.supportsProps=function(){return this._sync.supportsProps()&&this._async.supportsProps()},a.prototype.renameSync=function(c,f){this.checkInitialized(),this._sync.renameSync(c,f),this.enqueueOp({apiMethod:"rename",arguments:[c,f]})},a.prototype.statSync=function(c,f){return this.checkInitialized(),this._sync.statSync(c,f)},a.prototype.openSync=function(c,f,p){return this.checkInitialized(),this._sync.openSync(c,f,p).closeSync(),new U(this,c,f,this._sync.statSync(c,!1),this._sync.readFileSync(c,null,R.getFileFlag("r")))},a.prototype.unlinkSync=function(c){this.checkInitialized(),this._sync.unlinkSync(c),this.enqueueOp({apiMethod:"unlink",arguments:[c]})},a.prototype.rmdirSync=function(c){this.checkInitialized(),this._sync.rmdirSync(c),this.enqueueOp({apiMethod:"rmdir",arguments:[c]})},a.prototype.mkdirSync=function(c,f){this.checkInitialized(),this._sync.mkdirSync(c,f),this.enqueueOp({apiMethod:"mkdir",arguments:[c,f]})},a.prototype.readdirSync=function(c){return this.checkInitialized(),this._sync.readdirSync(c)},a.prototype.existsSync=function(c){return this.checkInitialized(),this._sync.existsSync(c)},a.prototype.chmodSync=function(c,f,p){this.checkInitialized(),this._sync.chmodSync(c,f,p),this.enqueueOp({apiMethod:"chmod",arguments:[c,f,p]})},a.prototype.chownSync=function(c,f,p,y){this.checkInitialized(),this._sync.chownSync(c,f,p,y),this.enqueueOp({apiMethod:"chown",arguments:[c,f,p,y]})},a.prototype.utimesSync=function(c,f,p){this.checkInitialized(),this._sync.utimesSync(c,f,p),this.enqueueOp({apiMethod:"utimes",arguments:[c,f,p]})},a.prototype.checkInitialized=function(){if(!this._isInitialized)throw new b(_.EPERM,"AsyncMirrorFS is not initialized. Please initialize AsyncMirrorFS using its initialize() method before using it.")},a.prototype.enqueueOp=function(c){var f=this;if(this._queue.push(c),!this._queueRunning){this._queueRunning=!0;var p=function(y){if(y&&console.error("WARNING: File system has desynchronized. Received following error: "+y+"\n$"),f._queue.length>0){var S=f._queue.shift(),I=S.arguments;I.push(p),f._async[S.apiMethod].apply(f._async,I)}else f._queueRunning=!1};p()}},a}(Ve);v.Name="AsyncMirror",v.Options={sync:{type:"object",description:"The synchronous file system to mirror the asynchronous file system to."},async:{type:"object",description:"The asynchronous file system to mirror."}};var E=Math.max;function H(d){return d}function X(d,a){return function M(d,a,u){return a=E(void 0===a?d.length-1:a,0),function(){for(var c=arguments,f=-1,p=E(c.length-a,0),y=Array(p);++f<p;)y[f]=c[a+f];f=-1;for(var S=Array(a+1);++f<a;)S[f]=c[f];return S[a]=u(y),function m(d,a,u){switch(u.length){case 0:return d.call(a);case 1:return d.call(a,u[0]);case 2:return d.call(a,u[0],u[1]);case 3:return d.call(a,u[0],u[1],u[2])}return d.apply(a,u)}(d,this,S)}}(d,a,H)}var pe=function(d){return X(function(a){var u=a.pop();d.call(this,a,u)})};function $e(d){return X(function(a,u){var c=pe(function(f,p){var y=this;return d(a,function(S,I){S.apply(y,f.concat(I))},p)});return u.length?c.apply(this,u):c})}var lt="object"==typeof ae&&ae&&ae.Object===Object&&ae,At="object"==typeof self&&self&&self.Object===Object&&self,Ct=lt||At||Function("return this")(),Rt=Ct.Symbol,gi=Object.prototype,eo=gi.hasOwnProperty,to=gi.toString,es=Rt?Rt.toStringTag:void 0;var pa=Object.prototype.toString;var He="[object Null]",F="[object Undefined]",Ye=Rt?Rt.toStringTag:void 0;function sn(d){return null==d?void 0===d?F:He:Ye&&Ye in Object(d)?function ha(d){var a=eo.call(d,es),u=d[es];try{d[es]=void 0;var c=!0}catch{}var f=to.call(d);return c&&(a?d[es]=u:delete d[es]),f}(d):function Ee(d){return pa.call(d)}(d)}var $i="[object AsyncFunction]",Ge="[object Function]",qt="[object GeneratorFunction]",Ie="[object Proxy]";var Ts=9007199254740991;function Cn(d){return"number"==typeof d&&d>-1&&d%1==0&&d<=Ts}function ke(d){return null!=d&&Cn(d.length)&&!function De(d){if(!function Ue(d){var a=typeof d;return null!=d&&("object"==a||"function"==a)}(d))return!1;var a=sn(d);return a==Ge||a==qt||a==$i||a==Ie}(d)}var Mo={};function no(){}function An(d){return function(){if(null!==d){var a=d;d=null,a.apply(this,arguments)}}}var Ut="function"==typeof Symbol&&Symbol.iterator,yn=function(d){return Ut&&d[Ut]&&d[Ut]()};function Un(d){return null!=d&&"object"==typeof d}function wr(d){return Un(d)&&"[object Arguments]"==sn(d)}var On=Object.prototype,Pi=On.hasOwnProperty,Yn=On.propertyIsEnumerable,Gi=wr(function(){return arguments}())?wr:function(d){return Un(d)&&Pi.call(d,"callee")&&!Yn.call(d,"callee")},lr=Array.isArray;var gg="object"==typeof re&&re&&!re.nodeType&&re,dt=gg&&"object"==typeof N&&N&&!N.nodeType&&N,Ud=dt&&dt.exports===gg?Ct.Buffer:void 0,mg=(Ud?Ud.isBuffer:void 0)||function lc(){return!1},yg=9007199254740991,_g=/^(?:0|[1-9]\d*)$/;function Vw(d,a){return!!(a=a??yg)&&("number"==typeof d||_g.test(d))&&d>-1&&d%1==0&&d<a}var xn={};xn["[object Float32Array]"]=xn["[object Float64Array]"]=xn["[object Int8Array]"]=xn["[object Int16Array]"]=xn["[object Int32Array]"]=xn["[object Uint8Array]"]=xn["[object Uint8ClampedArray]"]=xn["[object Uint16Array]"]=xn["[object Uint32Array]"]=!0,xn["[object Arguments]"]=xn["[object Array]"]=xn["[object ArrayBuffer]"]=xn["[object Boolean]"]=xn["[object DataView]"]=xn["[object Date]"]=xn["[object Error]"]=xn["[object Function]"]=xn["[object Map]"]=xn["[object Number]"]=xn["[object Object]"]=xn["[object RegExp]"]=xn["[object Set]"]=xn["[object String]"]=xn["[object WeakMap]"]=!1;var jd="object"==typeof re&&re&&!re.nodeType&&re,Hd=jd&&"object"==typeof N&&N&&!N.nodeType&&N,uc=Hd&&Hd.exports===jd&&lt.process,jl=function(){try{return uc&&uc.binding&&uc.binding("util")}catch{}}(),Hl=jl&&jl.isTypedArray,Og=Hl?function qw(d){return function(a){return d(a)}}(Hl):function Pg(d){return Un(d)&&Cn(d.length)&&!!xn[sn(d)]},Fg=Object.prototype.hasOwnProperty;function Rg(d,a){var u=lr(d),c=!u&&Gi(d),f=!u&&!c&&mg(d),p=!u&&!c&&!f&&Og(d),y=u||c||f||p,S=y?function ki(d,a){for(var u=-1,c=Array(d);++u<d;)c[u]=a(u);return c}(d.length,String):[],I=S.length;for(var P in d)(a||Fg.call(d,P))&&(!y||!("length"==P||f&&("offset"==P||"parent"==P)||p&&("buffer"==P||"byteLength"==P||"byteOffset"==P)||Vw(P,I)))&&S.push(P);return S}var Lg=Object.prototype;var Kw=function Bg(d,a){return function(u){return d(a(u))}}(Object.keys,Object),To=Object.prototype.hasOwnProperty;function Wd(d){if(!function Qw(d){var a=d&&d.constructor;return d===("function"==typeof a&&a.prototype||Lg)}(d))return Kw(d);var a=[];for(var u in Object(d))To.call(d,u)&&"constructor"!=u&&a.push(u);return a}function Zd(d){var a=function ga(d){return ke(d)?Rg(d):Wd(d)}(d),u=-1,c=a.length;return function(){var p=a[++u];return u<c?{value:d[p],key:p}:null}}function qd(d){return function(){if(null===d)throw new Error("Callback was already called.");var a=d;d=null,a.apply(this,arguments)}}function Qd(d){return function(a,u,c){if(c=An(c||no),d<=0||!a)return c(null);var f=function Yd(d){if(ke(d))return function $d(d){var a=-1,u=d.length;return function(){return++a<u?{value:d[a],key:a}:null}}(d);var a=yn(d);return a?function Gd(d){var a=-1;return function(){var c=d.next();return c.done?null:(a++,{value:c.value,key:a})}}(a):Zd(d)}(a),p=!1,y=0;function S(P,q){if(y-=1,P)p=!0,c(P);else{if(q===Mo||p&&y<=0)return p=!0,c(null);I()}}function I(){for(;y<d&&!p;){var P=f();if(null===P)return p=!0,void(y<=0&&c(null));y+=1,u(P.value,P.key,qd(S))}}I()}}function Kd(d,a,u,c){Qd(a)(d,u,c)}function Ps(d,a){return function(u,c,f){return d(u,a,c,f)}}function Xd(d,a,u){u=An(u||no);var c=0,f=0,p=d.length;function y(S,I){S?u(S):(++f===p||I===Mo)&&u(null)}for(0===p&&u(null);c<p;c++)a(d[c],c,qd(y))}var Wl=Ps(Kd,1/0),Ug=function(d,a,u){(ke(d)?Xd:Wl)(d,a,u)};function Jd(d,a,u,c){c=c||no;var f=[],p=0;d(a=a||[],function(y,S,I){var P=p++;u(y,function(q,se){f[P]=se,I(q)})},function(y){c(y,f)})}$e(function dc(d){return function(a,u,c){return d(Ug,a,u,c)}}(Jd)),$e(Ps(function Xw(d){return function(a,u,c,f){return d(Qd(u),a,c,f)}}(Jd),1)),X(function(d,a){return X(function(u){return d.apply(null,a.concat(u))})}),function jg(d){return function(a,u,c){for(var f=-1,p=Object(a),y=c(a),S=y.length;S--;){var I=y[d?S:++f];if(!1===u(p[I],I,p))break}return a}}();var nf="\\ud800-\\udfff",rf="["+nf+"]",Zl="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",qg="[^"+nf+"]",of="(?:\\ud83c[\\udde6-\\uddff]){2}",Qg="[\\ud800-\\udbff][\\udc00-\\udfff]",Jg=([qg,of,Qg].join("|"),[qg+Zl+"?",Zl,of,Qg,rf].join("|"),"function"==typeof setImmediate&&setImmediate),Yl="object"==typeof V&&"function"==typeof V.nextTick;function fc(d){setTimeout(d,0)}function cf(d){return X(function(a,u){d(function(){a.apply(null,u)})})}cf(Jg?setImmediate:Yl?V.nextTick:fc);var em=Ps(Kd,1);var Zi,rE=X(function(a){return X(function(u){var c=this,f=u[u.length-1];"function"==typeof f?u.pop():f=no,function lf(d,a,u,c){c=An(c||no),em(d,function(f,p,y){u(a,f,function(S,I){a=I,y(S)})},function(f){c(f,a)})}(a,u,function(p,y,S){y.apply(c,p.concat(X(function(I,P){S(I,P)})))},function(p,y){f.apply(c,[p].concat(y))})})});function tm(d){return X(function(a,u){a.apply(null,u.concat(X(function(c,f){"object"==typeof console&&(c?console.error&&console.error(c):console[d]&&function tf(d,a){for(var u=-1,c=null==d?0:d.length;++u<c&&!1!==a(d[u],u,d););return d}(f,function(p){console[d](p)}))})))})}function nm(d,a,u){Ug(d,function oE(d){return function(a,u,c){return d(a,c)}}(a),u)}X(function(d){return rE.apply(null,d.reverse())}),X(function(d){var a=[null].concat(d);return pe(function(u,c){return c.apply(this,a)})}),tm("dir"),tm("log"),cf(Yl?V.nextTick:Jg?setImmediate:fc),Math,Math;var li=function(a){this._cache={},this._client=a};li.prototype.readdir=function(a,u){var c=this,f=this.getCachedDirInfo(a);this._wrap(function(p){null!==f&&f.contents?c._client.readdir(a,{contentHash:f.stat.contentHash},p):c._client.readdir(a,p)},function(p,y,S,I){p?p.status===Dropbox.ApiError.NO_CONTENT&&null!==f?u(null,f.contents.slice(0)):u(p):(c.updateCachedDirInfo(a,S,y.slice(0)),I.forEach(function(P){c.updateCachedInfo(D.join(a,P.name),P)}),u(null,y))})},li.prototype.remove=function(a,u){var c=this;this._wrap(function(f){c._client.remove(a,f)},function(f,p){f||c.updateCachedInfo(a,p),u(f)})},li.prototype.move=function(a,u,c){var f=this;this._wrap(function(p){f._client.move(a,u,p)},function(p,y){p||(f.deleteCachedInfo(a),f.updateCachedInfo(u,y)),c(p)})},li.prototype.stat=function(a,u){var c=this;this._wrap(function(f){c._client.stat(a,f)},function(f,p){f||c.updateCachedInfo(a,p),u(f,p)})},li.prototype.readFile=function(a,u){var c=this,f=this.getCachedFileInfo(a);null!==f&&null!==f.contents?this.stat(a,function(p,y){p?u(p):y.contentHash===f.stat.contentHash?u(p,f.contents.slice(0),f.stat):c.readFile(a,u)}):this._wrap(function(p){c._client.readFile(a,{arrayBuffer:!0},p)},function(p,y,S){p||c.updateCachedInfo(a,S,y.slice(0)),u(p,y,S)})},li.prototype.writeFile=function(a,u,c){var f=this;this._wrap(function(p){f._client.writeFile(a,u,p)},function(p,y){p||f.updateCachedInfo(a,y,u.slice(0)),c(p,y)})},li.prototype.mkdir=function(a,u){var c=this;this._wrap(function(f){c._client.mkdir(a,f)},function(f,p){f||c.updateCachedInfo(a,p,[]),u(f)})},li.prototype._wrap=function(a,u){var c=0,f=function(p){if(p&&3>++c)switch(p.status){case Dropbox.ApiError.SERVER_ERROR:case Dropbox.ApiError.NETWORK_ERROR:case Dropbox.ApiError.RATE_LIMITED:setTimeout(function(){a(f)},2e3);break;default:u.apply(null,arguments)}else u.apply(null,arguments)};a(f)},li.prototype.getCachedInfo=function(a){return this._cache[a.toLowerCase()]},li.prototype.putCachedInfo=function(a,u){this._cache[a.toLowerCase()]=u},li.prototype.deleteCachedInfo=function(a){delete this._cache[a.toLowerCase()]},li.prototype.getCachedDirInfo=function(a){var u=this.getCachedInfo(a);return function Os(d){return d&&d.stat.isFolder}(u)?u:null},li.prototype.getCachedFileInfo=function(a){var u=this.getCachedInfo(a);return function Se(d){return d&&d.stat.isFile}(u)?u:null},li.prototype.updateCachedDirInfo=function(a,u,c){void 0===c&&(c=null);var f=this.getCachedInfo(a);null!==u.contentHash&&(void 0===f||f.stat.contentHash!==u.contentHash)&&this.putCachedInfo(a,{stat:u,contents:c})},li.prototype.updateCachedFileInfo=function(a,u,c){void 0===c&&(c=null);var f=this.getCachedInfo(a);null!==u.versionTag&&(void 0===f||f.stat.versionTag!==u.versionTag)&&this.putCachedInfo(a,{stat:u,contents:c})},li.prototype.updateCachedInfo=function(a,u,c){void 0===c&&(c=null),u.isFile&&function pc(d){return null==d||"object"==typeof d&&"number"==typeof d.byteLength}(c)?this.updateCachedFileInfo(a,u,c):u.isFolder&&Array.isArray(c)&&this.updateCachedDirInfo(a,u,c)};var sE=function(d){function a(u,c,f,p,y){d.call(this,u,c,f,p,y)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype.sync=function(c){var f=this;if(this.isDirty()){var y=Pe(this.getBuffer());this._fs._writeFileStrict(this.getPath(),y,function(S){S||f.resetDirty(),c(S)})}else c()},a.prototype.close=function(c){this.sync(c)},a}(mn),Ql=function(d){function a(u,c){void 0===c&&(c=!0),d.call(this),this._client=new li(u),Ot(c,a.Name,{client:"authenticated dropbox client instance"}),function uf(){Zi||((Zi={})[Dropbox.ApiError.NETWORK_ERROR]=_.EIO,Zi[Dropbox.ApiError.INVALID_PARAM]=_.EINVAL,Zi[Dropbox.ApiError.INVALID_TOKEN]=_.EPERM,Zi[Dropbox.ApiError.OAUTH_ERROR]=_.EPERM,Zi[Dropbox.ApiError.NOT_FOUND]=_.ENOENT,Zi[Dropbox.ApiError.INVALID_METHOD]=_.EINVAL,Zi[Dropbox.ApiError.NOT_ACCEPTABLE]=_.EINVAL,Zi[Dropbox.ApiError.CONFLICT]=_.EINVAL,Zi[Dropbox.ApiError.RATE_LIMITED]=_.EBUSY,Zi[Dropbox.ApiError.SERVER_ERROR]=_.EBUSY,Zi[Dropbox.ApiError.OVER_QUOTA]=_.ENOSPC)}()}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.Create=function(c,f){f(null,new a(c.client,!1))},a.isAvailable=function(){return typeof Dropbox<"u"},a.prototype.getName=function(){return a.Name},a.prototype.isReadOnly=function(){return!1},a.prototype.supportsSymlinks=function(){return!1},a.prototype.supportsProps=function(){return!1},a.prototype.supportsSynch=function(){return!1},a.prototype.empty=function(c){var f=this;this._client.readdir("/",function(p,y){p?c(f.convert(p,"/")):nm(y,function(P,q){var se=D.join("/",P);f._client.remove(se,function(we){q(we?f.convert(we,se):null)})},function(P){P?c(P):c()})})},a.prototype.rename=function(c,f,p){var y=this;this._client.move(c,f,function(S){S?y._client.stat(f,function(I,P){if(I||P.isFolder){var q=S.response.error.indexOf(c)>-1?c:f;p(y.convert(S,q))}else y._client.remove(f,function(se){se?p(y.convert(se,f)):y.rename(c,f,p)})}):p()})},a.prototype.stat=function(c,f,p){var y=this;this._client.stat(c,function(S,I){if(S)p(y.convert(S,c));else{if(!I||!I.isRemoved){var P=new ie(y._statType(I),I.size);return p(null,P)}p(b.FileError(_.ENOENT,c))}})},a.prototype.open=function(c,f,p,y){var S=this;this._client.readFile(c,function(I,P,q){if(!I){var we;we=null===P?Kt():it(P);var Fe=S._makeFile(c,f,q,we);return y(null,Fe)}if(!f.isReadable()){if(I.status===Dropbox.ApiError.NOT_FOUND){var se=new ArrayBuffer(0);return S._writeFileStrict(c,se,function(Le,Qe){if(Le)y(Le);else{var vt=S._makeFile(c,f,Qe,it(se));y(null,vt)}})}return y(S.convert(I,c))}y(S.convert(I,c))})},a.prototype._writeFileStrict=function(c,f,p){var y=this,S=D.dirname(c);this.stat(S,!1,function(I,P){I?p(b.FileError(_.ENOENT,S)):y._client.writeFile(c,f,function(q,se){q?p(y.convert(q,c)):p(null,se)})})},a.prototype._statType=function(c){return c.isFile?W.FILE:W.DIRECTORY},a.prototype._makeFile=function(c,f,p,y){var S=this._statType(p),I=new ie(S,p.size);return new sE(this,c,f,I,y)},a.prototype._remove=function(c,f,p){var y=this;this._client.stat(c,function(S,I){S?f(y.convert(S,c)):I.isFile&&!p?f(b.FileError(_.ENOTDIR,c)):!I.isFile&&p?f(b.FileError(_.EISDIR,c)):y._client.remove(c,function(P){f(P?y.convert(P,c):null)})})},a.prototype.unlink=function(c,f){this._remove(c,f,!0)},a.prototype.rmdir=function(c,f){this._remove(c,f,!1)},a.prototype.mkdir=function(c,f,p){var y=this,S=D.dirname(c);this._client.stat(S,function(I,P){I?p(y.convert(I,S)):y._client.mkdir(c,function(q){p(q?b.FileError(_.EEXIST,c):null)})})},a.prototype.readdir=function(c,f){var p=this;this._client.readdir(c,function(y,S){return y?f(p.convert(y)):f(null,S)})},a.prototype.convert=function(c,f){void 0===f&&(f=null);var p=Zi[c.status];return void 0===p&&(p=_.EIO),f?b.FileError(p,f):new b(p)},a}(Be);function Nn(d,a){void 0===a&&(a="");for(var u=d.errno,c=d.node,f=[];c&&(f.unshift(c.name),c!==c.parent);)c=c.parent;return new b(u,T[u],f.length>0?"/"+f.join("/"):a)}Ql.Name="Dropbox",Ql.Options={client:{type:"object",description:"An *authenticated* Dropbox client. Must be from the 0.10 JS SDK.",validator:function(d,a){d.isAuthenticated&&d.isAuthenticated()?a():a(new b(_.EINVAL,"'client' option must be an authenticated Dropbox client from the v0.10 JS SDK."))}}};var io=function(d){function a(u,c,f,p){d.call(this),this._fs=u,this._FS=c,this._path=f,this._stream=p}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype.getPos=function(){},a.prototype.close=function(c){var f=null;try{this.closeSync()}catch(p){f=p}finally{c(f)}},a.prototype.closeSync=function(){try{this._FS.close(this._stream)}catch(c){throw Nn(c,this._path)}},a.prototype.stat=function(c){try{c(null,this.statSync())}catch(f){c(f)}},a.prototype.statSync=function(){try{return this._fs.statSync(this._path,!1)}catch(c){throw Nn(c,this._path)}},a.prototype.truncate=function(c,f){var p=null;try{this.truncateSync(c)}catch(y){p=y}finally{f(p)}},a.prototype.truncateSync=function(c){try{this._FS.ftruncate(this._stream.fd,c)}catch(f){throw Nn(f,this._path)}},a.prototype.write=function(c,f,p,y,S){try{S(null,this.writeSync(c,f,p,y),c)}catch(I){S(I)}},a.prototype.writeSync=function(c,f,p,y){try{var S=Xe(c);return this._FS.write(this._stream,S,f,p,null===y?void 0:y)}catch(P){throw Nn(P,this._path)}},a.prototype.read=function(c,f,p,y,S){try{S(null,this.readSync(c,f,p,y),c)}catch(I){S(I)}},a.prototype.readSync=function(c,f,p,y){try{var S=Xe(c);return this._FS.read(this._stream,S,f,p,null===y?void 0:y)}catch(P){throw Nn(P,this._path)}},a.prototype.sync=function(c){c()},a.prototype.syncSync=function(){},a.prototype.chown=function(c,f,p){var y=null;try{this.chownSync(c,f)}catch(S){y=S}finally{p(y)}},a.prototype.chownSync=function(c,f){try{this._FS.fchown(this._stream.fd,c,f)}catch(p){throw Nn(p,this._path)}},a.prototype.chmod=function(c,f){var p=null;try{this.chmodSync(c)}catch(y){p=y}finally{f(p)}},a.prototype.chmodSync=function(c){try{this._FS.fchmod(this._stream.fd,c)}catch(f){throw Nn(f,this._path)}},a.prototype.utimes=function(c,f,p){var y=null;try{this.utimesSync(c,f)}catch(S){y=S}finally{p(y)}},a.prototype.utimesSync=function(c,f){this._fs.utimesSync(this._path,c,f)},a}(rt),ro=function(d){function a(u){d.call(this),this._FS=u}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.Create=function(c,f){f(null,new a(c.FS))},a.isAvailable=function(){return!0},a.prototype.getName=function(){return this._FS.DB_NAME()},a.prototype.isReadOnly=function(){return!1},a.prototype.supportsLinks=function(){return!0},a.prototype.supportsProps=function(){return!0},a.prototype.supportsSynch=function(){return!0},a.prototype.renameSync=function(c,f){try{this._FS.rename(c,f)}catch(p){throw p.errno===_.ENOENT?Nn(p,this.existsSync(c)?f:c):Nn(p)}},a.prototype.statSync=function(c,f){try{var p=f?this._FS.lstat(c):this._FS.stat(c),y=this.modeToFileType(p.mode);return new ie(y,p.size,p.mode,p.atime,p.mtime,p.ctime)}catch(S){throw Nn(S,c)}},a.prototype.openSync=function(c,f,p){try{var y=this._FS.open(c,f.getFlagString(),p);if(this._FS.isDir(y.node.mode))throw this._FS.close(y),b.EISDIR(c);return new io(this,this._FS,c,y)}catch(S){throw Nn(S,c)}},a.prototype.unlinkSync=function(c){try{this._FS.unlink(c)}catch(f){throw Nn(f,c)}},a.prototype.rmdirSync=function(c){try{this._FS.rmdir(c)}catch(f){throw Nn(f,c)}},a.prototype.mkdirSync=function(c,f){try{this._FS.mkdir(c,f)}catch(p){throw Nn(p,c)}},a.prototype.readdirSync=function(c){try{return this._FS.readdir(c).filter(function(f){return"."!==f&&".."!==f})}catch(f){throw Nn(f,c)}},a.prototype.truncateSync=function(c,f){try{this._FS.truncate(c,f)}catch(p){throw Nn(p,c)}},a.prototype.readFileSync=function(c,f,p){try{var S=bt(this._FS.readFile(c,{flags:p.getFlagString()}));return f?S.toString(f):S}catch(I){throw Nn(I,c)}},a.prototype.writeFileSync=function(c,f,p,y,S){try{p&&(f=Y.from(f,p));var I=Xe(f);this._FS.writeFile(c,I,{flags:y.getFlagString(),encoding:"binary"}),this._FS.chmod(c,S)}catch(P){throw Nn(P,c)}},a.prototype.chmodSync=function(c,f,p){try{f?this._FS.lchmod(c,p):this._FS.chmod(c,p)}catch(y){throw Nn(y,c)}},a.prototype.chownSync=function(c,f,p,y){try{f?this._FS.lchown(c,p,y):this._FS.chown(c,p,y)}catch(S){throw Nn(S,c)}},a.prototype.symlinkSync=function(c,f,p){try{this._FS.symlink(c,f)}catch(y){throw Nn(y)}},a.prototype.readlinkSync=function(c){try{return this._FS.readlink(c)}catch(f){throw Nn(f,c)}},a.prototype.utimesSync=function(c,f,p){try{this._FS.utime(c,f.getTime(),p.getTime())}catch(y){throw Nn(y,c)}},a.prototype.modeToFileType=function(c){if(this._FS.isDir(c))return W.DIRECTORY;if(this._FS.isFile(c))return W.FILE;if(this._FS.isLink(c))return W.SYMLINK;throw b.EPERM("Invalid mode: "+c)},a}(Ve);ro.Name="EmscriptenFileSystem",ro.Options={FS:{type:"object",description:"The Emscripten file system to use (the `FS` variable)"}};var Er=function(d){function a(u,c){d.call(this),this._folder=u,this._wrapped=c}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.Create=function(c,f){f(null,new a(c.folder,c.wrapped))},a.isAvailable=function(){return!0},a.prototype.initialize=function(c){var f=this;this._wrapped.exists(this._folder,function(p){p?c():f._wrapped.isReadOnly()?c(b.ENOENT(f._folder)):f._wrapped.mkdir(f._folder,511,c)})},a.prototype.getName=function(){return this._wrapped.getName()},a.prototype.isReadOnly=function(){return this._wrapped.isReadOnly()},a.prototype.supportsProps=function(){return this._wrapped.supportsProps()},a.prototype.supportsSynch=function(){return this._wrapped.supportsSynch()},a.prototype.supportsLinks=function(){return!1},a}(Be);function ts(d,a){if(null!==a&&"object"==typeof a){var u=a,c=u.path;c&&(c="/"+D.relative(d,c),u.message=u.message.replace(u.path,c),u.path=c)}return a}function gc(d,a,u){return"Sync"!==d.slice(d.length-4)?function(){return arguments.length>0&&(a&&(arguments[0]=D.join(this._folder,arguments[0])),u&&(arguments[1]=D.join(this._folder,arguments[1])),arguments[arguments.length-1]=function df(d,a){return"function"==typeof a?function(u){arguments.length>0&&(arguments[0]=ts(d,u)),a.apply(null,arguments)}:a}(this._folder,arguments[arguments.length-1])),this._wrapped[d].apply(this._wrapped,arguments)}:function(){try{return a&&(arguments[0]=D.join(this._folder,arguments[0])),u&&(arguments[1]=D.join(this._folder,arguments[1])),this._wrapped[d].apply(this._wrapped,arguments)}catch(c){throw ts(this._folder,c)}}}Er.Name="FolderAdapter",Er.Options={folder:{type:"string",description:"The folder to use as the root directory"},wrapped:{type:"object",description:"The file system to wrap"}},["diskSpace","stat","statSync","open","openSync","unlink","unlinkSync","rmdir","rmdirSync","mkdir","mkdirSync","readdir","readdirSync","exists","existsSync","realpath","realpathSync","truncate","truncateSync","readFile","readFileSync","writeFile","writeFileSync","appendFile","appendFileSync","chmod","chmodSync","chown","chownSync","utimes","utimesSync","readlink","readlinkSync"].forEach(function(d){Er.prototype[d]=gc(d,!0,!1)}),["rename","renameSync","link","linkSync","symlink","symlinkSync"].forEach(function(d){Er.prototype[d]=gc(d,!0,!0)});var Qn=typeof window<"u"?window:typeof self<"u"?self:ae;var ff=Qn.webkitRequestFileSystem||Qn.requestFileSystem||null;function Vr(d,a,u){switch(d.name){case"PathExistsError":return b.EEXIST(a);case"QuotaExceededError":return b.FileError(_.ENOSPC,a);case"NotFoundError":return b.ENOENT(a);case"SecurityError":return b.FileError(_.EACCES,a);case"InvalidModificationError":return b.FileError(_.EPERM,a);case"TypeMismatchError":return b.FileError(u?_.ENOTDIR:_.EISDIR,a);default:return b.FileError(_.EINVAL,a)}}var ei=function(d){function a(u,c,f,p,y,S){d.call(this,u,f,p,y,S),this._entry=c}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype.sync=function(c){var f=this;if(!this.isDirty())return c();this._entry.createWriter(function(p){var y=f.getBuffer(),S=new Blob([Pe(y)]),I=S.size;p.onwriteend=function(P){p.onwriteend=null,p.onerror=null,p.truncate(I),f.resetDirty(),c()},p.onerror=function(P){c(Vr(P,f.getPath(),!1))},p.write(S)})},a.prototype.close=function(c){this.sync(c)},a}(mn),Ns=function(d){function a(u,c,f){void 0===u&&(u=5),void 0===c&&(c=Qn.PERSISTENT),void 0===f&&(f=!0),d.call(this),this.size=1048576*u,this.type=c,Ot(f,a.Name,{size:u,type:c})}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.Create=function(c,f){var p=new a(c.size,c.type,!1);p.allocate(function(y){return y?f(y):f(null,p)},!1)},a.isAvailable=function(){return!!ff},a.prototype.getName=function(){return a.Name},a.prototype.isReadOnly=function(){return!1},a.prototype.supportsSymlinks=function(){return!1},a.prototype.supportsProps=function(){return!1},a.prototype.supportsSynch=function(){return!1},a.prototype.allocate=function(c,f){var p=this;void 0===c&&(c=function(){}),void 0===f&&(f=!0),f&&console.warn("[HTML5FS] HTML5FS.allocate() is deprecated and will be removed in the next major release. Please use 'HTML5FS.Create({type: "+this.type+", size: "+this.size+"}, cb)' to create and allocate HTML5FS instances.");var y=function(I){p.fs=I,c()},S=function(I){c(Vr(I,"/",!0))};this.type===Qn.PERSISTENT?function aE(d,a,u,c){if(typeof navigator.webkitPersistentStorage<"u")switch(d){case Qn.PERSISTENT:navigator.webkitPersistentStorage.requestQuota(a,u,c);break;case Qn.TEMPORARY:navigator.webkitTemporaryStorage.requestQuota(a,u,c);break;default:c(new TypeError("Invalid storage type: "+d))}else Qn.webkitStorageInfo.requestQuota(d,a,u,c)}(this.type,this.size,function(I){ff(p.type,I,y,S)},S):ff(this.type,this.size,y,S)},a.prototype.empty=function(c){this._readdir("/",function(f,p){f?(console.error("Failed to empty FS"),c(f)):nm(p,function(I,P){var q=function(){P()},se=function(we){P(Vr(we,I.fullPath,!I.isDirectory))};!function Mn(d){return d.isDirectory}(I)?I.remove(q,se):I.removeRecursively(q,se)},function(I){f?(console.error("Failed to empty FS"),c(f)):c()})})},a.prototype.rename=function(c,f,p){var y=this,S=2,I=0,P=this.fs.root,q=c,se=function(Fe){--S<=0&&p(Vr(Fe,q,!1))},we=function(Fe){return 2==++I?p(new b(_.EINVAL,"Something was identified as both a file and a directory. This should never happen.")):c===f?p():(q=D.dirname(f),void P.getDirectory(q,{},function(Le){q=D.basename(f),Fe.moveTo(Le,q,function(Qe){p()},function(Qe){Fe.isDirectory?(q=f,y.unlink(f,function(vt){vt?se(Qe):y.rename(c,f,p)})):se(Qe)})},se))};P.getFile(c,{},we,se),P.getDirectory(c,{},we,se)},a.prototype.stat=function(c,f,p){var y=this,S={create:!1},P=function(we){var Le=new ie(W.DIRECTORY,4096);p(null,Le)},q=function(we){p(Vr(we,c,!1))};this.fs.root.getFile(c,S,function(we){we.file(function(Le){var Qe=new ie(W.FILE,Le.size);p(null,Qe)},q)},function(){y.fs.root.getDirectory(c,S,P,q)})},a.prototype.open=function(c,f,p,y){var S=this,I=function(P){"InvalidModificationError"===P.name&&f.isExclusive()?y(b.EEXIST(c)):y(Vr(P,c,!1))};this.fs.root.getFile(c,{create:f.pathNotExistsAction()===Q.CREATE_FILE,exclusive:f.isExclusive()},function(P){P.file(function(q){var se=new FileReader;se.onloadend=function(we){var Fe=S._makeFile(c,P,f,q,se.result);y(null,Fe)},se.onerror=function(we){I(se.error)},se.readAsArrayBuffer(q)},I)},I)},a.prototype.unlink=function(c,f){this._remove(c,f,!0)},a.prototype.rmdir=function(c,f){var p=this;this.readdir(c,function(y,S){y?f(y):S.length>0?f(b.ENOTEMPTY(c)):p._remove(c,f,!1)})},a.prototype.mkdir=function(c,f,p){this.fs.root.getDirectory(c,{create:!0,exclusive:!0},function(P){p()},function(P){p(Vr(P,c,!0))})},a.prototype.readdir=function(c,f){this._readdir(c,function(p,y){if(!y)return f(p);for(var S=[],I=0,P=y;I<P.length;I+=1)S.push(P[I].name);f(null,S)})},a.prototype._makeFile=function(c,f,p,y,S){void 0===S&&(S=new ArrayBuffer(0));var I=new ie(W.FILE,y.size),P=it(S);return new ei(this,f,c,p,I,P)},a.prototype._readdir=function(c,f){var p=function(y){f(Vr(y,c,!0))};this.fs.root.getDirectory(c,{create:!1},function(y){var S=y.createReader(),I=[],P=function(){S.readEntries(function(q){q.length?(I=I.concat(function an(d){return Array.prototype.slice.call(d||[],0)}(q)),P()):f(null,I)},p)};P()},p)},a.prototype._remove=function(c,f,p){var y=function(P){P.remove(function(){f()},function(we){f(Vr(we,c,!p))})},S=function(P){f(Vr(P,c,!p))},I={create:!1};p?this.fs.root.getFile(c,I,y,S):this.fs.root.getDirectory(c,I,y,S)},a}(Be);Ns.Name="HTML5FS",Ns.Options={size:{type:"number",optional:!0,description:"Storage quota to request, in megabytes. Allocated value may be less. Defaults to 5."},type:{type:"number",optional:!0,description:"window.PERSISTENT or window.TEMPORARY. Defaults to PERSISTENT."}};var Yi=function(a,u,c,f,p,y){this.id=a,this.size=u,this.mode=c,this.atime=f,this.mtime=p,this.ctime=y};Yi.fromBuffer=function(a){if(void 0===a)throw new Error("NO");return new Yi(a.toString("ascii",30),a.readUInt32LE(0),a.readUInt16LE(4),a.readDoubleLE(6),a.readDoubleLE(14),a.readDoubleLE(22))},Yi.prototype.toStats=function(){return new ie((61440&this.mode)===W.DIRECTORY?W.DIRECTORY:W.FILE,this.size,this.mode,new Date(this.atime),new Date(this.mtime),new Date(this.ctime))},Yi.prototype.getSize=function(){return 30+this.id.length},Yi.prototype.toBuffer=function(a){return void 0===a&&(a=Y.alloc(this.getSize())),a.writeUInt32LE(this.size,0),a.writeUInt16LE(this.mode,4),a.writeDoubleLE(this.atime,6),a.writeDoubleLE(this.mtime,14),a.writeDoubleLE(this.ctime,22),a.write(this.id,30,this.id.length,"ascii"),a},Yi.prototype.update=function(a){var u=!1;this.size!==a.size&&(this.size=a.size,u=!0),this.mode!==a.mode&&(this.mode=a.mode,u=!0);var c=a.atime.getTime();this.atime!==c&&(this.atime=c,u=!0);var f=a.mtime.getTime();this.mtime!==f&&(this.mtime=f,u=!0);var p=a.ctime.getTime();return this.ctime!==p&&(this.ctime=p,u=!0),u},Yi.prototype.isFile=function(){return(61440&this.mode)===W.FILE},Yi.prototype.isDirectory=function(){return(61440&this.mode)===W.DIRECTORY};var ko="/",cn=null;function St(){return cn||(cn=Y.from("{}"))}function ns(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(d){var a=16*Math.random()|0;return("x"===d?a:3&a|8).toString(16)})}function Tn(d,a){return!d||(a(d),!1)}function ti(d,a,u){return!d||(a.abort(function(){u(d)}),!1)}var so=function(a){this.store=a,this.originalData={},this.modifiedKeys=[]};so.prototype.get=function(a){var u=this.store.get(a);return this.stashOldValue(a,u),u},so.prototype.put=function(a,u,c){return this.markModified(a),this.store.put(a,u,c)},so.prototype.del=function(a){this.markModified(a),this.store.del(a)},so.prototype.commit=function(){},so.prototype.abort=function(){for(var a=this,u=0,c=a.modifiedKeys;u<c.length;u+=1){var f=c[u],p=a.originalData[f];p?a.store.put(f,p,!0):a.store.del(f)}},so.prototype.stashOldValue=function(a,u){this.originalData.hasOwnProperty(a)||(this.originalData[a]=u)},so.prototype.markModified=function(a){-1===this.modifiedKeys.indexOf(a)&&(this.modifiedKeys.push(a),this.originalData.hasOwnProperty(a)||(this.originalData[a]=this.store.get(a)))};var im=function(d){function a(u,c,f,p,y){d.call(this,u,c,f,p,y)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this.getPath(),this.getBuffer(),this.getStats()),this.resetDirty())},a.prototype.closeSync=function(){this.syncSync()},a}(mn),ao=function(d){function a(u){d.call(this),this.store=u.store,this.makeRootDirectory()}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.isAvailable=function(){return!0},a.prototype.getName=function(){return this.store.name()},a.prototype.isReadOnly=function(){return!1},a.prototype.supportsSymlinks=function(){return!1},a.prototype.supportsProps=function(){return!1},a.prototype.supportsSynch=function(){return!0},a.prototype.empty=function(){this.store.clear(),this.makeRootDirectory()},a.prototype.renameSync=function(c,f){var p=this.store.beginTransaction("readwrite"),y=D.dirname(c),S=D.basename(c),I=D.dirname(f),P=D.basename(f),q=this.findINode(p,y),se=this.getDirListing(p,y,q);if(!se[S])throw b.ENOENT(c);var Fe,Le,we=se[S];if(delete se[S],0===(I+"/").indexOf(c+"/"))throw new b(_.EBUSY,y);if(I===y?(Fe=q,Le=se):(Fe=this.findINode(p,I),Le=this.getDirListing(p,I,Fe)),Le[P]){var Qe=this.getINode(p,f,Le[P]);if(!Qe.isFile())throw b.EPERM(f);try{p.del(Qe.id),p.del(Le[P])}catch(vt){throw p.abort(),vt}}Le[P]=we;try{p.put(q.id,Y.from(JSON.stringify(se)),!0),p.put(Fe.id,Y.from(JSON.stringify(Le)),!0)}catch(vt){throw p.abort(),vt}p.commit()},a.prototype.statSync=function(c,f){return this.findINode(this.store.beginTransaction("readonly"),c).toStats()},a.prototype.createFileSync=function(c,f,p){var y=this.store.beginTransaction("readwrite"),S=Kt(),I=this.commitNewFile(y,c,W.FILE,p,S);return new im(this,c,f,I.toStats(),S)},a.prototype.openFileSync=function(c,f){var p=this.store.beginTransaction("readonly"),y=this.findINode(p,c),S=p.get(y.id);if(void 0===S)throw b.ENOENT(c);return new im(this,c,f,y.toStats(),S)},a.prototype.unlinkSync=function(c){this.removeEntry(c,!1)},a.prototype.rmdirSync=function(c){if(this.readdirSync(c).length>0)throw b.ENOTEMPTY(c);this.removeEntry(c,!0)},a.prototype.mkdirSync=function(c,f){var p=this.store.beginTransaction("readwrite"),y=Y.from("{}");this.commitNewFile(p,c,W.DIRECTORY,f,y)},a.prototype.readdirSync=function(c){var f=this.store.beginTransaction("readonly");return Object.keys(this.getDirListing(f,c,this.findINode(f,c)))},a.prototype._syncSync=function(c,f,p){var y=this.store.beginTransaction("readwrite"),S=this._findINode(y,D.dirname(c),D.basename(c)),I=this.getINode(y,c,S),P=I.update(p);try{y.put(I.id,f,!0),P&&y.put(S,I.toBuffer(),!0)}catch(q){throw y.abort(),q}y.commit()},a.prototype.makeRootDirectory=function(){var c=this.store.beginTransaction("readwrite");if(void 0===c.get(ko)){var f=(new Date).getTime(),p=new Yi(ns(),4096,511|W.DIRECTORY,f,f,f);c.put(p.id,St(),!1),c.put(ko,p.toBuffer(),!1),c.commit()}},a.prototype._findINode=function(c,f,p){var y=this,S=function(I){var P=y.getDirListing(c,f,I);if(P[p])return P[p];throw b.ENOENT(D.resolve(f,p))};return"/"===f?""===p?ko:S(this.getINode(c,f,ko)):S(this.getINode(c,f+D.sep+p,this._findINode(c,D.dirname(f),D.basename(f))))},a.prototype.findINode=function(c,f){return this.getINode(c,f,this._findINode(c,D.dirname(f),D.basename(f)))},a.prototype.getINode=function(c,f,p){var y=c.get(p);if(void 0===y)throw b.ENOENT(f);return Yi.fromBuffer(y)},a.prototype.getDirListing=function(c,f,p){if(!p.isDirectory())throw b.ENOTDIR(f);var y=c.get(p.id);if(void 0===y)throw b.ENOENT(f);return JSON.parse(y.toString())},a.prototype.addNewNode=function(c,f){for(var y;;)try{return y=ns(),c.put(y,f,!1),y}catch{}throw new b(_.EIO,"Unable to commit data to key-value store.")},a.prototype.commitNewFile=function(c,f,p,y,S){var Fe,I=D.dirname(f),P=D.basename(f),q=this.findINode(c,I),se=this.getDirListing(c,I,q),we=(new Date).getTime();if("/"===f||se[P])throw b.EEXIST(f);try{var Le=this.addNewNode(c,S);Fe=new Yi(Le,S.length,y|p,we,we,we);var Qe=this.addNewNode(c,Fe.toBuffer());se[P]=Qe,c.put(q.id,Y.from(JSON.stringify(se)),!0)}catch(vt){throw c.abort(),vt}return c.commit(),Fe},a.prototype.removeEntry=function(c,f){var p=this.store.beginTransaction("readwrite"),y=D.dirname(c),S=this.findINode(p,y),I=this.getDirListing(p,y,S),P=D.basename(c);if(!I[P])throw b.ENOENT(c);var q=I[P];delete I[P];var se=this.getINode(p,c,q);if(!f&&se.isDirectory())throw b.EISDIR(c);if(f&&!se.isDirectory())throw b.ENOTDIR(c);try{p.del(se.id),p.del(q),p.put(S.id,Y.from(JSON.stringify(I)),!0)}catch(we){throw p.abort(),we}p.commit()},a}(Ve),rm=function(d){function a(u,c,f,p,y){d.call(this,u,c,f,p,y)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype.sync=function(c){var f=this;this.isDirty()?this._fs._sync(this.getPath(),this.getBuffer(),this.getStats(),function(p){p||f.resetDirty(),c(p)}):c()},a.prototype.close=function(c){this.sync(c)},a}(mn),cE=function(d){function a(){d.apply(this,arguments)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.isAvailable=function(){return!0},a.prototype.init=function(c,f){this.store=c,this.makeRootDirectory(f)},a.prototype.getName=function(){return this.store.name()},a.prototype.isReadOnly=function(){return!1},a.prototype.supportsSymlinks=function(){return!1},a.prototype.supportsProps=function(){return!1},a.prototype.supportsSynch=function(){return!1},a.prototype.empty=function(c){var f=this;this.store.clear(function(p){Tn(p,c)&&f.makeRootDirectory(c)})},a.prototype.rename=function(c,f,p){var y=this,S=this.store.beginTransaction("readwrite"),I=D.dirname(c),P=D.basename(c),q=D.dirname(f),se=D.basename(f),we={},Fe={},Le=!1;if(0===(q+"/").indexOf(c+"/"))return p(new b(_.EBUSY,I));var vt=function(Lt){y.findINodeAndDirListing(S,Lt,function(Sn,yi,fr){Sn?Le||(Le=!0,S.abort(function(){p(Sn)})):(we[Lt]=yi,Fe[Lt]=fr,function(){if(!Le&&Fe.hasOwnProperty(I)&&Fe.hasOwnProperty(q)){var Lt=Fe[I],Sn=we[I],yi=Fe[q],fr=we[q];if(Lt[P]){var xr=Lt[P];delete Lt[P];var ho=function(){yi[se]=xr,S.put(Sn.id,Y.from(JSON.stringify(Lt)),!0,function(No){ti(No,S,p)&&(I===q?S.commit(p):S.put(fr.id,Y.from(JSON.stringify(yi)),!0,function(Mr){ti(Mr,S,p)&&S.commit(p)}))})};yi[se]?y.getINode(S,f,yi[se],function(No,Mr){ti(No,S,p)&&(Mr.isFile()?S.del(Mr.id,function(Mf){ti(Mf,S,p)&&S.del(yi[se],function(cu){ti(cu,S,p)&&ho()})}):S.abort(function(Mf){p(b.EPERM(f))}))}):ho()}else p(b.ENOENT(c))}}())})};vt(I),I!==q&&vt(q)},a.prototype.stat=function(c,f,p){var y=this.store.beginTransaction("readonly");this.findINode(y,c,function(S,I){Tn(S,p)&&p(null,I.toStats())})},a.prototype.createFile=function(c,f,p,y){var S=this,I=this.store.beginTransaction("readwrite"),P=Kt();this.commitNewFile(I,c,W.FILE,p,P,function(q,se){Tn(q,y)&&y(null,new rm(S,c,f,se.toStats(),P))})},a.prototype.openFile=function(c,f,p){var y=this,S=this.store.beginTransaction("readonly");this.findINode(S,c,function(I,P){Tn(I,p)&&S.get(P.id,function(q,se){Tn(q,p)&&(void 0===se?p(b.ENOENT(c)):p(null,new rm(y,c,f,P.toStats(),se)))})})},a.prototype.unlink=function(c,f){this.removeEntry(c,!1,f)},a.prototype.rmdir=function(c,f){var p=this;this.readdir(c,function(y,S){y?f(y):S.length>0?f(b.ENOTEMPTY(c)):p.removeEntry(c,!0,f)})},a.prototype.mkdir=function(c,f,p){var y=this.store.beginTransaction("readwrite"),S=Y.from("{}");this.commitNewFile(y,c,W.DIRECTORY,f,S,p)},a.prototype.readdir=function(c,f){var p=this,y=this.store.beginTransaction("readonly");this.findINode(y,c,function(S,I){Tn(S,f)&&p.getDirListing(y,c,I,function(P,q){Tn(P,f)&&f(null,Object.keys(q))})})},a.prototype._sync=function(c,f,p,y){var S=this,I=this.store.beginTransaction("readwrite");this._findINode(I,D.dirname(c),D.basename(c),function(P,q){ti(P,I,y)&&S.getINode(I,c,q,function(se,we){if(ti(se,I,y)){var Fe=we.update(p);I.put(we.id,f,!0,function(Le){ti(Le,I,y)&&(Fe?I.put(q,we.toBuffer(),!0,function(Qe){ti(Qe,I,y)&&I.commit(y)}):I.commit(y))})}})})},a.prototype.makeRootDirectory=function(c){var f=this.store.beginTransaction("readwrite");f.get(ko,function(p,y){if(p||void 0===y){var S=(new Date).getTime(),I=new Yi(ns(),4096,511|W.DIRECTORY,S,S,S);f.put(I.id,St(),!1,function(P){ti(P,f,c)&&f.put(ko,I.toBuffer(),!1,function(q){q?f.abort(function(){c(q)}):f.commit(c)})})}else f.commit(c)})},a.prototype._findINode=function(c,f,p,y){var S=this,I=function(P,q,se){P?y(P):se[p]?y(null,se[p]):y(b.ENOENT(D.resolve(f,p)))};"/"===f?""===p?y(null,ko):this.getINode(c,f,ko,function(P,q){Tn(P,y)&&S.getDirListing(c,f,q,function(se,we){I(se,0,we)})}):this.findINodeAndDirListing(c,f,I)},a.prototype.findINode=function(c,f,p){var y=this;this._findINode(c,D.dirname(f),D.basename(f),function(S,I){Tn(S,p)&&y.getINode(c,f,I,p)})},a.prototype.getINode=function(c,f,p,y){c.get(p,function(S,I){Tn(S,y)&&(void 0===I?y(b.ENOENT(f)):y(null,Yi.fromBuffer(I)))})},a.prototype.getDirListing=function(c,f,p,y){p.isDirectory()?c.get(p.id,function(S,I){if(Tn(S,y))try{y(null,JSON.parse(I.toString()))}catch{y(b.ENOENT(f))}}):y(b.ENOTDIR(f))},a.prototype.findINodeAndDirListing=function(c,f,p){var y=this;this.findINode(c,f,function(S,I){Tn(S,p)&&y.getDirListing(c,f,I,function(P,q){Tn(P,p)&&p(null,I,q)})})},a.prototype.addNewNode=function(c,f,p){var S,y=0,I=function(){5==++y?p(new b(_.EIO,"Unable to commit data to key-value store.")):(S=ns(),c.put(S,f,!1,function(P,q){P||!q?I():p(null,S)}))};I()},a.prototype.commitNewFile=function(c,f,p,y,S,I){var P=this,q=D.dirname(f),se=D.basename(f),we=(new Date).getTime();if("/"===f)return I(b.EEXIST(f));this.findINodeAndDirListing(c,q,function(Fe,Le,Qe){ti(Fe,c,I)&&(Qe[se]?c.abort(function(){I(b.EEXIST(f))}):P.addNewNode(c,S,function(vt,Lt){if(ti(vt,c,I)){var Sn=new Yi(Lt,S.length,y|p,we,we,we);P.addNewNode(c,Sn.toBuffer(),function(yi,fr){ti(yi,c,I)&&(Qe[se]=fr,c.put(Le.id,Y.from(JSON.stringify(Qe)),!0,function(xr){ti(xr,c,I)&&c.commit(function(ho){ti(ho,c,I)&&I(null,Sn)})}))})}}))})},a.prototype.removeEntry=function(c,f,p){var y=this,S=this.store.beginTransaction("readwrite"),I=D.dirname(c),P=D.basename(c);this.findINodeAndDirListing(S,I,function(q,se,we){if(ti(q,S,p))if(we[P]){var Fe=we[P];delete we[P],y.getINode(S,c,Fe,function(Le,Qe){ti(Le,S,p)&&(!f&&Qe.isDirectory()?S.abort(function(){p(b.EISDIR(c))}):f&&!Qe.isDirectory()?S.abort(function(){p(b.ENOTDIR(c))}):S.del(Qe.id,function(vt){ti(vt,S,p)&&S.del(Fe,function(Lt){ti(Lt,S,p)&&S.put(se.id,Y.from(JSON.stringify(we)),!0,function(Sn){ti(Sn,S,p)&&S.commit(p)})})}))})}else S.abort(function(){p(b.ENOENT(c))})})},a}(Be),Fs=function(){this.store={}};Fs.prototype.name=function(){return ma.Name},Fs.prototype.clear=function(){this.store={}},Fs.prototype.beginTransaction=function(a){return new so(this)},Fs.prototype.get=function(a){return this.store[a]},Fs.prototype.put=function(a,u,c){return!(!c&&this.store.hasOwnProperty(a)||(this.store[a]=u,0))},Fs.prototype.del=function(a){delete this.store[a]};var ma=function(d){function a(){d.call(this,{store:new Fs})}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.Create=function(c,f){f(null,new a)},a}(ao);ma.Name="InMemory",ma.Options={};var Kl=Qn.indexedDB||Qn.mozIndexedDB||Qn.webkitIndexedDB||Qn.msIndexedDB;function mc(d,a){switch(void 0===a&&(a=d.toString()),d.name){case"NotFoundError":return new b(_.ENOENT,a);case"QuotaExceededError":return new b(_.ENOSPC,a);default:return new b(_.EIO,a)}}function ya(d,a,u){return void 0===a&&(a=_.EIO),void 0===u&&(u=null),function(c){c.preventDefault(),d(new b(a,null!==u?u:void 0))}}var hf=function(a,u){this.tx=a,this.store=u};hf.prototype.get=function(a,u){try{var c=this.store.get(a);c.onerror=ya(u),c.onsuccess=function(f){var p=f.target.result;u(null,void 0===p?p:it(p))}}catch(f){u(mc(f))}};var qi=function(d){function a(u,c){d.call(this,u,c)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype.put=function(c,f,p,y){try{var I,S=Pe(f);(I=p?this.store.put(S,c):this.store.add(S,c)).onerror=ya(y),I.onsuccess=function(P){y(null,!0)}}catch(P){y(mc(P))}},a.prototype.del=function(c,f){try{var p=this.store.delete(c);p.onerror=ya(f),p.onsuccess=function(y){f()}}catch(y){f(mc(y))}},a.prototype.commit=function(c){setTimeout(c,0)},a.prototype.abort=function(c){var f=null;try{this.tx.abort()}catch(p){f=mc(p)}finally{c(f)}},a}(hf),ft=function(a,u){var c=this;void 0===u&&(u="browserfs"),this.storeName=u;var f=Kl.open(this.storeName,1);f.onupgradeneeded=function(p){var y=p.target.result;y.objectStoreNames.contains(c.storeName)&&y.deleteObjectStore(c.storeName),y.createObjectStore(c.storeName)},f.onsuccess=function(p){c.db=p.target.result,a(null,c)},f.onerror=ya(a,_.EACCES)};ft.prototype.name=function(){return yc.Name+" - "+this.storeName},ft.prototype.clear=function(a){try{var f=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).clear();f.onsuccess=function(p){setTimeout(a,0)},f.onerror=ya(a)}catch(p){a(mc(p))}},ft.prototype.beginTransaction=function(a){void 0===a&&(a="readonly");var u=this.db.transaction(this.storeName,a),c=u.objectStore(this.storeName);if("readwrite"===a)return new qi(u,c);if("readonly"===a)return new hf(u,c);throw new b(_.EINVAL,"Invalid transaction type.")};var yc=function(d){function a(u,c,f){var p=this;void 0===f&&(f=!0),d.call(this),this.store=new ft(function(y){y?u(y):p.init(p.store,function(S){u(S,p)})},c),Ot(f,a.Name,{storeName:c})}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.Create=function(c,f){new a(f,c.storeName,!1)},a.isAvailable=function(){try{return typeof Kl<"u"&&null!==Kl.open("__browserfs_test__")}catch{return!1}},a}(cE);yc.Name="IndexedDB",yc.Options={storeName:{type:"string",optional:!0,description:"The name of this file system. You can have multiple IndexedDB file systems operating at once, but each must have a different name."}};var _c,pf=!1;try{Qn.localStorage.setItem("__test__","\ud800"),pf="\ud800"===Qn.localStorage.getItem("__test__")}catch{pf=!1}Y.isEncoding(_c=pf?"binary_string":"binary_string_ie")||(_c="base64");var Rs=function(){};Rs.prototype.name=function(){return vc.Name},Rs.prototype.clear=function(){Qn.localStorage.clear()},Rs.prototype.beginTransaction=function(a){return new so(this)},Rs.prototype.get=function(a){try{var u=Qn.localStorage.getItem(a);if(null!==u)return Y.from(u,_c)}catch{}},Rs.prototype.put=function(a,u,c){try{return!(!c&&null!==Qn.localStorage.getItem(a)||(Qn.localStorage.setItem(a,u.toString(_c)),0))}catch{throw new b(_.ENOSPC,"LocalStorage is full.")}},Rs.prototype.del=function(a){try{Qn.localStorage.removeItem(a)}catch(u){throw new b(_.EIO,"Unable to delete key "+a+": "+u)}};var vc=function(d){function a(){d.call(this,{store:new Rs})}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.Create=function(c,f){f(null,new a)},a.isAvailable=function(){return typeof Qn.localStorage<"u"},a}(ao);vc.Name="LocalStorage",vc.Options={};var Ao,ut=function(d){function a(){d.call(this),this.mountList=[],this.mntMap={},this.rootFs=new ma}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.Create=function(c,f){var p=new a;Object.keys(c).forEach(function(y){p.mount(y,c[y])}),f(null,p)},a.isAvailable=function(){return!0},a.prototype.mount=function(c,f){if("/"!==c[0]&&(c="/"+c),c=D.resolve(c),this.mntMap[c])throw new b(_.EINVAL,"Mount point "+c+" is already taken.");ve(c,511,this.rootFs),this.mntMap[c]=f,this.mountList.push(c),this.mountList=this.mountList.sort(function(p,y){return y.length-p.length})},a.prototype.umount=function(c){if("/"!==c[0]&&(c="/"+c),c=D.resolve(c),!this.mntMap[c])throw new b(_.EINVAL,"Mount point "+c+" is already unmounted.");for(delete this.mntMap[c],this.mountList.splice(this.mountList.indexOf(c),1);"/"!==c&&0===this.rootFs.readdirSync(c).length;)this.rootFs.rmdirSync(c),c=D.dirname(c)},a.prototype._getFs=function(c){for(var p=this.mountList,y=p.length,S=0;S<y;S++){var I=p[S];if(I.length<=c.length&&0===c.indexOf(I))return""===(c=c.substr(I.length>1?I.length:0))&&(c="/"),{fs:this.mntMap[I],path:c}}return{fs:this.rootFs,path:c}},a.prototype.getName=function(){return a.Name},a.prototype.diskSpace=function(c,f){f(0,0)},a.prototype.isReadOnly=function(){return!1},a.prototype.supportsLinks=function(){return!1},a.prototype.supportsProps=function(){return!1},a.prototype.supportsSynch=function(){return!0},a.prototype.standardizeError=function(c,f,p){var y=c.message.indexOf(f);return-1!==y&&(c.message=c.message.substr(0,y)+p+c.message.substr(y+f.length),c.path=p),c},a.prototype.rename=function(c,f,p){var y=this,S=this._getFs(c),I=this._getFs(f);return S.fs===I.fs?S.fs.rename(S.path,I.path,function(P){P&&y.standardizeError(y.standardizeError(P,S.path,c),I.path,f),p(P)}):Ke.readFile(c,function(P,q){if(P)return p(P);Ke.writeFile(f,q,function(se){if(se)return p(se);Ke.unlink(c,p)})})},a.prototype.renameSync=function(c,f){var p=this._getFs(c),y=this._getFs(f);if(p.fs===y.fs)try{return p.fs.renameSync(p.path,y.path)}catch(I){throw this.standardizeError(this.standardizeError(I,p.path,c),y.path,f),I}var S=Ke.readFileSync(c);return Ke.writeFileSync(f,S),Ke.unlinkSync(c)},a.prototype.readdirSync=function(c){var f=this._getFs(c),p=null;if(f.fs!==this.rootFs)try{p=this.rootFs.readdirSync(c)}catch{}try{var y=f.fs.readdirSync(f.path);return null===p?y:y.concat(p.filter(function(S){return-1===y.indexOf(S)}))}catch(S){if(null===p)throw this.standardizeError(S,f.path,c);return p}},a.prototype.readdir=function(c,f){var p=this,y=this._getFs(c);y.fs.readdir(y.path,function(S,I){if(y.fs!==p.rootFs)try{var P=p.rootFs.readdirSync(c);I=I?I.concat(P.filter(function(q){return-1===I.indexOf(q)})):P}catch{if(S)return f(p.standardizeError(S,y.path,c))}else if(S)return f(p.standardizeError(S,y.path,c));f(null,I)})},a.prototype.rmdirSync=function(c){var f=this._getFs(c);if(this._containsMountPt(c))throw b.ENOTEMPTY(c);try{f.fs.rmdirSync(f.path)}catch(p){throw this.standardizeError(p,f.path,c)}},a.prototype.rmdir=function(c,f){var p=this,y=this._getFs(c);this._containsMountPt(c)?f(b.ENOTEMPTY(c)):y.fs.rmdir(y.path,function(S){f(S?p.standardizeError(S,y.path,c):null)})},a.prototype._containsMountPt=function(c){for(var f=this.mountList,p=f.length,y=0;y<p;y++){var S=f[y];if(S.length>=c.length&&S.slice(0,c.length)===c)return!0}return!1},a}(Be);function om(d,a,u){return a?function(){for(var c=[],f=arguments.length;f--;)c[f]=arguments[f];var p=c[0],y=this._getFs(p);c[0]=y.path;try{return y.fs[d].apply(y.fs,c)}catch(S){throw this.standardizeError(S,y.path,p),S}}:function(){for(var c=this,f=[],p=arguments.length;p--;)f[p]=arguments[p];var y=f[0],S=this._getFs(y);if(f[0]=S.path,"function"==typeof f[f.length-1]){var I=f[f.length-1];f[f.length-1]=function(){for(var P=[],q=arguments.length;q--;)P[q]=arguments[q];P.length>0&&P[0]instanceof b&&c.standardizeError(P[0],S.path,y),I.apply(null,P)}}return S.fs[d].apply(S.fs,f)}}ut.Name="MountableFileSystem",ut.Options={};for(var Qi=[["exists","unlink","readlink"],["stat","mkdir","realpath","truncate"],["open","readFile","chmod","utimes"],["chown"],["writeFile","appendFile"]],Po=0;Po<Qi.length;Po++)for(var wc=0,gf=Qi[Po];wc<gf.length;wc+=1){var is=gf[wc];ut.prototype[is]=om(is,!1),ut.prototype[is+"Sync"]=om(is+"Sync",!0)}if(typeof setImmediate<"u")Ao=setImmediate;else{var Vi=Qn,rs=[],mf="zero-timeout-message";if(function(){if(typeof Vi.importScripts<"u"||!Vi.postMessage)return!1;var d=!0,a=Vi.onmessage;return Vi.onmessage=function(){d=!1},Vi.postMessage("","*"),Vi.onmessage=a,d}()){Ao=function(d){rs.push(d),Vi.postMessage(mf,"*")};var Ec=function(d){if(d.source===self&&d.data===mf&&(d.stopPropagation?d.stopPropagation():d.cancelBubble=!0,rs.length>0))return rs.shift()()};Vi.addEventListener?Vi.addEventListener("message",Ec,!0):Vi.attachEvent("onmessage",Ec)}else if(Vi.MessageChannel){var Sc=new Vi.MessageChannel;Sc.port1.onmessage=function(d){if(rs.length>0)return rs.shift()()},Ao=function(d){rs.push(d),Sc.port2.postMessage("")}}else Ao=function(d){return setTimeout(d,0)}}var bc=Ao,os=function(){this._locked=!1,this._waiters=[]};os.prototype.lock=function(a){this._locked?this._waiters.push(a):(this._locked=!0,a())},os.prototype.unlock=function(){if(!this._locked)throw new Error("unlock of a non-locked mutex");var a=this._waiters.shift();a?bc(a):this._locked=!1},os.prototype.tryLock=function(){return!this._locked&&(this._locked=!0,!0)},os.prototype.isLocked=function(){return this._locked};var It=function(a){this._fs=a,this._mu=new os};It.prototype.getName=function(){return"LockedFS<"+this._fs.getName()+">"},It.prototype.getFSUnlocked=function(){return this._fs},It.prototype.initialize=function(a){this._fs.initialize(a)},It.prototype.diskSpace=function(a,u){this._fs.diskSpace(a,u)},It.prototype.isReadOnly=function(){return this._fs.isReadOnly()},It.prototype.supportsLinks=function(){return this._fs.supportsLinks()},It.prototype.supportsProps=function(){return this._fs.supportsProps()},It.prototype.supportsSynch=function(){return this._fs.supportsSynch()},It.prototype.rename=function(a,u,c){var f=this;this._mu.lock(function(){f._fs.rename(a,u,function(p){f._mu.unlock(),c(p)})})},It.prototype.renameSync=function(a,u){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.renameSync(a,u)},It.prototype.stat=function(a,u,c){var f=this;this._mu.lock(function(){f._fs.stat(a,u,function(p,y){f._mu.unlock(),c(p,y)})})},It.prototype.statSync=function(a,u){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.statSync(a,u)},It.prototype.open=function(a,u,c,f){var p=this;this._mu.lock(function(){p._fs.open(a,u,c,function(y,S){p._mu.unlock(),f(y,S)})})},It.prototype.openSync=function(a,u,c){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.openSync(a,u,c)},It.prototype.unlink=function(a,u){var c=this;this._mu.lock(function(){c._fs.unlink(a,function(f){c._mu.unlock(),u(f)})})},It.prototype.unlinkSync=function(a){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.unlinkSync(a)},It.prototype.rmdir=function(a,u){var c=this;this._mu.lock(function(){c._fs.rmdir(a,function(f){c._mu.unlock(),u(f)})})},It.prototype.rmdirSync=function(a){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.rmdirSync(a)},It.prototype.mkdir=function(a,u,c){var f=this;this._mu.lock(function(){f._fs.mkdir(a,u,function(p){f._mu.unlock(),c(p)})})},It.prototype.mkdirSync=function(a,u){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.mkdirSync(a,u)},It.prototype.readdir=function(a,u){var c=this;this._mu.lock(function(){c._fs.readdir(a,function(f,p){c._mu.unlock(),u(f,p)})})},It.prototype.readdirSync=function(a){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readdirSync(a)},It.prototype.exists=function(a,u){var c=this;this._mu.lock(function(){c._fs.exists(a,function(f){c._mu.unlock(),u(f)})})},It.prototype.existsSync=function(a){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.existsSync(a)},It.prototype.realpath=function(a,u,c){var f=this;this._mu.lock(function(){f._fs.realpath(a,u,function(p,y){f._mu.unlock(),c(p,y)})})},It.prototype.realpathSync=function(a,u){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.realpathSync(a,u)},It.prototype.truncate=function(a,u,c){var f=this;this._mu.lock(function(){f._fs.truncate(a,u,function(p){f._mu.unlock(),c(p)})})},It.prototype.truncateSync=function(a,u){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.truncateSync(a,u)},It.prototype.readFile=function(a,u,c,f){var p=this;this._mu.lock(function(){p._fs.readFile(a,u,c,function(y,S){p._mu.unlock(),f(y,S)})})},It.prototype.readFileSync=function(a,u,c){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readFileSync(a,u,c)},It.prototype.writeFile=function(a,u,c,f,p,y){var S=this;this._mu.lock(function(){S._fs.writeFile(a,u,c,f,p,function(I){S._mu.unlock(),y(I)})})},It.prototype.writeFileSync=function(a,u,c,f,p){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.writeFileSync(a,u,c,f,p)},It.prototype.appendFile=function(a,u,c,f,p,y){var S=this;this._mu.lock(function(){S._fs.appendFile(a,u,c,f,p,function(I){S._mu.unlock(),y(I)})})},It.prototype.appendFileSync=function(a,u,c,f,p){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.appendFileSync(a,u,c,f,p)},It.prototype.chmod=function(a,u,c,f){var p=this;this._mu.lock(function(){p._fs.chmod(a,u,c,function(y){p._mu.unlock(),f(y)})})},It.prototype.chmodSync=function(a,u,c){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.chmodSync(a,u,c)},It.prototype.chown=function(a,u,c,f,p){var y=this;this._mu.lock(function(){y._fs.chown(a,u,c,f,function(S){y._mu.unlock(),p(S)})})},It.prototype.chownSync=function(a,u,c,f){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.chownSync(a,u,c,f)},It.prototype.utimes=function(a,u,c,f){var p=this;this._mu.lock(function(){p._fs.utimes(a,u,c,function(y){p._mu.unlock(),f(y)})})},It.prototype.utimesSync=function(a,u,c){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.utimesSync(a,u,c)},It.prototype.link=function(a,u,c){var f=this;this._mu.lock(function(){f._fs.link(a,u,function(p){f._mu.unlock(),c(p)})})},It.prototype.linkSync=function(a,u){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.linkSync(a,u)},It.prototype.symlink=function(a,u,c,f){var p=this;this._mu.lock(function(){p._fs.symlink(a,u,c,function(y){p._mu.unlock(),f(y)})})},It.prototype.symlinkSync=function(a,u,c){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.symlinkSync(a,u,c)},It.prototype.readlink=function(a,u){var c=this;this._mu.lock(function(){c._fs.readlink(a,function(f,p){c._mu.unlock(),u(f,p)})})},It.prototype.readlinkSync=function(a){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readlinkSync(a)};var Sr="/.deletedFiles.log";function sm(d){return 146|d}function ur(d){return R.getFileFlag(d)}var am=function(d){function a(u,c,f,p,y){d.call(this,u,c,f,p,y)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype.sync=function(c){var f=this;this.isDirty()?this._fs._syncAsync(this,function(p){f.resetDirty(),c(p)}):c(null)},a.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},a.prototype.close=function(c){this.sync(c)},a.prototype.closeSync=function(){this.syncSync()},a}(mn),cm=function(d){function a(u,c){if(d.call(this),this._isInitialized=!1,this._initializeCallbacks=[],this._deletedFiles={},this._deleteLog="",this._deleteLogUpdatePending=!1,this._deleteLogUpdateNeeded=!1,this._deleteLogError=null,this._writable=u,this._readable=c,this._writable.isReadOnly())throw new b(_.EINVAL,"Writable file system must be writable.")}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.isAvailable=function(){return!0},a.prototype.getOverlayedFileSystems=function(){return{readable:this._readable,writable:this._writable}},a.prototype._syncAsync=function(c,f){var p=this;this.createParentDirectoriesAsync(c.getPath(),function(y){if(y)return f(y);p._writable.writeFile(c.getPath(),c.getBuffer(),null,ur("w"),c.getStats().mode,f)})},a.prototype._syncSync=function(c){this.createParentDirectories(c.getPath()),this._writable.writeFileSync(c.getPath(),c.getBuffer(),null,ur("w"),c.getStats().mode)},a.prototype.getName=function(){return ss.Name},a.prototype.initialize=function(c){var f=this,p=this._initializeCallbacks,y=function(S){f._isInitialized=!S,f._initializeCallbacks=[],p.forEach(function(I){return I(S)})};if(this._isInitialized)return c();p.push(c),1===p.length&&this._writable.readFile(Sr,"utf8",ur("r"),function(S,I){if(S){if(S.errno!==_.ENOENT)return y(S)}else f._deleteLog=I;f._reparseDeletionLog(),y()})},a.prototype.isReadOnly=function(){return!1},a.prototype.supportsSynch=function(){return this._readable.supportsSynch()&&this._writable.supportsSynch()},a.prototype.supportsLinks=function(){return!1},a.prototype.supportsProps=function(){return this._readable.supportsProps()&&this._writable.supportsProps()},a.prototype.getDeletionLog=function(){return this._deleteLog},a.prototype.restoreDeletionLog=function(c){this._deleteLog=c,this._reparseDeletionLog(),this.updateLog("")},a.prototype.rename=function(c,f,p){var y=this;if(this.checkInitAsync(p)&&!this.checkPathAsync(c,p)&&!this.checkPathAsync(f,p)){if(c===Sr||f===Sr)return p(b.EPERM("Cannot rename deletion log."));if(c===f)return p();this.stat(c,!1,function(S,I){return S?p(S):y.stat(f,!1,function(P,q){var se=y;function we(Le){var Qe=Le.shift();if(!Qe)return p();var vt=D.resolve(c,Qe),Lt=D.resolve(f,Qe);se.rename(vt,Lt,function(Sn){if(Sn)return p(Sn);we(Le)})}var Fe=511;if(I.isDirectory()){if(P)return P.errno!==_.ENOENT?p(P):y._writable.exists(c,function(Le){if(Le)return y._writable.rename(c,f,p);y._writable.mkdir(f,Fe,function(Qe){if(Qe)return p(Qe);y._readable.readdir(c,function(vt,Lt){if(vt)return p();we(Lt)})})});if(Fe=q.mode,!q.isDirectory())return p(b.ENOTDIR(f));y.readdir(f,function(Le,Qe){if(Qe&&Qe.length)return p(b.ENOTEMPTY(f));y._readable.readdir(c,function(vt,Lt){if(vt)return p();we(Lt)})})}if(q&&q.isDirectory())return p(b.EISDIR(f));y.readFile(c,null,ur("r"),function(Le,Qe){return Le?p(Le):y.writeFile(f,Qe,null,ur("w"),I.mode,function(vt){return vt?p(vt):y.unlink(c,p)})})})})}},a.prototype.renameSync=function(c,f){var p=this;if(this.checkInitialized(),this.checkPath(c),this.checkPath(f),c===Sr||f===Sr)throw b.EPERM("Cannot rename deletion log.");var y=this.statSync(c,!1);if(y.isDirectory()){if(c===f)return;var S=511;if(this.existsSync(f)){var I=this.statSync(f,!1);if(S=I.mode,!I.isDirectory())throw b.ENOTDIR(f);if(this.readdirSync(f).length>0)throw b.ENOTEMPTY(f)}this._writable.existsSync(c)?this._writable.renameSync(c,f):this._writable.existsSync(f)||this._writable.mkdirSync(f,S),this._readable.existsSync(c)&&this._readable.readdirSync(c).forEach(function(P){p.renameSync(D.resolve(c,P),D.resolve(f,P))})}else{if(this.existsSync(f)&&this.statSync(f,!1).isDirectory())throw b.EISDIR(f);this.writeFileSync(f,this.readFileSync(c,null,ur("r")),null,ur("w"),y.mode)}c!==f&&this.existsSync(c)&&this.unlinkSync(c)},a.prototype.stat=function(c,f,p){var y=this;this.checkInitAsync(p)&&this._writable.stat(c,f,function(S,I){S&&S.errno===_.ENOENT?(y._deletedFiles[c]&&p(b.ENOENT(c)),y._readable.stat(c,f,function(P,q){q&&((q=q.clone()).mode=sm(q.mode)),p(P,q)})):p(S,I)})},a.prototype.statSync=function(c,f){this.checkInitialized();try{return this._writable.statSync(c,f)}catch{if(this._deletedFiles[c])throw b.ENOENT(c);var p=this._readable.statSync(c,f).clone();return p.mode=sm(p.mode),p}},a.prototype.open=function(c,f,p,y){var S=this;!this.checkInitAsync(y)||this.checkPathAsync(c,y)||this.stat(c,!1,function(I,P){if(!P)return f.pathNotExistsAction()===Q.CREATE_FILE?S.createParentDirectoriesAsync(c,function(q){return q?y(q):S._writable.open(c,f,p,y)}):y(b.ENOENT(c));switch(f.pathExistsAction()){case Q.TRUNCATE_FILE:return S.createParentDirectoriesAsync(c,function(q){if(q)return y(q);S._writable.open(c,f,p,y)});case Q.NOP:return S._writable.exists(c,function(q){q?S._writable.open(c,f,p,y):((P=P.clone()).mode=p,S._readable.readFile(c,null,ur("r"),function(se,we){if(se)return y(se);-1===P.size&&(P.size=we.length);var Fe=new am(S,c,f,P,we);y(null,Fe)}))});default:return y(b.EEXIST(c))}})},a.prototype.openSync=function(c,f,p){if(this.checkInitialized(),this.checkPath(c),c===Sr)throw b.EPERM("Cannot open deletion log.");if(!this.existsSync(c)){if(f.pathNotExistsAction()===Q.CREATE_FILE)return this.createParentDirectories(c),this._writable.openSync(c,f,p);throw b.ENOENT(c)}switch(f.pathExistsAction()){case Q.TRUNCATE_FILE:return this.createParentDirectories(c),this._writable.openSync(c,f,p);case Q.NOP:if(this._writable.existsSync(c))return this._writable.openSync(c,f,p);var y=this._readable.readFileSync(c,null,ur("r")),S=this._readable.statSync(c,!1).clone();return S.mode=p,new am(this,c,f,S,y);default:throw b.EEXIST(c)}},a.prototype.unlink=function(c,f){var p=this;!this.checkInitAsync(f)||this.checkPathAsync(c,f)||this.exists(c,function(y){if(!y)return f(b.ENOENT(c));p._writable.exists(c,function(S){if(S)return p._writable.unlink(c,function(I){if(I)return f(I);p.exists(c,function(P){P&&p.deletePath(c),f(null)})});p.deletePath(c),f(null)})})},a.prototype.unlinkSync=function(c){if(this.checkInitialized(),this.checkPath(c),!this.existsSync(c))throw b.ENOENT(c);this._writable.existsSync(c)&&this._writable.unlinkSync(c),this.existsSync(c)&&this.deletePath(c)},a.prototype.rmdir=function(c,f){var p=this;if(this.checkInitAsync(f)){var y=function(){p.readdir(c,function(S,I){return S?f(S):I.length?f(b.ENOTEMPTY(c)):(p.deletePath(c),void f(null))})};this.exists(c,function(S){if(!S)return f(b.ENOENT(c));p._writable.exists(c,function(I){I?p._writable.rmdir(c,function(P){if(P)return f(P);p._readable.exists(c,function(q){q?y():f()})}):y()})})}},a.prototype.rmdirSync=function(c){if(this.checkInitialized(),!this.existsSync(c))throw b.ENOENT(c);if(this._writable.existsSync(c)&&this._writable.rmdirSync(c),this.existsSync(c)){if(this.readdirSync(c).length>0)throw b.ENOTEMPTY(c);this.deletePath(c)}},a.prototype.mkdir=function(c,f,p){var y=this;this.checkInitAsync(p)&&this.exists(c,function(S){if(S)return p(b.EEXIST(c));y.createParentDirectoriesAsync(c,function(I){if(I)return p(I);y._writable.mkdir(c,f,p)})})},a.prototype.mkdirSync=function(c,f){if(this.checkInitialized(),this.existsSync(c))throw b.EEXIST(c);this.createParentDirectories(c),this._writable.mkdirSync(c,f)},a.prototype.readdir=function(c,f){var p=this;this.checkInitAsync(f)&&this.stat(c,!1,function(y,S){return y?f(y):S.isDirectory()?void p._writable.readdir(c,function(I,P){if(I&&"ENOENT"!==I.code)return f(I);(I||!P)&&(P=[]),p._readable.readdir(c,function(q,se){(q||!se)&&(se=[]);var we={},Fe=P.concat(se.filter(function(Le){return!p._deletedFiles[c+"/"+Le]})).filter(function(Le){var Qe=!we[Le];return we[Le]=!0,Qe});f(null,Fe)})}):f(b.ENOTDIR(c))})},a.prototype.readdirSync=function(c){var f=this;if(this.checkInitialized(),!this.statSync(c,!1).isDirectory())throw b.ENOTDIR(c);var y=[];try{y=y.concat(this._writable.readdirSync(c))}catch{}try{y=y.concat(this._readable.readdirSync(c).filter(function(I){return!f._deletedFiles[c+"/"+I]}))}catch{}var S={};return y.filter(function(I){var P=!S[I];return S[I]=!0,P})},a.prototype.exists=function(c,f){var p=this;this.checkInitialized(),this._writable.exists(c,function(y){if(y)return f(!0);p._readable.exists(c,function(S){f(S&&!0!==p._deletedFiles[c])})})},a.prototype.existsSync=function(c){return this.checkInitialized(),this._writable.existsSync(c)||this._readable.existsSync(c)&&!0!==this._deletedFiles[c]},a.prototype.chmod=function(c,f,p,y){var S=this;this.checkInitAsync(y)&&this.operateOnWritableAsync(c,function(I){if(I)return y(I);S._writable.chmod(c,f,p,y)})},a.prototype.chmodSync=function(c,f,p){var y=this;this.checkInitialized(),this.operateOnWritable(c,function(){y._writable.chmodSync(c,f,p)})},a.prototype.chown=function(c,f,p,y,S){var I=this;this.checkInitAsync(S)&&this.operateOnWritableAsync(c,function(P){if(P)return S(P);I._writable.chown(c,f,p,y,S)})},a.prototype.chownSync=function(c,f,p,y){var S=this;this.checkInitialized(),this.operateOnWritable(c,function(){S._writable.chownSync(c,f,p,y)})},a.prototype.utimes=function(c,f,p,y){var S=this;this.checkInitAsync(y)&&this.operateOnWritableAsync(c,function(I){if(I)return y(I);S._writable.utimes(c,f,p,y)})},a.prototype.utimesSync=function(c,f,p){var y=this;this.checkInitialized(),this.operateOnWritable(c,function(){y._writable.utimesSync(c,f,p)})},a.prototype.deletePath=function(c){this._deletedFiles[c]=!0,this.updateLog("d"+c+"\n")},a.prototype.updateLog=function(c){var f=this;this._deleteLog+=c,this._deleteLogUpdatePending?this._deleteLogUpdateNeeded=!0:(this._deleteLogUpdatePending=!0,this._writable.writeFile(Sr,this._deleteLog,"utf8",R.getFileFlag("w"),420,function(p){f._deleteLogUpdatePending=!1,p?f._deleteLogError=p:f._deleteLogUpdateNeeded&&(f._deleteLogUpdateNeeded=!1,f.updateLog(""))}))},a.prototype._reparseDeletionLog=function(){var c=this;this._deletedFiles={},this._deleteLog.split("\n").forEach(function(f){c._deletedFiles[f.slice(1)]="d"===f.slice(0,1)})},a.prototype.checkInitialized=function(){if(!this._isInitialized)throw new b(_.EPERM,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.");if(null!==this._deleteLogError){var c=this._deleteLogError;throw this._deleteLogError=null,c}},a.prototype.checkInitAsync=function(c){if(!this._isInitialized)return c(new b(_.EPERM,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.")),!1;if(null!==this._deleteLogError){var f=this._deleteLogError;return this._deleteLogError=null,c(f),!1}return!0},a.prototype.checkPath=function(c){if(c===Sr)throw b.EPERM(c)},a.prototype.checkPathAsync=function(c,f){return c===Sr&&(f(b.EPERM(c)),!0)},a.prototype.createParentDirectoriesAsync=function(c,f){var p=D.dirname(c),y=[],S=this;function P(){if(!y.length)return f();var q=y.pop();S._readable.stat(q,!1,function(se,we){if(!we)return f();S._writable.mkdir(q,we.mode,function(Fe){if(Fe)return f(Fe);P()})})}this._writable.stat(p,!1,function I(q,se){q?(y.push(p),p=D.dirname(p),S._writable.stat(p,!1,I)):P()})},a.prototype.createParentDirectories=function(c){for(var f=this,p=D.dirname(c),y=[];!this._writable.existsSync(p);)y.push(p),p=D.dirname(p);(y=y.reverse()).forEach(function(S){f._writable.mkdirSync(S,f.statSync(S,!1).mode)})},a.prototype.operateOnWritable=function(c,f){if(!this.existsSync(c))throw b.ENOENT(c);this._writable.existsSync(c)||this.copyToWritable(c),f()},a.prototype.operateOnWritableAsync=function(c,f){var p=this;this.exists(c,function(y){if(!y)return f(b.ENOENT(c));p._writable.exists(c,function(S){if(!S)return p.copyToWritableAsync(c,f);f()})})},a.prototype.copyToWritable=function(c){var f=this.statSync(c,!1);f.isDirectory()?this._writable.mkdirSync(c,f.mode):this.writeFileSync(c,this._readable.readFileSync(c,null,ur("r")),null,ur("w"),this.statSync(c,!1).mode)},a.prototype.copyToWritableAsync=function(c,f){var p=this;this.stat(c,!1,function(y,S){return y?f(y):S.isDirectory()?p._writable.mkdir(c,S.mode,f):void p._readable.readFile(c,null,ur("r"),function(I,P){if(I)return f(I);p.writeFile(c,P,null,ur("w"),S.mode,f)})})},a}(Be),ss=function(d){function a(u,c,f){void 0===f&&(f=!0),d.call(this,new cm(u,c)),Ot(f,a.Name,{readable:"readable file system",writable:"writable file system"})}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.Create=function(c,f){try{var p=new a(c.writable,c.readable,!1);p.initialize(function(y){f(y,p)},!1)}catch(y){f(y)}},a.isAvailable=function(){return cm.isAvailable()},a.prototype.initialize=function(c,f){void 0===f&&(f=!0),f&&console.warn("[OverlayFS] OverlayFS.initialize() is deprecated and will be removed in the next major release. Please use 'OverlayFS.Create({readable: readable file system instance, writable: writable file system instance}, cb)' to create and initialize OverlayFS instances."),d.prototype.initialize.call(this,c)},a.prototype.getOverlayedFileSystems=function(){return d.prototype.getFSUnlocked.call(this).getOverlayedFileSystems()},a.prototype.unwrap=function(){return d.prototype.getFSUnlocked.call(this)},a}(It);ss.Name="OverlayFS",ss.Options={writable:{type:"object",description:"The file system to write modified files to."},readable:{type:"object",description:"The file system that initially populates this file system."}};var En=function(d){return d[d.CB=0]="CB",d[d.FD=1]="FD",d[d.API_ERROR=2]="API_ERROR",d[d.STATS=3]="STATS",d[d.PROBE=4]="PROBE",d[d.FILEFLAG=5]="FILEFLAG",d[d.BUFFER=6]="BUFFER",d[d.ERROR=7]="ERROR",d}(En||{}),_a=function(){this._callbacks={},this._nextId=0};_a.prototype.toRemoteArg=function(a){var u=this._nextId++;return this._callbacks[u]=a,{type:En.CB,id:u}},_a.prototype.toLocalArg=function(a){var u=this._callbacks[a];return delete this._callbacks[a],u};var Ls=function(){this._fileDescriptors={},this._nextId=0};function va(d){return{type:En.API_ERROR,errorData:as(d.writeToBuffer())}}function Ur(d){return b.fromBuffer(Vs(d.errorData))}function Bs(d){return{type:En.ERROR,name:d.name,message:d.message,stack:d.stack}}function Xl(d){var a=Qn[d.name];"function"!=typeof a&&(a=Error);var u=new a(d.message);return u.stack=d.stack,u}function Mt(d){return{type:En.STATS,statsData:as(d.toBuffer())}}function Xt(d){return ie.fromBuffer(Vs(d.statsData))}function lm(d){return{type:En.FILEFLAG,flagStr:d.getFlagString()}}function yf(d){return R.getFileFlag(d.flagStr)}function as(d){return Pe(d)}function Vs(d){return it(d)}function _f(d){return{type:En.BUFFER,data:as(d)}}function Cc(d){return Vs(d.data)}Ls.prototype.toRemoteArg=function(a,u,c,f){var y,S,p=this._nextId++;this._fileDescriptors[p]=a,a.stat(function(I,P){I?f(I):(S=as(P.toBuffer()),c.isReadable()?a.read(Y.alloc(P.size),0,P.size,0,function(q,se,we){q?f(q):(y=as(we),f(null,{type:En.FD,id:p,data:y,stat:S,path:u,flag:c.getFlagString()}))}):f(null,{type:En.FD,id:p,data:new ArrayBuffer(0),stat:S,path:u,flag:c.getFlagString()}))})},Ls.prototype.applyFdAPIRequest=function(a,u){var c=this,f=a.args[0];this._applyFdChanges(f,function(p,y){p?u(p):y[a.method](function(S){"close"===a.method&&delete c._fileDescriptors[f.id],u(S)})})},Ls.prototype._applyFdChanges=function(a,u){var c=this._fileDescriptors[a.id],f=Vs(a.data),p=ie.fromBuffer(Vs(a.stat)),y=R.getFileFlag(a.flag);y.isWriteable()?c.write(f,0,f.length,y.isAppendable()?c.getPos():0,function(S){function I(){c.stat(function(P,q){P?u(P):q.mode!==p.mode?c.chmod(p.mode,function(se){u(se,c)}):u(P,c)})}S?u(S):y.isAppendable()?I():c.truncate(f.length,function(){I()})}):u(null,c)};var eu=function(d){function a(u,c,f,p,y,S){d.call(this,u,c,f,p,S),this._remoteFdId=y}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype.getRemoteFdId=function(){return this._remoteFdId},a.prototype.toRemoteArg=function(){return{type:En.FD,id:this._remoteFdId,data:as(this.getBuffer()),stat:as(this.getStats().toBuffer()),path:this.getPath(),flag:this.getFlag().getFlagString()}},a.prototype.sync=function(c){this._syncClose("sync",c)},a.prototype.close=function(c){this._syncClose("close",c)},a.prototype._syncClose=function(c,f){var p=this;this.isDirty()?this._fs.syncClose(c,this,function(y){y||p.resetDirty(),f(y)}):f()},a}(mn),mi=function(d){function a(u,c){var f=this;void 0===c&&(c=!0),d.call(this),this._callbackConverter=new _a,this._isInitialized=!1,this._isReadOnly=!1,this._supportLinks=!1,this._supportProps=!1,this._worker=u,Ot(c,a.Name,{worker:"Web Worker instance"}),this._worker.addEventListener("message",function(p){var y=p.data;if(function Jl(d){return d&&"object"==typeof d&&d.hasOwnProperty("browserfsMessage")&&d.browserfsMessage}(y)){var S,I=y.args,P=new Array(I.length);for(S=0;S<P.length;S++)P[S]=f._argRemote2Local(I[S]);f._callbackConverter.toLocalArg(y.cbId).apply(null,P)}})}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.Create=function(c,f){var p=new a(c.worker,!1);p.initialize(function(){f(null,p)})},a.isAvailable=function(){return typeof importScripts<"u"||typeof Worker<"u"},a.attachRemoteListener=function(c){var f=new Ls;function p(S,I,P){"object"==typeof S?S instanceof ie?P(null,Mt(S)):S instanceof b?P(null,va(S)):S instanceof rt?P(null,f.toRemoteArg(S,I[0],I[1],P)):S instanceof R?P(null,lm(S)):S instanceof Y?P(null,_f(S)):S instanceof Error?P(null,Bs(S)):P(null,S):P(null,S)}function y(S,I){if(!S)return S;if("object"==typeof S){if("number"!=typeof S.type)return S;var P=S;switch(P.type){case En.CB:var q=S.id;return function(){var we,Le,se=arguments,Fe=new Array(arguments.length),Qe=arguments.length;function vt(Lt){Qe>0&&(Qe=-1,Le={browserfsMessage:!0,cbId:q,args:[va(Lt)]},c.postMessage(Le))}for(we=0;we<arguments.length;we++)!function(Lt,Sn){p(Sn,I,function(yi,fr){Fe[Lt]=fr,yi?vt(yi):0==--Qe&&c.postMessage(Le={browserfsMessage:!0,cbId:q,args:Fe})})}(we,se[we]);0===arguments.length&&c.postMessage(Le={browserfsMessage:!0,cbId:q,args:Fe})};case En.API_ERROR:return Ur(P);case En.STATS:return Xt(P);case En.FILEFLAG:return yf(P);case En.BUFFER:return Cc(P);case En.ERROR:return Xl(P);default:return S}}return S}c.addEventListener("message",function(S){var Fe,I=S.data;if(function Zt(d){return d&&"object"==typeof d&&d.hasOwnProperty("browserfsMessage")&&d.browserfsMessage}(I)){var P=I.args,q=new Array(P.length);switch(I.method){case"close":case"sync":Fe=P[1],f.applyFdAPIRequest(I,function(Le){var Qe={browserfsMessage:!0,cbId:Fe.id,args:Le?[va(Le)]:[]};c.postMessage(Qe)});break;case"probe":!function(){var Fe=Ke.getRootFS(),Le=P[1],Qe={type:En.PROBE,isReadOnly:Fe.isReadOnly(),supportsLinks:Fe.supportsLinks(),supportsProps:Fe.supportsProps()};c.postMessage({browserfsMessage:!0,cbId:Le.id,args:[Qe]})}();break;default:for(var se=0;se<P.length;se++)q[se]=y(P[se],q);var we=Ke.getRootFS();we[I.method].apply(we,q)}}})},a.prototype.getName=function(){return a.Name},a.prototype.initialize=function(c){var f=this;if(this._isInitialized)c();else{var p={browserfsMessage:!0,method:"probe",args:[this._argLocal2Remote(Kt()),this._callbackConverter.toRemoteArg(function(y){f._isInitialized=!0,f._isReadOnly=y.isReadOnly,f._supportLinks=y.supportsLinks,f._supportProps=y.supportsProps,c()})]};this._worker.postMessage(p)}},a.prototype.isReadOnly=function(){return this._isReadOnly},a.prototype.supportsSynch=function(){return!1},a.prototype.supportsLinks=function(){return this._supportLinks},a.prototype.supportsProps=function(){return this._supportProps},a.prototype.rename=function(c,f,p){this._rpc("rename",arguments)},a.prototype.stat=function(c,f,p){this._rpc("stat",arguments)},a.prototype.open=function(c,f,p,y){this._rpc("open",arguments)},a.prototype.unlink=function(c,f){this._rpc("unlink",arguments)},a.prototype.rmdir=function(c,f){this._rpc("rmdir",arguments)},a.prototype.mkdir=function(c,f,p){this._rpc("mkdir",arguments)},a.prototype.readdir=function(c,f){this._rpc("readdir",arguments)},a.prototype.exists=function(c,f){this._rpc("exists",arguments)},a.prototype.realpath=function(c,f,p){this._rpc("realpath",arguments)},a.prototype.truncate=function(c,f,p){this._rpc("truncate",arguments)},a.prototype.readFile=function(c,f,p,y){this._rpc("readFile",arguments)},a.prototype.writeFile=function(c,f,p,y,S,I){this._rpc("writeFile",arguments)},a.prototype.appendFile=function(c,f,p,y,S,I){this._rpc("appendFile",arguments)},a.prototype.chmod=function(c,f,p,y){this._rpc("chmod",arguments)},a.prototype.chown=function(c,f,p,y,S){this._rpc("chown",arguments)},a.prototype.utimes=function(c,f,p,y){this._rpc("utimes",arguments)},a.prototype.link=function(c,f,p){this._rpc("link",arguments)},a.prototype.symlink=function(c,f,p,y){this._rpc("symlink",arguments)},a.prototype.readlink=function(c,f){this._rpc("readlink",arguments)},a.prototype.syncClose=function(c,f,p){this._worker.postMessage({browserfsMessage:!0,method:c,args:[f.toRemoteArg(),this._callbackConverter.toRemoteArg(p)]})},a.prototype._argRemote2Local=function(c){if(!c)return c;if("object"==typeof c){if("number"!=typeof c.type)return c;var f=c;switch(f.type){case En.API_ERROR:return Ur(f);case En.FD:var p=f;return new eu(this,p.path,R.getFileFlag(p.flag),ie.fromBuffer(Vs(p.stat)),p.id,Vs(p.data));case En.STATS:return Xt(f);case En.FILEFLAG:return yf(f);case En.BUFFER:return Cc(f);case En.ERROR:return Xl(f);default:return c}}return c},a.prototype._rpc=function(c,f){for(var y=new Array(f.length),S=0;S<f.length;S++)y[S]=this._argLocal2Remote(f[S]);this._worker.postMessage({browserfsMessage:!0,method:c,args:y})},a.prototype._argLocal2Remote=function(c){if(!c)return c;switch(typeof c){case"object":return c instanceof ie?Mt(c):c instanceof b?va(c):c instanceof eu?c.toRemoteArg():c instanceof R?lm(c):c instanceof Y?_f(c):c instanceof Error?Bs(c):"Unknown argument";case"function":return this._callbackConverter.toRemoteArg(c);default:return c}},a}(Be);function Us(d,a,u){var c=new XMLHttpRequest;c.open("HEAD",a,d),c.onreadystatechange=function(f){if(4===c.readyState){if(200!==c.status)return u(new b(c.status,"XHR HEAD error."));try{return u(null,parseInt(c.getResponseHeader("Content-Length")||"-1",10))}catch{return u(new b(_.EIO,"XHR HEAD error: Could not read content-length."))}}},c.send()}mi.Name="WorkerFS",mi.Options={worker:{type:"object",description:"The target worker that you want to connect to, or the current worker if in a worker context.",validator:function(d,a){d.postMessage?a():a(new b(_.EINVAL,"option must be a Web Worker instance."))}}};var Ic=function vf(d,a,u){var c=new XMLHttpRequest;c.open("GET",d,!0);var f=!0;switch(a){case"buffer":c.responseType="arraybuffer";break;case"json":try{c.responseType="json",f="json"===c.responseType}catch{f=!1}break;default:return u(new b(_.EINVAL,"Invalid download type: "+a))}c.onreadystatechange=function(p){if(4===c.readyState){if(200!==c.status)return u(new b(c.status,"XHR error."));switch(a){case"buffer":return u(null,c.response?Y.from(c.response):Kt());case"json":return u(null,f?c.response:JSON.parse(c.responseText))}}},c.send()},Dc=yt&&typeof Blob<"u"?function dE(d,a){var c,f,u=new XMLHttpRequest;switch(u.open("GET",d,!1),a){case"buffer":u.responseType="arraybuffer";break;case"json":break;default:throw new b(_.EINVAL,"Invalid download type: "+a)}if(u.onreadystatechange=function(p){if(4===u.readyState)if(200===u.status)switch(a){case"buffer":c=Y.from(u.response);break;case"json":c=JSON.parse(u.response)}else f=new b(u.status,"XHR error.")},u.send(),f)throw f;return c}:function uE(d,a){var u=new XMLHttpRequest;u.open("GET",d,!1);var c=null,f=null;if(u.overrideMimeType("text/plain; charset=x-user-defined"),u.onreadystatechange=function(p){if(4===u.readyState){if(200!==u.status)return void(f=new b(u.status,"XHR error."));switch(a){case"buffer":var y=u.responseText;c=Y.alloc(y.length);for(var S=0;S<y.length;S++)c[S]=y.charCodeAt(S);return;case"json":return void(c=JSON.parse(u.responseText))}}},u.send(),f)throw f;return c};var dr=function(){this._index={},this.addPath("/",new ni)};dr.fromListing=function(a){var u=new dr,c=new ni;u._index["/"]=c;for(var f=[["",a,c]];f.length>0;){var p=void 0,y=f.pop(),S=y[0],I=y[1],P=y[2];for(var q in I)if(I.hasOwnProperty(q)){var se=I[q],we=S+"/"+q;se?(u._index[we]=p=new ni,f.push([we,se,p])):p=new cs(new ie(W.FILE,-1,365)),P&&(P._ls[q]=p)}}return u},dr.prototype.fileIterator=function(a){var u=this;for(var c in u._index)if(u._index.hasOwnProperty(c))for(var f=u._index[c],y=0,S=f.getListing();y<S.length;y+=1){var P=f.getItem(S[y]);co(P)&&a(P.getData())}},dr.prototype.addPath=function(a,u){if(!u)throw new Error("Inode must be specified");if("/"!==a[0])throw new Error("Path must be absolute, got: "+a);if(this._index.hasOwnProperty(a))return this._index[a]===u;var c=this._split_path(a),f=c[0],p=c[1],y=this._index[f];return!(void 0===y&&"/"!==a&&(y=new ni,!this.addPath(f,y))||"/"!==a&&!y.addItem(p,u)||(Ai(u)&&(this._index[a]=u),0))},dr.prototype.addPathFast=function(a,u){var c=a.lastIndexOf("/"),f=0===c?"/":a.substring(0,c),p=a.substring(c+1),y=this._index[f];return void 0===y&&(y=new ni,this.addPathFast(f,y)),!!y.addItem(p,u)&&(u.isDir()&&(this._index[a]=u),!0)},dr.prototype.removePath=function(a){var c=this._split_path(a),y=this._index[c[0]];if(void 0===y)return null;var S=y.remItem(c[1]);if(null===S)return null;if(Ai(S)){for(var P=0,q=S.getListing();P<q.length;P+=1)this.removePath(a+"/"+q[P]);"/"!==a&&delete this._index[a]}return S},dr.prototype.ls=function(a){var u=this._index[a];return void 0===u?null:u.getListing()},dr.prototype.getInode=function(a){var u=this._split_path(a),c=u[0],p=this._index[c];return void 0===p?null:c===a?p:p.getItem(u[1])},dr.prototype._split_path=function(a){var u=D.dirname(a);return[u,a.substr(u.length+("/"===u?0:1))]};var cs=function(a){this.data=a};cs.prototype.isFile=function(){return!0},cs.prototype.isDir=function(){return!1},cs.prototype.getData=function(){return this.data},cs.prototype.setData=function(a){this.data=a};var ni=function(a){void 0===a&&(a=null),this.data=a,this._ls={}};function co(d){return!!d&&d.isFile()}function Ai(d){return!!d&&d.isDir()}ni.prototype.isFile=function(){return!1},ni.prototype.isDir=function(){return!0},ni.prototype.getData=function(){return this.data},ni.prototype.getStats=function(){return new ie(W.DIRECTORY,4096,365)},ni.prototype.getListing=function(){return Object.keys(this._ls)},ni.prototype.getItem=function(a){return this._ls[a]||null},ni.prototype.addItem=function(a,u){return!(a in this._ls)&&(this._ls[a]=u,!0)},ni.prototype.remItem=function(a){var u=this._ls[a];return void 0===u?null:(delete this._ls[a],u)};var Nt=function(d){function a(u,c,f){void 0===c&&(c=""),void 0===f&&(f=!0),d.call(this),u||(u="index.json"),c.length>0&&"/"!==c.charAt(c.length-1)&&(c+="/"),this.prefixUrl=c;var p=null;if("string"==typeof u){if(!(p=this._requestFileSync(u,"json")))throw new Error("Unable to find listing at URL: ${listingUrlOrObj}")}else p=u;Ot(f,a.Name,{index:"string"==typeof u?u:"file index as an object",baseUrl:c}),this._index=dr.fromListing(p)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.Create=function(c,f){void 0===c.index&&(c.index="index.json"),"string"==typeof c.index?a.FromURL(c.index,f,c.baseUrl,!1):f(null,new a(c.index,c.baseUrl,!1))},a.isAvailable=function(){return typeof XMLHttpRequest<"u"&&null!==XMLHttpRequest},a.FromURL=function(c,f,p,y){void 0===p&&(p=c.slice(0,c.lastIndexOf("/")+1)),void 0===y&&(y=!0),y&&console.warn("[XmlHttpRequest] XmlHttpRequest.FromURL() is deprecated and will be removed in the next major release. Please use 'XmlHttpRequest.Create({ index: \""+c+'", baseUrl: "'+p+"\" }, cb)' instead."),Ic(c,"json",function(S,I){S?f(S):f(null,new a(I,p,!1))})},a.prototype.empty=function(){this._index.fileIterator(function(c){c.fileData=null})},a.prototype.getName=function(){return a.Name},a.prototype.diskSpace=function(c,f){f(0,0)},a.prototype.isReadOnly=function(){return!0},a.prototype.supportsLinks=function(){return!1},a.prototype.supportsProps=function(){return!1},a.prototype.supportsSynch=function(){return!0},a.prototype.preloadFile=function(c,f){var p=this._index.getInode(c);if(!co(p))throw b.EISDIR(c);if(null===p)throw b.ENOENT(c);var y=p.getData();y.size=f.length,y.fileData=f},a.prototype.stat=function(c,f,p){var S,y=this._index.getInode(c);if(null===y)return p(b.ENOENT(c));co(y)?(S=y.getData()).size<0?this._requestFileSizeAsync(c,function(I,P){if(I)return p(I);S.size=P,p(null,S.clone())}):p(null,S.clone()):Ai(y)?(S=y.getStats(),p(null,S)):p(b.FileError(_.EINVAL,c))},a.prototype.statSync=function(c,f){var y,p=this._index.getInode(c);if(null===p)throw b.ENOENT(c);if(co(p))(y=p.getData()).size<0&&(y.size=this._requestFileSizeSync(c));else{if(!Ai(p))throw b.FileError(_.EINVAL,c);y=p.getStats()}return y},a.prototype.open=function(c,f,p,y){if(f.isWriteable())return y(new b(_.EPERM,c));var S=this,I=this._index.getInode(c);if(null===I)return y(b.ENOENT(c));if(!co(I))return y(b.EISDIR(c));var P=I.getData();switch(f.pathExistsAction()){case Q.THROW_EXCEPTION:case Q.TRUNCATE_FILE:return y(b.EEXIST(c));case Q.NOP:if(P.fileData)return y(null,new Jn(S,c,f,P.clone(),P.fileData));this._requestFileAsync(c,"buffer",function(q,se){return q?y(q):(P.size=se.length,P.fileData=se,y(null,new Jn(S,c,f,P.clone(),se)))});break;default:return y(new b(_.EINVAL,"Invalid FileMode object."))}},a.prototype.openSync=function(c,f,p){if(f.isWriteable())throw new b(_.EPERM,c);var y=this._index.getInode(c);if(null===y)throw b.ENOENT(c);if(!co(y))throw b.EISDIR(c);var S=y.getData();switch(f.pathExistsAction()){case Q.THROW_EXCEPTION:case Q.TRUNCATE_FILE:throw b.EEXIST(c);case Q.NOP:if(S.fileData)return new Jn(this,c,f,S.clone(),S.fileData);var I=this._requestFileSync(c,"buffer");return S.size=I.length,S.fileData=I,new Jn(this,c,f,S.clone(),I);default:throw new b(_.EINVAL,"Invalid FileMode object.")}},a.prototype.readdir=function(c,f){try{f(null,this.readdirSync(c))}catch(p){f(p)}},a.prototype.readdirSync=function(c){var f=this._index.getInode(c);if(null===f)throw b.ENOENT(c);if(Ai(f))return f.getListing();throw b.ENOTDIR(c)},a.prototype.readFile=function(c,f,p,y){var S=y;this.open(c,p,420,function(I,P){if(I)return y(I);y=function(we,Fe){P.close(function(Le){return we||(we=Le),S(we,Fe)})};var se=P.getBuffer();null===f?y(I,_t(se)):function fm(d,a,u){try{u(null,d.toString(a))}catch(c){u(c)}}(se,f,y)})},a.prototype.readFileSync=function(c,f,p){var y=this.openSync(c,p,420);try{var I=y.getBuffer();return null===f?_t(I):I.toString(f)}finally{y.closeSync()}},a.prototype.getXhrPath=function(c){return"/"===c.charAt(0)&&(c=c.slice(1)),this.prefixUrl+c},a.prototype._requestFileAsync=function(c,f,p){Ic(this.getXhrPath(c),f,p)},a.prototype._requestFileSync=function(c,f){return Dc(this.getXhrPath(c),f)},a.prototype._requestFileSizeAsync=function(c,f){!function dm(d,a){Us(!0,d,a)}(this.getXhrPath(c),f)},a.prototype._requestFileSizeSync=function(c){return function um(d){var a=-1;return Us(!1,d,function(u,c){if(u)throw u;a=c}),a}(this.getXhrPath(c))},a}(Be);Nt.Name="XmlHttpRequest",Nt.Options={index:{type:["string","object"],optional:!0,description:"URL to a file index as a JSON file or the file index object itself, generated with the make_xhrfs_index script. Defaults to `index.json`."},baseUrl:{type:"string",optional:!0,description:"Used as the URL prefix for fetched files. Default: Fetch files relative to the index."}};var Oo=function(){};Oo.str2byte=function(a,u){for(var c=a.length>u.length?u.length:a.length,f=0;f<c;f++){var p=a.charCodeAt(f);if(p>127){var y=Oo.extendedChars.indexOf(a.charAt(f));y>-1&&(p=y+128)}u[p]=f}return c},Oo.byte2str=function(a){for(var u=new Array(a.length),c=0;c<a.length;c++){var f=a[c];u[c]=f>127?Oo.extendedChars[f-128]:String.fromCharCode(f)}return u.join("")},Oo.byteLength=function(a){return a.length},Oo.extendedChars=["\xc7","\xfc","\xe9","\xe2","\xe4","\xe0","\xe5","\xe7","\xea","\xeb","\xe8","\xef","\xee","\xec","\xc4","\xc5","\xc9","\xe6","\xc6","\xf4","\xf6","\xf2","\xfb","\xf9","\xff","\xd6","\xdc","\xf8","\xa3","\xd8","\xd7","\u0192","\xe1","\xed","\xf3","\xfa","\xf1","\xd1","\xaa","\xba","\xbf","\xae","\xac","\xbd","\xbc","\xa1","\xab","\xbb","_","_","_","\xa6","\xa6","\xc1","\xc2","\xc0","\xa9","\xa6","\xa6","+","+","\xa2","\xa5","+","+","-","-","+","-","+","\xe3","\xc3","+","+","-","-","\xa6","-","+","\xa4","\xf0","\xd0","\xca","\xcb","\xc8","i","\xcd","\xce","\xcf","+","+","_","_","\xa6","\xcc","_","\xd3","\xdf","\xd4","\xd2","\xf5","\xd5","\xb5","\xfe","\xde","\xda","\xdb","\xd9","\xfd","\xdd","\xaf","\xb4","\xad","\xb1","_","\xbe","\xb6","\xa7","\xf7","\xb8","\xb0","\xa8","\xb7","\xb9","\xb3","\xb2","_"," "];var qe=$(31).inflateRaw,wa={},lo=function(d){return d[d.STORED=0]="STORED",d[d.SHRUNK=1]="SHRUNK",d[d.REDUCED_1=2]="REDUCED_1",d[d.REDUCED_2=3]="REDUCED_2",d[d.REDUCED_3=4]="REDUCED_3",d[d.REDUCED_4=5]="REDUCED_4",d[d.IMPLODE=6]="IMPLODE",d[d.DEFLATE=8]="DEFLATE",d[d.DEFLATE64=9]="DEFLATE64",d[d.TERSE_OLD=10]="TERSE_OLD",d[d.BZIP2=12]="BZIP2",d[d.LZMA=14]="LZMA",d[d.TERSE_NEW=18]="TERSE_NEW",d[d.LZ77=19]="LZ77",d[d.WAVPACK=97]="WAVPACK",d[d.PPMD=98]="PPMD",d}(lo||{});function wf(d,a){return new Date(1980+(a>>9),(a>>5&15)-1,31&a,d>>11,d>>5&63,31&d)}function xc(d,a,u,c){return 0===c?"":a?d.toString("utf8",u,u+c):Oo.byte2str(d.slice(u,u+c))}var Ki=function(a){if(this.data=a,67324752!==a.readUInt32LE(0))throw new b(_.EINVAL,"Invalid Zip file: Local file header has invalid signature: "+this.data.readUInt32LE(0))};Ki.prototype.versionNeeded=function(){return this.data.readUInt16LE(4)},Ki.prototype.flags=function(){return this.data.readUInt16LE(6)},Ki.prototype.compressionMethod=function(){return this.data.readUInt16LE(8)},Ki.prototype.lastModFileTime=function(){return wf(this.data.readUInt16LE(10),this.data.readUInt16LE(12))},Ki.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(10)},Ki.prototype.crc32=function(){return this.data.readUInt32LE(14)},Ki.prototype.fileNameLength=function(){return this.data.readUInt16LE(26)},Ki.prototype.extraFieldLength=function(){return this.data.readUInt16LE(28)},Ki.prototype.fileName=function(){return xc(this.data,this.useUTF8(),30,this.fileNameLength())},Ki.prototype.extraField=function(){var a=30+this.fileNameLength();return this.data.slice(a,a+this.extraFieldLength())},Ki.prototype.totalSize=function(){return 30+this.fileNameLength()+this.extraFieldLength()},Ki.prototype.useUTF8=function(){return!(2048&~this.flags())};var Ea=function(a,u,c){this.header=a,this.record=u,this.data=c};Ea.prototype.decompress=function(){var a=this.header.compressionMethod(),u=wa[a];if(u)return u(this.data,this.record.compressedSize(),this.record.uncompressedSize(),this.record.flag());var c=lo[a];throw c||(c="Unknown: "+a),new b(_.EINVAL,"Invalid compression method on file '"+this.header.fileName()+"': "+c)},Ea.prototype.getHeader=function(){return this.header},Ea.prototype.getRecord=function(){return this.record},Ea.prototype.getRawData=function(){return this.data};var Sa=function(a){this.data=a};Sa.prototype.crc32=function(){return this.data.readUInt32LE(0)},Sa.prototype.compressedSize=function(){return this.data.readUInt32LE(4)},Sa.prototype.uncompressedSize=function(){return this.data.readUInt32LE(8)};var Ef=function(a){if(this.data=a,134630224!==this.data.readUInt32LE(0))throw new b(_.EINVAL,"Invalid archive extra data record signature: "+this.data.readUInt32LE(0))};Ef.prototype.length=function(){return this.data.readUInt32LE(4)},Ef.prototype.extraFieldData=function(){return this.data.slice(8,8+this.length())};var Mc=function(a){if(this.data=a,84233040!==this.data.readUInt32LE(0))throw new b(_.EINVAL,"Invalid digital signature signature: "+this.data.readUInt32LE(0))};Mc.prototype.size=function(){return this.data.readUInt16LE(4)},Mc.prototype.signatureData=function(){return this.data.slice(6,6+this.size())};var Qt=function(a,u){if(this.zipData=a,this.data=u,33639248!==this.data.readUInt32LE(0))throw new b(_.EINVAL,"Invalid Zip file: Central directory record has invalid signature: "+this.data.readUInt32LE(0));this._filename=this.produceFilename()};Qt.prototype.versionMadeBy=function(){return this.data.readUInt16LE(4)},Qt.prototype.versionNeeded=function(){return this.data.readUInt16LE(6)},Qt.prototype.flag=function(){return this.data.readUInt16LE(8)},Qt.prototype.compressionMethod=function(){return this.data.readUInt16LE(10)},Qt.prototype.lastModFileTime=function(){return wf(this.data.readUInt16LE(12),this.data.readUInt16LE(14))},Qt.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(12)},Qt.prototype.crc32=function(){return this.data.readUInt32LE(16)},Qt.prototype.compressedSize=function(){return this.data.readUInt32LE(20)},Qt.prototype.uncompressedSize=function(){return this.data.readUInt32LE(24)},Qt.prototype.fileNameLength=function(){return this.data.readUInt16LE(28)},Qt.prototype.extraFieldLength=function(){return this.data.readUInt16LE(30)},Qt.prototype.fileCommentLength=function(){return this.data.readUInt16LE(32)},Qt.prototype.diskNumberStart=function(){return this.data.readUInt16LE(34)},Qt.prototype.internalAttributes=function(){return this.data.readUInt16LE(36)},Qt.prototype.externalAttributes=function(){return this.data.readUInt32LE(38)},Qt.prototype.headerRelativeOffset=function(){return this.data.readUInt32LE(42)},Qt.prototype.produceFilename=function(){return xc(this.data,this.useUTF8(),46,this.fileNameLength()).replace(/\\/g,"/")},Qt.prototype.fileName=function(){return this._filename},Qt.prototype.rawFileName=function(){return this.data.slice(46,46+this.fileNameLength())},Qt.prototype.extraField=function(){var a=44+this.fileNameLength();return this.data.slice(a,a+this.extraFieldLength())},Qt.prototype.fileComment=function(){var a=46+this.fileNameLength()+this.extraFieldLength();return xc(this.data,this.useUTF8(),a,this.fileCommentLength())},Qt.prototype.rawFileComment=function(){var a=46+this.fileNameLength()+this.extraFieldLength();return this.data.slice(a,a+this.fileCommentLength())},Qt.prototype.totalSize=function(){return 46+this.fileNameLength()+this.extraFieldLength()+this.fileCommentLength()},Qt.prototype.isDirectory=function(){var a=this.fileName();return!!(16&this.externalAttributes())||"/"===a.charAt(a.length-1)},Qt.prototype.isFile=function(){return!this.isDirectory()},Qt.prototype.useUTF8=function(){return!(2048&~this.flag())},Qt.prototype.isEncrypted=function(){return!(1&~this.flag())},Qt.prototype.getFileData=function(){var a=this.headerRelativeOffset(),u=new Ki(this.zipData.slice(a));return new Ea(u,this,this.zipData.slice(a+u.totalSize()))},Qt.prototype.getData=function(){return this.getFileData().decompress()},Qt.prototype.getRawData=function(){return this.getFileData().getRawData()},Qt.prototype.getStats=function(){return new ie(W.FILE,this.uncompressedSize(),365,new Date,this.lastModFileTime())};var Di=function(a){if(this.data=a,101010256!==this.data.readUInt32LE(0))throw new b(_.EINVAL,"Invalid Zip file: End of central directory record has invalid signature: "+this.data.readUInt32LE(0))};Di.prototype.diskNumber=function(){return this.data.readUInt16LE(4)},Di.prototype.cdDiskNumber=function(){return this.data.readUInt16LE(6)},Di.prototype.cdDiskEntryCount=function(){return this.data.readUInt16LE(8)},Di.prototype.cdTotalEntryCount=function(){return this.data.readUInt16LE(10)},Di.prototype.cdSize=function(){return this.data.readUInt32LE(12)},Di.prototype.cdOffset=function(){return this.data.readUInt32LE(16)},Di.prototype.cdZipCommentLength=function(){return this.data.readUInt16LE(20)},Di.prototype.cdZipComment=function(){return xc(this.data,!0,22,this.cdZipCommentLength())},Di.prototype.rawCdZipComment=function(){return this.data.slice(22,22+this.cdZipCommentLength())};var Sf=function(a,u,c,f){this.index=a,this.directoryEntries=u,this.eocd=c,this.data=f},Kn=function(d){function a(u,c,f){void 0===c&&(c=""),void 0===f&&(f=!0),d.call(this),this.name=c,this._index=new dr,this._directoryEntries=[],this._eocd=null,Ot(f,a.Name,{zipData:"zip data as a Buffer",name:c}),u instanceof Sf?(this._index=u.index,this._directoryEntries=u.directoryEntries,this._eocd=u.eocd,this.data=u.data):(this.data=u,this.populateIndex())}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.Create=function(c,f){try{a.computeIndex(c.zipData,function(p){var y=new a(p,c.name,!1);f(null,y)},!1)}catch(p){f(p)}},a.isAvailable=function(){return!0},a.RegisterDecompressionMethod=function(c,f){wa[c]=f},a.computeIndex=function(c,f,p){void 0===p&&(p=!0),p&&console.warn("[ZipFS] ZipFS.computeIndex is now deprecated, and will be removed in the next major release. Please update your code to use 'ZipFS.Create({ zipData: zip file as a Buffer}, cb)' instead.");var y=new dr,S=a.getEOCD(c);if(S.diskNumber()!==S.cdDiskNumber())throw new b(_.EINVAL,"ZipFS does not support spanned zip files.");var I=S.cdOffset();if(4294967295===I)throw new b(_.EINVAL,"ZipFS does not support Zip64.");var P=I+S.cdSize();a.computeIndexResponsive(c,y,I,P,f,[],S)},a.getEOCD=function(c){for(var p=Math.min(65557,c.length-1),y=22;y<p;y++)if(101010256===c.readUInt32LE(c.length-y))return new Di(c.slice(c.length-y));throw new b(_.EINVAL,"Invalid ZIP file: Could not locate End of Central Directory signature.")},a.addToIndex=function(c,f){var p=c.fileName();if("/"===p.charAt(0))throw new Error("WHY IS THIS ABSOLUTE");"/"===p.charAt(p.length-1)&&(p=p.substr(0,p.length-1)),c.isDirectory()?f.addPathFast("/"+p,new ni(c)):f.addPathFast("/"+p,new cs(c))},a.computeIndexResponsive=function(c,f,p,y,S,I,P){if(p<y){for(var q=0;q++<200&&p<y;){var se=new Qt(c,c.slice(p));a.addToIndex(se,f),p+=se.totalSize(),I.push(se)}bc(function(){a.computeIndexResponsive(c,f,p,y,S,I,P)})}else S(new Sf(f,I,P,c))},a.prototype.getName=function(){return a.Name+(""!==this.name?" "+this.name:"")},a.prototype.getCentralDirectoryEntry=function(c){var f=this._index.getInode(c);if(null===f)throw b.ENOENT(c);if(co(f))return f.getData();if(Ai(f))return f.getData();throw b.EPERM("Invalid inode: "+f)},a.prototype.getCentralDirectoryEntryAt=function(c){var f=this._directoryEntries[c];if(!f)throw new RangeError("Invalid directory index: "+c+".");return f},a.prototype.getNumberOfCentralDirectoryEntries=function(){return this._directoryEntries.length},a.prototype.getEndOfCentralDirectory=function(){return this._eocd},a.prototype.diskSpace=function(c,f){f(this.data.length,0)},a.prototype.isReadOnly=function(){return!0},a.prototype.supportsLinks=function(){return!1},a.prototype.supportsProps=function(){return!1},a.prototype.supportsSynch=function(){return!0},a.prototype.statSync=function(c,f){var y,p=this._index.getInode(c);if(null===p)throw b.ENOENT(c);if(co(p))y=p.getData().getStats();else{if(!Ai(p))throw new b(_.EINVAL,"Invalid inode.");y=p.getStats()}return y},a.prototype.openSync=function(c,f,p){if(f.isWriteable())throw new b(_.EPERM,c);var y=this._index.getInode(c);if(!y)throw b.ENOENT(c);if(!co(y))throw b.EISDIR(c);var S=y.getData(),I=S.getStats();switch(f.pathExistsAction()){case Q.THROW_EXCEPTION:case Q.TRUNCATE_FILE:throw b.EEXIST(c);case Q.NOP:return new Jn(this,c,f,I,S.getData());default:throw new b(_.EINVAL,"Invalid FileMode object.")}},a.prototype.readdirSync=function(c){var f=this._index.getInode(c);if(f){if(Ai(f))return f.getListing();throw b.ENOTDIR(c)}throw b.ENOENT(c)},a.prototype.readFileSync=function(c,f,p){var y=this.openSync(c,p,420);try{var I=y.getBuffer();return null===f?_t(I):I.toString(f)}finally{y.closeSync()}},a.prototype.populateIndex=function(){var c=this,f=this._eocd=a.getEOCD(this.data);if(f.diskNumber()!==f.cdDiskNumber())throw new b(_.EINVAL,"ZipFS does not support spanned zip files.");var p=f.cdOffset();if(4294967295===p)throw new b(_.EINVAL,"ZipFS does not support Zip64.");for(var y=p+f.cdSize();p<y;){var S=new Qt(c.data,c.data.slice(p));p+=S.totalSize(),a.addToIndex(S,c._index),c._directoryEntries.push(S)}},a}(Ve);Kn.Name="ZipFS",Kn.Options={zipData:{type:"object",description:"The zip file as a Buffer object.",validator:$n},name:{type:"string",optional:!0,description:"The name of the zip file (optional)."}},Kn.CompressionMethod=lo,Kn.RegisterDecompressionMethod(lo.DEFLATE,function(d,a,u){return xt(qe(d.slice(0,a),{chunkSize:u}))}),Kn.RegisterDecompressionMethod(lo.STORED,function(d,a,u){return _t(d,0,u)});function Oi(d,a,u){return d.toString("ascii",a,a+u).trim()}function js(d,a,u){if(1===u)return String.fromCharCode(d[a]);for(var c=Math.floor(u/2),f=new Array(c),p=0;p<c;p++){var y=a+(p<<1);f[p]=String.fromCharCode(d[y+1]|d[y]<<8)}return f.join("")}function Xi(d,a){var u=parseInt(Oi(d,a,4),10),c=parseInt(Oi(d,a+4,2),10),f=parseInt(Oi(d,a+6,2),10),p=parseInt(Oi(d,a+8,2),10),y=parseInt(Oi(d,a+10,2),10),S=parseInt(Oi(d,a+12,2),10),I=parseInt(Oi(d,a+14,2),10);return new Date(u,c,f,p,y,S,100*I)}function uo(d,a){return new Date(d[a],d[a+1]-1,d[a+2],d[a+3],d[a+4],d[a+5])}function fE(d,a){var u=d.slice(a),c=new pt(u);switch(c.signatureWord()){case 17221:return new Cr(u);case 20548:return new bf(u);case 21328:return new Tc(u);case 21332:return new Ca(u);case 17746:return new Ia(u);case 17747:return new Ir(u);case 20568:return new Cf(u);case 20558:return new ou(u);case 21324:return new kc(u);case 20045:return new $s(u);case 17228:return new Pc(u);case 20556:return new If(u);case 21061:return new Df(u);case 21574:return new Ac(u);case 21318:return new hm(u);case 21074:return new fo(u);default:return c}}function nu(d,a,u,c){u-=4;for(var f=new Array;a<u;){var p=fE(d,a),y=p.length();if(0===y)return f;if(a+=y,p instanceof Ca)break;p instanceof Cr?f=f.concat(p.getEntries(c)):f.push(p)}return f}var ba=function(a){this._data=a};ba.prototype.type=function(){return this._data[0]},ba.prototype.standardIdentifier=function(){return Oi(this._data,1,5)},ba.prototype.version=function(){return this._data[6]},ba.prototype.data=function(){return this._data.slice(7,2048)};var Ui=function(d){function a(u){d.call(this,u),this._root=null}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype.systemIdentifier=function(){return this._getString32(8)},a.prototype.volumeIdentifier=function(){return this._getString32(40)},a.prototype.volumeSpaceSize=function(){return this._data.readUInt32LE(80)},a.prototype.volumeSetSize=function(){return this._data.readUInt16LE(120)},a.prototype.volumeSequenceNumber=function(){return this._data.readUInt16LE(124)},a.prototype.logicalBlockSize=function(){return this._data.readUInt16LE(128)},a.prototype.pathTableSize=function(){return this._data.readUInt32LE(132)},a.prototype.locationOfTypeLPathTable=function(){return this._data.readUInt32LE(140)},a.prototype.locationOfOptionalTypeLPathTable=function(){return this._data.readUInt32LE(144)},a.prototype.locationOfTypeMPathTable=function(){return this._data.readUInt32BE(148)},a.prototype.locationOfOptionalTypeMPathTable=function(){return this._data.readUInt32BE(152)},a.prototype.rootDirectoryEntry=function(c){return null===this._root&&(this._root=this._constructRootDirectoryRecord(this._data.slice(156)),this._root.rootCheckForRockRidge(c)),this._root},a.prototype.volumeSetIdentifier=function(){return this._getString(190,128)},a.prototype.publisherIdentifier=function(){return this._getString(318,128)},a.prototype.dataPreparerIdentifier=function(){return this._getString(446,128)},a.prototype.applicationIdentifier=function(){return this._getString(574,128)},a.prototype.copyrightFileIdentifier=function(){return this._getString(702,38)},a.prototype.abstractFileIdentifier=function(){return this._getString(740,36)},a.prototype.bibliographicFileIdentifier=function(){return this._getString(776,37)},a.prototype.volumeCreationDate=function(){return Xi(this._data,813)},a.prototype.volumeModificationDate=function(){return Xi(this._data,830)},a.prototype.volumeExpirationDate=function(){return Xi(this._data,847)},a.prototype.volumeEffectiveDate=function(){return Xi(this._data,864)},a.prototype.fileStructureVersion=function(){return this._data[881]},a.prototype.applicationUsed=function(){return this._data.slice(883,1395)},a.prototype.reserved=function(){return this._data.slice(1395,2048)},a.prototype._getString32=function(c){return this._getString(c,32)},a}(ba),iu=function(d){function a(u){if(d.call(this,u),1!==this.type())throw new b(_.EIO,"Invalid primary volume descriptor.")}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype.name=function(){return"ISO9660"},a.prototype._constructRootDirectoryRecord=function(c){return new ru(c,-1)},a.prototype._getString=function(c,f){return this._getString(c,f)},a}(Ui),Hs=function(d){function a(u){if(d.call(this,u),2!==this.type())throw new b(_.EIO,"Invalid supplementary volume descriptor.");var c=this.escapeSequence(),f=c[2];if(37!==c[0]||47!==c[1]||64!==f&&67!==f&&69!==f)throw new b(_.EIO,"Unrecognized escape sequence for SupplementaryVolumeDescriptor: "+c.toString())}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype.name=function(){return"Joliet"},a.prototype.escapeSequence=function(){return this._data.slice(88,120)},a.prototype._constructRootDirectoryRecord=function(c){return new br(c,-1)},a.prototype._getString=function(c,f){return js(this._data,c,f)},a}(Ui),Fn=function(a,u){this._suEntries=null,this._fileOrDir=null,this._data=a,this._rockRidgeOffset=u};Fn.prototype.hasRockRidge=function(){return this._rockRidgeOffset>-1},Fn.prototype.getRockRidgeOffset=function(){return this._rockRidgeOffset},Fn.prototype.rootCheckForRockRidge=function(a){var u=this.getDirectory(a);this._rockRidgeOffset=u.getDotEntry(a)._getRockRidgeOffset(a),this._rockRidgeOffset>-1&&(this._fileOrDir=null)},Fn.prototype.length=function(){return this._data[0]},Fn.prototype.extendedAttributeRecordLength=function(){return this._data[1]},Fn.prototype.lba=function(){return 2048*this._data.readUInt32LE(2)},Fn.prototype.dataLength=function(){return this._data.readUInt32LE(10)},Fn.prototype.recordingDate=function(){return uo(this._data,18)},Fn.prototype.fileFlags=function(){return this._data[25]},Fn.prototype.fileUnitSize=function(){return this._data[26]},Fn.prototype.interleaveGapSize=function(){return this._data[27]},Fn.prototype.volumeSequenceNumber=function(){return this._data.readUInt16LE(28)},Fn.prototype.identifier=function(){return this._getString(33,this._data[32])},Fn.prototype.fileName=function(a){if(this.hasRockRidge()){var u=this._rockRidgeFilename(a);if(null!==u)return u}var c=this.identifier();if(this.isDirectory(a))return c;var f=c.indexOf(";");return-1===f?c:c.slice(0,"."===c[f-1]?f-1:f)},Fn.prototype.isDirectory=function(a){var u=!!(2&this.fileFlags());return!u&&this.hasRockRidge()&&(u=this.getSUEntries(a).filter(function(c){return c instanceof Pc}).length>0),u},Fn.prototype.isSymlink=function(a){return this.hasRockRidge()&&this.getSUEntries(a).filter(function(u){return u instanceof kc}).length>0},Fn.prototype.getSymlinkPath=function(a){for(var u="",c=this.getSUEntries(a),f=this._getGetString(),p=0,y=c;p<y.length;p+=1){var S=y[p];if(S instanceof kc){for(var P=0,q=S.componentRecords();P<q.length;P+=1){var se=q[P],we=se.flags();2&we?u+="./":4&we?u+="../":8&we?u+="/":(u+=se.content(f),1&we||(u+="/"))}if(!S.continueFlag())break}}return u.length>1&&"/"===u[u.length-1]?u.slice(0,u.length-1):u},Fn.prototype.getFile=function(a){if(this.isDirectory(a))throw new Error("Tried to get a File from a directory.");return null===this._fileOrDir&&(this._fileOrDir=a.slice(this.lba(),this.lba()+this.dataLength())),this._fileOrDir},Fn.prototype.getDirectory=function(a){if(!this.isDirectory(a))throw new Error("Tried to get a Directory from a file.");return null===this._fileOrDir&&(this._fileOrDir=this._constructDirectory(a)),this._fileOrDir},Fn.prototype.getSUEntries=function(a){return this._suEntries||this._constructSUEntries(a),this._suEntries},Fn.prototype._rockRidgeFilename=function(a){var u=this.getSUEntries(a).filter(function(I){return I instanceof $s});if(0===u.length||6&u[0].flags())return null;for(var c="",f=this._getGetString(),p=0,y=u;p<y.length;p+=1){var S=y[p];if(c+=S.name(f),!(1&S.flags()))break}return c},Fn.prototype._constructSUEntries=function(a){var u=33+this._data[32];u%2==1&&u++,this._suEntries=nu(this._data,u+=this._rockRidgeOffset,this.length(),a)},Fn.prototype._getRockRidgeOffset=function(a){this._rockRidgeOffset=0;var u=this.getSUEntries(a);if(u.length>0){var c=u[0];if(c instanceof Tc&&c.checkBytesPass())for(var f=1;f<u.length;f++){var p=u[f];if(p instanceof fo||p instanceof Ia&&"IEEE_P1282"===p.extensionIdentifier())return c.bytesSkipped()}}return this._rockRidgeOffset=-1,-1};var ru=function(d){function a(u,c){d.call(this,u,c)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype._getString=function(c,f){return Oi(this._data,c,f)},a.prototype._constructDirectory=function(c){return new Dr(this,c)},a.prototype._getGetString=function(){return Oi},a}(Fn),br=function(d){function a(u,c){d.call(this,u,c)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype._getString=function(c,f){return js(this._data,c,f)},a.prototype._constructDirectory=function(c){return new pm(this,c)},a.prototype._getGetString=function(){return js},a}(Fn),pt=function(a){this._data=a};pt.prototype.signatureWord=function(){return this._data.readUInt16BE(0)},pt.prototype.signatureWordString=function(){return Oi(this._data,0,2)},pt.prototype.length=function(){return this._data[2]},pt.prototype.suVersion=function(){return this._data[3]};var Cr=function(d){function a(u){d.call(this,u),this._entries=null}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype.continuationLba=function(){return this._data.readUInt32LE(4)},a.prototype.continuationLbaOffset=function(){return this._data.readUInt32LE(12)},a.prototype.continuationLength=function(){return this._data.readUInt32LE(20)},a.prototype.getEntries=function(c){if(!this._entries){var f=2048*this.continuationLba()+this.continuationLbaOffset();this._entries=nu(c,f,this.continuationLength(),c)}return this._entries},a}(pt),bf=function(d){function a(u){d.call(this,u)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a}(pt),Tc=function(d){function a(u){d.call(this,u)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype.checkBytesPass=function(){return 190===this._data[4]&&239===this._data[5]},a.prototype.bytesSkipped=function(){return this._data[6]},a}(pt),Ca=function(d){function a(u){d.call(this,u)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a}(pt),Ia=function(d){function a(u){d.call(this,u)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype.identifierLength=function(){return this._data[4]},a.prototype.descriptorLength=function(){return this._data[5]},a.prototype.sourceLength=function(){return this._data[6]},a.prototype.extensionVersion=function(){return this._data[7]},a.prototype.extensionIdentifier=function(){return Oi(this._data,8,this.identifierLength())},a.prototype.extensionDescriptor=function(){return Oi(this._data,8+this.identifierLength(),this.descriptorLength())},a.prototype.extensionSource=function(){return Oi(this._data,8+this.identifierLength()+this.descriptorLength(),this.sourceLength())},a}(pt),Ir=function(d){function a(u){d.call(this,u)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype.extensionSequence=function(){return this._data[4]},a}(pt),fo=function(d){function a(u){d.call(this,u)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a}(pt),Cf=function(d){function a(u){d.call(this,u)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype.mode=function(){return this._data.readUInt32LE(4)},a.prototype.fileLinks=function(){return this._data.readUInt32LE(12)},a.prototype.uid=function(){return this._data.readUInt32LE(20)},a.prototype.gid=function(){return this._data.readUInt32LE(28)},a.prototype.inode=function(){return this._data.readUInt32LE(36)},a}(pt),ou=function(d){function a(u){d.call(this,u)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype.devTHigh=function(){return this._data.readUInt32LE(4)},a.prototype.devTLow=function(){return this._data.readUInt32LE(12)},a}(pt),kc=function(d){function a(u){d.call(this,u)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype.flags=function(){return this._data[4]},a.prototype.continueFlag=function(){return 1&this.flags()},a.prototype.componentRecords=function(){for(var f=new Array,p=5;p<this.length();){var y=new Ws(this._data.slice(p));f.push(y),p+=y.length()}return f},a}(pt),Ws=function(a){this._data=a};Ws.prototype.flags=function(){return this._data[0]},Ws.prototype.length=function(){return 2+this.componentLength()},Ws.prototype.componentLength=function(){return this._data[1]},Ws.prototype.content=function(a){return a(this._data,2,this.componentLength())};var $s=function(d){function a(u){d.call(this,u)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype.flags=function(){return this._data[4]},a.prototype.name=function(c){return c(this._data,5,this.length()-5)},a}(pt),Pc=function(d){function a(u){d.call(this,u)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype.childDirectoryLba=function(){return this._data.readUInt32LE(4)},a}(pt),If=function(d){function a(u){d.call(this,u)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype.parentDirectoryLba=function(){return this._data.readUInt32LE(4)},a}(pt),Df=function(d){function a(u){d.call(this,u)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a}(pt),Ac=function(d){function a(u){d.call(this,u)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype.flags=function(){return this._data[4]},a.prototype.creation=function(){return 1&this.flags()?this._longFormDates()?Xi(this._data,5):uo(this._data,5):null},a.prototype.modify=function(){if(2&this.flags()){var c=1&this.flags()?1:0;return this._longFormDates?Xi(this._data,5+17*c):uo(this._data,5+7*c)}return null},a.prototype.access=function(){if(4&this.flags()){var c=1&this.flags()?1:0;return c+=2&this.flags()?1:0,this._longFormDates?Xi(this._data,5+17*c):uo(this._data,5+7*c)}return null},a.prototype.backup=function(){if(16&this.flags()){var c=1&this.flags()?1:0;return c+=2&this.flags()?1:0,c+=4&this.flags()?1:0,this._longFormDates?Xi(this._data,5+17*c):uo(this._data,5+7*c)}return null},a.prototype.expiration=function(){if(32&this.flags()){var c=1&this.flags()?1:0;return c+=2&this.flags()?1:0,c+=4&this.flags()?1:0,c+=16&this.flags()?1:0,this._longFormDates?Xi(this._data,5+17*c):uo(this._data,5+7*c)}return null},a.prototype.effective=function(){if(64&this.flags()){var c=1&this.flags()?1:0;return c+=2&this.flags()?1:0,c+=4&this.flags()?1:0,c+=16&this.flags()?1:0,c+=32&this.flags()?1:0,this._longFormDates?Xi(this._data,5+17*c):uo(this._data,5+7*c)}return null},a.prototype._longFormDates=function(){return!!this.flags()},a}(pt),hm=function(d){function a(u){d.call(this,u)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype.virtualSizeHigh=function(){return this._data.readUInt32LE(4)},a.prototype.virtualSizeLow=function(){return this._data.readUInt32LE(12)},a.prototype.tableDepth=function(){return this._data[20]},a}(pt),Da=function(a,u){var c=this;this._fileList=[],this._fileMap={},this._record=a;var f=a.lba(),p=f+a.dataLength();for(2&a.fileFlags()||(f=2048*a.getSUEntries(u).filter(function(q){return q instanceof Pc})[0].childDirectoryLba(),p=1/0);f<p;)if(0!==u[f]){var I=c._constructDirectoryRecord(u.slice(f)),P=I.fileName(u);"\0"!==P&&"\x01"!==P?(!I.hasRockRidge()||0===I.getSUEntries(u).filter(function(q){return q instanceof Df}).length)&&(c._fileMap[P]=I,c._fileList.push(P)):p===1/0&&(p=f+I.dataLength()),f+=I.length()}else f++};Da.prototype.getRecord=function(a){return this._fileMap[a]},Da.prototype.getFileList=function(){return this._fileList},Da.prototype.getDotEntry=function(a){return this._constructDirectoryRecord(a.slice(this._record.lba()))};var Dr=function(d){function a(u,c){d.call(this,u,c)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype._constructDirectoryRecord=function(c){return new ru(c,this._record.getRockRidgeOffset())},a}(Da),pm=function(d){function a(u,c){d.call(this,u,c)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype._constructDirectoryRecord=function(c){return new br(c,this._record.getRockRidgeOffset())},a}(Da),xa=function(d){function a(u,c,f){var p=this;void 0===c&&(c=""),void 0===f&&(f=!0),d.call(this),this._data=u,Ot(f,a.Name,{data:"ISO data as a Buffer",name:c});for(var y=!1,S=32768,I=new Array;!y;){var P=u.slice(S);switch(new ba(P).type()){case 1:I.push(new iu(P));break;case 2:I.push(new Hs(P));break;case 255:y=!0}S+=2048}if(0===I.length)throw new b(_.EIO,"Unable to find a suitable volume descriptor.");I.forEach(function(se){(!p._pvd||2!==p._pvd.type())&&(p._pvd=se)}),this._root=this._pvd.rootDirectoryEntry(u),this._name=c}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.Create=function(c,f){var p;try{p=new a(c.data,c.name,!1)}catch(S){}finally{f(undefined,p)}},a.isAvailable=function(){return!0},a.prototype.getName=function(){var c="IsoFS"+this._name+(this._pvd?"-"+this._pvd.name():"");return this._root&&this._root.hasRockRidge()&&(c+="-RockRidge"),c},a.prototype.diskSpace=function(c,f){f(this._data.length,0)},a.prototype.isReadOnly=function(){return!0},a.prototype.supportsLinks=function(){return!1},a.prototype.supportsProps=function(){return!1},a.prototype.supportsSynch=function(){return!0},a.prototype.statSync=function(c,f){var p=this._getDirectoryRecord(c);if(null===p)throw b.ENOENT(c);return this._getStats(c,p)},a.prototype.openSync=function(c,f,p){if(f.isWriteable())throw new b(_.EPERM,c);var y=this._getDirectoryRecord(c);if(!y)throw b.ENOENT(c);if(y.isSymlink(this._data))return this.openSync(D.resolve(c,y.getSymlinkPath(this._data)),f,p);if(y.isDirectory(this._data))throw b.EISDIR(c);var S=y.getFile(this._data),I=this._getStats(c,y);switch(f.pathExistsAction()){case Q.THROW_EXCEPTION:case Q.TRUNCATE_FILE:throw b.EEXIST(c);case Q.NOP:return new Jn(this,c,f,I,S);default:throw new b(_.EINVAL,"Invalid FileMode object.")}},a.prototype.readdirSync=function(c){var f=this._getDirectoryRecord(c);if(f){if(f.isDirectory(this._data))return f.getDirectory(this._data).getFileList().slice(0);throw b.ENOTDIR(c)}throw b.ENOENT(c)},a.prototype.readFileSync=function(c,f,p){var y=this.openSync(c,p,420);try{var I=y.getBuffer();return null===f?_t(I):I.toString(f)}finally{y.closeSync()}},a.prototype._getDirectoryRecord=function(c){if("/"===c)return this._root;for(var p=c.split("/").slice(1),y=this._root,S=0,I=p;S<I.length;S+=1){var P=I[S];if(!y.isDirectory(this._data))return null;if(!(y=y.getDirectory(this._data).getRecord(P)))return null}return y},a.prototype._getStats=function(c,f){if(f.isSymlink(this._data)){var p=D.resolve(c,f.getSymlinkPath(this._data)),y=this._getDirectoryRecord(p);return y?this._getStats(p,y):null}var S=f.dataLength(),I=365,P=f.recordingDate(),q=P,se=P,we=P;if(f.hasRockRidge())for(var Le=0,Qe=f.getSUEntries(this._data);Le<Qe.length;Le+=1){var vt=Qe[Le];if(vt instanceof Cf)I=vt.mode();else if(vt instanceof Ac){var Lt=vt.flags();4&Lt&&(q=vt.access()),2&Lt&&(se=vt.modify()),1&Lt&&(we=vt.creation())}}return I&=365,new ie(f.isDirectory(this._data)?W.DIRECTORY:W.FILE,S,I,q,se,we)},a}(Ve);xa.Name="IsoFS",xa.Options={data:{type:"object",description:"The ISO file in a buffer",validator:$n}},[v,Ql,ro,Er,Ns,ma,yc,xa,vc,ut,ss,mi,Nt,Kn].forEach(function(d){var a=d.Create;d.Create=function(u,c){var f="function"==typeof u,p=f?u:c,y=f?{}:u;G(d,y,function S(I){I?p(I):a.call(d,y,p)})}});var Oc={AsyncMirror:v,Dropbox:Ql,Emscripten:ro,FolderAdapter:Er,HTML5FS:Ns,InMemory:ma,IndexedDB:yc,IsoFS:xa,LocalStorage:vc,MountableFileSystem:ut,OverlayFS:ss,WorkerFS:mi,XmlHttpRequest:Nt,ZipFS:Kn};function xf(d){switch(d){case"fs":return Ke;case"path":return D;case"buffer":return O;case"process":return V;case"bfs_utils":return Z;default:return Oc[d]}}function su(d){return Ke.initialize(d)}function au(d,a){var u=d.fs;if(!u)return a(new b(_.EPERM,'Missing "fs" property on configuration object.'));var c=d.options,f=0,p=!1;function y(){if(!p){p=!0;var P=Oc[u];P?P.Create(c,a):a(new b(_.EPERM,"File system "+u+" is not available in BrowserFS."))}}if(null!==c&&"object"==typeof c){var S=!1;Object.keys(c).filter(function(P){return"fs"!==P}).forEach(function(P){var q=c[P];null!==q&&"object"==typeof q&&q.fs&&(f++,au(q,function(se,we){if(f--,se){if(p)return;p=!0,a(se)}else c[P]=we,0===f&&S&&y()}))}),S=!0}0===f&&y()}V.initializeTTYs&&V.initializeTTYs(),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&(Uint8Array.prototype.slice||(Uint8Array.prototype.slice=function(d,a){void 0===d&&(d=0),void 0===a&&(a=this.length);return d<0&&(d=this.length+d)<0&&(d=0),a<0&&(a=this.length+a)<0&&(a=0),a<d&&(a=d),new Uint8Array(this.buffer,this.byteOffset+d,a-d)})),re.install=function gm(d){d.Buffer=Y,d.process=V;var a=d.require?d.require:null;d.require=function(u){return xf(u)||a.apply(null,Array.prototype.slice.call(arguments,0))}},re.registerFileSystem=function mm(d,a){Oc[d]=a},re.BFSRequire=xf,re.initialize=su,re.configure=function ym(d,a){au(d,function(u,c){c?(su(c),a()):a(u)})},re.getFileSystem=au,re.EmscriptenFS=ct,re.FileSystem=Oc,re.Errors=j,re.setImmediate=bc}).call(re,$(1),function(){return this}(),$(5)(Me),$(6))},function(Me,re,$){Me.exports=$(2).Buffer},function(Me,re,$){(function(_){"use strict";var ae=$(3),N=$(4);re.Buffer=_,re.SlowBuffer=function oe(v){return+v!=v&&(v=0),_.alloc(+v)},re.INSPECT_MAX_BYTES=50;var V=2147483647;function D(v){if(v>V)throw new RangeError("Invalid typed array length");var m=new Uint8Array(v);return m.__proto__=_.prototype,m}function _(v,m,E){if("number"==typeof v){if("string"==typeof m)throw new Error("If encoding is specified then the first argument must be a string");return Q(v)}return T(v,m,E)}function T(v,m,E){if("number"==typeof v)throw new TypeError('"value" argument must not be a number');return mn(v)?function ie(v,m,E){if(m<0||v.byteLength<m)throw new RangeError("'offset' is out of bounds");if(v.byteLength<m+(E||0))throw new RangeError("'length' is out of bounds");var M;return(M=void 0===m&&void 0===E?new Uint8Array(v):void 0===E?new Uint8Array(v,m):new Uint8Array(v,m,E)).__proto__=_.prototype,M}(v,m,E):"string"==typeof v?function R(v,m){if(("string"!=typeof m||""===m)&&(m="utf8"),!_.isEncoding(m))throw new TypeError('"encoding" must be a valid string encoding');var E=0|je(v,m),M=D(E),H=M.write(v,m);return H!==E&&(M=M.slice(0,H)),M}(v,m):function me(v){if(_.isBuffer(v)){var m=0|ue(v.length),E=D(m);return 0===E.length||v.copy(E,0,0,m),E}if(v){if(Jn(v)||"length"in v)return"number"!=typeof v.length||U(v.length)?D(0):W(v);if("Buffer"===v.type&&Array.isArray(v.data))return W(v.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(v)}function b(v){if("number"!=typeof v)throw new TypeError('"size" argument must be a number');if(v<0)throw new RangeError('"size" argument must not be negative')}function Q(v){return b(v),D(v<0?0:0|ue(v))}function W(v){for(var m=v.length<0?0:0|ue(v.length),E=D(m),M=0;M<m;M+=1)E[M]=255&v[M];return E}function ue(v){if(v>=V)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+V.toString(16)+" bytes");return 0|v}function je(v,m){if(_.isBuffer(v))return v.length;if(Jn(v)||mn(v))return v.byteLength;"string"!=typeof v&&(v=""+v);var E=v.length;if(0===E)return 0;for(var M=!1;;)switch(m){case"ascii":case"latin1":case"binary":return E;case"utf8":case"utf-8":case void 0:return Oe(v).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*E;case"hex":return E>>>1;case"base64":return Ve(v).length;default:if(M)return Oe(v).length;m=(""+m).toLowerCase(),M=!0}}function Te(v,m,E){var M=!1;if((void 0===m||m<0)&&(m=0),m>this.length||((void 0===E||E>this.length)&&(E=this.length),E<=0)||(E>>>=0)<=(m>>>=0))return"";for(v||(v="utf8");;)switch(v){case"hex":return xt(this,m,E);case"utf8":case"utf-8":return Dn(this,m,E);case"ascii":return Pe(this,m,E);case"latin1":case"binary":return Xe(this,m,E);case"base64":return yt(this,m,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return bt(this,m,E);default:if(M)throw new TypeError("Unknown encoding: "+v);v=(v+"").toLowerCase(),M=!0}}function nt(v,m,E){var M=v[m];v[m]=v[E],v[E]=M}function Ze(v,m,E,M,H){if(0===v.length)return-1;if("string"==typeof E?(M=E,E=0):E>2147483647?E=2147483647:E<-2147483648&&(E=-2147483648),U(E=+E)&&(E=H?0:v.length-1),E<0&&(E=v.length+E),E>=v.length){if(H)return-1;E=v.length-1}else if(E<0){if(!H)return-1;E=0}if("string"==typeof m&&(m=_.from(m,M)),_.isBuffer(m))return 0===m.length?-1:he(v,m,E,M,H);if("number"==typeof m)return m&=255,"function"==typeof Uint8Array.prototype.indexOf?H?Uint8Array.prototype.indexOf.call(v,m,E):Uint8Array.prototype.lastIndexOf.call(v,m,E):he(v,[m],E,M,H);throw new TypeError("val must be string, number or Buffer")}function he(v,m,E,M,H){var At,X=1,pe=v.length,$e=m.length;if(void 0!==M&&("ucs2"===(M=String(M).toLowerCase())||"ucs-2"===M||"utf16le"===M||"utf-16le"===M)){if(v.length<2||m.length<2)return-1;X=2,pe/=2,$e/=2,E/=2}function lt(eo,to){return 1===X?eo[to]:eo.readUInt16BE(to*X)}if(H){var Ct=-1;for(At=E;At<pe;At++)if(lt(v,At)===lt(m,-1===Ct?0:At-Ct)){if(-1===Ct&&(Ct=At),At-Ct+1===$e)return Ct*X}else-1!==Ct&&(At-=At-Ct),Ct=-1}else for(E+$e>pe&&(E=pe-$e),At=E;At>=0;At--){for(var Rt=!0,gi=0;gi<$e;gi++)if(lt(v,At+gi)!==lt(m,gi)){Rt=!1;break}if(Rt)return At}return-1}function Ae(v,m,E,M){E=Number(E)||0;var H=v.length-E;M?(M=Number(M))>H&&(M=H):M=H;var X=m.length;if(X%2!=0)throw new TypeError("Invalid hex string");M>X/2&&(M=X/2);for(var pe=0;pe<M;++pe){var $e=parseInt(m.substr(2*pe,2),16);if(U($e))return pe;v[E+pe]=$e}return pe}function Ke(v,m,E,M){return rt(Oe(m,v.length-E),v,E,M)}function Vt(v,m,E,M){return rt(function ct(v){for(var m=[],E=0;E<v.length;++E)m.push(255&v.charCodeAt(E));return m}(m),v,E,M)}function ht(v,m,E,M){return Vt(v,m,E,M)}function Yt(v,m,E,M){return rt(Ve(m),v,E,M)}function Ot(v,m,E,M){return rt(function Be(v,m){for(var E,M,X=[],pe=0;pe<v.length&&!((m-=2)<0);++pe)M=(E=v.charCodeAt(pe))>>8,X.push(E%256),X.push(M);return X}(m,v.length-E),v,E,M)}function yt(v,m,E){return ae.fromByteArray(0===m&&E===v.length?v:v.slice(m,E))}function Dn(v,m,E){E=Math.min(v.length,E);for(var M=[],H=m;H<E;){var lt,At,Ct,Rt,X=v[H],pe=null,$e=X>239?4:X>223?3:X>191?2:1;if(H+$e<=E)switch($e){case 1:X<128&&(pe=X);break;case 2:128==(192&(lt=v[H+1]))&&(Rt=(31&X)<<6|63&lt)>127&&(pe=Rt);break;case 3:At=v[H+2],128==(192&(lt=v[H+1]))&&128==(192&At)&&(Rt=(15&X)<<12|(63&lt)<<6|63&At)>2047&&(Rt<55296||Rt>57343)&&(pe=Rt);break;case 4:At=v[H+2],Ct=v[H+3],128==(192&(lt=v[H+1]))&&128==(192&At)&&128==(192&Ct)&&(Rt=(15&X)<<18|(63&lt)<<12|(63&At)<<6|63&Ct)>65535&&Rt<1114112&&(pe=Rt)}null===pe?(pe=65533,$e=1):pe>65535&&(M.push((pe-=65536)>>>10&1023|55296),pe=56320|1023&pe),M.push(pe),H+=$e}return function ve(v){var m=v.length;if(m<=_e)return String.fromCharCode.apply(String,v);for(var E="",M=0;M<m;)E+=String.fromCharCode.apply(String,v.slice(M,M+=_e));return E}(M)}re.kMaxLength=V,_.TYPED_ARRAY_SUPPORT=function O(){try{var v=new Uint8Array(1);return v.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===v.foo()}catch{return!1}}(),!_.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),typeof Symbol<"u"&&Symbol.species&&_[Symbol.species]===_&&Object.defineProperty(_,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),_.poolSize=8192,_.from=function(v,m,E){return T(v,m,E)},_.prototype.__proto__=Uint8Array.prototype,_.__proto__=Uint8Array,_.alloc=function(v,m,E){return function j(v,m,E){return b(v),v<=0?D(v):void 0!==m?"string"==typeof E?D(v).fill(m,E):D(v).fill(m):D(v)}(v,m,E)},_.allocUnsafe=function(v){return Q(v)},_.allocUnsafeSlow=function(v){return Q(v)},_.isBuffer=function(m){return null!=m&&!0===m._isBuffer},_.compare=function(m,E){if(!_.isBuffer(m)||!_.isBuffer(E))throw new TypeError("Arguments must be Buffers");if(m===E)return 0;for(var M=m.length,H=E.length,X=0,pe=Math.min(M,H);X<pe;++X)if(m[X]!==E[X]){M=m[X],H=E[X];break}return M<H?-1:H<M?1:0},_.isEncoding=function(m){switch(String(m).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},_.concat=function(m,E){if(!Array.isArray(m))throw new TypeError('"list" argument must be an Array of Buffers');if(0===m.length)return _.alloc(0);var M;if(void 0===E)for(E=0,M=0;M<m.length;++M)E+=m[M].length;var H=_.allocUnsafe(E),X=0;for(M=0;M<m.length;++M){var pe=m[M];if(!_.isBuffer(pe))throw new TypeError('"list" argument must be an Array of Buffers');pe.copy(H,X),X+=pe.length}return H},_.byteLength=je,_.prototype._isBuffer=!0,_.prototype.swap16=function(){var m=this.length;if(m%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var E=0;E<m;E+=2)nt(this,E,E+1);return this},_.prototype.swap32=function(){var m=this.length;if(m%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var E=0;E<m;E+=4)nt(this,E,E+3),nt(this,E+1,E+2);return this},_.prototype.swap64=function(){var m=this.length;if(m%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var E=0;E<m;E+=8)nt(this,E,E+7),nt(this,E+1,E+6),nt(this,E+2,E+5),nt(this,E+3,E+4);return this},_.prototype.toString=function(){var m=this.length;return 0===m?"":0===arguments.length?Dn(this,0,m):Te.apply(this,arguments)},_.prototype.equals=function(m){if(!_.isBuffer(m))throw new TypeError("Argument must be a Buffer");return this===m||0===_.compare(this,m)},_.prototype.inspect=function(){var m="",E=re.INSPECT_MAX_BYTES;return this.length>0&&(m=this.toString("hex",0,E).match(/.{2}/g).join(" "),this.length>E&&(m+=" ... ")),"<Buffer "+m+">"},_.prototype.compare=function(m,E,M,H,X){if(!_.isBuffer(m))throw new TypeError("Argument must be a Buffer");if(void 0===E&&(E=0),void 0===M&&(M=m?m.length:0),void 0===H&&(H=0),void 0===X&&(X=this.length),E<0||M>m.length||H<0||X>this.length)throw new RangeError("out of range index");if(H>=X&&E>=M)return 0;if(H>=X)return-1;if(E>=M)return 1;if(this===m)return 0;for(var pe=(X>>>=0)-(H>>>=0),$e=(M>>>=0)-(E>>>=0),lt=Math.min(pe,$e),At=this.slice(H,X),Ct=m.slice(E,M),Rt=0;Rt<lt;++Rt)if(At[Rt]!==Ct[Rt]){pe=At[Rt],$e=Ct[Rt];break}return pe<$e?-1:$e<pe?1:0},_.prototype.includes=function(m,E,M){return-1!==this.indexOf(m,E,M)},_.prototype.indexOf=function(m,E,M){return Ze(this,m,E,M,!0)},_.prototype.lastIndexOf=function(m,E,M){return Ze(this,m,E,M,!1)},_.prototype.write=function(m,E,M,H){if(void 0===E)H="utf8",M=this.length,E=0;else if(void 0===M&&"string"==typeof E)H=E,M=this.length,E=0;else{if(!isFinite(E))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");E>>>=0,isFinite(M)?(M>>>=0,void 0===H&&(H="utf8")):(H=M,M=void 0)}var X=this.length-E;if((void 0===M||M>X)&&(M=X),m.length>0&&(M<0||E<0)||E>this.length)throw new RangeError("Attempt to write outside buffer bounds");H||(H="utf8");for(var pe=!1;;)switch(H){case"hex":return Ae(this,m,E,M);case"utf8":case"utf-8":return Ke(this,m,E,M);case"ascii":return Vt(this,m,E,M);case"latin1":case"binary":return ht(this,m,E,M);case"base64":return Yt(this,m,E,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ot(this,m,E,M);default:if(pe)throw new TypeError("Unknown encoding: "+H);H=(""+H).toLowerCase(),pe=!0}},_.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var _e=4096;function Pe(v,m,E){var M="";E=Math.min(v.length,E);for(var H=m;H<E;++H)M+=String.fromCharCode(127&v[H]);return M}function Xe(v,m,E){var M="";E=Math.min(v.length,E);for(var H=m;H<E;++H)M+=String.fromCharCode(v[H]);return M}function xt(v,m,E){var M=v.length;(!m||m<0)&&(m=0),(!E||E<0||E>M)&&(E=M);for(var H="",X=m;X<E;++X)H+=xe(v[X]);return H}function bt(v,m,E){for(var M=v.slice(m,E),H="",X=0;X<M.length;X+=2)H+=String.fromCharCode(M[X]+256*M[X+1]);return H}function it(v,m,E){if(v%1!=0||v<0)throw new RangeError("offset is not uint");if(v+m>E)throw new RangeError("Trying to access beyond buffer length")}function _t(v,m,E,M,H,X){if(!_.isBuffer(v))throw new TypeError('"buffer" argument must be a Buffer instance');if(m>H||m<X)throw new RangeError('"value" argument is out of bounds');if(E+M>v.length)throw new RangeError("Index out of range")}function gn(v,m,E,M,H,X){if(E+M>v.length)throw new RangeError("Index out of range");if(E<0)throw new RangeError("Index out of range")}function Kt(v,m,E,M,H){return m=+m,E>>>=0,H||gn(v,0,E,4),N.write(v,m,E,M,23,4),E+4}function $n(v,m,E,M,H){return m=+m,E>>>=0,H||gn(v,0,E,8),N.write(v,m,E,M,52,8),E+8}_.prototype.slice=function(m,E){var M=this.length;(m=~~m)<0?(m+=M)<0&&(m=0):m>M&&(m=M),(E=void 0===E?M:~~E)<0?(E+=M)<0&&(E=0):E>M&&(E=M),E<m&&(E=m);var H=this.subarray(m,E);return H.__proto__=_.prototype,H},_.prototype.readUIntLE=function(m,E,M){m>>>=0,E>>>=0,M||it(m,E,this.length);for(var H=this[m],X=1,pe=0;++pe<E&&(X*=256);)H+=this[m+pe]*X;return H},_.prototype.readUIntBE=function(m,E,M){m>>>=0,E>>>=0,M||it(m,E,this.length);for(var H=this[m+--E],X=1;E>0&&(X*=256);)H+=this[m+--E]*X;return H},_.prototype.readUInt8=function(m,E){return m>>>=0,E||it(m,1,this.length),this[m]},_.prototype.readUInt16LE=function(m,E){return m>>>=0,E||it(m,2,this.length),this[m]|this[m+1]<<8},_.prototype.readUInt16BE=function(m,E){return m>>>=0,E||it(m,2,this.length),this[m]<<8|this[m+1]},_.prototype.readUInt32LE=function(m,E){return m>>>=0,E||it(m,4,this.length),(this[m]|this[m+1]<<8|this[m+2]<<16)+16777216*this[m+3]},_.prototype.readUInt32BE=function(m,E){return m>>>=0,E||it(m,4,this.length),16777216*this[m]+(this[m+1]<<16|this[m+2]<<8|this[m+3])},_.prototype.readIntLE=function(m,E,M){m>>>=0,E>>>=0,M||it(m,E,this.length);for(var H=this[m],X=1,pe=0;++pe<E&&(X*=256);)H+=this[m+pe]*X;return H>=(X*=128)&&(H-=Math.pow(2,8*E)),H},_.prototype.readIntBE=function(m,E,M){m>>>=0,E>>>=0,M||it(m,E,this.length);for(var H=E,X=1,pe=this[m+--H];H>0&&(X*=256);)pe+=this[m+--H]*X;return pe>=(X*=128)&&(pe-=Math.pow(2,8*E)),pe},_.prototype.readInt8=function(m,E){return m>>>=0,E||it(m,1,this.length),128&this[m]?-1*(255-this[m]+1):this[m]},_.prototype.readInt16LE=function(m,E){m>>>=0,E||it(m,2,this.length);var M=this[m]|this[m+1]<<8;return 32768&M?4294901760|M:M},_.prototype.readInt16BE=function(m,E){m>>>=0,E||it(m,2,this.length);var M=this[m+1]|this[m]<<8;return 32768&M?4294901760|M:M},_.prototype.readInt32LE=function(m,E){return m>>>=0,E||it(m,4,this.length),this[m]|this[m+1]<<8|this[m+2]<<16|this[m+3]<<24},_.prototype.readInt32BE=function(m,E){return m>>>=0,E||it(m,4,this.length),this[m]<<24|this[m+1]<<16|this[m+2]<<8|this[m+3]},_.prototype.readFloatLE=function(m,E){return m>>>=0,E||it(m,4,this.length),N.read(this,m,!0,23,4)},_.prototype.readFloatBE=function(m,E){return m>>>=0,E||it(m,4,this.length),N.read(this,m,!1,23,4)},_.prototype.readDoubleLE=function(m,E){return m>>>=0,E||it(m,8,this.length),N.read(this,m,!0,52,8)},_.prototype.readDoubleBE=function(m,E){return m>>>=0,E||it(m,8,this.length),N.read(this,m,!1,52,8)},_.prototype.writeUIntLE=function(m,E,M,H){m=+m,E>>>=0,M>>>=0,H||_t(this,m,E,M,Math.pow(2,8*M)-1,0);var pe=1,$e=0;for(this[E]=255&m;++$e<M&&(pe*=256);)this[E+$e]=m/pe&255;return E+M},_.prototype.writeUIntBE=function(m,E,M,H){m=+m,E>>>=0,M>>>=0,H||_t(this,m,E,M,Math.pow(2,8*M)-1,0);var pe=M-1,$e=1;for(this[E+pe]=255&m;--pe>=0&&($e*=256);)this[E+pe]=m/$e&255;return E+M},_.prototype.writeUInt8=function(m,E,M){return m=+m,E>>>=0,M||_t(this,m,E,1,255,0),this[E]=255&m,E+1},_.prototype.writeUInt16LE=function(m,E,M){return m=+m,E>>>=0,M||_t(this,m,E,2,65535,0),this[E]=255&m,this[E+1]=m>>>8,E+2},_.prototype.writeUInt16BE=function(m,E,M){return m=+m,E>>>=0,M||_t(this,m,E,2,65535,0),this[E]=m>>>8,this[E+1]=255&m,E+2},_.prototype.writeUInt32LE=function(m,E,M){return m=+m,E>>>=0,M||_t(this,m,E,4,4294967295,0),this[E+3]=m>>>24,this[E+2]=m>>>16,this[E+1]=m>>>8,this[E]=255&m,E+4},_.prototype.writeUInt32BE=function(m,E,M){return m=+m,E>>>=0,M||_t(this,m,E,4,4294967295,0),this[E]=m>>>24,this[E+1]=m>>>16,this[E+2]=m>>>8,this[E+3]=255&m,E+4},_.prototype.writeIntLE=function(m,E,M,H){if(m=+m,E>>>=0,!H){var X=Math.pow(2,8*M-1);_t(this,m,E,M,X-1,-X)}var pe=0,$e=1,lt=0;for(this[E]=255&m;++pe<M&&($e*=256);)m<0&&0===lt&&0!==this[E+pe-1]&&(lt=1),this[E+pe]=(m/$e|0)-lt&255;return E+M},_.prototype.writeIntBE=function(m,E,M,H){if(m=+m,E>>>=0,!H){var X=Math.pow(2,8*M-1);_t(this,m,E,M,X-1,-X)}var pe=M-1,$e=1,lt=0;for(this[E+pe]=255&m;--pe>=0&&($e*=256);)m<0&&0===lt&&0!==this[E+pe+1]&&(lt=1),this[E+pe]=(m/$e|0)-lt&255;return E+M},_.prototype.writeInt8=function(m,E,M){return m=+m,E>>>=0,M||_t(this,m,E,1,127,-128),m<0&&(m=255+m+1),this[E]=255&m,E+1},_.prototype.writeInt16LE=function(m,E,M){return m=+m,E>>>=0,M||_t(this,m,E,2,32767,-32768),this[E]=255&m,this[E+1]=m>>>8,E+2},_.prototype.writeInt16BE=function(m,E,M){return m=+m,E>>>=0,M||_t(this,m,E,2,32767,-32768),this[E]=m>>>8,this[E+1]=255&m,E+2},_.prototype.writeInt32LE=function(m,E,M){return m=+m,E>>>=0,M||_t(this,m,E,4,2147483647,-2147483648),this[E]=255&m,this[E+1]=m>>>8,this[E+2]=m>>>16,this[E+3]=m>>>24,E+4},_.prototype.writeInt32BE=function(m,E,M){return m=+m,E>>>=0,M||_t(this,m,E,4,2147483647,-2147483648),m<0&&(m=4294967295+m+1),this[E]=m>>>24,this[E+1]=m>>>16,this[E+2]=m>>>8,this[E+3]=255&m,E+4},_.prototype.writeFloatLE=function(m,E,M){return Kt(this,m,E,!0,M)},_.prototype.writeFloatBE=function(m,E,M){return Kt(this,m,E,!1,M)},_.prototype.writeDoubleLE=function(m,E,M){return $n(this,m,E,!0,M)},_.prototype.writeDoubleBE=function(m,E,M){return $n(this,m,E,!1,M)},_.prototype.copy=function(m,E,M,H){if(M||(M=0),!H&&0!==H&&(H=this.length),E>=m.length&&(E=m.length),E||(E=0),H>0&&H<M&&(H=M),H===M||0===m.length||0===this.length)return 0;if(E<0)throw new RangeError("targetStart out of bounds");if(M<0||M>=this.length)throw new RangeError("sourceStart out of bounds");if(H<0)throw new RangeError("sourceEnd out of bounds");H>this.length&&(H=this.length),m.length-E<H-M&&(H=m.length-E+M);var pe,X=H-M;if(this===m&&M<E&&E<H)for(pe=X-1;pe>=0;--pe)m[pe+E]=this[pe+M];else if(X<1e3)for(pe=0;pe<X;++pe)m[pe+E]=this[pe+M];else Uint8Array.prototype.set.call(m,this.subarray(M,M+X),E);return X},_.prototype.fill=function(m,E,M,H){if("string"==typeof m){if("string"==typeof E?(H=E,E=0,M=this.length):"string"==typeof M&&(H=M,M=this.length),1===m.length){var X=m.charCodeAt(0);X<256&&(m=X)}if(void 0!==H&&"string"!=typeof H)throw new TypeError("encoding must be a string");if("string"==typeof H&&!_.isEncoding(H))throw new TypeError("Unknown encoding: "+H)}else"number"==typeof m&&(m&=255);if(E<0||this.length<E||this.length<M)throw new RangeError("Out of range index");if(M<=E)return this;var pe;if(E>>>=0,M=void 0===M?this.length:M>>>0,m||(m=0),"number"==typeof m)for(pe=E;pe<M;++pe)this[pe]=m;else{var $e=_.isBuffer(m)?m:new _(m,H),lt=$e.length;for(pe=0;pe<M-E;++pe)this[pe+E]=$e[pe%lt]}return this};var G=/[^+/0-9A-Za-z-_]/g;function xe(v){return v<16?"0"+v.toString(16):v.toString(16)}function Oe(v,m){m=m||1/0;for(var E,M=v.length,H=null,X=[],pe=0;pe<M;++pe){if((E=v.charCodeAt(pe))>55295&&E<57344){if(!H){if(E>56319){(m-=3)>-1&&X.push(239,191,189);continue}if(pe+1===M){(m-=3)>-1&&X.push(239,191,189);continue}H=E;continue}if(E<56320){(m-=3)>-1&&X.push(239,191,189),H=E;continue}E=65536+(H-55296<<10|E-56320)}else H&&(m-=3)>-1&&X.push(239,191,189);if(H=null,E<128){if((m-=1)<0)break;X.push(E)}else if(E<2048){if((m-=2)<0)break;X.push(E>>6|192,63&E|128)}else if(E<65536){if((m-=3)<0)break;X.push(E>>12|224,E>>6&63|128,63&E|128)}else{if(!(E<1114112))throw new Error("Invalid code point");if((m-=4)<0)break;X.push(E>>18|240,E>>12&63|128,E>>6&63|128,63&E|128)}}return X}function Ve(v){return ae.toByteArray(function Z(v){if((v=v.trim().replace(G,"")).length<2)return"";for(;v.length%4!=0;)v+="=";return v}(v))}function rt(v,m,E,M){for(var H=0;H<M&&!(H+E>=m.length||H>=v.length);++H)m[H+E]=v[H];return H}function mn(v){return v instanceof ArrayBuffer||null!=v&&null!=v.constructor&&"ArrayBuffer"===v.constructor.name&&"number"==typeof v.byteLength}function Jn(v){return"function"==typeof ArrayBuffer.isView&&ArrayBuffer.isView(v)}function U(v){return v!=v}}).call(re,$(1))},function(Me,re){"use strict";re.byteLength=function _(R){return 3*R.length/4-D(R)},re.toByteArray=function T(R){var W,ie,me,ue,oe,je,Te=R.length;oe=D(R),je=new ae(3*Te/4-oe),me=oe>0?Te-4:Te;var nt=0;for(W=0,ie=0;W<me;W+=4,ie+=3)ue=Y[R.charCodeAt(W)]<<18|Y[R.charCodeAt(W+1)]<<12|Y[R.charCodeAt(W+2)]<<6|Y[R.charCodeAt(W+3)],je[nt++]=ue>>16&255,je[nt++]=ue>>8&255,je[nt++]=255&ue;return 2===oe?(ue=Y[R.charCodeAt(W)]<<2|Y[R.charCodeAt(W+1)]>>4,je[nt++]=255&ue):1===oe&&(ue=Y[R.charCodeAt(W)]<<10|Y[R.charCodeAt(W+1)]<<4|Y[R.charCodeAt(W+2)]>>2,je[nt++]=ue>>8&255,je[nt++]=255&ue),je},re.fromByteArray=function Q(R){for(var W,ie=R.length,me=ie%3,ue="",oe=[],Te=0,nt=ie-me;Te<nt;Te+=16383)oe.push(j(R,Te,Te+16383>nt?nt:Te+16383));return 1===me?(ue+=$[(W=R[ie-1])>>2],ue+=$[W<<4&63],ue+="=="):2===me&&(ue+=$[(W=(R[ie-2]<<8)+R[ie-1])>>10],ue+=$[W>>4&63],ue+=$[W<<2&63],ue+="="),oe.push(ue),oe.join("")};for(var $=[],Y=[],ae=typeof Uint8Array<"u"?Uint8Array:Array,N="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",V=0;V<64;++V)$[V]=N[V],Y[N.charCodeAt(V)]=V;function D(R){var W=R.length;if(W%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===R[W-2]?2:"="===R[W-1]?1:0}function b(R){return $[R>>18&63]+$[R>>12&63]+$[R>>6&63]+$[63&R]}function j(R,W,ie){for(var ue=[],oe=W;oe<ie;oe+=3)ue.push(b((R[oe]<<16)+(R[oe+1]<<8)+R[oe+2]));return ue.join("")}Y[45]=62,Y[95]=63},function(Me,re){re.read=function($,Y,ae,N,V){var O,D,_=8*V-N-1,T=(1<<_)-1,b=T>>1,j=-7,Q=ae?V-1:0,R=ae?-1:1,W=$[Y+Q];for(Q+=R,O=W&(1<<-j)-1,W>>=-j,j+=_;j>0;O=256*O+$[Y+Q],Q+=R,j-=8);for(D=O&(1<<-j)-1,O>>=-j,j+=N;j>0;D=256*D+$[Y+Q],Q+=R,j-=8);if(0===O)O=1-b;else{if(O===T)return D?NaN:1/0*(W?-1:1);D+=Math.pow(2,N),O-=b}return(W?-1:1)*D*Math.pow(2,O-N)},re.write=function($,Y,ae,N,V,O){var D,_,T,b=8*O-V-1,j=(1<<b)-1,Q=j>>1,R=23===V?Math.pow(2,-24)-Math.pow(2,-77):0,W=N?0:O-1,ie=N?1:-1,me=Y<0||0===Y&&1/Y<0?1:0;for(Y=Math.abs(Y),isNaN(Y)||Y===1/0?(_=isNaN(Y)?1:0,D=j):(D=Math.floor(Math.log(Y)/Math.LN2),Y*(T=Math.pow(2,-D))<1&&(D--,T*=2),(Y+=D+Q>=1?R/T:R*Math.pow(2,1-Q))*T>=2&&(D++,T/=2),D+Q>=j?(_=0,D=j):D+Q>=1?(_=(Y*T-1)*Math.pow(2,V),D+=Q):(_=Y*Math.pow(2,Q-1)*Math.pow(2,V),D=0));V>=8;$[ae+W]=255&_,W+=ie,_/=256,V-=8);for(D=D<<V|_,b+=V;b>0;$[ae+W]=255&D,W+=ie,D/=256,b-=8);$[ae+W-ie]|=128*me}},function(Me,re){Me.exports=function($){return $.webpackPolyfill||($.deprecate=function(){},$.paths=[],$.children=[],$.webpackPolyfill=1),$}},function(Me,re,$){"use strict";var ae=new($(7)),N={};function V(D){N[D]||(N[D]="function"==typeof ae[D]?function(){return ae[D].apply(ae,arguments)}:ae[D])}for(var O in ae)V(O);N.initializeTTYs=function(){null===ae.stdin&&(ae.initializeTTYs(),N.stdin=ae.stdin,N.stdout=ae.stdout,N.stderr=ae.stderr)},ae.nextTick(function(){N.initializeTTYs()}),Me.exports=N},function(Me,re,$){(function(Y){"use strict";var ae=this&&this.__extends||function(T,b){for(var j in b)b.hasOwnProperty(j)&&(T[j]=b[j]);function Q(){this.constructor=T}T.prototype=null===b?Object.create(b):(Q.prototype=b.prototype,new Q)},N=$(8),V=null,O=function(){function T(b,j){this.fun=b,this.array=j}return T.prototype.run=function(){this.fun.apply(null,this.array)},T}(),D=function(){function T(){this._queue=[],this._draining=!1,this._currentQueue=null,this._queueIndex=-1}return T.prototype.push=function(b){var j=this;1===this._queue.push(b)&&!this._draining&&setTimeout(function(){return j._drainQueue()},0)},T.prototype._cleanUpNextTick=function(){this._draining=!1,this._currentQueue&&this._currentQueue.length?this._queue=this._currentQueue.concat(this._queue):this._queueIndex=-1,this._queue.length&&this._drainQueue()},T.prototype._drainQueue=function(){var b=this;if(!this._draining){var j=setTimeout(function(){return b._cleanUpNextTick()});this._draining=!0;for(var Q=this._queue.length;Q;){for(this._currentQueue=this._queue,this._queue=[];++this._queueIndex<Q;)this._currentQueue&&this._currentQueue[this._queueIndex].run();this._queueIndex=-1,Q=this._queue.length}this._currentQueue=null,this._draining=!1,clearTimeout(j)}},T}(),_=function(T){function b(){T.apply(this,arguments),this.startTime=Date.now(),this._cwd="/",this.platform="browser",this.argv=[],this.execArgv=[],this.stdout=null,this.stderr=null,this.stdin=null,this.domain=null,this._queue=new D,this.execPath=Y,this.env={},this.exitCode=0,this._gid=1,this._uid=1,this.version="v5.0",this.versions={http_parser:"0.0",node:"5.0",v8:"0.0",uv:"0.0",zlib:"0.0",ares:"0.0",icu:"0.0",modules:"0",openssl:"0.0"},this.config={target_defaults:{cflags:[],default_configuration:"Release",defines:[],include_dirs:[],libraries:[]},variables:{clang:0,host_arch:"x32",node_install_npm:!1,node_install_waf:!1,node_prefix:"",node_shared_cares:!1,node_shared_http_parser:!1,node_shared_libuv:!1,node_shared_zlib:!1,node_shared_v8:!1,node_use_dtrace:!1,node_use_etw:!1,node_use_openssl:!1,node_shared_openssl:!1,strict_aliasing:!1,target_arch:"x32",v8_use_snapshot:!1,v8_no_strict_aliasing:0,visibility:""}},this.pid=1e3*Math.random()|0,this.title="node",this.arch="x32",this._mask=18,this.connected=void 0}return ae(b,T),b.prototype.chdir=function(j){null===V&&(V=$(9)),this._cwd=V.resolve(j)},b.prototype.cwd=function(){return this._cwd},b.prototype.uptime=function(){return(Date.now()-this.startTime)/1e3|0},b.prototype.nextTick=function(j){for(var Q=[],R=1;R<arguments.length;R++)Q[R-1]=arguments[R];this._queue.push(new O(j,Q))},b.prototype.abort=function(){this.emit("abort")},b.prototype.exit=function(j){this.exitCode=j,this.emit("exit",[j])},b.prototype.getgid=function(){return this._gid},b.prototype.setgid=function(j){this._gid="number"==typeof j?j:1},b.prototype.getuid=function(){return this._uid},b.prototype.setuid=function(j){this._uid="number"==typeof j?j:1},b.prototype.kill=function(j,Q){this.emit("kill",[j,Q])},b.prototype.memoryUsage=function(){return{rss:0,heapTotal:0,heapUsed:0}},b.prototype.umask=function(j){void 0===j&&(j=this._mask);var Q=this._mask;return this._mask=j,this.emit("umask",[j]),Q},b.prototype.hrtime=function(){var j,Q=(j=typeof performance<"u"?performance.now():Date.now?Date.now():(new Date).getTime())/1e3|0;return[Q,j=1e6*(j-=1e3*Q)|0]},b.prototype.initializeTTYs=function(){if(null===this.stdout){var j=$(10);this.stdout=new j,this.stderr=new j,this.stdin=new j}},b.prototype.disconnect=function(){},b}(N.EventEmitter);Me.exports=_}).call(re,"/")},function(Me,re){function $(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function Y(O){return"function"==typeof O}function N(O){return"object"==typeof O&&null!==O}function V(O){return void 0===O}Me.exports=$,$.EventEmitter=$,$.prototype._events=void 0,$.prototype._maxListeners=void 0,$.defaultMaxListeners=10,$.prototype.setMaxListeners=function(O){if(!function ae(O){return"number"==typeof O}(O)||O<0||isNaN(O))throw TypeError("n must be a positive number");return this._maxListeners=O,this},$.prototype.emit=function(O){var D,_,T,b,j,Q;if(this._events||(this._events={}),"error"===O&&(!this._events.error||N(this._events.error)&&!this._events.error.length)){if((D=arguments[1])instanceof Error)throw D;var R=new Error('Uncaught, unspecified "error" event. ('+D+")");throw R.context=D,R}if(V(_=this._events[O]))return!1;if(Y(_))switch(arguments.length){case 1:_.call(this);break;case 2:_.call(this,arguments[1]);break;case 3:_.call(this,arguments[1],arguments[2]);break;default:b=Array.prototype.slice.call(arguments,1),_.apply(this,b)}else if(N(_))for(b=Array.prototype.slice.call(arguments,1),T=(Q=_.slice()).length,j=0;j<T;j++)Q[j].apply(this,b);return!0},$.prototype.on=$.prototype.addListener=function(O,D){var _;if(!Y(D))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",O,Y(D.listener)?D.listener:D),this._events[O]?N(this._events[O])?this._events[O].push(D):this._events[O]=[this._events[O],D]:this._events[O]=D,N(this._events[O])&&!this._events[O].warned&&(_=V(this._maxListeners)?$.defaultMaxListeners:this._maxListeners)&&_>0&&this._events[O].length>_&&(this._events[O].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[O].length),"function"==typeof console.trace&&console.trace()),this},$.prototype.once=function(O,D){if(!Y(D))throw TypeError("listener must be a function");var _=!1;function T(){this.removeListener(O,T),_||(_=!0,D.apply(this,arguments))}return T.listener=D,this.on(O,T),this},$.prototype.removeListener=function(O,D){var _,T,b,j;if(!Y(D))throw TypeError("listener must be a function");if(!this._events||!this._events[O])return this;if(b=(_=this._events[O]).length,T=-1,_===D||Y(_.listener)&&_.listener===D)delete this._events[O],this._events.removeListener&&this.emit("removeListener",O,D);else if(N(_)){for(j=b;j-- >0;)if(_[j]===D||_[j].listener&&_[j].listener===D){T=j;break}if(T<0)return this;1===_.length?(_.length=0,delete this._events[O]):_.splice(T,1),this._events.removeListener&&this.emit("removeListener",O,D)}return this},$.prototype.removeAllListeners=function(O){var D,_;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[O]&&delete this._events[O],this;if(0===arguments.length){for(D in this._events)"removeListener"!==D&&this.removeAllListeners(D);return this.removeAllListeners("removeListener"),this._events={},this}if(Y(_=this._events[O]))this.removeListener(O,_);else if(_)for(;_.length;)this.removeListener(O,_[_.length-1]);return delete this._events[O],this},$.prototype.listeners=function(O){return this._events&&this._events[O]?Y(this._events[O])?[this._events[O]]:this._events[O].slice():[]},$.prototype.listenerCount=function(O){if(this._events){var D=this._events[O];if(Y(D))return 1;if(D)return D.length}return 0},$.listenerCount=function(O,D){return O.listenerCount(D)}},function(Me,re,$){(function(Y){"use strict";var ae=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;var V=function(){function D(){}return D.normalize=function(_){""===_&&(_=".");for(var T=_.charAt(0)===D.sep,b=(_=D._removeDuplicateSeps(_)).split(D.sep),j=[],Q=0;Q<b.length;Q++){var R=b[Q];"."!==R&&(".."===R&&(T||!T&&j.length>0&&".."!==j[0])?j.pop():j.push(R))}return!T&&j.length<2&&(1===j.length?""===j[0]&&j.unshift("."):j.push(".")),_=j.join(D.sep),T&&_.charAt(0)!==D.sep&&(_=D.sep+_),_},D.join=function(){for(var _=[],T=0;T<arguments.length;T++)_[T-0]=arguments[T];for(var b=[],j=0;j<_.length;j++){var Q=_[j];if("string"!=typeof Q)throw new TypeError("Invalid argument type to path.join: "+typeof Q);""!==Q&&b.push(Q)}return D.normalize(b.join(D.sep))},D.resolve=function(){for(var _=[],T=0;T<arguments.length;T++)_[T-0]=arguments[T];for(var b=[],j=0;j<_.length;j++){var Q=_[j];if("string"!=typeof Q)throw new TypeError("Invalid argument type to path.join: "+typeof Q);""!==Q&&(Q.charAt(0)===D.sep&&(b=[]),b.push(Q))}var R=D.normalize(b.join(D.sep));if(R.length>1&&R.charAt(R.length-1)===D.sep)return R.substr(0,R.length-1);if(R.charAt(0)!==D.sep){"."===R.charAt(0)&&(1===R.length||R.charAt(1)===D.sep)&&(R=1===R.length?"":R.substr(2));var W=Y.cwd();R=""!==R?this.normalize(W+("/"!==W?D.sep:"")+R):W}return R},D.relative=function(_,T){var b;_=D.resolve(_),T=D.resolve(T);var j=_.split(D.sep),Q=T.split(D.sep);Q.shift(),j.shift();var R=0,W=[];for(b=0;b<j.length;b++)if(j[b]!==Q[b]){R=j.length-b;break}W=Q.slice(b),1===j.length&&""===j[0]&&(R=0),R>j.length&&(R=j.length);var me="";for(b=0;b<R;b++)me+="../";return(me+=W.join(D.sep)).length>1&&me.charAt(me.length-1)===D.sep&&(me=me.substr(0,me.length-1)),me},D.dirname=function(_){var T=(_=D._removeDuplicateSeps(_)).charAt(0)===D.sep,b=_.split(D.sep);return""===b.pop()&&b.length>0&&b.pop(),b.length>1||1===b.length&&!T?b.join(D.sep):T?D.sep:"."},D.basename=function(_,T){if(void 0===T&&(T=""),""===_)return _;var b=(_=D.normalize(_)).split(D.sep),j=b[b.length-1];return""===j&&b.length>1?b[b.length-2]:T.length>0&&j.substr(j.length-T.length)===T?j.substr(0,j.length-T.length):j},D.extname=function(_){var T=(_=D.normalize(_)).split(D.sep);if(""===(_=T.pop())&&T.length>0&&(_=T.pop()),".."===_)return"";var b=_.lastIndexOf(".");return-1===b||0===b?"":_.substr(b)},D.isAbsolute=function(_){return _.length>0&&_.charAt(0)===D.sep},D._makeLong=function(_){return _},D.parse=function(_){var T=function N(D){var _=ae.exec(D);return _.shift(),_}(_);return{root:T[0],dir:T[0]+T[1].slice(0,-1),base:T[2],ext:T[3],name:T[2].slice(0,T[2].length-T[3].length)}},D.format=function(_){if(null===_||"object"!=typeof _)throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof _);if("string"!=typeof(_.root||""))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof _.root);return(_.dir?_.dir+D.sep:"")+(_.base||"")},D._removeDuplicateSeps=function(_){return _.replace(this._replaceRegex,this.sep)},D.sep="/",D._replaceRegex=new RegExp("//+","g"),D.delimiter=":",D.posix=D,D.win32=D,D}();Me.exports=V}).call(re,$(6))},function(Me,re,$){(function(Y){"use strict";var ae=this&&this.__extends||function(O,D){for(var _ in D)D.hasOwnProperty(_)&&(O[_]=D[_]);function T(){this.constructor=O}O.prototype=null===D?Object.create(D):(T.prototype=D.prototype,new T)},V=function(O){function D(){O.call(this),this.isRaw=!1,this.columns=80,this.rows=120,this.isTTY=!0,this._bufferedWrites=[],this._waitingForWrites=!1}return ae(D,O),D.prototype.setRawMode=function(_){this.isRaw!==_&&(this.isRaw=_,this.emit("modeChange"))},D.prototype.changeColumns=function(_){_!==this.columns&&(this.columns=_,this.emit("resize"))},D.prototype.changeRows=function(_){_!==this.rows&&(this.rows=_,this.emit("resize"))},D.isatty=function(_){return _&&_ instanceof D},D.prototype._write=function(_,T,b){var j;try{var Q;Q="string"==typeof _?new Y(_,T):_,this._bufferedWrites.push(Q),this._waitingForWrites&&this._read(1024)}catch(R){j=R}finally{b(j)}},D.prototype._read=function(_){if(0===this._bufferedWrites.length)this._waitingForWrites=!0;else for(;this._bufferedWrites.length>0&&(this._waitingForWrites=this.push(this._bufferedWrites.shift()),this._waitingForWrites););},D}($(11).Duplex);Me.exports=V}).call(re,$(1))},function(Me,re,$){Me.exports=N;var Y=$(8).EventEmitter;function N(){Y.call(this)}$(12)(N,Y),N.Readable=$(13),N.Writable=$(27),N.Duplex=$(28),N.Transform=$(29),N.PassThrough=$(30),N.Stream=N,N.prototype.pipe=function(V,O){var D=this;function _(ie){V.writable&&!1===V.write(ie)&&D.pause&&D.pause()}function T(){D.readable&&D.resume&&D.resume()}D.on("data",_),V.on("drain",T),!V._isStdio&&(!O||!1!==O.end)&&(D.on("end",j),D.on("close",Q));var b=!1;function j(){b||(b=!0,V.end())}function Q(){b||(b=!0,"function"==typeof V.destroy&&V.destroy())}function R(ie){if(W(),0===Y.listenerCount(this,"error"))throw ie}function W(){D.removeListener("data",_),V.removeListener("drain",T),D.removeListener("end",j),D.removeListener("close",Q),D.removeListener("error",R),V.removeListener("error",R),D.removeListener("end",W),D.removeListener("close",W),V.removeListener("close",W)}return D.on("error",R),V.on("error",R),D.on("end",W),D.on("close",W),V.on("close",W),V.emit("pipe",D),V}},function(Me,re){Me.exports="function"==typeof Object.create?function(Y,ae){Y.super_=ae,Y.prototype=Object.create(ae.prototype,{constructor:{value:Y,enumerable:!1,writable:!0,configurable:!0}})}:function(Y,ae){Y.super_=ae;var N=function(){};N.prototype=ae.prototype,Y.prototype=new N,Y.prototype.constructor=Y}},function(Me,re,$){(function(Y){var ae=function(){try{return $(11)}catch{}}();(re=Me.exports=$(14)).Stream=ae||re,re.Readable=re,re.Writable=$(22),re.Duplex=$(21),re.Transform=$(25),re.PassThrough=$(26),!Y.browser&&"disable"===Y.env.READABLE_STREAM&&ae&&(Me.exports=ae)}).call(re,$(6))},function(Me,re,$){(function(Y){"use strict";Me.exports=oe;var V,ae=$(15),N=$(16);oe.ReadableState=ue,$(8);var _,D=function(G,Z){return G.listeners(Z).length};!function(){try{_=$(11)}catch{}finally{_||(_=$(8).EventEmitter)}}();var T=$(2).Buffer,b=$(17),j=$(18);j.inherits=$(12);var Q=$(19),R=void 0;R=Q&&Q.debuglog?Q.debuglog("stream"):function(){};var ie,W=$(20);function ue(G,Z){V=V||$(21),this.objectMode=!!(G=G||{}).objectMode,Z instanceof V&&(this.objectMode=this.objectMode||!!G.readableObjectMode);var xe=G.highWaterMark;this.highWaterMark=xe||0===xe?xe:this.objectMode?16:16384,this.highWaterMark=~~this.highWaterMark,this.buffer=new W,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=G.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,G.encoding&&(ie||(ie=$(24).StringDecoder),this.decoder=new ie(G.encoding),this.encoding=G.encoding)}function oe(G){if(V=V||$(21),!(this instanceof oe))return new oe(G);this._readableState=new ue(G,this),this.readable=!0,G&&"function"==typeof G.read&&(this._read=G.read),_.call(this)}function je(G,Z,xe,Oe,ct){var Be=function Ae(G,Z){var xe=null;return!T.isBuffer(Z)&&"string"!=typeof Z&&null!=Z&&!G.objectMode&&(xe=new TypeError("Invalid non-string/buffer chunk")),xe}(Z,xe);if(Be)G.emit("error",Be);else if(null===xe)Z.reading=!1,function Ke(G,Z){if(!Z.ended){if(Z.decoder){var xe=Z.decoder.end();xe&&xe.length&&(Z.buffer.push(xe),Z.length+=Z.objectMode?1:xe.length)}Z.ended=!0,Vt(G)}}(G,Z);else if(Z.objectMode||xe&&xe.length>0)if(Z.ended&&!ct){var Ve=new Error("stream.push() after EOF");G.emit("error",Ve)}else if(Z.endEmitted&&ct){var rt=new Error("stream.unshift() after end event");G.emit("error",rt)}else{var mn;Z.decoder&&!ct&&!Oe&&(xe=Z.decoder.write(xe),mn=!Z.objectMode&&0===xe.length),ct||(Z.reading=!1),mn||(Z.flowing&&0===Z.length&&!Z.sync?(G.emit("data",xe),G.read(0)):(Z.length+=Z.objectMode?1:xe.length,ct?Z.buffer.unshift(xe):Z.buffer.push(xe),Z.needReadable&&Vt(G))),function Yt(G,Z){Z.readingMore||(Z.readingMore=!0,ae(Ot,G,Z))}(G,Z)}else ct||(Z.reading=!1);return function Te(G){return!G.ended&&(G.needReadable||G.length<G.highWaterMark||0===G.length)}(Z)}j.inherits(oe,_),oe.prototype.push=function(G,Z){var xe=this._readableState;return!xe.objectMode&&"string"==typeof G&&(Z=Z||xe.defaultEncoding)!==xe.encoding&&(G=b.from(G,Z),Z=""),je(this,xe,G,Z,!1)},oe.prototype.unshift=function(G){return je(this,this._readableState,G,"",!0)},oe.prototype.isPaused=function(){return!1===this._readableState.flowing},oe.prototype.setEncoding=function(G){return ie||(ie=$(24).StringDecoder),this._readableState.decoder=new ie(G),this._readableState.encoding=G,this};var nt=8388608;function he(G,Z){return G<=0||0===Z.length&&Z.ended?0:Z.objectMode?1:G!=G?Z.flowing&&Z.length?Z.buffer.head.data.length:Z.length:(G>Z.highWaterMark&&(Z.highWaterMark=function Ze(G){return G>=nt?G=nt:(G--,G|=G>>>1,G|=G>>>2,G|=G>>>4,G|=G>>>8,G|=G>>>16,G++),G}(G)),G<=Z.length?G:Z.ended?Z.length:(Z.needReadable=!0,0))}function Vt(G){var Z=G._readableState;Z.needReadable=!1,Z.emittedReadable||(R("emitReadable",Z.flowing),Z.emittedReadable=!0,Z.sync?ae(ht,G):ht(G))}function ht(G){R("emit readable"),G.emit("readable"),Pe(G)}function Ot(G,Z){for(var xe=Z.length;!Z.reading&&!Z.flowing&&!Z.ended&&Z.length<Z.highWaterMark&&(R("maybeReadMore read 0"),G.read(0),xe!==Z.length);)xe=Z.length;Z.readingMore=!1}function Dn(G){R("readable nexttick read 0"),G.read(0)}function ve(G,Z){Z.reading||(R("resume read 0"),G.read(0)),Z.resumeScheduled=!1,Z.awaitDrain=0,G.emit("resume"),Pe(G),Z.flowing&&!Z.reading&&G.read(0)}function Pe(G){var Z=G._readableState;for(R("flow",Z.flowing);Z.flowing&&null!==G.read(););}function Xe(G,Z){return 0===Z.length?null:(Z.objectMode?xe=Z.buffer.shift():!G||G>=Z.length?(xe=Z.decoder?Z.buffer.join(""):1===Z.buffer.length?Z.buffer.head.data:Z.buffer.concat(Z.length),Z.buffer.clear()):xe=function xt(G,Z,xe){var Oe;return G<Z.head.data.length?(Oe=Z.head.data.slice(0,G),Z.head.data=Z.head.data.slice(G)):Oe=G===Z.head.data.length?Z.shift():xe?function bt(G,Z){var xe=Z.head,Oe=1,ct=xe.data;for(G-=ct.length;xe=xe.next;){var Be=xe.data,Ve=G>Be.length?Be.length:G;if(ct+=Ve===Be.length?Be:Be.slice(0,G),0==(G-=Ve)){Ve===Be.length?(++Oe,Z.head=xe.next?xe.next:Z.tail=null):(Z.head=xe,xe.data=Be.slice(Ve));break}++Oe}return Z.length-=Oe,ct}(G,Z):function it(G,Z){var xe=b.allocUnsafe(G),Oe=Z.head,ct=1;for(Oe.data.copy(xe),G-=Oe.data.length;Oe=Oe.next;){var Be=Oe.data,Ve=G>Be.length?Be.length:G;if(Be.copy(xe,xe.length-G,0,Ve),0==(G-=Ve)){Ve===Be.length?(++ct,Z.head=Oe.next?Oe.next:Z.tail=null):(Z.head=Oe,Oe.data=Be.slice(Ve));break}++ct}return Z.length-=ct,xe}(G,Z),Oe}(G,Z.buffer,Z.decoder),xe);var xe}function _t(G){var Z=G._readableState;if(Z.length>0)throw new Error('"endReadable()" called on non-empty stream');Z.endEmitted||(Z.ended=!0,ae(gn,Z,G))}function gn(G,Z){!G.endEmitted&&0===G.length&&(G.endEmitted=!0,Z.readable=!1,Z.emit("end"))}function $n(G,Z){for(var xe=0,Oe=G.length;xe<Oe;xe++)if(G[xe]===Z)return xe;return-1}oe.prototype.read=function(G){R("read",G),G=parseInt(G,10);var Z=this._readableState,xe=G;if(0!==G&&(Z.emittedReadable=!1),0===G&&Z.needReadable&&(Z.length>=Z.highWaterMark||Z.ended))return R("read: emitReadable",Z.length,Z.ended),0===Z.length&&Z.ended?_t(this):Vt(this),null;if(0===(G=he(G,Z))&&Z.ended)return 0===Z.length&&_t(this),null;var ct,Oe=Z.needReadable;return R("need readable",Oe),(0===Z.length||Z.length-G<Z.highWaterMark)&&R("length less than watermark",Oe=!0),Z.ended||Z.reading?R("reading or ended",Oe=!1):Oe&&(R("do read"),Z.reading=!0,Z.sync=!0,0===Z.length&&(Z.needReadable=!0),this._read(Z.highWaterMark),Z.sync=!1,Z.reading||(G=he(xe,Z))),null===(ct=G>0?Xe(G,Z):null)?(Z.needReadable=!0,G=0):Z.length-=G,0===Z.length&&(Z.ended||(Z.needReadable=!0),xe!==G&&Z.ended&&_t(this)),null!==ct&&this.emit("data",ct),ct},oe.prototype._read=function(G){this.emit("error",new Error("_read() is not implemented"))},oe.prototype.pipe=function(G,Z){var xe=this,Oe=this._readableState;switch(Oe.pipesCount){case 0:Oe.pipes=G;break;case 1:Oe.pipes=[Oe.pipes,G];break;default:Oe.pipes.push(G)}Oe.pipesCount+=1,R("pipe count=%d opts=%j",Oe.pipesCount,Z);var Be=Z&&!1===Z.end||G===Y.stdout||G===Y.stderr?U:rt;function Ve(pe){R("onunpipe"),pe===xe&&U()}function rt(){R("onend"),G.end()}Oe.endEmitted?ae(Be):xe.once("end",Be),G.on("unpipe",Ve);var mn=function yt(G){return function(){var Z=G._readableState;R("pipeOnDrain",Z.awaitDrain),Z.awaitDrain&&Z.awaitDrain--,0===Z.awaitDrain&&D(G,"data")&&(Z.flowing=!0,Pe(G))}}(xe);G.on("drain",mn);var Jn=!1;function U(){R("cleanup"),G.removeListener("close",M),G.removeListener("finish",H),G.removeListener("drain",mn),G.removeListener("error",E),G.removeListener("unpipe",Ve),xe.removeListener("end",rt),xe.removeListener("end",U),xe.removeListener("data",m),Jn=!0,Oe.awaitDrain&&(!G._writableState||G._writableState.needDrain)&&mn()}var v=!1;function m(pe){R("ondata"),v=!1,!1===G.write(pe)&&!v&&((1===Oe.pipesCount&&Oe.pipes===G||Oe.pipesCount>1&&-1!==$n(Oe.pipes,G))&&!Jn&&(R("false write response, pause",xe._readableState.awaitDrain),xe._readableState.awaitDrain++,v=!0),xe.pause())}function E(pe){R("onerror",pe),X(),G.removeListener("error",E),0===D(G,"error")&&G.emit("error",pe)}function M(){G.removeListener("finish",H),X()}function H(){R("onfinish"),G.removeListener("close",M),X()}function X(){R("unpipe"),xe.unpipe(G)}return xe.on("data",m),function me(G,Z,xe){if("function"==typeof G.prependListener)return G.prependListener(Z,xe);G._events&&G._events[Z]?N(G._events[Z])?G._events[Z].unshift(xe):G._events[Z]=[xe,G._events[Z]]:G.on(Z,xe)}(G,"error",E),G.once("close",M),G.once("finish",H),G.emit("pipe",xe),Oe.flowing||(R("pipe resume"),xe.resume()),G},oe.prototype.unpipe=function(G){var Z=this._readableState;if(0===Z.pipesCount)return this;if(1===Z.pipesCount)return G&&G!==Z.pipes||(G||(G=Z.pipes),Z.pipes=null,Z.pipesCount=0,Z.flowing=!1,G&&G.emit("unpipe",this)),this;if(!G){var xe=Z.pipes,Oe=Z.pipesCount;Z.pipes=null,Z.pipesCount=0,Z.flowing=!1;for(var ct=0;ct<Oe;ct++)xe[ct].emit("unpipe",this);return this}var Be=$n(Z.pipes,G);return-1===Be||(Z.pipes.splice(Be,1),Z.pipesCount-=1,1===Z.pipesCount&&(Z.pipes=Z.pipes[0]),G.emit("unpipe",this)),this},oe.prototype.addListener=oe.prototype.on=function(G,Z){var xe=_.prototype.on.call(this,G,Z);if("data"===G)!1!==this._readableState.flowing&&this.resume();else if("readable"===G){var Oe=this._readableState;!Oe.endEmitted&&!Oe.readableListening&&(Oe.readableListening=Oe.needReadable=!0,Oe.emittedReadable=!1,Oe.reading?Oe.length&&Vt(this):ae(Dn,this))}return xe},oe.prototype.resume=function(){var G=this._readableState;return G.flowing||(R("resume"),G.flowing=!0,function _e(G,Z){Z.resumeScheduled||(Z.resumeScheduled=!0,ae(ve,G,Z))}(this,G)),this},oe.prototype.pause=function(){return R("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(R("pause"),this._readableState.flowing=!1,this.emit("pause")),this},oe.prototype.wrap=function(G){var Z=this._readableState,xe=!1,Oe=this;for(var ct in G.on("end",function(){if(R("wrapped end"),Z.decoder&&!Z.ended){var Ve=Z.decoder.end();Ve&&Ve.length&&Oe.push(Ve)}Oe.push(null)}),G.on("data",function(Ve){R("wrapped data"),Z.decoder&&(Ve=Z.decoder.write(Ve)),Z.objectMode&&null==Ve||!(Z.objectMode||Ve&&Ve.length)||Oe.push(Ve)||(xe=!0,G.pause())}),G)void 0===this[ct]&&"function"==typeof G[ct]&&(this[ct]=function(Ve){return function(){return G[Ve].apply(G,arguments)}}(ct));return function Kt(G,Z){for(var xe=0,Oe=G.length;xe<Oe;xe++)Z(G[xe],xe)}(["error","close","destroy","pause","resume"],function(Ve){G.on(Ve,Oe.emit.bind(Oe,Ve))}),Oe._read=function(Ve){R("wrapped _read",Ve),xe&&(xe=!1,G.resume())},Oe},oe._fromList=Xe}).call(re,$(6))},function(Me,re,$){(function(Y){"use strict";Me.exports=!Y.version||0===Y.version.indexOf("v0.")||0===Y.version.indexOf("v1.")&&0!==Y.version.indexOf("v1.8.")?function ae(N,V,O,D){if("function"!=typeof N)throw new TypeError('"callback" argument must be a function');var T,b,_=arguments.length;switch(_){case 0:case 1:return Y.nextTick(N);case 2:return Y.nextTick(function(){N.call(null,V)});case 3:return Y.nextTick(function(){N.call(null,V,O)});case 4:return Y.nextTick(function(){N.call(null,V,O,D)});default:for(T=new Array(_-1),b=0;b<T.length;)T[b++]=arguments[b];return Y.nextTick(function(){N.apply(null,T)})}}:Y.nextTick}).call(re,$(6))},function(Me,re){var $={}.toString;Me.exports=Array.isArray||function(Y){return"[object Array]"==$.call(Y)}},function(Me,re,$){(function(Y){"use strict";var ae=$(2),N=ae.Buffer,V=ae.SlowBuffer,O=ae.kMaxLength||2147483647;re.alloc=function(_,T,b){if("function"==typeof N.alloc)return N.alloc(_,T,b);if("number"==typeof b)throw new TypeError("encoding must not be number");if("number"!=typeof _)throw new TypeError("size must be a number");if(_>O)throw new RangeError("size is too large");var j=b,Q=T;void 0===Q&&(j=void 0,Q=0);var R=new N(_);if("string"==typeof Q)for(var W=new N(Q,j),ie=W.length,me=-1;++me<_;)R[me]=W[me%ie];else R.fill(Q);return R},re.allocUnsafe=function(_){if("function"==typeof N.allocUnsafe)return N.allocUnsafe(_);if("number"!=typeof _)throw new TypeError("size must be a number");if(_>O)throw new RangeError("size is too large");return new N(_)},re.from=function(_,T,b){if("function"==typeof N.from&&(!Y.Uint8Array||Uint8Array.from!==N.from))return N.from(_,T,b);if("number"==typeof _)throw new TypeError('"value" argument must not be a number');if("string"==typeof _)return new N(_,T);if(typeof ArrayBuffer<"u"&&_ instanceof ArrayBuffer){var j=T;if(1===arguments.length)return new N(_);typeof j>"u"&&(j=0);var Q=b;if(typeof Q>"u"&&(Q=_.byteLength-j),j>=_.byteLength)throw new RangeError("'offset' is out of bounds");if(Q>_.byteLength-j)throw new RangeError("'length' is out of bounds");return new N(_.slice(j,j+Q))}if(N.isBuffer(_)){var R=new N(_.length);return _.copy(R,0,0,_.length),R}if(_){if(Array.isArray(_)||typeof ArrayBuffer<"u"&&_.buffer instanceof ArrayBuffer||"length"in _)return new N(_);if("Buffer"===_.type&&Array.isArray(_.data))return new N(_.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")},re.allocUnsafeSlow=function(_){if("function"==typeof N.allocUnsafeSlow)return N.allocUnsafeSlow(_);if("number"!=typeof _)throw new TypeError("size must be a number");if(_>=O)throw new RangeError("size is too large");return new V(_)}}).call(re,function(){return this}())},function(Me,re,$){(function(Y){function ue(oe){return Object.prototype.toString.call(oe)}re.isArray=function ae(oe){return Array.isArray?Array.isArray(oe):"[object Array]"===ue(oe)},re.isBoolean=function N(oe){return"boolean"==typeof oe},re.isNull=function V(oe){return null===oe},re.isNullOrUndefined=function O(oe){return null==oe},re.isNumber=function D(oe){return"number"==typeof oe},re.isString=function _(oe){return"string"==typeof oe},re.isSymbol=function T(oe){return"symbol"==typeof oe},re.isUndefined=function b(oe){return void 0===oe},re.isRegExp=function j(oe){return"[object RegExp]"===ue(oe)},re.isObject=function Q(oe){return"object"==typeof oe&&null!==oe},re.isDate=function R(oe){return"[object Date]"===ue(oe)},re.isError=function W(oe){return"[object Error]"===ue(oe)||oe instanceof Error},re.isFunction=function ie(oe){return"function"==typeof oe},re.isPrimitive=function me(oe){return null===oe||"boolean"==typeof oe||"number"==typeof oe||"string"==typeof oe||"symbol"==typeof oe||typeof oe>"u"},re.isBuffer=Y.isBuffer}).call(re,$(1))},function(Me,re){},function(Me,re,$){"use strict";$(2);var ae=$(17);function N(){this.head=null,this.tail=null,this.length=0}Me.exports=N,N.prototype.push=function(V){var O={data:V,next:null};this.length>0?this.tail.next=O:this.head=O,this.tail=O,++this.length},N.prototype.unshift=function(V){var O={data:V,next:this.head};0===this.length&&(this.tail=O),this.head=O,++this.length},N.prototype.shift=function(){if(0!==this.length){var V=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,V}},N.prototype.clear=function(){this.head=this.tail=null,this.length=0},N.prototype.join=function(V){if(0===this.length)return"";for(var O=this.head,D=""+O.data;O=O.next;)D+=V+O.data;return D},N.prototype.concat=function(V){if(0===this.length)return ae.alloc(0);if(1===this.length)return this.head.data;for(var O=ae.allocUnsafe(V>>>0),D=this.head,_=0;D;)D.data.copy(O,_),_+=D.data.length,D=D.next;return O}},function(Me,re,$){"use strict";var Y=Object.keys||function(W){var ie=[];for(var me in W)ie.push(me);return ie};Me.exports=b;var ae=$(15),N=$(18);N.inherits=$(12);var V=$(14),O=$(22);N.inherits(b,V);for(var D=Y(O.prototype),_=0;_<D.length;_++){var T=D[_];b.prototype[T]||(b.prototype[T]=O.prototype[T])}function b(W){if(!(this instanceof b))return new b(W);V.call(this,W),O.call(this,W),W&&!1===W.readable&&(this.readable=!1),W&&!1===W.writable&&(this.writable=!1),this.allowHalfOpen=!0,W&&!1===W.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",j)}function j(){this.allowHalfOpen||this._writableState.ended||ae(Q,this)}function Q(W){W.end()}},function(Me,re,$){(function(Y){"use strict";Me.exports=ie;var V,ae=$(15),N=!Y.browser&&["v0.10","v0.9."].indexOf(Y.version.slice(0,5))>-1?setImmediate:ae;ie.WritableState=R;var O=$(18);O.inherits=$(12);var _,D={deprecate:$(23)};!function(){try{_=$(11)}catch{}finally{_||(_=$(8).EventEmitter)}}();var W,T=$(2).Buffer,b=$(17);function j(){}function Q(_e,ve,Pe){this.chunk=_e,this.encoding=ve,this.callback=Pe,this.next=null}function R(_e,ve){V=V||$(21),this.objectMode=!!(_e=_e||{}).objectMode,ve instanceof V&&(this.objectMode=this.objectMode||!!_e.writableObjectMode);var Pe=_e.highWaterMark;this.highWaterMark=Pe||0===Pe?Pe:this.objectMode?16:16384,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.decodeStrings=!(!1===_e.decodeStrings),this.defaultEncoding=_e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(bt){!function he(_e,ve){var Pe=_e._writableState,Xe=Pe.sync,xt=Pe.writecb;if(function Ze(_e){_e.writing=!1,_e.writecb=null,_e.length-=_e.writelen,_e.writelen=0}(Pe),ve)!function nt(_e,ve,Pe,Xe,xt){--ve.pendingcb,Pe?ae(xt,Xe):xt(Xe),_e._writableState.errorEmitted=!0,_e.emit("error",Xe)}(_e,Pe,Xe,ve,xt);else{var bt=ht(Pe);!bt&&!Pe.corked&&!Pe.bufferProcessing&&Pe.bufferedRequest&&Vt(_e,Pe),Xe?N(Ae,_e,Pe,bt,xt):Ae(_e,Pe,bt,xt)}}(ve,bt)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new Dn(this)}function ie(_e){if(V=V||$(21),!(W.call(ie,this)||this instanceof V))return new ie(_e);this._writableState=new R(_e,this),this.writable=!0,_e&&("function"==typeof _e.write&&(this._write=_e.write),"function"==typeof _e.writev&&(this._writev=_e.writev)),_.call(this)}function je(_e,ve,Pe,Xe,xt,bt){Pe||(Xe=function oe(_e,ve,Pe){return!_e.objectMode&&!1!==_e.decodeStrings&&"string"==typeof ve&&(ve=b.from(ve,Pe)),ve}(ve,Xe,xt),T.isBuffer(Xe)&&(xt="buffer"));var it=ve.objectMode?1:Xe.length;ve.length+=it;var _t=ve.length<ve.highWaterMark;if(_t||(ve.needDrain=!0),ve.writing||ve.corked){var gn=ve.lastBufferedRequest;ve.lastBufferedRequest=new Q(Xe,xt,bt),gn?gn.next=ve.lastBufferedRequest:ve.bufferedRequest=ve.lastBufferedRequest,ve.bufferedRequestCount+=1}else Te(_e,ve,!1,it,Xe,xt,bt);return _t}function Te(_e,ve,Pe,Xe,xt,bt,it){ve.writelen=Xe,ve.writecb=it,ve.writing=!0,ve.sync=!0,Pe?_e._writev(xt,ve.onwrite):_e._write(xt,bt,ve.onwrite),ve.sync=!1}function Ae(_e,ve,Pe,Xe){Pe||function Ke(_e,ve){0===ve.length&&ve.needDrain&&(ve.needDrain=!1,_e.emit("drain"))}(_e,ve),ve.pendingcb--,Xe(),Ot(_e,ve)}function Vt(_e,ve){ve.bufferProcessing=!0;var Pe=ve.bufferedRequest;if(_e._writev&&Pe&&Pe.next){var xt=new Array(ve.bufferedRequestCount),bt=ve.corkedRequestsFree;bt.entry=Pe;for(var it=0;Pe;)xt[it]=Pe,Pe=Pe.next,it+=1;Te(_e,ve,!0,ve.length,xt,"",bt.finish),ve.pendingcb++,ve.lastBufferedRequest=null,bt.next?(ve.corkedRequestsFree=bt.next,bt.next=null):ve.corkedRequestsFree=new Dn(ve)}else{for(;Pe;){var _t=Pe.chunk;if(Te(_e,ve,!1,ve.objectMode?1:_t.length,_t,Pe.encoding,Pe.callback),Pe=Pe.next,ve.writing)break}null===Pe&&(ve.lastBufferedRequest=null)}ve.bufferedRequestCount=0,ve.bufferedRequest=Pe,ve.bufferProcessing=!1}function ht(_e){return _e.ending&&0===_e.length&&null===_e.bufferedRequest&&!_e.finished&&!_e.writing}function Yt(_e,ve){ve.prefinished||(ve.prefinished=!0,_e.emit("prefinish"))}function Ot(_e,ve){var Pe=ht(ve);return Pe&&(0===ve.pendingcb?(Yt(_e,ve),ve.finished=!0,_e.emit("finish")):Yt(_e,ve)),Pe}function Dn(_e){var ve=this;this.next=null,this.entry=null,this.finish=function(Pe){var Xe=ve.entry;for(ve.entry=null;Xe;){var xt=Xe.callback;_e.pendingcb--,xt(Pe),Xe=Xe.next}_e.corkedRequestsFree?_e.corkedRequestsFree.next=ve:_e.corkedRequestsFree=ve}}O.inherits(ie,_),R.prototype.getBuffer=function(){for(var ve=this.bufferedRequest,Pe=[];ve;)Pe.push(ve),ve=ve.next;return Pe},function(){try{Object.defineProperty(R.prototype,"buffer",{get:D.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(W=Function.prototype[Symbol.hasInstance],Object.defineProperty(ie,Symbol.hasInstance,{value:function(_e){return!!W.call(this,_e)||_e&&_e._writableState instanceof R}})):W=function(_e){return _e instanceof this},ie.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},ie.prototype.write=function(_e,ve,Pe){var Xe=this._writableState,xt=!1,bt=T.isBuffer(_e);return"function"==typeof ve&&(Pe=ve,ve=null),bt?ve="buffer":ve||(ve=Xe.defaultEncoding),"function"!=typeof Pe&&(Pe=j),Xe.ended?function me(_e,ve){var Pe=new Error("write after end");_e.emit("error",Pe),ae(ve,Pe)}(this,Pe):(bt||function ue(_e,ve,Pe,Xe){var xt=!0,bt=!1;return null===Pe?bt=new TypeError("May not write null values to stream"):"string"!=typeof Pe&&void 0!==Pe&&!ve.objectMode&&(bt=new TypeError("Invalid non-string/buffer chunk")),bt&&(_e.emit("error",bt),ae(Xe,bt),xt=!1),xt}(this,Xe,_e,Pe))&&(Xe.pendingcb++,xt=je(this,Xe,bt,_e,ve,Pe)),xt},ie.prototype.cork=function(){this._writableState.corked++},ie.prototype.uncork=function(){var _e=this._writableState;_e.corked&&(_e.corked--,!_e.writing&&!_e.corked&&!_e.finished&&!_e.bufferProcessing&&_e.bufferedRequest&&Vt(this,_e))},ie.prototype.setDefaultEncoding=function(ve){if("string"==typeof ve&&(ve=ve.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ve+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+ve);return this._writableState.defaultEncoding=ve,this},ie.prototype._write=function(_e,ve,Pe){Pe(new Error("_write() is not implemented"))},ie.prototype._writev=null,ie.prototype.end=function(_e,ve,Pe){var Xe=this._writableState;"function"==typeof _e?(Pe=_e,_e=null,ve=null):"function"==typeof ve&&(Pe=ve,ve=null),null!=_e&&this.write(_e,ve),Xe.corked&&(Xe.corked=1,this.uncork()),!Xe.ending&&!Xe.finished&&function yt(_e,ve,Pe){ve.ending=!0,Ot(_e,ve),Pe&&(ve.finished?ae(Pe):_e.once("finish",Pe)),ve.ended=!0,_e.writable=!1}(this,Xe,Pe)}}).call(re,$(6))},function(Me,re){(function($){function ae(N){try{if(!$.localStorage)return!1}catch{return!1}var V=$.localStorage[N];return null!=V&&"true"===String(V).toLowerCase()}Me.exports=function Y(N,V){if(ae("noDeprecation"))return N;var O=!1;return function D(){if(!O){if(ae("throwDeprecation"))throw new Error(V);ae("traceDeprecation")?console.trace(V):console.warn(V),O=!0}return N.apply(this,arguments)}}}).call(re,function(){return this}())},function(Me,re,$){var Y=$(2).Buffer,ae=Y.isEncoding||function(T){switch(T&&T.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};var V=re.StringDecoder=function(T){switch(this.encoding=(T||"utf8").toLowerCase().replace(/[-_]/,""),function N(T){if(T&&!ae(T))throw new Error("Unknown encoding: "+T)}(T),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=D;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=_;break;default:return void(this.write=O)}this.charBuffer=new Y(6),this.charReceived=0,this.charLength=0};function O(T){return T.toString(this.encoding)}function D(T){this.charReceived=T.length%2,this.charLength=this.charReceived?2:0}function _(T){this.charReceived=T.length%3,this.charLength=this.charReceived?3:0}V.prototype.write=function(T){for(var b="";this.charLength;){var j=T.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:T.length;if(T.copy(this.charBuffer,this.charReceived,0,j),this.charReceived+=j,this.charReceived<this.charLength)return"";if(T=T.slice(j,T.length),!((R=(b=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(b.length-1))>=55296&&R<=56319)){if(this.charReceived=this.charLength=0,0===T.length)return b;break}this.charLength+=this.surrogateSize,b=""}this.detectIncompleteChar(T);var R,Q=T.length;if(this.charLength&&(T.copy(this.charBuffer,0,T.length-this.charReceived,Q),Q-=this.charReceived),(R=(b+=T.toString(this.encoding,0,Q)).charCodeAt(Q=b.length-1))>=55296&&R<=56319){var W=this.surrogateSize;return this.charLength+=W,this.charReceived+=W,this.charBuffer.copy(this.charBuffer,W,0,W),T.copy(this.charBuffer,0,0,W),b.substring(0,Q)}return b},V.prototype.detectIncompleteChar=function(T){for(var b=T.length>=3?3:T.length;b>0;b--){var j=T[T.length-b];if(1==b&&j>>5==6){this.charLength=2;break}if(b<=2&&j>>4==14){this.charLength=3;break}if(b<=3&&j>>3==30){this.charLength=4;break}}this.charReceived=b},V.prototype.end=function(T){var b="";if(T&&T.length&&(b=this.write(T)),this.charReceived){var R=this.encoding;b+=this.charBuffer.slice(0,this.charReceived).toString(R)}return b}},function(Me,re,$){"use strict";Me.exports=O;var Y=$(21),ae=$(18);function N(_){this.afterTransform=function(T,b){return function V(_,T,b){var j=_._transformState;j.transforming=!1;var Q=j.writecb;if(!Q)return _.emit("error",new Error("no writecb in Transform class"));j.writechunk=null,j.writecb=null,null!=b&&_.push(b),Q(T);var R=_._readableState;R.reading=!1,(R.needReadable||R.length<R.highWaterMark)&&_._read(R.highWaterMark)}(_,T,b)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function O(_){if(!(this instanceof O))return new O(_);Y.call(this,_),this._transformState=new N(this);var T=this;this._readableState.needReadable=!0,this._readableState.sync=!1,_&&("function"==typeof _.transform&&(this._transform=_.transform),"function"==typeof _.flush&&(this._flush=_.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(b,j){D(T,b,j)}):D(T)})}function D(_,T,b){if(T)return _.emit("error",T);null!=b&&_.push(b);var Q=_._transformState;if(_._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(Q.transforming)throw new Error("Calling transform done when still transforming");return _.push(null)}ae.inherits=$(12),ae.inherits(O,Y),O.prototype.push=function(_,T){return this._transformState.needTransform=!1,Y.prototype.push.call(this,_,T)},O.prototype._transform=function(_,T,b){throw new Error("_transform() is not implemented")},O.prototype._write=function(_,T,b){var j=this._transformState;if(j.writecb=b,j.writechunk=_,j.writeencoding=T,!j.transforming){var Q=this._readableState;(j.needTransform||Q.needReadable||Q.length<Q.highWaterMark)&&this._read(Q.highWaterMark)}},O.prototype._read=function(_){var T=this._transformState;null!==T.writechunk&&T.writecb&&!T.transforming?(T.transforming=!0,this._transform(T.writechunk,T.writeencoding,T.afterTransform)):T.needTransform=!0}},function(Me,re,$){"use strict";Me.exports=N;var Y=$(25),ae=$(18);function N(V){if(!(this instanceof N))return new N(V);Y.call(this,V)}ae.inherits=$(12),ae.inherits(N,Y),N.prototype._transform=function(V,O,D){D(null,V)}},function(Me,re,$){Me.exports=$(22)},function(Me,re,$){Me.exports=$(21)},function(Me,re,$){Me.exports=$(25)},function(Me,re,$){Me.exports=$(26)},function(Me,re,$){"use strict";var Y=$(32),ae=$(33),N=$(38),V=$(39),O=$(40),D=$(41),_=$(42),T=Object.prototype.toString;function b(R){if(!(this instanceof b))return new b(R);this.options=ae.assign({chunkSize:16384,windowBits:0,to:""},R||{});var W=this.options;W.raw&&W.windowBits>=0&&W.windowBits<16&&(W.windowBits=-W.windowBits,0===W.windowBits&&(W.windowBits=-15)),W.windowBits>=0&&W.windowBits<16&&!(R&&R.windowBits)&&(W.windowBits+=32),W.windowBits>15&&W.windowBits<48&&(15&W.windowBits||(W.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new D,this.strm.avail_out=0;var ie=Y.inflateInit2(this.strm,W.windowBits);if(ie!==V.Z_OK)throw new Error(O[ie]);this.header=new _,Y.inflateGetHeader(this.strm,this.header)}function j(R,W){var ie=new b(W);if(ie.push(R,!0),ie.err)throw ie.msg||O[ie.err];return ie.result}b.prototype.push=function(R,W){var oe,je,Te,nt,Ze,he,ie=this.strm,me=this.options.chunkSize,ue=this.options.dictionary,Ae=!1;if(this.ended)return!1;je=W===~~W?W:!0===W?V.Z_FINISH:V.Z_NO_FLUSH,ie.input="string"==typeof R?N.binstring2buf(R):"[object ArrayBuffer]"===T.call(R)?new Uint8Array(R):R,ie.next_in=0,ie.avail_in=ie.input.length;do{if(0===ie.avail_out&&(ie.output=new ae.Buf8(me),ie.next_out=0,ie.avail_out=me),(oe=Y.inflate(ie,V.Z_NO_FLUSH))===V.Z_NEED_DICT&&ue&&(he="string"==typeof ue?N.string2buf(ue):"[object ArrayBuffer]"===T.call(ue)?new Uint8Array(ue):ue,oe=Y.inflateSetDictionary(this.strm,he)),oe===V.Z_BUF_ERROR&&!0===Ae&&(oe=V.Z_OK,Ae=!1),oe!==V.Z_STREAM_END&&oe!==V.Z_OK)return this.onEnd(oe),this.ended=!0,!1;ie.next_out&&(0===ie.avail_out||oe===V.Z_STREAM_END||0===ie.avail_in&&(je===V.Z_FINISH||je===V.Z_SYNC_FLUSH))&&("string"===this.options.to?(Te=N.utf8border(ie.output,ie.next_out),nt=ie.next_out-Te,Ze=N.buf2string(ie.output,Te),ie.next_out=nt,ie.avail_out=me-nt,nt&&ae.arraySet(ie.output,ie.output,Te,nt,0),this.onData(Ze)):this.onData(ae.shrinkBuf(ie.output,ie.next_out))),0===ie.avail_in&&0===ie.avail_out&&(Ae=!0)}while((ie.avail_in>0||0===ie.avail_out)&&oe!==V.Z_STREAM_END);return oe===V.Z_STREAM_END&&(je=V.Z_FINISH),je===V.Z_FINISH?(oe=Y.inflateEnd(this.strm),this.onEnd(oe),this.ended=!0,oe===V.Z_OK):(je===V.Z_SYNC_FLUSH&&(this.onEnd(V.Z_OK),ie.avail_out=0),!0)},b.prototype.onData=function(R){this.chunks.push(R)},b.prototype.onEnd=function(R){R===V.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):ae.flattenChunks(this.chunks)),this.chunks=[],this.err=R,this.msg=this.strm.msg},re.Inflate=b,re.inflate=j,re.inflateRaw=function Q(R,W){return(W=W||{}).raw=!0,j(R,W)},re.ungzip=j},function(Me,re,$){"use strict";var Y=$(33),ae=$(34),N=$(35),V=$(36),O=$(37),_=1,T=2,R=0,me=-2,nt=1,U=852,v=592;function M(Ee){return(Ee>>>24&255)+(Ee>>>8&65280)+((65280&Ee)<<8)+((255&Ee)<<24)}function H(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Y.Buf16(320),this.work=new Y.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function X(Ee){var He;return Ee&&Ee.state?(Ee.total_in=Ee.total_out=(He=Ee.state).total=0,Ee.msg="",He.wrap&&(Ee.adler=1&He.wrap),He.mode=nt,He.last=0,He.havedict=0,He.dmax=32768,He.head=null,He.hold=0,He.bits=0,He.lencode=He.lendyn=new Y.Buf32(U),He.distcode=He.distdyn=new Y.Buf32(v),He.sane=1,He.back=-1,R):me}function pe(Ee){var He;return Ee&&Ee.state?((He=Ee.state).wsize=0,He.whave=0,He.wnext=0,X(Ee)):me}function $e(Ee,He){var F,Ye;return!Ee||!Ee.state||(Ye=Ee.state,He<0?(F=0,He=-He):(F=1+(He>>4),He<48&&(He&=15)),He&&(He<8||He>15))?me:(null!==Ye.window&&Ye.wbits!==He&&(Ye.window=null),Ye.wrap=F,Ye.wbits=He,pe(Ee))}function lt(Ee,He){var F,Ye;return Ee?(Ye=new H,Ee.state=Ye,Ye.window=null,(F=$e(Ee,He))!==R&&(Ee.state=null),F):me}var Rt,gi,Ct=!0;function eo(Ee){if(Ct){var He;for(Rt=new Y.Buf32(512),gi=new Y.Buf32(32),He=0;He<144;)Ee.lens[He++]=8;for(;He<256;)Ee.lens[He++]=9;for(;He<280;)Ee.lens[He++]=7;for(;He<288;)Ee.lens[He++]=8;for(O(_,Ee.lens,0,288,Rt,0,Ee.work,{bits:9}),He=0;He<32;)Ee.lens[He++]=5;O(T,Ee.lens,0,32,gi,0,Ee.work,{bits:5}),Ct=!1}Ee.lencode=Rt,Ee.lenbits=9,Ee.distcode=gi,Ee.distbits=5}function to(Ee,He,F,Ye){var sn,Ue=Ee.state;return null===Ue.window&&(Ue.wsize=1<<Ue.wbits,Ue.wnext=0,Ue.whave=0,Ue.window=new Y.Buf8(Ue.wsize)),Ye>=Ue.wsize?(Y.arraySet(Ue.window,He,F-Ue.wsize,Ue.wsize,0),Ue.wnext=0,Ue.whave=Ue.wsize):((sn=Ue.wsize-Ue.wnext)>Ye&&(sn=Ye),Y.arraySet(Ue.window,He,F-Ye,sn,Ue.wnext),(Ye-=sn)?(Y.arraySet(Ue.window,He,F-Ye,Ye,0),Ue.wnext=Ye,Ue.whave=Ue.wsize):(Ue.wnext+=sn,Ue.wnext===Ue.wsize&&(Ue.wnext=0),Ue.whave<Ue.wsize&&(Ue.whave+=sn))),0}re.inflateReset=pe,re.inflateReset2=$e,re.inflateResetKeep=X,re.inflateInit=function At(Ee){return lt(Ee,15)},re.inflateInit2=lt,re.inflate=function es(Ee,He){var F,Ye,sn,Ue,$i,Ge,qt,Ie,De,Ts,Cn,ke,Mo,no,Ut,yn,ki,Un,ks,wr,On,Pi,Gi,lr,An=0,Yn=new Y.Buf8(4),lc=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Ee||!Ee.state||!Ee.output||!Ee.input&&0!==Ee.avail_in)return me;12===(F=Ee.state).mode&&(F.mode=13),$i=Ee.next_out,sn=Ee.output,Ue=Ee.next_in,Ye=Ee.input,Ie=F.hold,De=F.bits,Ts=Ge=Ee.avail_in,Cn=qt=Ee.avail_out,Pi=R;e:for(;;)switch(F.mode){case nt:if(0===F.wrap){F.mode=13;break}for(;De<16;){if(0===Ge)break e;Ge--,Ie+=Ye[Ue++]<<De,De+=8}if(2&F.wrap&&35615===Ie){F.check=0,Yn[0]=255&Ie,Yn[1]=Ie>>>8&255,F.check=N(F.check,Yn,2,0),Ie=0,De=0,F.mode=2;break}if(F.flags=0,F.head&&(F.head.done=!1),!(1&F.wrap)||(((255&Ie)<<8)+(Ie>>8))%31){Ee.msg="incorrect header check",F.mode=30;break}if(8!=(15&Ie)){Ee.msg="unknown compression method",F.mode=30;break}if(De-=4,On=8+(15&(Ie>>>=4)),0===F.wbits)F.wbits=On;else if(On>F.wbits){Ee.msg="invalid window size",F.mode=30;break}F.dmax=1<<On,Ee.adler=F.check=1,F.mode=512&Ie?10:12,Ie=0,De=0;break;case 2:for(;De<16;){if(0===Ge)break e;Ge--,Ie+=Ye[Ue++]<<De,De+=8}if(F.flags=Ie,8!=(255&F.flags)){Ee.msg="unknown compression method",F.mode=30;break}if(57344&F.flags){Ee.msg="unknown header flags set",F.mode=30;break}F.head&&(F.head.text=Ie>>8&1),512&F.flags&&(Yn[0]=255&Ie,Yn[1]=Ie>>>8&255,F.check=N(F.check,Yn,2,0)),Ie=0,De=0,F.mode=3;case 3:for(;De<32;){if(0===Ge)break e;Ge--,Ie+=Ye[Ue++]<<De,De+=8}F.head&&(F.head.time=Ie),512&F.flags&&(Yn[0]=255&Ie,Yn[1]=Ie>>>8&255,Yn[2]=Ie>>>16&255,Yn[3]=Ie>>>24&255,F.check=N(F.check,Yn,4,0)),Ie=0,De=0,F.mode=4;case 4:for(;De<16;){if(0===Ge)break e;Ge--,Ie+=Ye[Ue++]<<De,De+=8}F.head&&(F.head.xflags=255&Ie,F.head.os=Ie>>8),512&F.flags&&(Yn[0]=255&Ie,Yn[1]=Ie>>>8&255,F.check=N(F.check,Yn,2,0)),Ie=0,De=0,F.mode=5;case 5:if(1024&F.flags){for(;De<16;){if(0===Ge)break e;Ge--,Ie+=Ye[Ue++]<<De,De+=8}F.length=Ie,F.head&&(F.head.extra_len=Ie),512&F.flags&&(Yn[0]=255&Ie,Yn[1]=Ie>>>8&255,F.check=N(F.check,Yn,2,0)),Ie=0,De=0}else F.head&&(F.head.extra=null);F.mode=6;case 6:if(1024&F.flags&&((ke=F.length)>Ge&&(ke=Ge),ke&&(F.head&&(On=F.head.extra_len-F.length,F.head.extra||(F.head.extra=new Array(F.head.extra_len)),Y.arraySet(F.head.extra,Ye,Ue,ke,On)),512&F.flags&&(F.check=N(F.check,Ye,ke,Ue)),Ge-=ke,Ue+=ke,F.length-=ke),F.length))break e;F.length=0,F.mode=7;case 7:if(2048&F.flags){if(0===Ge)break e;ke=0;do{On=Ye[Ue+ke++],F.head&&On&&F.length<65536&&(F.head.name+=String.fromCharCode(On))}while(On&&ke<Ge);if(512&F.flags&&(F.check=N(F.check,Ye,ke,Ue)),Ge-=ke,Ue+=ke,On)break e}else F.head&&(F.head.name=null);F.length=0,F.mode=8;case 8:if(4096&F.flags){if(0===Ge)break e;ke=0;do{On=Ye[Ue+ke++],F.head&&On&&F.length<65536&&(F.head.comment+=String.fromCharCode(On))}while(On&&ke<Ge);if(512&F.flags&&(F.check=N(F.check,Ye,ke,Ue)),Ge-=ke,Ue+=ke,On)break e}else F.head&&(F.head.comment=null);F.mode=9;case 9:if(512&F.flags){for(;De<16;){if(0===Ge)break e;Ge--,Ie+=Ye[Ue++]<<De,De+=8}if(Ie!==(65535&F.check)){Ee.msg="header crc mismatch",F.mode=30;break}Ie=0,De=0}F.head&&(F.head.hcrc=F.flags>>9&1,F.head.done=!0),Ee.adler=F.check=0,F.mode=12;break;case 10:for(;De<32;){if(0===Ge)break e;Ge--,Ie+=Ye[Ue++]<<De,De+=8}Ee.adler=F.check=M(Ie),Ie=0,De=0,F.mode=11;case 11:if(0===F.havedict)return Ee.next_out=$i,Ee.avail_out=qt,Ee.next_in=Ue,Ee.avail_in=Ge,F.hold=Ie,F.bits=De,2;Ee.adler=F.check=1,F.mode=12;case 12:if(5===He||6===He)break e;case 13:if(F.last){Ie>>>=7&De,De-=7&De,F.mode=27;break}for(;De<3;){if(0===Ge)break e;Ge--,Ie+=Ye[Ue++]<<De,De+=8}switch(F.last=1&Ie,De-=1,3&(Ie>>>=1)){case 0:F.mode=14;break;case 1:if(eo(F),F.mode=20,6===He){Ie>>>=2,De-=2;break e}break;case 2:F.mode=17;break;case 3:Ee.msg="invalid block type",F.mode=30}Ie>>>=2,De-=2;break;case 14:for(Ie>>>=7&De,De-=7&De;De<32;){if(0===Ge)break e;Ge--,Ie+=Ye[Ue++]<<De,De+=8}if((65535&Ie)!=(Ie>>>16^65535)){Ee.msg="invalid stored block lengths",F.mode=30;break}if(F.length=65535&Ie,Ie=0,De=0,F.mode=15,6===He)break e;case 15:F.mode=16;case 16:if(ke=F.length){if(ke>Ge&&(ke=Ge),ke>qt&&(ke=qt),0===ke)break e;Y.arraySet(sn,Ye,Ue,ke,$i),Ge-=ke,Ue+=ke,qt-=ke,$i+=ke,F.length-=ke;break}F.mode=12;break;case 17:for(;De<14;){if(0===Ge)break e;Ge--,Ie+=Ye[Ue++]<<De,De+=8}if(F.nlen=257+(31&Ie),De-=5,F.ndist=1+(31&(Ie>>>=5)),De-=5,F.ncode=4+(15&(Ie>>>=5)),Ie>>>=4,De-=4,F.nlen>286||F.ndist>30){Ee.msg="too many length or distance symbols",F.mode=30;break}F.have=0,F.mode=18;case 18:for(;F.have<F.ncode;){for(;De<3;){if(0===Ge)break e;Ge--,Ie+=Ye[Ue++]<<De,De+=8}F.lens[lc[F.have++]]=7&Ie,Ie>>>=3,De-=3}for(;F.have<19;)F.lens[lc[F.have++]]=0;if(F.lencode=F.lendyn,F.lenbits=7,Pi=O(0,F.lens,0,19,F.lencode,0,F.work,Gi={bits:F.lenbits}),F.lenbits=Gi.bits,Pi){Ee.msg="invalid code lengths set",F.mode=30;break}F.have=0,F.mode=19;case 19:for(;F.have<F.nlen+F.ndist;){for(;yn=(An=F.lencode[Ie&(1<<F.lenbits)-1])>>>16&255,ki=65535&An,!((Ut=An>>>24)<=De);){if(0===Ge)break e;Ge--,Ie+=Ye[Ue++]<<De,De+=8}if(ki<16)Ie>>>=Ut,De-=Ut,F.lens[F.have++]=ki;else{if(16===ki){for(lr=Ut+2;De<lr;){if(0===Ge)break e;Ge--,Ie+=Ye[Ue++]<<De,De+=8}if(Ie>>>=Ut,De-=Ut,0===F.have){Ee.msg="invalid bit length repeat",F.mode=30;break}On=F.lens[F.have-1],ke=3+(3&Ie),Ie>>>=2,De-=2}else if(17===ki){for(lr=Ut+3;De<lr;){if(0===Ge)break e;Ge--,Ie+=Ye[Ue++]<<De,De+=8}De-=Ut,On=0,ke=3+(7&(Ie>>>=Ut)),Ie>>>=3,De-=3}else{for(lr=Ut+7;De<lr;){if(0===Ge)break e;Ge--,Ie+=Ye[Ue++]<<De,De+=8}De-=Ut,On=0,ke=11+(127&(Ie>>>=Ut)),Ie>>>=7,De-=7}if(F.have+ke>F.nlen+F.ndist){Ee.msg="invalid bit length repeat",F.mode=30;break}for(;ke--;)F.lens[F.have++]=On}}if(30===F.mode)break;if(0===F.lens[256]){Ee.msg="invalid code -- missing end-of-block",F.mode=30;break}if(F.lenbits=9,Pi=O(_,F.lens,0,F.nlen,F.lencode,0,F.work,Gi={bits:F.lenbits}),F.lenbits=Gi.bits,Pi){Ee.msg="invalid literal/lengths set",F.mode=30;break}if(F.distbits=6,F.distcode=F.distdyn,Pi=O(T,F.lens,F.nlen,F.ndist,F.distcode,0,F.work,Gi={bits:F.distbits}),F.distbits=Gi.bits,Pi){Ee.msg="invalid distances set",F.mode=30;break}if(F.mode=20,6===He)break e;case 20:F.mode=21;case 21:if(Ge>=6&&qt>=258){Ee.next_out=$i,Ee.avail_out=qt,Ee.next_in=Ue,Ee.avail_in=Ge,F.hold=Ie,F.bits=De,V(Ee,Cn),$i=Ee.next_out,sn=Ee.output,qt=Ee.avail_out,Ue=Ee.next_in,Ye=Ee.input,Ge=Ee.avail_in,Ie=F.hold,De=F.bits,12===F.mode&&(F.back=-1);break}for(F.back=0;yn=(An=F.lencode[Ie&(1<<F.lenbits)-1])>>>16&255,ki=65535&An,!((Ut=An>>>24)<=De);){if(0===Ge)break e;Ge--,Ie+=Ye[Ue++]<<De,De+=8}if(yn&&!(240&yn)){for(Un=Ut,ks=yn,wr=ki;yn=(An=F.lencode[wr+((Ie&(1<<Un+ks)-1)>>Un)])>>>16&255,ki=65535&An,!(Un+(Ut=An>>>24)<=De);){if(0===Ge)break e;Ge--,Ie+=Ye[Ue++]<<De,De+=8}Ie>>>=Un,De-=Un,F.back+=Un}if(Ie>>>=Ut,De-=Ut,F.back+=Ut,F.length=ki,0===yn){F.mode=26;break}if(32&yn){F.back=-1,F.mode=12;break}if(64&yn){Ee.msg="invalid literal/length code",F.mode=30;break}F.extra=15&yn,F.mode=22;case 22:if(F.extra){for(lr=F.extra;De<lr;){if(0===Ge)break e;Ge--,Ie+=Ye[Ue++]<<De,De+=8}F.length+=Ie&(1<<F.extra)-1,Ie>>>=F.extra,De-=F.extra,F.back+=F.extra}F.was=F.length,F.mode=23;case 23:for(;yn=(An=F.distcode[Ie&(1<<F.distbits)-1])>>>16&255,ki=65535&An,!((Ut=An>>>24)<=De);){if(0===Ge)break e;Ge--,Ie+=Ye[Ue++]<<De,De+=8}if(!(240&yn)){for(Un=Ut,ks=yn,wr=ki;yn=(An=F.distcode[wr+((Ie&(1<<Un+ks)-1)>>Un)])>>>16&255,ki=65535&An,!(Un+(Ut=An>>>24)<=De);){if(0===Ge)break e;Ge--,Ie+=Ye[Ue++]<<De,De+=8}Ie>>>=Un,De-=Un,F.back+=Un}if(Ie>>>=Ut,De-=Ut,F.back+=Ut,64&yn){Ee.msg="invalid distance code",F.mode=30;break}F.offset=ki,F.extra=15&yn,F.mode=24;case 24:if(F.extra){for(lr=F.extra;De<lr;){if(0===Ge)break e;Ge--,Ie+=Ye[Ue++]<<De,De+=8}F.offset+=Ie&(1<<F.extra)-1,Ie>>>=F.extra,De-=F.extra,F.back+=F.extra}if(F.offset>F.dmax){Ee.msg="invalid distance too far back",F.mode=30;break}F.mode=25;case 25:if(0===qt)break e;if(F.offset>(ke=Cn-qt)){if((ke=F.offset-ke)>F.whave&&F.sane){Ee.msg="invalid distance too far back",F.mode=30;break}Mo=ke>F.wnext?F.wsize-(ke-=F.wnext):F.wnext-ke,ke>F.length&&(ke=F.length),no=F.window}else no=sn,Mo=$i-F.offset,ke=F.length;ke>qt&&(ke=qt),qt-=ke,F.length-=ke;do{sn[$i++]=no[Mo++]}while(--ke);0===F.length&&(F.mode=21);break;case 26:if(0===qt)break e;sn[$i++]=F.length,qt--,F.mode=21;break;case 27:if(F.wrap){for(;De<32;){if(0===Ge)break e;Ge--,Ie|=Ye[Ue++]<<De,De+=8}if(Ee.total_out+=Cn-=qt,F.total+=Cn,Cn&&(Ee.adler=F.check=F.flags?N(F.check,sn,Cn,$i-Cn):ae(F.check,sn,Cn,$i-Cn)),Cn=qt,(F.flags?Ie:M(Ie))!==F.check){Ee.msg="incorrect data check",F.mode=30;break}Ie=0,De=0}F.mode=28;case 28:if(F.wrap&&F.flags){for(;De<32;){if(0===Ge)break e;Ge--,Ie+=Ye[Ue++]<<De,De+=8}if(Ie!==(4294967295&F.total)){Ee.msg="incorrect length check",F.mode=30;break}Ie=0,De=0}F.mode=29;case 29:Pi=1;break e;case 30:Pi=-3;break e;case 31:return-4;default:return me}return Ee.next_out=$i,Ee.avail_out=qt,Ee.next_in=Ue,Ee.avail_in=Ge,F.hold=Ie,F.bits=De,(F.wsize||Cn!==Ee.avail_out&&F.mode<30&&(F.mode<27||4!==He))&&to(Ee,Ee.output,Ee.next_out,Cn-Ee.avail_out)?(F.mode=31,-4):(Cn-=Ee.avail_out,Ee.total_in+=Ts-=Ee.avail_in,Ee.total_out+=Cn,F.total+=Cn,F.wrap&&Cn&&(Ee.adler=F.check=F.flags?N(F.check,sn,Cn,Ee.next_out-Cn):ae(F.check,sn,Cn,Ee.next_out-Cn)),Ee.data_type=F.bits+(F.last?64:0)+(12===F.mode?128:0)+(20===F.mode||15===F.mode?256:0),(0===Ts&&0===Cn||4===He)&&Pi===R&&(Pi=-5),Pi)},re.inflateEnd=function ha(Ee){if(!Ee||!Ee.state)return me;var He=Ee.state;return He.window&&(He.window=null),Ee.state=null,R},re.inflateGetHeader=function Vl(Ee,He){var F;return Ee&&Ee.state&&2&(F=Ee.state).wrap?(F.head=He,He.done=!1,R):me},re.inflateSetDictionary=function pa(Ee,He){var Ye,F=He.length;return Ee&&Ee.state&&(0===(Ye=Ee.state).wrap||11===Ye.mode)?11===Ye.mode&&ae(1,He,F,0)!==Ye.check?-3:to(Ee,He,F,F)?(Ye.mode=31,-4):(Ye.havedict=1,R):me},re.inflateInfo="pako inflate (from Nodeca project)"},function(Me,re){"use strict";var $=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";re.assign=function(N){for(var V=Array.prototype.slice.call(arguments,1);V.length;){var O=V.shift();if(O){if("object"!=typeof O)throw new TypeError(O+"must be non-object");for(var D in O)O.hasOwnProperty(D)&&(N[D]=O[D])}}return N},re.shrinkBuf=function(N,V){return N.length===V?N:N.subarray?N.subarray(0,V):(N.length=V,N)};var Y={arraySet:function(N,V,O,D,_){if(V.subarray&&N.subarray)N.set(V.subarray(O,O+D),_);else for(var T=0;T<D;T++)N[_+T]=V[O+T]},flattenChunks:function(N){var V,O,D,_,T,b;for(D=0,V=0,O=N.length;V<O;V++)D+=N[V].length;for(b=new Uint8Array(D),_=0,V=0,O=N.length;V<O;V++)b.set(T=N[V],_),_+=T.length;return b}},ae={arraySet:function(N,V,O,D,_){for(var T=0;T<D;T++)N[_+T]=V[O+T]},flattenChunks:function(N){return[].concat.apply([],N)}};re.setTyped=function(N){N?(re.Buf8=Uint8Array,re.Buf16=Uint16Array,re.Buf32=Int32Array,re.assign(re,Y)):(re.Buf8=Array,re.Buf16=Array,re.Buf32=Array,re.assign(re,ae))},re.setTyped($)},function(Me,re){"use strict";Me.exports=function $(Y,ae,N,V){for(var O=65535&Y,D=Y>>>16&65535,_=0;0!==N;){N-=_=N>2e3?2e3:N;do{D=D+(O=O+ae[V++]|0)|0}while(--_);O%=65521,D%=65521}return O|D<<16}},function(Me,re){"use strict";var Y=function $(){for(var N,V=[],O=0;O<256;O++){N=O;for(var D=0;D<8;D++)N=1&N?3988292384^N>>>1:N>>>1;V[O]=N}return V}();Me.exports=function ae(N,V,O,D){var _=Y,T=D+O;N^=-1;for(var b=D;b<T;b++)N=N>>>8^_[255&(N^V[b])];return~N}},function(Me,re){"use strict";Me.exports=function(N,V){var O,D,_,T,b,j,Q,R,W,ie,me,ue,oe,je,Te,nt,Ze,he,Ae,Ke,Vt,ht,Yt,Ot,yt;Ot=N.input,_=(D=N.next_in)+(N.avail_in-5),yt=N.output,b=(T=N.next_out)-(V-N.avail_out),j=T+(N.avail_out-257),Q=(O=N.state).dmax,R=O.wsize,W=O.whave,ie=O.wnext,me=O.window,ue=O.hold,oe=O.bits,je=O.lencode,Te=O.distcode,nt=(1<<O.lenbits)-1,Ze=(1<<O.distbits)-1;e:do{oe<15&&(ue+=Ot[D++]<<oe,ue+=Ot[D++]<<(oe+=8),oe+=8),he=je[ue&nt];t:for(;;){if(ue>>>=Ae=he>>>24,oe-=Ae,0==(Ae=he>>>16&255))yt[T++]=65535&he;else{if(!(16&Ae)){if(64&Ae){if(32&Ae){O.mode=12;break e}N.msg="invalid literal/length code",O.mode=30;break e}he=je[(65535&he)+(ue&(1<<Ae)-1)];continue t}for(Ke=65535&he,(Ae&=15)&&(oe<Ae&&(ue+=Ot[D++]<<oe,oe+=8),Ke+=ue&(1<<Ae)-1,ue>>>=Ae,oe-=Ae),oe<15&&(ue+=Ot[D++]<<oe,ue+=Ot[D++]<<(oe+=8),oe+=8),he=Te[ue&Ze];;){if(ue>>>=Ae=he>>>24,oe-=Ae,16&(Ae=he>>>16&255)){if(Vt=65535&he,oe<(Ae&=15)&&(ue+=Ot[D++]<<oe,(oe+=8)<Ae&&(ue+=Ot[D++]<<oe,oe+=8)),(Vt+=ue&(1<<Ae)-1)>Q){N.msg="invalid distance too far back",O.mode=30;break e}if(ue>>>=Ae,oe-=Ae,Vt>(Ae=T-b)){if((Ae=Vt-Ae)>W&&O.sane){N.msg="invalid distance too far back",O.mode=30;break e}if(ht=0,Yt=me,0===ie){if(ht+=R-Ae,Ae<Ke){Ke-=Ae;do{yt[T++]=me[ht++]}while(--Ae);ht=T-Vt,Yt=yt}}else if(ie<Ae){if(ht+=R+ie-Ae,(Ae-=ie)<Ke){Ke-=Ae;do{yt[T++]=me[ht++]}while(--Ae);if(ht=0,ie<Ke){Ke-=Ae=ie;do{yt[T++]=me[ht++]}while(--Ae);ht=T-Vt,Yt=yt}}}else if(ht+=ie-Ae,Ae<Ke){Ke-=Ae;do{yt[T++]=me[ht++]}while(--Ae);ht=T-Vt,Yt=yt}for(;Ke>2;)yt[T++]=Yt[ht++],yt[T++]=Yt[ht++],yt[T++]=Yt[ht++],Ke-=3;Ke&&(yt[T++]=Yt[ht++],Ke>1&&(yt[T++]=Yt[ht++]))}else{ht=T-Vt;do{yt[T++]=yt[ht++],yt[T++]=yt[ht++],yt[T++]=yt[ht++],Ke-=3}while(Ke>2);Ke&&(yt[T++]=yt[ht++],Ke>1&&(yt[T++]=yt[ht++]))}break}if(64&Ae){N.msg="invalid distance code",O.mode=30;break e}he=Te[(65535&he)+(ue&(1<<Ae)-1)]}}break}}while(D<_&&T<j);ue&=(1<<(oe-=(Ke=oe>>3)<<3))-1,N.next_in=D-=Ke,N.next_out=T,N.avail_in=D<_?_-D+5:5-(D-_),N.avail_out=T<j?j-T+257:257-(T-j),O.hold=ue,O.bits=oe}},function(Me,re,$){"use strict";var Y=$(33),T=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],b=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],j=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Q=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];Me.exports=function(W,ie,me,ue,oe,je,Te,nt){var ve,Pe,Xe,xt,bt,gn,xe,Oe,ct,Ze=nt.bits,he=0,Ae=0,Ke=0,Vt=0,ht=0,Yt=0,Ot=0,yt=0,Dn=0,_e=0,it=null,_t=0,Kt=new Y.Buf16(16),$n=new Y.Buf16(16),G=null,Z=0;for(he=0;he<=15;he++)Kt[he]=0;for(Ae=0;Ae<ue;Ae++)Kt[ie[me+Ae]]++;for(ht=Ze,Vt=15;Vt>=1&&0===Kt[Vt];Vt--);if(ht>Vt&&(ht=Vt),0===Vt)return oe[je++]=20971520,oe[je++]=20971520,nt.bits=1,0;for(Ke=1;Ke<Vt&&0===Kt[Ke];Ke++);for(ht<Ke&&(ht=Ke),yt=1,he=1;he<=15;he++)if(yt<<=1,(yt-=Kt[he])<0)return-1;if(yt>0&&(0===W||1!==Vt))return-1;for($n[1]=0,he=1;he<15;he++)$n[he+1]=$n[he]+Kt[he];for(Ae=0;Ae<ue;Ae++)0!==ie[me+Ae]&&(Te[$n[ie[me+Ae]]++]=Ae);if(0===W?(it=G=Te,gn=19):1===W?(it=T,_t-=257,G=b,Z-=257,gn=256):(it=j,G=Q,gn=-1),_e=0,Ae=0,he=Ke,bt=je,Yt=ht,Ot=0,Xe=-1,xt=(Dn=1<<ht)-1,1===W&&Dn>852||2===W&&Dn>592)return 1;for(;;){xe=he-Ot,Te[Ae]<gn?(Oe=0,ct=Te[Ae]):Te[Ae]>gn?(Oe=G[Z+Te[Ae]],ct=it[_t+Te[Ae]]):(Oe=96,ct=0),ve=1<<he-Ot,Ke=Pe=1<<Yt;do{oe[bt+(_e>>Ot)+(Pe-=ve)]=xe<<24|Oe<<16|ct}while(0!==Pe);for(ve=1<<he-1;_e&ve;)ve>>=1;if(0!==ve?(_e&=ve-1,_e+=ve):_e=0,Ae++,0==--Kt[he]){if(he===Vt)break;he=ie[me+Te[Ae]]}if(he>ht&&(_e&xt)!==Xe){for(0===Ot&&(Ot=ht),bt+=Ke,yt=1<<(Yt=he-Ot);Yt+Ot<Vt&&!((yt-=Kt[Yt+Ot])<=0);)Yt++,yt<<=1;if(Dn+=1<<Yt,1===W&&Dn>852||2===W&&Dn>592)return 1;oe[Xe=_e&xt]=ht<<24|Yt<<16|bt-je}}return 0!==_e&&(oe[bt+_e]=he-Ot<<24|64<<16),nt.bits=ht,0}},function(Me,re,$){"use strict";var Y=$(33),ae=!0,N=!0;try{String.fromCharCode.apply(null,[0])}catch{ae=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{N=!1}for(var V=new Y.Buf8(256),O=0;O<256;O++)V[O]=O>=252?6:O>=248?5:O>=240?4:O>=224?3:O>=192?2:1;function D(_,T){if(T<65537&&(_.subarray&&N||!_.subarray&&ae))return String.fromCharCode.apply(null,Y.shrinkBuf(_,T));for(var b="",j=0;j<T;j++)b+=String.fromCharCode(_[j]);return b}V[254]=V[254]=1,re.string2buf=function(_){var T,b,j,Q,R,W=_.length,ie=0;for(Q=0;Q<W;Q++)55296==(64512&(b=_.charCodeAt(Q)))&&Q+1<W&&56320==(64512&(j=_.charCodeAt(Q+1)))&&(b=65536+(b-55296<<10)+(j-56320),Q++),ie+=b<128?1:b<2048?2:b<65536?3:4;for(T=new Y.Buf8(ie),R=0,Q=0;R<ie;Q++)55296==(64512&(b=_.charCodeAt(Q)))&&Q+1<W&&56320==(64512&(j=_.charCodeAt(Q+1)))&&(b=65536+(b-55296<<10)+(j-56320),Q++),b<128?T[R++]=b:b<2048?(T[R++]=192|b>>>6,T[R++]=128|63&b):b<65536?(T[R++]=224|b>>>12,T[R++]=128|b>>>6&63,T[R++]=128|63&b):(T[R++]=240|b>>>18,T[R++]=128|b>>>12&63,T[R++]=128|b>>>6&63,T[R++]=128|63&b);return T},re.buf2binstring=function(_){return D(_,_.length)},re.binstring2buf=function(_){for(var T=new Y.Buf8(_.length),b=0,j=T.length;b<j;b++)T[b]=_.charCodeAt(b);return T},re.buf2string=function(_,T){var b,j,Q,R,W=T||_.length,ie=new Array(2*W);for(j=0,b=0;b<W;)if((Q=_[b++])<128)ie[j++]=Q;else if((R=V[Q])>4)ie[j++]=65533,b+=R-1;else{for(Q&=2===R?31:3===R?15:7;R>1&&b<W;)Q=Q<<6|63&_[b++],R--;R>1?ie[j++]=65533:Q<65536?ie[j++]=Q:(ie[j++]=55296|(Q-=65536)>>10&1023,ie[j++]=56320|1023&Q)}return D(ie,j)},re.utf8border=function(_,T){var b;for((T=T||_.length)>_.length&&(T=_.length),b=T-1;b>=0&&128==(192&_[b]);)b--;return b<0||0===b?T:b+V[_[b]]>T?b:T}},function(Me,re){"use strict";Me.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(Me,re){"use strict";Me.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(Me,re){"use strict";Me.exports=function $(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(Me,re){"use strict";Me.exports=function $(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}}])},838:(Br,Me,re)=>{"use strict";var Y=re(981),ae=re(20),N="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;Me.hp=_,Me.IS=50;var V=2147483647;function D(U){if(U>V)throw new RangeError('The value "'+U+'" is invalid for option "size"');var v=new Uint8Array(U);return Object.setPrototypeOf(v,_.prototype),v}function _(U,v,m){if("number"==typeof U){if("string"==typeof v)throw new TypeError('The "string" argument must be of type string. Received type number');return Q(U)}return T(U,v,m)}function T(U,v,m){if("string"==typeof U)return function R(U,v){if(("string"!=typeof v||""===v)&&(v="utf8"),!_.isEncoding(v))throw new TypeError("Unknown encoding: "+v);var m=0|Te(U,v),E=D(m),M=E.write(U,v);return M!==m&&(E=E.slice(0,M)),E}(U,v);if(ArrayBuffer.isView(U))return function ie(U){if(rt(U,Uint8Array)){var v=new Uint8Array(U);return me(v.buffer,v.byteOffset,v.byteLength)}return W(U)}(U);if(null==U)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U);if(rt(U,ArrayBuffer)||U&&rt(U.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(rt(U,SharedArrayBuffer)||U&&rt(U.buffer,SharedArrayBuffer)))return me(U,v,m);if("number"==typeof U)throw new TypeError('The "value" argument must not be of type number. Received type number');var E=U.valueOf&&U.valueOf();if(null!=E&&E!==U)return _.from(E,v,m);var M=function ue(U){if(_.isBuffer(U)){var v=0|oe(U.length),m=D(v);return 0===m.length||U.copy(m,0,0,v),m}return void 0!==U.length?"number"!=typeof U.length||mn(U.length)?D(0):W(U):"Buffer"===U.type&&Array.isArray(U.data)?W(U.data):void 0}(U);if(M)return M;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof U[Symbol.toPrimitive])return _.from(U[Symbol.toPrimitive]("string"),v,m);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U)}function b(U){if("number"!=typeof U)throw new TypeError('"size" argument must be of type number');if(U<0)throw new RangeError('The value "'+U+'" is invalid for option "size"')}function Q(U){return b(U),D(U<0?0:0|oe(U))}function W(U){for(var v=U.length<0?0:0|oe(U.length),m=D(v),E=0;E<v;E+=1)m[E]=255&U[E];return m}function me(U,v,m){if(v<0||U.byteLength<v)throw new RangeError('"offset" is outside of buffer bounds');if(U.byteLength<v+(m||0))throw new RangeError('"length" is outside of buffer bounds');var E;return E=void 0===v&&void 0===m?new Uint8Array(U):void 0===m?new Uint8Array(U,v):new Uint8Array(U,v,m),Object.setPrototypeOf(E,_.prototype),E}function oe(U){if(U>=V)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+V.toString(16)+" bytes");return 0|U}function Te(U,v){if(_.isBuffer(U))return U.length;if(ArrayBuffer.isView(U)||rt(U,ArrayBuffer))return U.byteLength;if("string"!=typeof U)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof U);var m=U.length,E=arguments.length>2&&!0===arguments[2];if(!E&&0===m)return 0;for(var M=!1;;)switch(v){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":return xe(U).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*m;case"hex":return m>>>1;case"base64":return Be(U).length;default:if(M)return E?-1:xe(U).length;v=(""+v).toLowerCase(),M=!0}}function nt(U,v,m){var E=!1;if((void 0===v||v<0)&&(v=0),v>this.length||((void 0===m||m>this.length)&&(m=this.length),m<=0)||(m>>>=0)<=(v>>>=0))return"";for(U||(U="utf8");;)switch(U){case"hex":return xt(this,v,m);case"utf8":case"utf-8":return Dn(this,v,m);case"ascii":return Pe(this,v,m);case"latin1":case"binary":return Xe(this,v,m);case"base64":return yt(this,v,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return bt(this,v,m);default:if(E)throw new TypeError("Unknown encoding: "+U);U=(U+"").toLowerCase(),E=!0}}function Ze(U,v,m){var E=U[v];U[v]=U[m],U[m]=E}function he(U,v,m,E,M){if(0===U.length)return-1;if("string"==typeof m?(E=m,m=0):m>2147483647?m=2147483647:m<-2147483648&&(m=-2147483648),mn(m=+m)&&(m=M?0:U.length-1),m<0&&(m=U.length+m),m>=U.length){if(M)return-1;m=U.length-1}else if(m<0){if(!M)return-1;m=0}if("string"==typeof v&&(v=_.from(v,E)),_.isBuffer(v))return 0===v.length?-1:Ae(U,v,m,E,M);if("number"==typeof v)return v&=255,"function"==typeof Uint8Array.prototype.indexOf?M?Uint8Array.prototype.indexOf.call(U,v,m):Uint8Array.prototype.lastIndexOf.call(U,v,m):Ae(U,[v],m,E,M);throw new TypeError("val must be string, number or Buffer")}function Ae(U,v,m,E,M){var lt,H=1,X=U.length,pe=v.length;if(void 0!==E&&("ucs2"===(E=String(E).toLowerCase())||"ucs-2"===E||"utf16le"===E||"utf-16le"===E)){if(U.length<2||v.length<2)return-1;H=2,X/=2,pe/=2,m/=2}function $e(gi,eo){return 1===H?gi[eo]:gi.readUInt16BE(eo*H)}if(M){var At=-1;for(lt=m;lt<X;lt++)if($e(U,lt)===$e(v,-1===At?0:lt-At)){if(-1===At&&(At=lt),lt-At+1===pe)return At*H}else-1!==At&&(lt-=lt-At),At=-1}else for(m+pe>X&&(m=X-pe),lt=m;lt>=0;lt--){for(var Ct=!0,Rt=0;Rt<pe;Rt++)if($e(U,lt+Rt)!==$e(v,Rt)){Ct=!1;break}if(Ct)return lt}return-1}function Ke(U,v,m,E){m=Number(m)||0;var M=U.length-m;E?(E=Number(E))>M&&(E=M):E=M;var H=v.length;E>H/2&&(E=H/2);for(var X=0;X<E;++X){var pe=parseInt(v.substr(2*X,2),16);if(mn(pe))return X;U[m+X]=pe}return X}function Vt(U,v,m,E){return Ve(xe(v,U.length-m),U,m,E)}function ht(U,v,m,E){return Ve(function Oe(U){for(var v=[],m=0;m<U.length;++m)v.push(255&U.charCodeAt(m));return v}(v),U,m,E)}function Yt(U,v,m,E){return Ve(Be(v),U,m,E)}function Ot(U,v,m,E){return Ve(function ct(U,v){for(var m,E,H=[],X=0;X<U.length&&!((v-=2)<0);++X)E=(m=U.charCodeAt(X))>>8,H.push(m%256),H.push(E);return H}(v,U.length-m),U,m,E)}function yt(U,v,m){return Y.fromByteArray(0===v&&m===U.length?U:U.slice(v,m))}function Dn(U,v,m){m=Math.min(U.length,m);for(var E=[],M=v;M<m;){var $e,lt,At,Ct,H=U[M],X=null,pe=H>239?4:H>223?3:H>191?2:1;if(M+pe<=m)switch(pe){case 1:H<128&&(X=H);break;case 2:128==(192&($e=U[M+1]))&&(Ct=(31&H)<<6|63&$e)>127&&(X=Ct);break;case 3:lt=U[M+2],128==(192&($e=U[M+1]))&&128==(192&lt)&&(Ct=(15&H)<<12|(63&$e)<<6|63&lt)>2047&&(Ct<55296||Ct>57343)&&(X=Ct);break;case 4:lt=U[M+2],At=U[M+3],128==(192&($e=U[M+1]))&&128==(192&lt)&&128==(192&At)&&(Ct=(15&H)<<18|(63&$e)<<12|(63&lt)<<6|63&At)>65535&&Ct<1114112&&(X=Ct)}null===X?(X=65533,pe=1):X>65535&&(E.push((X-=65536)>>>10&1023|55296),X=56320|1023&X),E.push(X),M+=pe}return function ve(U){var v=U.length;if(v<=_e)return String.fromCharCode.apply(String,U);for(var m="",E=0;E<v;)m+=String.fromCharCode.apply(String,U.slice(E,E+=_e));return m}(E)}!(_.TYPED_ARRAY_SUPPORT=function O(){try{var U=new Uint8Array(1),v={foo:function(){return 42}};return Object.setPrototypeOf(v,Uint8Array.prototype),Object.setPrototypeOf(U,v),42===U.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(_.prototype,"parent",{enumerable:!0,get:function(){if(_.isBuffer(this))return this.buffer}}),Object.defineProperty(_.prototype,"offset",{enumerable:!0,get:function(){if(_.isBuffer(this))return this.byteOffset}}),_.poolSize=8192,_.from=function(U,v,m){return T(U,v,m)},Object.setPrototypeOf(_.prototype,Uint8Array.prototype),Object.setPrototypeOf(_,Uint8Array),_.alloc=function(U,v,m){return function j(U,v,m){return b(U),U<=0?D(U):void 0!==v?"string"==typeof m?D(U).fill(v,m):D(U).fill(v):D(U)}(U,v,m)},_.allocUnsafe=function(U){return Q(U)},_.allocUnsafeSlow=function(U){return Q(U)},_.isBuffer=function(v){return null!=v&&!0===v._isBuffer&&v!==_.prototype},_.compare=function(v,m){if(rt(v,Uint8Array)&&(v=_.from(v,v.offset,v.byteLength)),rt(m,Uint8Array)&&(m=_.from(m,m.offset,m.byteLength)),!_.isBuffer(v)||!_.isBuffer(m))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(v===m)return 0;for(var E=v.length,M=m.length,H=0,X=Math.min(E,M);H<X;++H)if(v[H]!==m[H]){E=v[H],M=m[H];break}return E<M?-1:M<E?1:0},_.isEncoding=function(v){switch(String(v).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},_.concat=function(v,m){if(!Array.isArray(v))throw new TypeError('"list" argument must be an Array of Buffers');if(0===v.length)return _.alloc(0);var E;if(void 0===m)for(m=0,E=0;E<v.length;++E)m+=v[E].length;var M=_.allocUnsafe(m),H=0;for(E=0;E<v.length;++E){var X=v[E];if(rt(X,Uint8Array))H+X.length>M.length?_.from(X).copy(M,H):Uint8Array.prototype.set.call(M,X,H);else{if(!_.isBuffer(X))throw new TypeError('"list" argument must be an Array of Buffers');X.copy(M,H)}H+=X.length}return M},_.byteLength=Te,_.prototype._isBuffer=!0,_.prototype.swap16=function(){var v=this.length;if(v%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var m=0;m<v;m+=2)Ze(this,m,m+1);return this},_.prototype.swap32=function(){var v=this.length;if(v%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var m=0;m<v;m+=4)Ze(this,m,m+3),Ze(this,m+1,m+2);return this},_.prototype.swap64=function(){var v=this.length;if(v%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var m=0;m<v;m+=8)Ze(this,m,m+7),Ze(this,m+1,m+6),Ze(this,m+2,m+5),Ze(this,m+3,m+4);return this},_.prototype.toLocaleString=_.prototype.toString=function(){var v=this.length;return 0===v?"":0===arguments.length?Dn(this,0,v):nt.apply(this,arguments)},_.prototype.equals=function(v){if(!_.isBuffer(v))throw new TypeError("Argument must be a Buffer");return this===v||0===_.compare(this,v)},_.prototype.inspect=function(){var v="",m=Me.IS;return v=this.toString("hex",0,m).replace(/(.{2})/g,"$1 ").trim(),this.length>m&&(v+=" ... "),"<Buffer "+v+">"},N&&(_.prototype[N]=_.prototype.inspect),_.prototype.compare=function(v,m,E,M,H){if(rt(v,Uint8Array)&&(v=_.from(v,v.offset,v.byteLength)),!_.isBuffer(v))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof v);if(void 0===m&&(m=0),void 0===E&&(E=v?v.length:0),void 0===M&&(M=0),void 0===H&&(H=this.length),m<0||E>v.length||M<0||H>this.length)throw new RangeError("out of range index");if(M>=H&&m>=E)return 0;if(M>=H)return-1;if(m>=E)return 1;if(this===v)return 0;for(var X=(H>>>=0)-(M>>>=0),pe=(E>>>=0)-(m>>>=0),$e=Math.min(X,pe),lt=this.slice(M,H),At=v.slice(m,E),Ct=0;Ct<$e;++Ct)if(lt[Ct]!==At[Ct]){X=lt[Ct],pe=At[Ct];break}return X<pe?-1:pe<X?1:0},_.prototype.includes=function(v,m,E){return-1!==this.indexOf(v,m,E)},_.prototype.indexOf=function(v,m,E){return he(this,v,m,E,!0)},_.prototype.lastIndexOf=function(v,m,E){return he(this,v,m,E,!1)},_.prototype.write=function(v,m,E,M){if(void 0===m)M="utf8",E=this.length,m=0;else if(void 0===E&&"string"==typeof m)M=m,E=this.length,m=0;else{if(!isFinite(m))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");m>>>=0,isFinite(E)?(E>>>=0,void 0===M&&(M="utf8")):(M=E,E=void 0)}var H=this.length-m;if((void 0===E||E>H)&&(E=H),v.length>0&&(E<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");M||(M="utf8");for(var X=!1;;)switch(M){case"hex":return Ke(this,v,m,E);case"utf8":case"utf-8":return Vt(this,v,m,E);case"ascii":case"latin1":case"binary":return ht(this,v,m,E);case"base64":return Yt(this,v,m,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ot(this,v,m,E);default:if(X)throw new TypeError("Unknown encoding: "+M);M=(""+M).toLowerCase(),X=!0}},_.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var _e=4096;function Pe(U,v,m){var E="";m=Math.min(U.length,m);for(var M=v;M<m;++M)E+=String.fromCharCode(127&U[M]);return E}function Xe(U,v,m){var E="";m=Math.min(U.length,m);for(var M=v;M<m;++M)E+=String.fromCharCode(U[M]);return E}function xt(U,v,m){var E=U.length;(!v||v<0)&&(v=0),(!m||m<0||m>E)&&(m=E);for(var M="",H=v;H<m;++H)M+=Jn[U[H]];return M}function bt(U,v,m){for(var E=U.slice(v,m),M="",H=0;H<E.length-1;H+=2)M+=String.fromCharCode(E[H]+256*E[H+1]);return M}function it(U,v,m){if(U%1!=0||U<0)throw new RangeError("offset is not uint");if(U+v>m)throw new RangeError("Trying to access beyond buffer length")}function _t(U,v,m,E,M,H){if(!_.isBuffer(U))throw new TypeError('"buffer" argument must be a Buffer instance');if(v>M||v<H)throw new RangeError('"value" argument is out of bounds');if(m+E>U.length)throw new RangeError("Index out of range")}function gn(U,v,m,E,M,H){if(m+E>U.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("Index out of range")}function Kt(U,v,m,E,M){return v=+v,m>>>=0,M||gn(U,0,m,4),ae.write(U,v,m,E,23,4),m+4}function $n(U,v,m,E,M){return v=+v,m>>>=0,M||gn(U,0,m,8),ae.write(U,v,m,E,52,8),m+8}_.prototype.slice=function(v,m){var E=this.length;(v=~~v)<0?(v+=E)<0&&(v=0):v>E&&(v=E),(m=void 0===m?E:~~m)<0?(m+=E)<0&&(m=0):m>E&&(m=E),m<v&&(m=v);var M=this.subarray(v,m);return Object.setPrototypeOf(M,_.prototype),M},_.prototype.readUintLE=_.prototype.readUIntLE=function(v,m,E){v>>>=0,m>>>=0,E||it(v,m,this.length);for(var M=this[v],H=1,X=0;++X<m&&(H*=256);)M+=this[v+X]*H;return M},_.prototype.readUintBE=_.prototype.readUIntBE=function(v,m,E){v>>>=0,m>>>=0,E||it(v,m,this.length);for(var M=this[v+--m],H=1;m>0&&(H*=256);)M+=this[v+--m]*H;return M},_.prototype.readUint8=_.prototype.readUInt8=function(v,m){return v>>>=0,m||it(v,1,this.length),this[v]},_.prototype.readUint16LE=_.prototype.readUInt16LE=function(v,m){return v>>>=0,m||it(v,2,this.length),this[v]|this[v+1]<<8},_.prototype.readUint16BE=_.prototype.readUInt16BE=function(v,m){return v>>>=0,m||it(v,2,this.length),this[v]<<8|this[v+1]},_.prototype.readUint32LE=_.prototype.readUInt32LE=function(v,m){return v>>>=0,m||it(v,4,this.length),(this[v]|this[v+1]<<8|this[v+2]<<16)+16777216*this[v+3]},_.prototype.readUint32BE=_.prototype.readUInt32BE=function(v,m){return v>>>=0,m||it(v,4,this.length),16777216*this[v]+(this[v+1]<<16|this[v+2]<<8|this[v+3])},_.prototype.readIntLE=function(v,m,E){v>>>=0,m>>>=0,E||it(v,m,this.length);for(var M=this[v],H=1,X=0;++X<m&&(H*=256);)M+=this[v+X]*H;return M>=(H*=128)&&(M-=Math.pow(2,8*m)),M},_.prototype.readIntBE=function(v,m,E){v>>>=0,m>>>=0,E||it(v,m,this.length);for(var M=m,H=1,X=this[v+--M];M>0&&(H*=256);)X+=this[v+--M]*H;return X>=(H*=128)&&(X-=Math.pow(2,8*m)),X},_.prototype.readInt8=function(v,m){return v>>>=0,m||it(v,1,this.length),128&this[v]?-1*(255-this[v]+1):this[v]},_.prototype.readInt16LE=function(v,m){v>>>=0,m||it(v,2,this.length);var E=this[v]|this[v+1]<<8;return 32768&E?4294901760|E:E},_.prototype.readInt16BE=function(v,m){v>>>=0,m||it(v,2,this.length);var E=this[v+1]|this[v]<<8;return 32768&E?4294901760|E:E},_.prototype.readInt32LE=function(v,m){return v>>>=0,m||it(v,4,this.length),this[v]|this[v+1]<<8|this[v+2]<<16|this[v+3]<<24},_.prototype.readInt32BE=function(v,m){return v>>>=0,m||it(v,4,this.length),this[v]<<24|this[v+1]<<16|this[v+2]<<8|this[v+3]},_.prototype.readFloatLE=function(v,m){return v>>>=0,m||it(v,4,this.length),ae.read(this,v,!0,23,4)},_.prototype.readFloatBE=function(v,m){return v>>>=0,m||it(v,4,this.length),ae.read(this,v,!1,23,4)},_.prototype.readDoubleLE=function(v,m){return v>>>=0,m||it(v,8,this.length),ae.read(this,v,!0,52,8)},_.prototype.readDoubleBE=function(v,m){return v>>>=0,m||it(v,8,this.length),ae.read(this,v,!1,52,8)},_.prototype.writeUintLE=_.prototype.writeUIntLE=function(v,m,E,M){v=+v,m>>>=0,E>>>=0,M||_t(this,v,m,E,Math.pow(2,8*E)-1,0);var X=1,pe=0;for(this[m]=255&v;++pe<E&&(X*=256);)this[m+pe]=v/X&255;return m+E},_.prototype.writeUintBE=_.prototype.writeUIntBE=function(v,m,E,M){v=+v,m>>>=0,E>>>=0,M||_t(this,v,m,E,Math.pow(2,8*E)-1,0);var X=E-1,pe=1;for(this[m+X]=255&v;--X>=0&&(pe*=256);)this[m+X]=v/pe&255;return m+E},_.prototype.writeUint8=_.prototype.writeUInt8=function(v,m,E){return v=+v,m>>>=0,E||_t(this,v,m,1,255,0),this[m]=255&v,m+1},_.prototype.writeUint16LE=_.prototype.writeUInt16LE=function(v,m,E){return v=+v,m>>>=0,E||_t(this,v,m,2,65535,0),this[m]=255&v,this[m+1]=v>>>8,m+2},_.prototype.writeUint16BE=_.prototype.writeUInt16BE=function(v,m,E){return v=+v,m>>>=0,E||_t(this,v,m,2,65535,0),this[m]=v>>>8,this[m+1]=255&v,m+2},_.prototype.writeUint32LE=_.prototype.writeUInt32LE=function(v,m,E){return v=+v,m>>>=0,E||_t(this,v,m,4,4294967295,0),this[m+3]=v>>>24,this[m+2]=v>>>16,this[m+1]=v>>>8,this[m]=255&v,m+4},_.prototype.writeUint32BE=_.prototype.writeUInt32BE=function(v,m,E){return v=+v,m>>>=0,E||_t(this,v,m,4,4294967295,0),this[m]=v>>>24,this[m+1]=v>>>16,this[m+2]=v>>>8,this[m+3]=255&v,m+4},_.prototype.writeIntLE=function(v,m,E,M){if(v=+v,m>>>=0,!M){var H=Math.pow(2,8*E-1);_t(this,v,m,E,H-1,-H)}var X=0,pe=1,$e=0;for(this[m]=255&v;++X<E&&(pe*=256);)v<0&&0===$e&&0!==this[m+X-1]&&($e=1),this[m+X]=(v/pe|0)-$e&255;return m+E},_.prototype.writeIntBE=function(v,m,E,M){if(v=+v,m>>>=0,!M){var H=Math.pow(2,8*E-1);_t(this,v,m,E,H-1,-H)}var X=E-1,pe=1,$e=0;for(this[m+X]=255&v;--X>=0&&(pe*=256);)v<0&&0===$e&&0!==this[m+X+1]&&($e=1),this[m+X]=(v/pe|0)-$e&255;return m+E},_.prototype.writeInt8=function(v,m,E){return v=+v,m>>>=0,E||_t(this,v,m,1,127,-128),v<0&&(v=255+v+1),this[m]=255&v,m+1},_.prototype.writeInt16LE=function(v,m,E){return v=+v,m>>>=0,E||_t(this,v,m,2,32767,-32768),this[m]=255&v,this[m+1]=v>>>8,m+2},_.prototype.writeInt16BE=function(v,m,E){return v=+v,m>>>=0,E||_t(this,v,m,2,32767,-32768),this[m]=v>>>8,this[m+1]=255&v,m+2},_.prototype.writeInt32LE=function(v,m,E){return v=+v,m>>>=0,E||_t(this,v,m,4,2147483647,-2147483648),this[m]=255&v,this[m+1]=v>>>8,this[m+2]=v>>>16,this[m+3]=v>>>24,m+4},_.prototype.writeInt32BE=function(v,m,E){return v=+v,m>>>=0,E||_t(this,v,m,4,2147483647,-2147483648),v<0&&(v=4294967295+v+1),this[m]=v>>>24,this[m+1]=v>>>16,this[m+2]=v>>>8,this[m+3]=255&v,m+4},_.prototype.writeFloatLE=function(v,m,E){return Kt(this,v,m,!0,E)},_.prototype.writeFloatBE=function(v,m,E){return Kt(this,v,m,!1,E)},_.prototype.writeDoubleLE=function(v,m,E){return $n(this,v,m,!0,E)},_.prototype.writeDoubleBE=function(v,m,E){return $n(this,v,m,!1,E)},_.prototype.copy=function(v,m,E,M){if(!_.isBuffer(v))throw new TypeError("argument should be a Buffer");if(E||(E=0),!M&&0!==M&&(M=this.length),m>=v.length&&(m=v.length),m||(m=0),M>0&&M<E&&(M=E),M===E||0===v.length||0===this.length)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(E<0||E>=this.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("sourceEnd out of bounds");M>this.length&&(M=this.length),v.length-m<M-E&&(M=v.length-m+E);var H=M-E;return this===v&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(m,E,M):Uint8Array.prototype.set.call(v,this.subarray(E,M),m),H},_.prototype.fill=function(v,m,E,M){if("string"==typeof v){if("string"==typeof m?(M=m,m=0,E=this.length):"string"==typeof E&&(M=E,E=this.length),void 0!==M&&"string"!=typeof M)throw new TypeError("encoding must be a string");if("string"==typeof M&&!_.isEncoding(M))throw new TypeError("Unknown encoding: "+M);if(1===v.length){var H=v.charCodeAt(0);("utf8"===M&&H<128||"latin1"===M)&&(v=H)}}else"number"==typeof v?v&=255:"boolean"==typeof v&&(v=Number(v));if(m<0||this.length<m||this.length<E)throw new RangeError("Out of range index");if(E<=m)return this;var X;if(m>>>=0,E=void 0===E?this.length:E>>>0,v||(v=0),"number"==typeof v)for(X=m;X<E;++X)this[X]=v;else{var pe=_.isBuffer(v)?v:_.from(v,M),$e=pe.length;if(0===$e)throw new TypeError('The value "'+v+'" is invalid for argument "value"');for(X=0;X<E-m;++X)this[X+m]=pe[X%$e]}return this};var G=/[^+/0-9A-Za-z-_]/g;function xe(U,v){v=v||1/0;for(var m,E=U.length,M=null,H=[],X=0;X<E;++X){if((m=U.charCodeAt(X))>55295&&m<57344){if(!M){if(m>56319){(v-=3)>-1&&H.push(239,191,189);continue}if(X+1===E){(v-=3)>-1&&H.push(239,191,189);continue}M=m;continue}if(m<56320){(v-=3)>-1&&H.push(239,191,189),M=m;continue}m=65536+(M-55296<<10|m-56320)}else M&&(v-=3)>-1&&H.push(239,191,189);if(M=null,m<128){if((v-=1)<0)break;H.push(m)}else if(m<2048){if((v-=2)<0)break;H.push(m>>6|192,63&m|128)}else if(m<65536){if((v-=3)<0)break;H.push(m>>12|224,m>>6&63|128,63&m|128)}else{if(!(m<1114112))throw new Error("Invalid code point");if((v-=4)<0)break;H.push(m>>18|240,m>>12&63|128,m>>6&63|128,63&m|128)}}return H}function Be(U){return Y.toByteArray(function Z(U){if((U=(U=U.split("=")[0]).trim().replace(G,"")).length<2)return"";for(;U.length%4!=0;)U+="=";return U}(U))}function Ve(U,v,m,E){for(var M=0;M<E&&!(M+m>=v.length||M>=U.length);++M)v[M+m]=U[M];return M}function rt(U,v){return U instanceof v||null!=U&&null!=U.constructor&&null!=U.constructor.name&&U.constructor.name===v.name}function mn(U){return U!=U}var Jn=function(){for(var U="0123456789abcdef",v=new Array(256),m=0;m<16;++m)for(var E=16*m,M=0;M<16;++M)v[E+M]=U[m]+U[M];return v}()},20:(Br,Me)=>{Me.read=function(re,$,Y,ae,N){var V,O,D=8*N-ae-1,_=(1<<D)-1,T=_>>1,b=-7,j=Y?N-1:0,Q=Y?-1:1,R=re[$+j];for(j+=Q,V=R&(1<<-b)-1,R>>=-b,b+=D;b>0;V=256*V+re[$+j],j+=Q,b-=8);for(O=V&(1<<-b)-1,V>>=-b,b+=ae;b>0;O=256*O+re[$+j],j+=Q,b-=8);if(0===V)V=1-T;else{if(V===_)return O?NaN:1/0*(R?-1:1);O+=Math.pow(2,ae),V-=T}return(R?-1:1)*O*Math.pow(2,V-ae)},Me.write=function(re,$,Y,ae,N,V){var O,D,_,T=8*V-N-1,b=(1<<T)-1,j=b>>1,Q=23===N?Math.pow(2,-24)-Math.pow(2,-77):0,R=ae?0:V-1,W=ae?1:-1,ie=$<0||0===$&&1/$<0?1:0;for($=Math.abs($),isNaN($)||$===1/0?(D=isNaN($)?1:0,O=b):(O=Math.floor(Math.log($)/Math.LN2),$*(_=Math.pow(2,-O))<1&&(O--,_*=2),($+=O+j>=1?Q/_:Q*Math.pow(2,1-j))*_>=2&&(O++,_/=2),O+j>=b?(D=0,O=b):O+j>=1?(D=($*_-1)*Math.pow(2,N),O+=j):(D=$*Math.pow(2,j-1)*Math.pow(2,N),O=0));N>=8;re[Y+R]=255&D,R+=W,D/=256,N-=8);for(O=O<<N|D,T+=N;T>0;re[Y+R]=255&O,R+=W,O/=256,T-=8);re[Y+R-W]|=128*ie}},68:Br=>{const{hasOwnProperty:Me}=Object.prototype,re=typeof process<"u"&&"win32"===process.platform?"\r\n":"\n",$=(D,_)=>{const T=[];let b="";"string"==typeof _?_={section:_,whitespace:!1}:(_=_||Object.create(null)).whitespace=!0===_.whitespace;const j=_.whitespace?" = ":"=";for(const Q of Object.keys(D)){const R=D[Q];if(R&&Array.isArray(R))for(const W of R)b+=V(Q+"[]")+j+V(W)+"\n";else R&&"object"==typeof R?T.push(Q):b+=V(Q)+j+V(R)+re}_.section&&b.length&&(b="["+V(_.section)+"]"+re+b);for(const Q of T){const R=Y(Q).join("\\."),W=(_.section?_.section+".":"")+R,{whitespace:ie}=_,me=$(D[Q],{section:W,whitespace:ie});b.length&&me.length&&(b+=re),b+=me}return b},Y=D=>D.replace(/\1/g,"\x02LITERAL\\1LITERAL\x02").replace(/\\\./g,"\x01").split(/\./).map(_=>_.replace(/\1/g,"\\.").replace(/\2LITERAL\\1LITERAL\2/g,"\x01")),ae=D=>{const _=Object.create(null);let T=_,b=null;const j=/^\[([^\]]*)\]$|^([^=]+)(=(.*))?$/i,Q=D.split(/[\r\n]+/g);for(const W of Q){if(!W||W.match(/^\s*[;#]/))continue;const ie=W.match(j);if(!ie)continue;if(void 0!==ie[1]){if(b=O(ie[1]),"__proto__"===b){T=Object.create(null);continue}T=_[b]=_[b]||Object.create(null);continue}const me=O(ie[2]),ue=me.length>2&&"[]"===me.slice(-2),oe=ue?me.slice(0,-2):me;if("__proto__"===oe)continue;const je=!ie[3]||O(ie[4]),Te="true"===je||"false"===je||"null"===je?JSON.parse(je):je;ue&&(Me.call(T,oe)?Array.isArray(T[oe])||(T[oe]=[T[oe]]):T[oe]=[]),Array.isArray(T[oe])?T[oe].push(Te):T[oe]=Te}const R=[];for(const W of Object.keys(_)){if(!Me.call(_,W)||"object"!=typeof _[W]||Array.isArray(_[W]))continue;const ie=Y(W);let me=_;const ue=ie.pop(),oe=ue.replace(/\\\./g,".");for(const je of ie)"__proto__"!==je&&((!Me.call(me,je)||"object"!=typeof me[je])&&(me[je]=Object.create(null)),me=me[je]);me===_&&oe===ue||(me[oe]=_[W],R.push(W))}for(const W of R)delete _[W];return _},N=D=>'"'===D.charAt(0)&&'"'===D.slice(-1)||"'"===D.charAt(0)&&"'"===D.slice(-1),V=D=>"string"!=typeof D||D.match(/[=\r\n]/)||D.match(/^\[/)||D.length>1&&N(D)||D!==D.trim()?JSON.stringify(D):D.replace(/;/g,"\\;").replace(/#/g,"\\#"),O=(D,_)=>{if(D=(D||"").trim(),!N(D)){let T=!1,b="";for(let j=0,Q=D.length;j<Q;j++){const R=D.charAt(j);if(T)-1!=="\\;#".indexOf(R)?b+=R:b+="\\"+R,T=!1;else{if(-1!==";#".indexOf(R))break;"\\"===R?T=!0:b+=R}}return T&&(b+="\\"),b.trim()}"'"===D.charAt(0)&&(D=D.substr(1,D.length-2));try{D=JSON.parse(D)}catch{}return D};Br.exports={parse:ae,decode:ae,stringify:$,encode:$,safe:V,unsafe:O}},308:Br=>{"use strict";function Me(ae){if("string"!=typeof ae)throw new TypeError("Path must be a string. Received "+JSON.stringify(ae))}function re(ae,N){for(var T,V="",O=0,D=-1,_=0,b=0;b<=ae.length;++b){if(b<ae.length)T=ae.charCodeAt(b);else{if(47===T)break;T=47}if(47===T){if(D!==b-1&&1!==_)if(D!==b-1&&2===_){if(V.length<2||2!==O||46!==V.charCodeAt(V.length-1)||46!==V.charCodeAt(V.length-2))if(V.length>2){var j=V.lastIndexOf("/");if(j!==V.length-1){-1===j?(V="",O=0):O=(V=V.slice(0,j)).length-1-V.lastIndexOf("/"),D=b,_=0;continue}}else if(2===V.length||1===V.length){V="",O=0,D=b,_=0;continue}N&&(V.length>0?V+="/..":V="..",O=2)}else V.length>0?V+="/"+ae.slice(D+1,b):V=ae.slice(D+1,b),O=b-D-1;D=b,_=0}else 46===T&&-1!==_?++_:_=-1}return V}var Y={resolve:function(){for(var O,N="",V=!1,D=arguments.length-1;D>=-1&&!V;D--){var _;D>=0?_=arguments[D]:(void 0===O&&(O=process.cwd()),_=O),Me(_),0!==_.length&&(N=_+"/"+N,V=47===_.charCodeAt(0))}return N=re(N,!V),V?N.length>0?"/"+N:"/":N.length>0?N:"."},normalize:function(N){if(Me(N),0===N.length)return".";var V=47===N.charCodeAt(0),O=47===N.charCodeAt(N.length-1);return 0===(N=re(N,!V)).length&&!V&&(N="."),N.length>0&&O&&(N+="/"),V?"/"+N:N},isAbsolute:function(N){return Me(N),N.length>0&&47===N.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var N,V=0;V<arguments.length;++V){var O=arguments[V];Me(O),O.length>0&&(void 0===N?N=O:N+="/"+O)}return void 0===N?".":Y.normalize(N)},relative:function(N,V){if(Me(N),Me(V),N===V||(N=Y.resolve(N))===(V=Y.resolve(V)))return"";for(var O=1;O<N.length&&47===N.charCodeAt(O);++O);for(var D=N.length,_=D-O,T=1;T<V.length&&47===V.charCodeAt(T);++T);for(var j=V.length-T,Q=_<j?_:j,R=-1,W=0;W<=Q;++W){if(W===Q){if(j>Q){if(47===V.charCodeAt(T+W))return V.slice(T+W+1);if(0===W)return V.slice(T+W)}else _>Q&&(47===N.charCodeAt(O+W)?R=W:0===W&&(R=0));break}var ie=N.charCodeAt(O+W);if(ie!==V.charCodeAt(T+W))break;47===ie&&(R=W)}var ue="";for(W=O+R+1;W<=D;++W)(W===D||47===N.charCodeAt(W))&&(ue+=0===ue.length?"..":"/..");return ue.length>0?ue+V.slice(T+R):(47===V.charCodeAt(T+=R)&&++T,V.slice(T))},_makeLong:function(N){return N},dirname:function(N){if(Me(N),0===N.length)return".";for(var V=N.charCodeAt(0),O=47===V,D=-1,_=!0,T=N.length-1;T>=1;--T)if(47===(V=N.charCodeAt(T))){if(!_){D=T;break}}else _=!1;return-1===D?O?"/":".":O&&1===D?"//":N.slice(0,D)},basename:function(N,V){if(void 0!==V&&"string"!=typeof V)throw new TypeError('"ext" argument must be a string');Me(N);var T,O=0,D=-1,_=!0;if(void 0!==V&&V.length>0&&V.length<=N.length){if(V.length===N.length&&V===N)return"";var b=V.length-1,j=-1;for(T=N.length-1;T>=0;--T){var Q=N.charCodeAt(T);if(47===Q){if(!_){O=T+1;break}}else-1===j&&(_=!1,j=T+1),b>=0&&(Q===V.charCodeAt(b)?-1==--b&&(D=T):(b=-1,D=j))}return O===D?D=j:-1===D&&(D=N.length),N.slice(O,D)}for(T=N.length-1;T>=0;--T)if(47===N.charCodeAt(T)){if(!_){O=T+1;break}}else-1===D&&(_=!1,D=T+1);return-1===D?"":N.slice(O,D)},extname:function(N){Me(N);for(var V=-1,O=0,D=-1,_=!0,T=0,b=N.length-1;b>=0;--b){var j=N.charCodeAt(b);if(47!==j)-1===D&&(_=!1,D=b+1),46===j?-1===V?V=b:1!==T&&(T=1):-1!==V&&(T=-1);else if(!_){O=b+1;break}}return-1===V||-1===D||0===T||1===T&&V===D-1&&V===O+1?"":N.slice(V,D)},format:function(N){if(null===N||"object"!=typeof N)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof N);return function $(ae,N){var V=N.dir||N.root,O=N.base||(N.name||"")+(N.ext||"");return V?V===N.root?V+O:V+ae+O:O}("/",N)},parse:function(N){Me(N);var V={root:"",dir:"",base:"",ext:"",name:""};if(0===N.length)return V;var _,O=N.charCodeAt(0),D=47===O;D?(V.root="/",_=1):_=0;for(var T=-1,b=0,j=-1,Q=!0,R=N.length-1,W=0;R>=_;--R)if(47!==(O=N.charCodeAt(R)))-1===j&&(Q=!1,j=R+1),46===O?-1===T?T=R:1!==W&&(W=1):-1!==T&&(W=-1);else if(!Q){b=R+1;break}return-1===T||-1===j||0===W||1===W&&T===j-1&&T===b+1?-1!==j&&(V.base=V.name=N.slice(0===b&&D?1:b,j)):(0===b&&D?(V.name=N.slice(1,T),V.base=N.slice(1,j)):(V.name=N.slice(b,T),V.base=N.slice(b,j)),V.ext=N.slice(T,j)),b>0?V.dir=N.slice(0,b-1):D&&(V.dir="/"),V},sep:"/",delimiter:":",win32:null,posix:null};Y.posix=Y,Br.exports=Y}},Br=>{Br(Br.s=277)}]);