(self.webpackChunkCheetahOs=self.webpackChunkCheetahOs||[]).push([[792],{796:(pr,xe,ae)=>{"use strict";function q(t,n){return Object.is(t,n)}let Q=null,ce=!1,R=1;const V=Symbol("SIGNAL");function F(t){const n=Q;return Q=t,n}const b={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function $(t){if(ce)throw new Error("");if(null===Q)return;Q.consumerOnSignalRead(t);const n=Q.nextProducerIndex++;Re(Q),n<Q.producerNode.length&&Q.producerNode[n]!==t&&_e(Q)&&tt(Q.producerNode[n],Q.producerIndexOfThis[n]),Q.producerNode[n]!==t&&(Q.producerNode[n]=t,Q.producerIndexOfThis[n]=_e(Q)?it(t,Q,n):0),Q.producerLastReadVersion[n]=t.version}function L(t){if((!_e(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==R)){if(!t.producerMustRecompute(t)&&!We(t))return t.dirty=!1,void(t.lastCleanEpoch=R);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=R}}function Z(t){if(void 0===t.liveConsumerNode)return;const n=ce;ce=!0;try{for(const e of t.liveConsumerNode)e.dirty||ge(e)}finally{ce=n}}function oe(){return!1!==Q?.consumerAllowSignalWrites}function ge(t){t.dirty=!0,Z(t),t.consumerMarkedDirty?.(t)}function fe(t){return t&&(t.nextProducerIndex=0),F(t)}function le(t,n){if(F(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(_e(t))for(let e=t.nextProducerIndex;e<t.producerNode.length;e++)tt(t.producerNode[e],t.producerIndexOfThis[e]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function We(t){Re(t);for(let n=0;n<t.producerNode.length;n++){const e=t.producerNode[n],i=t.producerLastReadVersion[n];if(i!==e.version||(L(e),i!==e.version))return!0}return!1}function Oe(t){if(Re(t),_e(t))for(let n=0;n<t.producerNode.length;n++)tt(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function it(t,n,e){if(Ie(t),0===t.liveConsumerNode.length&&Ne(t))for(let i=0;i<t.producerNode.length;i++)t.producerIndexOfThis[i]=it(t.producerNode[i],t,i);return t.liveConsumerIndexOfThis.push(e),t.liveConsumerNode.push(n)-1}function tt(t,n){if(Ie(t),1===t.liveConsumerNode.length&&Ne(t))for(let i=0;i<t.producerNode.length;i++)tt(t.producerNode[i],t.producerIndexOfThis[i]);const e=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[e],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[e],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const i=t.liveConsumerIndexOfThis[n],r=t.liveConsumerNode[n];Re(r),r.producerIndexOfThis[i]=n}}function _e(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Re(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Ie(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Ne(t){return void 0!==t.producerNode}const Ye=Symbol("UNSET"),je=Symbol("COMPUTING"),Ge=Symbol("ERRORED"),Ot={...b,value:Ye,dirty:!0,error:null,equal:q,producerMustRecompute:t=>t.value===Ye||t.value===je,producerRecomputeValue(t){if(t.value===je)throw new Error("Detected cycle in computations.");const n=t.value;t.value=je;const e=fe(t);let i;try{i=t.computation()}catch(r){i=Ge,t.error=r}finally{le(t,e)}n!==Ye&&n!==Ge&&i!==Ge&&t.equal(n,i)?t.value=n:(t.value=i,t.version++)}};let pe=function me(){throw new Error};function Ae(){pe()}let ht=null;function yn(t,n){oe()||Ae(),t.equal(t.value,n)||(t.value=n,function X(t){t.version++,function ee(){R++}(),Z(t),ht?.()}(t))}const K={...b,equal:q,value:void 0};function Ze(t){return"function"==typeof t}function ct(t){const e=t(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const vn=ct(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function ii(t,n){if(t){const e=t.indexOf(n);0<=e&&t.splice(e,1)}}class U{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(Ze(i))try{i()}catch(o){n=o instanceof vn?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{E(o)}catch(s){n=n??[],s instanceof vn?n=[...n,...s.errors]:n.push(s)}}if(n)throw new vn(n)}}add(n){var e;if(n&&n!==this)if(this.closed)E(n);else{if(n instanceof U){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(n)}}_hasParent(n){const{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){const{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&ii(e,n)}remove(n){const{_finalizers:e}=this;e&&ii(e,n),n instanceof U&&n._removeParent(this)}}U.EMPTY=(()=>{const t=new U;return t.closed=!0,t})();const w=U.EMPTY;function m(t){return t instanceof U||t&&"closed"in t&&Ze(t.remove)&&Ze(t.add)&&Ze(t.unsubscribe)}function E(t){Ze(t)?t():t.unsubscribe()}const M={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},W={setTimeout(t,n,...e){const{delegate:i}=W;return i?.setTimeout?i.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){const{delegate:n}=W;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ie(t){W.setTimeout(()=>{const{onUnhandledError:n}=M;if(!n)throw t;n(t)})}function ve(){}const Je=Pt("C",void 0,void 0);function Pt(t,n,e){return{kind:t,value:n,error:e}}let zt=null;function Ei(t){if(M.useDeprecatedSynchronousErrorHandling){const n=!zt;if(n&&(zt={errorThrown:!1,error:null}),t(),n){const{errorThrown:e,error:i}=zt;if(zt=null,e)throw i}}else t()}class oo extends U{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,m(n)&&n.add(this)):this.destination=rt}static create(n,e,i){return new _a(n,e,i)}next(n){this.isStopped?B(function Bt(t){return Pt("N",t,void 0)}(n),this):this._next(n)}error(n){this.isStopped?B(function gt(t){return Pt("E",void 0,t)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?B(Je,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ls=Function.prototype.bind;function ma(t,n){return ls.call(t,n)}class jc{constructor(n){this.partialObserver=n}next(n){const{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(i){Ee(i)}}error(n){const{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(i){Ee(i)}else Ee(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){Ee(e)}}}class _a extends oo{constructor(n,e,i){let r;if(super(),Ze(n)||!n)r={next:n??void 0,error:e??void 0,complete:i??void 0};else{let o;this&&M.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),r={next:n.next&&ma(n.next,o),error:n.error&&ma(n.error,o),complete:n.complete&&ma(n.complete,o)}):r=n}this.destination=new jc(r)}}function Ee(t){M.useDeprecatedSynchronousErrorHandling?function ro(t){M.useDeprecatedSynchronousErrorHandling&&zt&&(zt.errorThrown=!0,zt.error=t)}(t):ie(t)}function B(t,n){const{onStoppedNotification:e}=M;e&&W.setTimeout(()=>e(t,n))}const rt={closed:!0,next:ve,error:function Ke(t){throw t},complete:ve},un="function"==typeof Symbol&&Symbol.observable||"@@observable";function qe(t){return t}let Qt=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new t;return i.source=this,i.operator=e,i}subscribe(e,i,r){const o=function ks(t){return t&&t instanceof oo||function Me(t){return t&&Ze(t.next)&&Ze(t.error)&&Ze(t.complete)}(t)&&m(t)}(e)?e:new _a(e,i,r);return Ei(()=>{const{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=De(i))((r,o)=>{const s=new _a({next:c=>{try{e(c)}catch(h){o(h),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[un](){return this}pipe(...e){return function et(t){return 0===t.length?qe:1===t.length?t[0]:function(e){return t.reduce((i,r)=>r(i),e)}}(e)(this)}toPromise(e){return new(e=De(e))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return t.create=n=>new t(n),t})();function De(t){var n;return null!==(n=t??M.Promise)&&void 0!==n?n:Promise}const Mn=ct(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Pe=(()=>{class t extends Qt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new Bo(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new Mn}next(e){Ei(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){Ei(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){Ei(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:o}=this;return i||r?w:(this.currentObservers=null,o.push(e),new U(()=>{this.currentObservers=null,ii(o,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){const e=new Qt;return e.source=this,e}}return t.create=(n,e)=>new Bo(n,e),t})();class Bo extends Pe{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,n)}error(n){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,n)}complete(){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===e||e.call(n)}_subscribe(n){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(n))&&void 0!==i?i:w}}class so extends Pe{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:i}=this;if(n)throw e;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}}function Ht(t){return n=>{if(function Fn(t){return Ze(t?.lift)}(n))return n.lift(function(e){try{return t(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function wn(t,n,e,i,r){return new Fi(t,n,e,i,r)}class Fi extends oo{constructor(n,e,i,r,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(c){try{e(c)}catch(h){n.error(h)}}:super._next,this._error=r?function(c){try{r(c)}catch(h){n.error(h)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(c){n.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function Hn(t,n){return Ht((e,i)=>{let r=0;e.subscribe(wn(i,o=>{i.next(t.call(n,o,r++))}))})}typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;const ff="https://g.co/ng/security#xss";class Se extends Error{constructor(n,e){super(function Rs(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,e)),this.code=n}}function ao(t){return{toString:t}.toString()}const Dr="__parameters__";function co(t,n,e){return ao(()=>{const i=function _l(t){return function(...e){if(t){const i=t(...e);for(const r in i)this[r]=i[r]}}}(n);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return c.annotation=s,c;function c(h,g,y){const C=h.hasOwnProperty(Dr)?h[Dr]:Object.defineProperty(h,Dr,{value:[]})[Dr];for(;C.length<=y;)C.push(null);return(C[y]=C[y]||[]).push(s),h}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}const An=globalThis;function dn(t){for(let n in t)if(t[n]===dn)return n;throw Error("Could not find renamed property on target object.")}function $r(t,n){for(const e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function ri(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ri).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}function Ls(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Uo=dn({__forward_ref__:dn});function fn(t){return t.__forward_ref__=fn,t.toString=function(){return ri(this())},t}function Mt(t){return us(t)?t():t}function us(t){return"function"==typeof t&&t.hasOwnProperty(Uo)&&t.__forward_ref__===fn}function mt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function tr(t){return{providers:t.providers||[],imports:t.imports||[]}}function zo(t){return Sl(t,jo)||Sl(t,fs)}function Sl(t,n){return t.hasOwnProperty(n)?t[n]:null}function ds(t){return t&&(t.hasOwnProperty(Hi)||t.hasOwnProperty(yf))?t[Hi]:null}const jo=dn({\u0275prov:dn}),Hi=dn({\u0275inj:dn}),fs=dn({ngInjectableDef:dn}),yf=dn({ngInjectorDef:dn});class at{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=mt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ps(t){return t&&!!t.\u0275providers}const bn=dn({\u0275cmp:dn}),Ea=dn({\u0275dir:dn}),Us=dn({\u0275pipe:dn}),Sa=dn({\u0275mod:dn}),Wr=dn({\u0275fac:dn}),zs=dn({__NG_ELEMENT_ID__:dn}),tu=dn({__NG_ENV_ID__:dn});function Nt(t){return"string"==typeof t?t:null==t?"":String(t)}function xl(t,n){throw new Se(-201,!1)}var Kt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Kt||{});let nu;function iu(){return nu}function Si(t){const n=nu;return nu=t,n}function Ef(t,n,e){const i=zo(t);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&Kt.Optional?null:void 0!==n?n:void xl()}const Hs={},Dl="__NG_DI_FLAG__",Ml="ngTempTokenPath",_m=/\n/gm,ms="__source";let si;function Li(t){const n=si;return si=t,n}function ym(t,n=Kt.Default){if(void 0===si)throw new Se(-203,!1);return null===si?Ef(t,void 0,n):si.get(t,n&Kt.Optional?null:void 0,n)}function Vt(t,n=Kt.Default){return(iu()||ym)(Mt(t),n)}function ot(t,n=Kt.Default){return Vt(t,ba(n))}function ba(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function ru(t){const n=[];for(let e=0;e<t.length;e++){const i=Mt(t[e]);if(Array.isArray(i)){if(0===i.length)throw new Se(900,!1);let r,o=Kt.Default;for(let s=0;s<i.length;s++){const c=i[s],h=Sf(c);"number"==typeof h?-1===h?r=c.token:o|=h:r=c}n.push(Vt(r,o))}else n.push(Vt(i))}return n}function po(t,n){return t[Dl]=n,t.prototype[Dl]=n,t}function Sf(t){return t[Dl]}const Ia=po(co("Optional"),8),Pl=po(co("SkipSelf"),4);function Pi(t,n){return t.hasOwnProperty(Wr)?t[Wr]:null}function $s(t,n){t.forEach(e=>Array.isArray(e)?$s(e,n):n(e))}function Bi(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function Ws(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function $i(t,n,e){let i=Gs(t,n);return i>=0?t[1|i]=e:(i=~i,function ou(t,n,e,i){let r=t.length;if(r==n)t.push(e,i);else if(1===r)t.push(i,t[0]),t[0]=e;else{for(r--,t.push(t[r-1],t[r]);r>n;)t[r]=t[r-2],r--;t[n]=e,t[n+1]=i}}(t,i,n,e)),i}function su(t,n){const e=Gs(t,n);if(e>=0)return t[1|e]}function Gs(t,n){return function au(t,n,e){let i=0,r=t.length>>e;for(;r!==i;){const o=i+(r-i>>1),s=t[o<<e];if(n===s)return o<<e;s>n?r=o:i=o+1}return~(r<<e)}(t,n,1)}const Tr={},bt=[],Pr=new at(""),If=new at("",-1),Al=new at("");class Da{get(n,e=Hs){if(e===Hs){const i=new Error(`NullInjectorError: No provider for ${ri(n)}!`);throw i.name="NullInjectorError",i}return e}}var Ma=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Ma||{}),Ar=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ar||{}),mo=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(mo||{});function xf(t,n,e){let i=t.length;for(;;){const r=t.indexOf(n,e);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){const o=n.length;if(r+o===i||t.charCodeAt(r+o)<=32)return r}e=r+1}}function lu(t,n,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const o=e[i++],s=e[i++],c=e[i++];t.setAttribute(n,s,c,o)}else{const o=r,s=e[++i];Ys(o)?t.setProperty(n,o,s):t.setAttribute(n,o,s),i++}}return i}function kl(t){return 3===t||4===t||6===t}function Ys(t){return 64===t.charCodeAt(0)}function Zs(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let e=-1;for(let i=0;i<n.length;i++){const r=n[i];"number"==typeof r?e=r:0===e||Ol(t,e,r,null,-1===e||2===e?n[++i]:null)}}return t}function Ol(t,n,e,i,r){let o=0,s=t.length;if(-1===n)s=-1;else for(;o<t.length;){const c=t[o++];if("number"==typeof c){if(c===n){s=-1;break}if(c>n){s=o-1;break}}}for(;o<t.length;){const c=t[o];if("number"==typeof c)break;if(c===e){if(null===i)return void(null!==r&&(t[o+1]=r));if(i===t[o+1])return void(t[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(t.splice(s,0,n),o=s+1),t.splice(o++,0,e),null!==i&&t.splice(o++,0,i),null!==r&&t.splice(o++,0,r)}const Df="ng-template";function Mf(t,n,e,i){let r=0;if(i){for(;r<n.length&&"string"==typeof n[r];r+=2)if("class"===n[r]&&-1!==xf(n[r+1].toLowerCase(),e,0))return!0}else if(Nl(t))return!1;if(r=n.indexOf(1,r),r>-1){let o;for(;++r<n.length&&"string"==typeof(o=n[r]);)if(o.toLowerCase()===e)return!0}return!1}function Nl(t){return 4===t.type&&t.value!==Df}function vm(t,n,e){return n===(4!==t.type||e?t.value:Df)}function Ta(t,n,e){let i=4;const r=t.attrs,o=null!==r?function Em(t){for(let n=0;n<t.length;n++)if(kl(t[n]))return n;return t.length}(r):0;let s=!1;for(let c=0;c<n.length;c++){const h=n[c];if("number"!=typeof h){if(!s)if(4&i){if(i=2|1&i,""!==h&&!vm(t,h,e)||""===h&&1===n.length){if(kr(i))return!1;s=!0}}else if(8&i){if(null===r||!Mf(t,r,h,e)){if(kr(i))return!1;s=!0}}else{const g=n[++c],y=wm(h,r,Nl(t),e);if(-1===y){if(kr(i))return!1;s=!0;continue}if(""!==g){let C;if(C=y>o?"":r[y+1].toLowerCase(),2&i&&g!==C){if(kr(i))return!1;s=!0}}}}else{if(!s&&!kr(i)&&!kr(h))return!1;if(s&&kr(h))continue;s=!1,i=h|1&i}}return kr(i)||s}function kr(t){return!(1&t)}function wm(t,n,e,i){if(null===n)return-1;let r=0;if(i||!e){let o=!1;for(;r<n.length;){const s=n[r];if(s===t)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let c=n[++r];for(;"string"==typeof c;)c=n[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function Sm(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){const i=t[e];if("number"==typeof i)return-1;if(i===n)return e;e++}return-1}(n,t)}function Pa(t,n,e=!1){for(let i=0;i<n.length;i++)if(Ta(t,n[i],e))return!0;return!1}function Tf(t,n){e:for(let e=0;e<n.length;e++){const i=n[e];if(t.length===i.length){for(let r=0;r<t.length;r++)if(t[r]!==i[r])continue e;return!0}}return!1}function cu(t,n){return t?":not("+n.trim()+")":n}function bm(t){let n=t[0],e=1,i=2,r="",o=!1;for(;e<t.length;){let s=t[e];if("string"==typeof s)if(2&i){const c=t[++e];r+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!kr(s)&&(n+=cu(o,r),r=""),i=s,o=o||!kr(i);e++}return""!==r&&(n+=cu(o,r)),n}function a(t){return ao(()=>{const n=Ve(t),e={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Ma.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ar.Emulated,styles:t.styles||bt,_:null,schemas:t.schemas||null,tView:null,id:""};ze(e);const i=t.dependencies;return e.directiveDefs=st(i,!1),e.pipeDefs=st(i,!0),e.id=function jt(t){let n=0;const e=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const r of e)n=Math.imul(31,n)+r.charCodeAt(0)|0;return n+=2147483648,"c"+n}(e),e})}function u(t){return x(t)||N(t)}function l(t){return null!==t}function f(t){return ao(()=>({type:t.type,bootstrap:t.bootstrap||bt,declarations:t.declarations||bt,imports:t.imports||bt,exports:t.exports||bt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function p(t,n){if(null==t)return Tr;const e={};for(const i in t)if(t.hasOwnProperty(i)){const r=t[i];let o,s,c=mo.None;Array.isArray(r)?(c=r[0],o=r[1],s=r[2]??o):(o=r,s=r),n?(e[o]=c!==mo.None?[i,c]:i,n[o]=s):e[o]=i}return e}function _(t){return ao(()=>{const n=Ve(t);return ze(n),n})}function S(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function x(t){return t[bn]||null}function N(t){return t[Ea]||null}function J(t){return t[Us]||null}function Ve(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||Tr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||bt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:p(t.inputs,n),outputs:p(t.outputs),debugInfo:null}}function ze(t){t.features?.forEach(n=>n(t))}function st(t,n){if(!t)return null;const e=n?J:u;return()=>("function"==typeof t?t():t).map(i=>e(i)).filter(l)}function bi(...t){return{\u0275providers:yr(0,t),\u0275fromNgModule:!0}}function yr(t,...n){const e=[],i=new Set;let r;const o=s=>{e.push(s)};return $s(n,s=>{const c=s;_o(c,o,[],i)&&(r||=[],r.push(c))}),void 0!==r&&Or(r,o),e}function Or(t,n){for(let e=0;e<t.length;e++){const{ngModule:i,providers:r}=t[e];Nr(r,o=>{n(o,i)})}}function _o(t,n,e,i){if(!(t=Mt(t)))return!1;let r=null,o=ds(t);const s=!o&&x(t);if(o||s){if(s&&!s.standalone)return!1;r=t}else{const h=t.ngModule;if(o=ds(h),!o)return!1;r=h}const c=i.has(r);if(s){if(c)return!1;if(i.add(r),s.dependencies){const h="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const g of h)_o(g,n,e,i)}}else{if(!o)return!1;{if(null!=o.imports&&!c){let g;i.add(r);try{$s(o.imports,y=>{_o(y,n,e,i)&&(g||=[],g.push(y))})}finally{}void 0!==g&&Or(g,n)}if(!c){const g=Pi(r)||(()=>new r);n({provide:r,useFactory:g,deps:bt},r),n({provide:Al,useValue:r,multi:!0},r),n({provide:Pr,useValue:()=>Vt(r),multi:!0},r)}const h=o.providers;if(null!=h&&!c){const g=t;Nr(h,y=>{n(y,g)})}}}return r!==t&&void 0!==t.providers}function Nr(t,n){for(let e of t)ps(e)&&(e=e.\u0275providers),Array.isArray(e)?Nr(e,n):n(e)}const Pf=dn({provide:String,useValue:dn});function du(t){return null!==t&&"object"==typeof t&&Pf in t}function Aa(t){return"function"==typeof t}const Cm=new at(""),Af={},cA={};let Im;function kf(){return void 0===Im&&(Im=new Da),Im}class yo{}class Rl extends yo{get destroyed(){return this._destroyed}constructor(n,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Dm(n,s=>this.processProvider(s)),this.records.set(If,Ll(void 0,this)),r.has("environment")&&this.records.set(yo,Ll(void 0,this));const o=this.records.get(Cm);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Al,bt,Kt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=F(null);try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of e)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),F(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const e=Li(this),i=Si(void 0);try{return n()}finally{Li(e),Si(i)}}get(n,e=Hs,i=Kt.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(tu))return n[tu](this);i=ba(i);const o=Li(this),s=Si(void 0);try{if(!(i&Kt.SkipSelf)){let h=this.records.get(n);if(void 0===h){const g=function pA(t){return"function"==typeof t||"object"==typeof t&&t instanceof at}(n)&&zo(n);h=g&&this.injectableDefInScope(g)?Ll(xm(n),Af):null,this.records.set(n,h)}if(null!=h)return this.hydrate(n,h)}return(i&Kt.Self?kf():this.parent).get(n,e=i&Kt.Optional&&e===Hs?null:e)}catch(c){if("NullInjectorError"===c.name){if((c[Ml]=c[Ml]||[]).unshift(ri(n)),o)throw c;return function Tl(t,n,e,i){const r=t[Ml];throw n[ms]&&r.unshift(n[ms]),t.message=function nr(t,n,e,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let r=ri(n);if(Array.isArray(n))r=n.map(ri).join(" -> ");else if("object"==typeof n){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let c=n[s];o.push(s+":"+("string"==typeof c?JSON.stringify(c):ri(c)))}r=`{${o.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${t.replace(_m,"\n  ")}`}("\n"+t.message,r,e,i),t.ngTokenPath=r,t[Ml]=null,t}(c,n,"R3InjectorError",this.source)}throw c}finally{Si(s),Li(o)}}resolveInjectorInitializers(){const n=F(null),e=Li(this),i=Si(void 0);try{const o=this.get(Pr,bt,Kt.Self);for(const s of o)s()}finally{Li(e),Si(i),F(n)}}toString(){const n=[],e=this.records;for(const i of e.keys())n.push(ri(i));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Se(205,!1)}processProvider(n){let e=Aa(n=Mt(n))?n:Mt(n&&n.provide);const i=function dA(t){return du(t)?Ll(void 0,t.useValue):Ll(_E(t),Af)}(n);if(!Aa(n)&&!0===n.multi){let r=this.records.get(e);r||(r=Ll(void 0,Af,!0),r.factory=()=>ru(r.multi),this.records.set(e,r)),e=n,r.multi.push(n)}this.records.set(e,i)}hydrate(n,e){const i=F(null);try{return e.value===Af&&(e.value=cA,e.value=e.factory()),"object"==typeof e.value&&e.value&&function hA(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{F(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;const e=Mt(n.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){const e=this._onDestroyHooks.indexOf(n);-1!==e&&this._onDestroyHooks.splice(e,1)}}function xm(t){const n=zo(t),e=null!==n?n.factory:Pi(t);if(null!==e)return e;if(t instanceof at)throw new Se(204,!1);if(t instanceof Function)return function uA(t){if(t.length>0)throw new Se(204,!1);const e=function _f(t){return t&&(t[jo]||t[fs])||null}(t);return null!==e?()=>e.factory(t):()=>new t}(t);throw new Se(204,!1)}function _E(t,n,e){let i;if(Aa(t)){const r=Mt(t);return Pi(r)||xm(r)}if(du(t))i=()=>Mt(t.useValue);else if(function mE(t){return!(!t||!t.useFactory)}(t))i=()=>t.useFactory(...ru(t.deps||[]));else if(function gE(t){return!(!t||!t.useExisting)}(t))i=()=>Vt(Mt(t.useExisting));else{const r=Mt(t&&(t.useClass||t.provide));if(!function fA(t){return!!t.deps}(t))return Pi(r)||xm(r);i=()=>new r(...ru(t.deps))}return i}function Ll(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function Dm(t,n){for(const e of t)Array.isArray(e)?Dm(e,n):e&&ps(e)?Dm(e.\u0275providers,n):n(e)}const Wn=0,Ue=1,Ct=2,gi=3,vo=4,Vi=5,rr=6,Vl=7,Vn=8,mi=9,Wo=10,Ft=11,hu=12,wE=13,Ul=14,Gn=15,ka=16,zl=17,_s=18,jl=19,EE=20,qs=21,Ff=22,Gr=23,ft=25,Tm=1,Go=7,Hl=9,ai=10;var Lf=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Lf||{});function Ai(t){return Array.isArray(t)&&"object"==typeof t[Tm]}function Wi(t){return Array.isArray(t)&&!0===t[Tm]}function Pm(t){return!!(4&t.flags)}function Oa(t){return t.componentOffset>-1}function Bf(t){return!(1&~t.flags)}function wo(t){return!!t.template}function gu(t){return!!(512&t[Ct])}class MA{constructor(n,e,i){this.previousValue=n,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function IE(t,n,e,i){null!==n?n.applyValueToInputSignal(n,i):t[e]=i}function Gi(){return xE}function xE(t){return t.type.prototype.ngOnChanges&&(t.setInput=PA),TA}function TA(){const t=ME(this),n=t?.current;if(n){const e=t.previous;if(e===Tr)t.previous=n;else for(let i in n)e[i]=n[i];t.current=null,this.ngOnChanges(n)}}function PA(t,n,e,i,r){const o=this.declaredInputs[i],s=ME(t)||function AA(t,n){return t[DE]=n}(t,{previous:Tr,current:null}),c=s.current||(s.current={}),h=s.previous,g=h[o];c[o]=new MA(g&&g.currentValue,e,h===Tr),IE(t,n,r,e)}Gi.ngInherit=!0;const DE="__ngSimpleChanges__";function ME(t){return t[DE]||null}const Yo=function(t,n,e){},TE="svg";function an(t){for(;Array.isArray(t);)t=t[Wn];return t}function mu(t,n){return an(n[t])}function or(t,n){return an(n[t.index])}function _u(t,n){return t.data[n]}function Na(t,n){return t[n]}function Fr(t,n){const e=n[t];return Ai(e)?e:e[Wn]}function Fm(t){return!(128&~t[Ct])}function Yr(t,n){return null==n?null:t[n]}function AE(t){t[zl]=0}function kE(t){1024&t[Ct]||(t[Ct]|=1024,Fm(t)&&Vf(t))}function yu(t){return!!(9216&t[Ct]||t[Gr]?.dirty)}function Rm(t){t[Wo].changeDetectionScheduler?.notify(7),64&t[Ct]&&(t[Ct]|=1024),yu(t)&&Vf(t)}function Vf(t){t[Wo].changeDetectionScheduler?.notify(0);let n=ys(t);for(;null!==n&&!(8192&n[Ct])&&(n[Ct]|=8192,Fm(n));)n=ys(n)}function Uf(t,n){if(!(256&~t[Ct]))throw new Se(911,!1);null===t[qs]&&(t[qs]=[]),t[qs].push(n)}function ys(t){const n=t[gi];return Wi(n)?n[gi]:n}const Rt={lFrame:WE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let NE=!1;function FE(){return Rt.bindingsEnabled}function Fa(){return null!==Rt.skipHydrationRootTNode}function be(){return Rt.lFrame.lView}function Zt(){return Rt.lFrame.tView}function G(t){return Rt.lFrame.contextLView=t,t[Vn]}function Y(t){return Rt.lFrame.contextLView=null,t}function In(){let t=RE();for(;null!==t&&64===t.type;)t=t.parent;return t}function RE(){return Rt.lFrame.currentTNode}function Eo(t,n){const e=Rt.lFrame;e.currentTNode=t,e.isParent=n}function Vm(){return Rt.lFrame.isParent}function Um(){Rt.lFrame.isParent=!1}function VE(){return NE}function UE(t){NE=t}function sr(){const t=Rt.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function vs(){return Rt.lFrame.bindingIndex}function So(){return Rt.lFrame.bindingIndex++}function ws(t){const n=Rt.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function WA(t,n){const e=Rt.lFrame;e.bindingIndex=e.bindingRootIndex=t,zm(n)}function zm(t){Rt.lFrame.currentDirectiveIndex=t}function Hm(){return Rt.lFrame.currentQueryIndex}function jf(t){Rt.lFrame.currentQueryIndex=t}function YA(t){const n=t[Ue];return 2===n.type?n.declTNode:1===n.type?t[Vi]:null}function HE(t,n,e){if(e&Kt.SkipSelf){let r=n,o=t;for(;!(r=r.parent,null!==r||e&Kt.Host||(r=YA(o),null===r||(o=o[Ul],10&r.type))););if(null===r)return!1;n=r,t=o}const i=Rt.lFrame=$E();return i.currentTNode=n,i.lView=t,!0}function $m(t){const n=$E(),e=t[Ue];Rt.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function $E(){const t=Rt.lFrame,n=null===t?null:t.child;return null===n?WE(t):n}function WE(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function GE(){const t=Rt.lFrame;return Rt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const YE=GE;function Wm(){const t=GE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ui(){return Rt.lFrame.selectedIndex}function Ra(t){Rt.lFrame.selectedIndex=t}function Un(){const t=Rt.lFrame;return _u(t.tView,t.selectedIndex)}function Ii(){Rt.lFrame.currentNamespace=TE}function vr(){!function KA(){Rt.lFrame.currentNamespace=null}()}let qE=!0;function wu(){return qE}function Zo(t){qE=t}function Hf(t,n){for(let e=n.directiveStart,i=n.directiveEnd;e<i;e++){const o=t.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:h,ngAfterViewChecked:g,ngOnDestroy:y}=o;s&&(t.contentHooks??=[]).push(-e,s),c&&((t.contentHooks??=[]).push(e,c),(t.contentCheckHooks??=[]).push(e,c)),h&&(t.viewHooks??=[]).push(-e,h),g&&((t.viewHooks??=[]).push(e,g),(t.viewCheckHooks??=[]).push(e,g)),null!=y&&(t.destroyHooks??=[]).push(e,y)}}function $f(t,n,e){KE(t,n,3,e)}function Wf(t,n,e,i){(3&t[Ct])===e&&KE(t,n,e,i)}function Gm(t,n){let e=t[Ct];(3&e)===n&&(e&=16383,e+=1,t[Ct]=e)}function KE(t,n,e,i){const o=i??-1,s=n.length-1;let c=0;for(let h=void 0!==i?65535&t[zl]:0;h<s;h++)if("number"==typeof n[h+1]){if(c=n[h],null!=i&&c>=i)break}else n[h]<0&&(t[zl]+=65536),(c<o||-1==o)&&(XA(t,e,n,h),t[zl]=(4294901760&t[zl])+h+2),h++}function QE(t,n){Yo(4,t,n);const e=F(null);try{n.call(t)}finally{F(e),Yo(5,t,n)}}function XA(t,n,e,i){const r=e[i]<0,o=e[i+1],c=t[r?-e[i]:e[i]];r?t[Ct]>>14<t[zl]>>16&&(3&t[Ct])===n&&(t[Ct]+=16384,QE(c,o)):QE(c,o)}const $l=-1;class Eu{constructor(n,e,i){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}const Zm={};class La{constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,i){i=ba(i);const r=this.injector.get(n,Zm,i);return r!==Zm||e===Zm?r:this.parentInjector.get(n,e,i)}}function qm(t){return t!==$l}function Su(t){return 32767&t}function bu(t,n){let e=function nk(t){return t>>16}(t),i=n;for(;e>0;)i=i[Ul],e--;return i}let Km=!0;function Gf(t){const n=Km;return Km=t,n}const JE=255,eS=5;let rk=0;const qo={};function Yf(t,n){const e=tS(t,n);if(-1!==e)return e;const i=n[Ue];i.firstCreatePass&&(t.injectorIndex=n.length,Qm(i.data,t),Qm(n,null),Qm(i.blueprint,null));const r=Zf(t,n),o=t.injectorIndex;if(qm(r)){const s=Su(r),c=bu(r,n),h=c[Ue].data;for(let g=0;g<8;g++)n[o+g]=c[s+g]|h[s+g]}return n[o+8]=r,o}function Qm(t,n){t.push(0,0,0,0,0,0,0,0,n)}function tS(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Zf(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let e=0,i=null,r=n;for(;null!==r;){if(i=lS(r),null===i)return $l;if(e++,r=r[Ul],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return $l}function Xm(t,n,e){!function ok(t,n,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(zs)&&(i=e[zs]),null==i&&(i=e[zs]=rk++);const r=i&JE;n.data[t+(r>>eS)]|=1<<r}(t,n,e)}function nS(t,n,e){if(e&Kt.Optional||void 0!==t)return t;xl()}function iS(t,n,e,i){if(e&Kt.Optional&&void 0===i&&(i=null),!(e&(Kt.Self|Kt.Host))){const r=t[mi],o=Si(void 0);try{return r?r.get(n,i,e&Kt.Optional):Ef(n,i,e&Kt.Optional)}finally{Si(o)}}return nS(i,0,e)}function rS(t,n,e,i=Kt.Default,r){if(null!==t){if(2048&n[Ct]&&!(i&Kt.Self)){const s=function uk(t,n,e,i,r){let o=t,s=n;for(;null!==o&&null!==s&&2048&s[Ct]&&!(512&s[Ct]);){const c=oS(o,s,e,i|Kt.Self,qo);if(c!==qo)return c;let h=o.parent;if(!h){const g=s[EE];if(g){const y=g.get(e,qo,i);if(y!==qo)return y}h=lS(s),s=s[Ul]}o=h}return r}(t,n,e,i,qo);if(s!==qo)return s}const o=oS(t,n,e,i,qo);if(o!==qo)return o}return iS(n,e,i,r)}function oS(t,n,e,i,r){const o=function lk(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(zs)?t[zs]:void 0;return"number"==typeof n?n>=0?n&JE:ck:n}(e);if("function"==typeof o){if(!HE(n,t,i))return i&Kt.Host?nS(r,0,i):iS(n,e,i,r);try{let s;if(s=o(i),null!=s||i&Kt.Optional)return s;xl()}finally{YE()}}else if("number"==typeof o){let s=null,c=tS(t,n),h=$l,g=i&Kt.Host?n[Gn][Vi]:null;for((-1===c||i&Kt.SkipSelf)&&(h=-1===c?Zf(t,n):n[c+8],h!==$l&&aS(i,!1)?(s=n[Ue],c=Su(h),n=bu(h,n)):c=-1);-1!==c;){const y=n[Ue];if(sS(o,c,y.data)){const C=ak(c,n,e,s,i,g);if(C!==qo)return C}h=n[c+8],h!==$l&&aS(i,n[Ue].data[c+8]===g)&&sS(o,c,n)?(s=y,c=Su(h),n=bu(h,n)):c=-1}}return r}function ak(t,n,e,i,r,o){const s=n[Ue],c=s.data[t+8],y=qf(c,s,e,null==i?Oa(c)&&Km:i!=s&&!!(3&c.type),r&Kt.Host&&o===c);return null!==y?Ba(n,s,y,c):qo}function qf(t,n,e,i,r){const o=t.providerIndexes,s=n.data,c=1048575&o,h=t.directiveStart,y=o>>20,A=r?c+y:t.directiveEnd;for(let O=i?c:c+y;O<A;O++){const j=s[O];if(O<h&&e===j||O>=h&&j.type===e)return O}if(r){const O=s[h];if(O&&wo(O)&&O.type===e)return h}return null}function Ba(t,n,e,i){let r=t[e];const o=n.data;if(function JA(t){return t instanceof Eu}(r)){const s=r;s.resolving&&function gs(t,n){throw n&&n.join(" > "),new Se(-200,t)}(function nn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Nt(t)}(o[e]));const c=Gf(s.canSeeViewProviders);s.resolving=!0;const g=s.injectImpl?Si(s.injectImpl):null;HE(t,i,Kt.Default);try{r=t[e]=s.factory(void 0,o,t,i),n.firstCreatePass&&e>=i.directiveStart&&function QA(t,n,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=n.type.prototype;if(i){const s=xE(n);(e.preOrderHooks??=[]).push(t,s),(e.preOrderCheckHooks??=[]).push(t,s)}r&&(e.preOrderHooks??=[]).push(0-t,r),o&&((e.preOrderHooks??=[]).push(t,o),(e.preOrderCheckHooks??=[]).push(t,o))}(e,o[e],n)}finally{null!==g&&Si(g),Gf(c),s.resolving=!1,YE()}}return r}function sS(t,n,e){return!!(e[n+(t>>eS)]&1<<t)}function aS(t,n){return!(t&Kt.Self||t&Kt.Host&&n)}class xi{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,i){return rS(this._tNode,this._lView,n,ba(i),e)}}function ck(){return new xi(In(),be())}function zi(t){return ao(()=>{const n=t.prototype.constructor,e=n[Wr]||Jm(n),i=Object.prototype;let r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){const o=r[Wr]||Jm(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Jm(t){return us(t)?()=>{const n=Jm(Mt(t));return n&&n()}:Pi(t)}function lS(t){const n=t[Ue],e=n.type;return 2===e?n.declTNode:1===e?t[Vi]:null}function hS(t,n=null,e=null,i){const r=pS(t,n,e,i);return r.resolveInjectorInitializers(),r}function pS(t,n=null,e=null,i,r=new Set){const o=[e||bt,bi(t)];return i=i||("object"==typeof t?void 0:ri(t)),new Rl(o,n||kf(),i||null,r)}class Di{static#e=this.THROW_IF_NOT_FOUND=Hs;static#t=this.NULL=new Da;static create(n,e){if(Array.isArray(n))return hS({name:""},e,n,"");{const i=n.name??"";return hS({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=mt({token:Di,providedIn:"any",factory:()=>Vt(If)});static#i=this.__NG_ELEMENT_ID__=-1}new at("").__NG_ELEMENT_ID__=t=>{const n=In();if(null===n)throw new Se(204,!1);if(2&n.type)return n.value;if(t&Kt.Optional)return null;throw new Se(204,!1)};function t_(t){return t.ngOriginalError}let Cu=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=wk;static#t=this.__NG_ENV_ID__=e=>e}return t})();class vk extends Cu{constructor(n){super(),this._lView=n}onDestroy(n){return Uf(this._lView,n),()=>function Lm(t,n){if(null===t[qs])return;const e=t[qs].indexOf(n);-1!==e&&t[qs].splice(e,1)}(this._lView,n)}}function wk(){return new vk(be())}let Yl=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new so(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275prov=mt({token:t,providedIn:"root",factory:()=>new t})}return t})();const Tn=class Ek extends Pe{constructor(n=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=n,function yE(){return void 0!==iu()||null!=function ho(){return si}()}()&&(this.destroyRef=ot(Cu,{optional:!0})??void 0,this.pendingTasks=ot(Yl,{optional:!0})??void 0)}emit(n){const e=F(null);try{super.next(n)}finally{F(e)}}subscribe(n,e,i){let r=n,o=e||(()=>null),s=i;if(n&&"object"==typeof n){const h=n;r=h.next?.bind(h),o=h.error?.bind(h),s=h.complete?.bind(h)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));const c=super.subscribe({next:r,error:o,complete:s});return n instanceof U&&n.add(c),c}wrapInTimeout(n){return e=>{const i=this.pendingTasks?.add();setTimeout(()=>{n(e),void 0!==i&&this.pendingTasks?.remove(i)})}}};function Xf(...t){}function mS(t){let n,e;function i(){t=Xf;try{void 0!==e&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(e),void 0!==n&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{t(),i()}),"function"==typeof requestAnimationFrame&&(e=requestAnimationFrame(()=>{t(),i()})),()=>i()}function _S(t){return queueMicrotask(()=>t()),()=>{t=Xf}}class hn{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Tn(!1),this.onMicrotaskEmpty=new Tn(!1),this.onStable=new Tn(!1),this.onError=new Tn(!1),typeof Zone>"u")throw new Se(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.callbackScheduled=!1,function Ck(t){const n=()=>{!function bk(t){t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,Zone.root.run(()=>{mS(()=>{t.callbackScheduled=!1,i_(t),t.isCheckStableRunning=!0,n_(t),t.isCheckStableRunning=!1})}),i_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,o,s,c)=>{if(function Ik(t){return wS(t,"__ignore_ng_zone__")}(c))return e.invokeTask(r,o,s,c);try{return yS(t),e.invokeTask(r,o,s,c)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&n(),vS(t)}},onInvoke:(e,i,r,o,s,c,h)=>{try{return yS(t),e.invoke(r,o,s,c,h)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!function xk(t){return wS(t,"__scheduler_tick__")}(c)&&n(),vS(t)}},onHasTask:(e,i,r,o)=>{e.hasTask(r,o),i===r&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,i_(t),n_(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,i,r,o)=>(e.handleError(r,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!hn.isInAngularZone())throw new Se(909,!1)}static assertNotInAngularZone(){if(hn.isInAngularZone())throw new Se(909,!1)}run(n,e,i){return this._inner.run(n,e,i)}runTask(n,e,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,n,Sk,Xf,Xf);try{return o.runTask(s,e,i)}finally{o.cancelTask(s)}}runGuarded(n,e,i){return this._inner.runGuarded(n,e,i)}runOutsideAngular(n){return this._outer.run(n)}}const Sk={};function n_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function i_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&!0===t.callbackScheduled)}function yS(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function vS(t){t._nesting--,n_(t)}class r_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Tn,this.onMicrotaskEmpty=new Tn,this.onStable=new Tn,this.onError=new Tn}run(n,e,i){return n.apply(e,i)}runGuarded(n,e,i){return n.apply(e,i)}runOutsideAngular(n){return n()}runTask(n,e,i,r){return n.apply(e,i)}}function wS(t,n){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0]?.data?.[n]}class bo{constructor(){this._console=console}handleError(n){const e=this._findOriginalError(n);this._console.error("ERROR",n),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&t_(n);for(;e&&t_(e);)e=t_(e);return e||null}}const Mk=new at("",{providedIn:"root",factory:()=>{const t=ot(hn),n=ot(bo);return e=>t.runOutsideAngular(()=>n.handleError(e))}});function Tk(){return Zl(In(),be())}function Zl(t,n){return new li(or(t,n))}let li=(()=>{class t{constructor(e){this.nativeElement=e}static#e=this.__NG_ELEMENT_ID__=Tk}return t})();function SS(t){return t instanceof li?t.nativeElement:t}function Pk(){return this._results[Symbol.iterator]()}class o_{static#e=Symbol.iterator;get changes(){return this._changes??=new Tn}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const e=o_.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=Pk)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){this.dirty=!1;const i=function ti(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Cf(t,n,e){if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],o=n[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}(this._results,i,e))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Jf(t){return!(128&~t.flags)}const s_=new Map;let kk=0;const th="__ngContext__";function Yi(t,n){Ai(n)?(t[th]=n[jl],function Nk(t){s_.set(t[jl],t)}(n)):t[th]=n}function kS(t){return NS(t[hu])}function OS(t){return NS(t[vo])}function NS(t){for(;null!==t&&!Wi(t);)t=t[vo];return t}let l_;function Ks(){if(void 0!==l_)return l_;if(typeof document<"u")return document;throw new Se(210,!1)}const Kl=new at("",{providedIn:"root",factory:()=>Xk}),Xk="ng",jS=new at(""),Ql=new at("",{providedIn:"platform",factory:()=>"unknown"}),HS=new at(""),$S=new at("",{providedIn:"root",factory:()=>Ks().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let WS=()=>null;function g_(t,n,e=!1){return WS(t,n,e)}const JS=new at("",{providedIn:"root",factory:()=>!1});let uh,dh;function ec(t){return function w_(){if(void 0===uh&&(uh=null,An.trustedTypes))try{uh=An.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return uh}()?.createHTML(t)||t}function nb(t){return function E_(){if(void 0===dh&&(dh=null,An.trustedTypes))try{dh=An.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return dh}()?.createHTML(t)||t}class Va{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ff})`}}class fO extends Va{getTypeName(){return"HTML"}}class hO extends Va{getTypeName(){return"Style"}}class pO extends Va{getTypeName(){return"Script"}}class gO extends Va{getTypeName(){return"URL"}}class mO extends Va{getTypeName(){return"ResourceURL"}}function Rr(t){return t instanceof Va?t.changingThisBreaksApplicationSecurity:t}function Ko(t,n){const e=function _O(t){return t instanceof Va&&t.getTypeName()||null}(t);if(null!=e&&e!==n){if("ResourceURL"===e&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${ff})`)}return e===n}class bO{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const e=(new window.DOMParser).parseFromString(ec(n),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(n):(e.removeChild(e.firstChild),e)}catch{return null}}}class CO{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const e=this.inertDocument.createElement("template");return e.innerHTML=ec(n),e}}const xO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function fh(t){return(t=String(t)).match(xO)?t:"unsafe:"+t}function Es(t){const n={};for(const e of t.split(","))n[e]=!0;return n}function ku(...t){const n={};for(const e of t)for(const i in e)e.hasOwnProperty(i)&&(n[i]=!0);return n}const sb=Es("area,br,col,hr,img,wbr"),ab=Es("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),lb=Es("rp,rt"),S_=ku(sb,ku(ab,Es("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ku(lb,Es("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ku(lb,ab)),b_=Es("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),cb=ku(b_,Es("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Es("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),DO=Es("script,style,template");class MO{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let e=n.firstChild,i=!0,r=[];for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)r.push(e),e=AO(e);else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let o=PO(e);if(o){e=o;break}e=r.pop()}return this.buf.join("")}startElement(n){const e=ub(n).toLowerCase();if(!S_.hasOwnProperty(e))return this.sanitizedSomething=!0,!DO.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=n.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),s=o.name,c=s.toLowerCase();if(!cb.hasOwnProperty(c)){this.sanitizedSomething=!0;continue}let h=o.value;b_[c]&&(h=fh(h)),this.buf.push(" ",s,'="',fb(h),'"')}return this.buf.push(">"),!0}endElement(n){const e=ub(n).toLowerCase();S_.hasOwnProperty(e)&&!sb.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(fb(n))}}function PO(t){const n=t.nextSibling;if(n&&t!==n.previousSibling)throw db(n);return n}function AO(t){const n=t.firstChild;if(n&&function TO(t,n){return(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(t,n))throw db(n);return n}function ub(t){const n=t.nodeName;return"string"==typeof n?n:"FORM"}function db(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}const kO=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,OO=/([^\#-~ |!])/g;function fb(t){return t.replace(/&/g,"&amp;").replace(kO,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(OO,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let hh;function hb(t,n){let e=null;try{hh=hh||function ob(t){const n=new CO(t);return function IO(){try{return!!(new window.DOMParser).parseFromString(ec(""),"text/html")}catch{return!1}}()?new bO(n):n}(t);let i=n?String(n):"";e=hh.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=e.innerHTML,e=hh.getInertBodyElement(i)}while(i!==o);return ec((new MO).sanitizeChildren(C_(e)||e))}finally{if(e){const i=C_(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function C_(t){return"content"in t&&function NO(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Zr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Zr||{});function pb(t){const n=Ou();return n?nb(n.sanitize(Zr.HTML,t)||""):Ko(t,"HTML")?nb(Rr(t)):hb(Ks(),Nt(t))}function $e(t){const n=Ou();return n?n.sanitize(Zr.URL,t)||"":Ko(t,"URL")?Rr(t):fh(Nt(t))}function Ou(){const t=be();return t&&t[Wo].sanitizer}const zO=/^>|^->|<!--|-->|--!>|<!-$/g,jO=/(<|>)/g,HO="\u200b$1\u200b";var Qs=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Qs||{});let D_;function M_(t,n){return D_(t,n)}function nc(t,n,e,i,r){if(null!=i){let o,s=!1;Wi(i)?o=i:Ai(i)&&(s=!0,i=i[Wn]);const c=an(i);0===t&&null!==e?null==r?Mb(n,e,c):Ua(n,e,c,r||null,!0):1===t&&null!==e?Ua(n,e,c,r||null,!0):2===t?function Fu(t,n,e){const i=yh(t,n);i&&function aN(t,n,e,i){t.removeChild(n,e,i)}(t,i,n,e)}(n,c,s):3===t&&n.destroyNode(c),null!=o&&function uN(t,n,e,i,r){const o=e[Go];o!==an(e)&&nc(n,t,i,o,r);for(let c=ai;c<e.length;c++){const h=e[c];wh(h[Ue],h,t,n,i,o)}}(n,t,o,e,r)}}function P_(t,n){return t.createComment(function mb(t){return t.replace(zO,n=>n.replace(jO,HO))}(n))}function mh(t,n,e){return t.createElement(n,e)}function Ib(t,n){n[Wo].changeDetectionScheduler?.notify(8),wh(t,n,n[Ft],2,null,null)}function xb(t,n){const e=t[Hl],i=n[gi];(Ai(i)||n[Gn]!==i[gi][Gn])&&(t[Ct]|=Lf.HasTransplantedViews),null===e?t[Hl]=[n]:e.push(n)}function A_(t,n){const e=t[Hl],i=e.indexOf(n);e.splice(i,1)}function Nu(t,n){if(t.length<=ai)return;const e=ai+n,i=t[e];if(i){const r=i[ka];null!==r&&r!==t&&A_(r,i),n>0&&(t[e-1][vo]=i[vo]);const o=Ws(t,ai+n);!function tN(t,n){Ib(t,n),n[Wn]=null,n[Vi]=null}(i[Ue],i);const s=o[_s];null!==s&&s.detachView(o[Ue]),i[gi]=null,i[vo]=null,i[Ct]&=-129}return i}function _h(t,n){if(!(256&n[Ct])){const e=n[Ft];e.destroyNode&&wh(t,n,e,3,null,null),function iN(t){let n=t[hu];if(!n)return k_(t[Ue],t);for(;n;){let e=null;if(Ai(n))e=n[hu];else{const i=n[ai];i&&(e=i)}if(!e){for(;n&&!n[vo]&&n!==t;)Ai(n)&&k_(n[Ue],n),n=n[gi];null===n&&(n=t),Ai(n)&&k_(n[Ue],n),e=n&&n[vo]}n=e}}(n)}}function k_(t,n){if(256&n[Ct])return;const e=F(null);try{n[Ct]&=-129,n[Ct]|=256,n[Gr]&&Oe(n[Gr]),function sN(t,n){let e;if(null!=t&&null!=(e=t.destroyHooks))for(let i=0;i<e.length;i+=2){const r=n[e[i]];if(!(r instanceof Eu)){const o=e[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const c=r[o[s]],h=o[s+1];Yo(4,c,h);try{h.call(c)}finally{Yo(5,c,h)}}else{Yo(4,r,o);try{o.call(r)}finally{Yo(5,r,o)}}}}}(t,n),function oN(t,n){const e=t.cleanup,i=n[Vl];if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const s=e[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else e[o].call(i[e[o+1]]);null!==i&&(n[Vl]=null);const r=n[qs];if(null!==r){n[qs]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(t,n),1===n[Ue].type&&n[Ft].destroy();const i=n[ka];if(null!==i&&Wi(n[gi])){i!==n[gi]&&A_(i,n);const r=n[_s];null!==r&&r.detachView(t)}!function Fk(t){s_.delete(t[jl])}(n)}finally{F(e)}}function O_(t,n,e){return function Db(t,n,e){let i=n;for(;null!==i&&168&i.type;)i=(n=i).parent;if(null===i)return e[Wn];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=t.data[i.directiveStart+r];if(o===Ar.None||o===Ar.Emulated)return null}return or(i,e)}}(t,n.parent,e)}function Ua(t,n,e,i,r){t.insertBefore(n,e,i,r)}function Mb(t,n,e){t.appendChild(n,e)}function Tb(t,n,e,i,r){null!==i?Ua(t,n,e,i,r):Mb(t,n,e)}function yh(t,n){return t.parentNode(n)}function Pb(t,n,e){return kb(t,n,e)}let N_,kb=function Ab(t,n,e){return 40&t.type?or(t,e):null};function vh(t,n,e,i){const r=O_(t,i,n),o=n[Ft],c=Pb(i.parent||n[Vi],i,n);if(null!=r)if(Array.isArray(e))for(let h=0;h<e.length;h++)Tb(o,r,e[h],c,!1);else Tb(o,r,e,c,!1);void 0!==N_&&N_(o,i,n,e,r)}function za(t,n){if(null!==n){const e=n.type;if(3&e)return or(n,t);if(4&e)return F_(-1,t[n.index]);if(8&e){const i=n.child;if(null!==i)return za(t,i);{const r=t[n.index];return Wi(r)?F_(-1,r):an(r)}}if(128&e)return za(t,n.next);if(32&e)return M_(n,t)()||an(t[n.index]);{const i=Nb(t,n);return null!==i?Array.isArray(i)?i[0]:za(ys(t[Gn]),i):za(t,n.next)}}return null}function Nb(t,n){return null!==n?t[Gn][Vi].projection[n.projection]:null}function F_(t,n){const e=ai+t+1;if(e<n.length){const i=n[e],r=i[Ue].firstChild;if(null!==r)return za(i,r)}return n[Go]}function R_(t,n,e,i,r,o,s){for(;null!=e;){if(128===e.type){e=e.next;continue}const c=i[e.index],h=e.type;if(s&&0===n&&(c&&Yi(an(c),i),e.flags|=2),32&~e.flags)if(8&h)R_(t,n,e.child,i,r,o,!1),nc(n,t,r,c,o);else if(32&h){const g=M_(e,i);let y;for(;y=g();)nc(n,t,r,y,o);nc(n,t,r,c,o)}else 16&h?Rb(t,n,i,e,r,o):nc(n,t,r,c,o);e=s?e.projectionNext:e.next}}function wh(t,n,e,i,r,o){R_(e,i,t.firstChild,n,r,o,!1)}function Rb(t,n,e,i,r,o){const s=e[Gn],h=s[Vi].projection[i.projection];if(Array.isArray(h))for(let g=0;g<h.length;g++)nc(n,t,r,h[g],o);else{let g=h;const y=s[gi];Jf(i)&&(g.flags|=128),R_(t,n,g,y,r,o,!0)}}function Lb(t,n,e){""===e?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function Bb(t,n,e){const{mergedAttrs:i,classes:r,styles:o}=e;null!==i&&lu(t,n,i),null!==r&&Lb(t,n,r),null!==o&&function fN(t,n,e){t.setAttribute(n,"style",e)}(t,n,o)}const Ut={};function T(t=1){Vb(Zt(),be(),Ui()+t,!1)}function Vb(t,n,e,i){if(!i)if(3&~n[Ct]){const o=t.preOrderHooks;null!==o&&Wf(n,o,0,e)}else{const o=t.preOrderCheckHooks;null!==o&&$f(n,o,e)}Ra(e)}function te(t,n=Kt.Default){const e=be();return null===e?Vt(t,n):rS(In(),e,Mt(t),n)}function Ub(t,n,e,i,r,o){const s=F(null);try{let c=null;r&mo.SignalBased&&(c=n[i][V]),null!==c&&void 0!==c.transformFn&&(o=c.transformFn(o)),r&mo.HasDecoratorInputTransform&&(o=t.inputTransforms[i].call(n,o)),null!==t.setInput?t.setInput(n,c,o,e,i):IE(n,c,i,o)}finally{F(s)}}function Eh(t,n,e,i,r,o,s,c,h,g,y){const C=n.blueprint.slice();return C[Wn]=r,C[Ct]=204|i,(null!==g||t&&2048&t[Ct])&&(C[Ct]|=2048),AE(C),C[gi]=C[Ul]=t,C[Vn]=e,C[Wo]=s||t&&t[Wo],C[Ft]=c||t&&t[Ft],C[mi]=h||t&&t[mi]||null,C[Vi]=o,C[jl]=function Ok(){return kk++}(),C[rr]=y,C[EE]=g,C[Gn]=2==n.type?t[Gn]:C,C}function ja(t,n,e,i,r){let o=t.data[n];if(null===o)o=function L_(t,n,e,i,r){const o=RE(),s=Vm(),h=t.data[n]=function EN(t,n,e,i,r,o){let s=n?n.injectorIndex:-1,c=0;return Fa()&&(c|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,e,n,i,r);return null===t.firstChild&&(t.firstChild=h),null!==o&&(s?null==o.child&&null!==h.parent&&(o.child=h):null===o.next&&(o.next=h,h.prev=o)),h}(t,n,e,i,r),function $A(){return Rt.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=e,o.value=i,o.attrs=r;const s=function vu(){const t=Rt.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Eo(o,!0),o}function Ru(t,n,e,i){if(0===e)return-1;const r=n.length;for(let o=0;o<e;o++)n.push(i),t.blueprint.push(i),t.data.push(null);return r}function zb(t,n,e,i,r){const o=Ui(),s=2&i;try{Ra(-1),s&&n.length>ft&&Vb(t,n,ft,!1),Yo(s?2:0,r),e(i,r)}finally{Ra(o),Yo(s?3:1,r)}}function B_(t,n,e){if(Pm(n)){const i=F(null);try{const o=n.directiveEnd;for(let s=n.directiveStart;s<o;s++){const c=t.data[s];c.contentQueries&&c.contentQueries(1,e[s],s)}}finally{F(i)}}}function V_(t,n,e){FE()&&(function MN(t,n,e,i){const r=e.directiveStart,o=e.directiveEnd;Oa(e)&&function FN(t,n,e){const i=or(n,t),r=jb(e);let s=16;e.signals?s=4096:e.onPush&&(s=64);const c=Sh(t,Eh(t,r,null,s,i,n,null,t[Wo].rendererFactory.createRenderer(i,e),null,null,null));t[n.index]=c}(n,e,t.data[r+e.componentOffset]),t.firstCreatePass||Yf(e,n),Yi(i,n);const s=e.initialInputs;for(let c=r;c<o;c++){const h=t.data[c],g=Ba(n,t,c,e);Yi(g,n),null!==s&&RN(0,c-r,g,h,0,s),wo(h)&&(Fr(e.index,n)[Vn]=Ba(n,t,c,e))}}(t,n,e,or(e,n)),!(64&~e.flags)&&Yb(t,n,e))}function U_(t,n,e=or){const i=n.localNames;if(null!==i){let r=n.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],c=-1===s?e(n,t):t[s];t[r++]=c}}}function jb(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=z_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function z_(t,n,e,i,r,o,s,c,h,g,y){const C=ft+i,A=C+r,O=function gN(t,n){const e=[];for(let i=0;i<n;i++)e.push(i<t?null:Ut);return e}(C,A),j="function"==typeof g?g():g;return O[Ue]={type:t,blueprint:O,template:e,queries:null,viewQuery:c,declTNode:n,data:O.slice().fill(null,C),bindingStartIndex:C,expandoStartIndex:A,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:h,consts:j,incompleteFirstPass:!1,ssrId:y}}let Hb=()=>null;function $b(t,n,e,i,r){for(let o in n){if(!n.hasOwnProperty(o))continue;const s=n[o];if(void 0===s)continue;i??={};let c,h=mo.None;Array.isArray(s)?(c=s[0],h=s[1]):c=s;let g=o;if(null!==r){if(!r.hasOwnProperty(o))continue;g=r[o]}0===t?Wb(i,e,g,c,h):Wb(i,e,g,c)}return i}function Wb(t,n,e,i,r){let o;t.hasOwnProperty(e)?(o=t[e]).push(n,i):o=t[e]=[n,i],void 0!==r&&o.push(r)}function Sr(t,n,e,i,r,o,s,c){const h=or(n,e);let y,g=n.inputs;!c&&null!=g&&(y=g[i])?(G_(t,e,y,i,r),Oa(n)&&function CN(t,n){const e=Fr(n,t);16&e[Ct]||(e[Ct]|=64)}(e,n.index)):3&n.type&&(i=function bN(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(i),r=null!=s?s(r,n.value||"",i):r,o.setProperty(h,i,r))}function j_(t,n,e,i){if(FE()){const r=null===i?null:{"":-1},o=function PN(t,n){const e=t.directiveRegistry;let i=null,r=null;if(e)for(let o=0;o<e.length;o++){const s=e[o];if(Pa(n,s.selectors,!1))if(i||(i=[]),wo(s))if(null!==s.findHostDirectiveDefs){const c=[];r=r||new Map,s.findHostDirectiveDefs(s,c,r),i.unshift(...c,s),H_(t,n,c.length)}else i.unshift(s),H_(t,n,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(t,e);let s,c;null===o?s=c=null:[s,c]=o,null!==s&&Gb(t,n,e,s,r,c),r&&function AN(t,n,e){if(n){const i=t.localNames=[];for(let r=0;r<n.length;r+=2){const o=e[n[r+1]];if(null==o)throw new Se(-301,!1);i.push(n[r],o)}}}(e,i,r)}e.mergedAttrs=Zs(e.mergedAttrs,e.attrs)}function Gb(t,n,e,i,r,o){for(let g=0;g<i.length;g++)Xm(Yf(e,n),t,i[g].type);!function ON(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}(e,t.data.length,i.length);for(let g=0;g<i.length;g++){const y=i[g];y.providersResolver&&y.providersResolver(y)}let s=!1,c=!1,h=Ru(t,n,i.length,null);for(let g=0;g<i.length;g++){const y=i[g];e.mergedAttrs=Zs(e.mergedAttrs,y.hostAttrs),NN(t,e,n,h,y),kN(h,y,r),null!==y.contentQueries&&(e.flags|=4),(null!==y.hostBindings||null!==y.hostAttrs||0!==y.hostVars)&&(e.flags|=64);const C=y.type.prototype;!s&&(C.ngOnChanges||C.ngOnInit||C.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),s=!0),!c&&(C.ngOnChanges||C.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),c=!0),h++}!function SN(t,n,e){const r=n.directiveEnd,o=t.data,s=n.attrs,c=[];let h=null,g=null;for(let y=n.directiveStart;y<r;y++){const C=o[y],A=e?e.get(C):null,j=A?A.outputs:null;h=$b(0,C.inputs,y,h,A?A.inputs:null),g=$b(1,C.outputs,y,g,j);const ne=null===h||null===s||Nl(n)?null:LN(h,y,s);c.push(ne)}null!==h&&(h.hasOwnProperty("class")&&(n.flags|=8),h.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=c,n.inputs=h,n.outputs=g}(t,e,o)}function Yb(t,n,e){const i=e.directiveStart,r=e.directiveEnd,o=e.index,s=function GA(){return Rt.lFrame.currentDirectiveIndex}();try{Ra(o);for(let c=i;c<r;c++){const h=t.data[c],g=n[c];zm(c),(null!==h.hostBindings||0!==h.hostVars||null!==h.hostAttrs)&&TN(h,g)}}finally{Ra(-1),zm(s)}}function TN(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function H_(t,n,e){n.componentOffset=e,(t.components??=[]).push(n.index)}function kN(t,n,e){if(e){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)e[n.exportAs[i]]=t;wo(n)&&(e[""]=t)}}function NN(t,n,e,i,r){t.data[i]=r;const o=r.factory||(r.factory=Pi(r.type)),s=new Eu(o,wo(r),te);t.blueprint[i]=s,e[i]=s,function xN(t,n,e,i,r){const o=r.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const c=~n.index;(function DN(t){let n=t.length;for(;n>0;){const e=t[--n];if("number"==typeof e&&e<0)return e}return 0})(s)!=c&&s.push(c),s.push(e,i,o)}}(t,n,i,Ru(t,e,r.hostVars,Ut),r)}function RN(t,n,e,i,r,o){const s=o[n];if(null!==s)for(let c=0;c<s.length;)Ub(i,e,s[c++],s[c++],s[c++],s[c++])}function LN(t,n,e){let i=null,r=0;for(;r<e.length;){const o=e[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===i&&(i=[]);const s=t[o];for(let c=0;c<s.length;c+=3)if(s[c]===n){i.push(o,s[c+1],s[c+2],e[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function Zb(t,n,e,i){return[t,!0,0,n,null,i,null,e,null,null]}function qb(t,n){const e=t.contentQueries;if(null!==e){const i=F(null);try{for(let r=0;r<e.length;r+=2){const s=e[r+1];if(-1!==s){const c=t.data[s];jf(e[r]),c.contentQueries(2,n[s],s)}}}finally{F(i)}}}function Sh(t,n){return t[hu]?t[wE][vo]=n:t[hu]=n,t[wE]=n,n}function W_(t,n,e){jf(0);const i=F(null);try{n(t,e)}finally{F(i)}}function Kb(t){return t[Vl]??=[]}function Qb(t){return t.cleanup??=[]}function bh(t,n){const e=t[mi],i=e?e.get(bo,null):null;i&&i.handleError(n)}function G_(t,n,e,i,r){for(let o=0;o<e.length;){const s=e[o++],c=e[o++],h=e[o++];Ub(t.data[s],n[s],i,c,h,r)}}function Ss(t,n,e){const i=mu(n,t);!function Cb(t,n,e){t.setValue(n,e)}(t[Ft],i,e)}function BN(t,n){const e=Fr(n,t),i=e[Ue];!function VN(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])}(i,e);const r=e[Wn];null!==r&&null===e[rr]&&(e[rr]=g_(r,e[mi])),Y_(i,e,e[Vn])}function Y_(t,n,e){$m(n);try{const i=t.viewQuery;null!==i&&W_(1,i,e);const r=t.template;null!==r&&zb(t,n,r,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),n[_s]?.finishViewCreation(t),t.staticContentQueries&&qb(t,n),t.staticViewQueries&&W_(2,t.viewQuery,e);const o=t.components;null!==o&&function UN(t,n){for(let e=0;e<n.length;e++)BN(t,n[e])}(n,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{n[Ct]&=-5,Wm()}}function ic(t,n,e,i){const r=F(null);try{const o=n.tView,h=Eh(t,o,e,4096&t[Ct]?4096:16,null,n,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null);h[ka]=t[n.index];const y=t[_s];return null!==y&&(h[_s]=y.createEmbeddedView(o)),Y_(o,h,e),h}finally{F(r)}}function Ha(t,n){return!n||null===n.firstChild||Jf(t)}function rc(t,n,e,i=!0){const r=n[Ue];if(function rN(t,n,e,i){const r=ai+i,o=e.length;i>0&&(e[r-1][vo]=n),i<o-ai?(n[vo]=e[r],Bi(e,ai+i,n)):(e.push(n),n[vo]=null),n[gi]=e;const s=n[ka];null!==s&&e!==s&&xb(s,n);const c=n[_s];null!==c&&c.insertView(t),Rm(n),n[Ct]|=128}(r,n,t,e),i){const s=F_(e,t),c=n[Ft],h=yh(c,t[Go]);null!==h&&function nN(t,n,e,i,r,o){i[Wn]=r,i[Vi]=n,wh(t,i,e,1,r,o)}(r,t[Vi],c,n,h,s)}const o=n[rr];null!==o&&null!==o.firstChild&&(o.firstChild=null)}function Lu(t,n,e,i,r=!1){for(;null!==e;){if(128===e.type){e=r?e.projectionNext:e.next;continue}const o=n[e.index];null!==o&&i.push(an(o)),Wi(o)&&eC(o,i);const s=e.type;if(8&s)Lu(t,n,e.child,i);else if(32&s){const c=M_(e,n);let h;for(;h=c();)i.push(h)}else if(16&s){const c=Nb(n,e);if(Array.isArray(c))i.push(...c);else{const h=ys(n[Gn]);Lu(h[Ue],h,c,i,!0)}}e=r?e.projectionNext:e.next}return i}function eC(t,n){for(let e=ai;e<t.length;e++){const i=t[e],r=i[Ue].firstChild;null!==r&&Lu(i[Ue],i,r,n)}t[Go]!==t[Wn]&&n.push(t[Go])}let tC=[];const $N={...b,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Vf(t.lView)},consumerOnSignalRead(){this.lView[Gr]=this}},GN={...b,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let n=ys(t.lView);for(;n&&!nC(n[Ue]);)n=ys(n);n&&kE(n)},consumerOnSignalRead(){this.lView[Gr]=this}};function nC(t){return 2!==t.type}const YN=100;function Ch(t,n=!0,e=0){const i=t[Wo],r=i.rendererFactory;r.begin?.();try{!function ZN(t,n){const e=VE();try{UE(!0),q_(t,n);let i=0;for(;yu(t);){if(i===YN)throw new Se(103,!1);i++,q_(t,1)}}finally{UE(e)}}(t,e)}catch(s){throw n&&bh(t,s),s}finally{r.end?.(),i.inlineEffectRunner?.flush()}}function qN(t,n,e,i){const r=n[Ct];if(!(256&~r))return;n[Wo].inlineEffectRunner?.flush(),$m(n);let c=!0,h=null,g=null;nC(t)?(g=function zN(t){return t[Gr]??function jN(t){const n=tC.pop()??Object.create($N);return n.lView=t,n}(t)}(n),h=fe(g)):null===function D(){return Q}()?(c=!1,g=function WN(t){const n=t[Gr]??Object.create(GN);return n.lView=t,n}(n),h=fe(g)):n[Gr]&&(Oe(n[Gr]),n[Gr]=null);try{AE(n),function zE(t){return Rt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&zb(t,n,e,2,i);const y=!(3&~r);if(y){const O=t.preOrderCheckHooks;null!==O&&$f(n,O,null)}else{const O=t.preOrderHooks;null!==O&&Wf(n,O,0,null),Gm(n,0)}if(function KN(t){for(let n=kS(t);null!==n;n=OS(n)){if(!(n[Ct]&Lf.HasTransplantedViews))continue;const e=n[Hl];for(let i=0;i<e.length;i++)kE(e[i])}}(n),rC(n,0),null!==t.contentQueries&&qb(t,n),y){const O=t.contentCheckHooks;null!==O&&$f(n,O)}else{const O=t.contentHooks;null!==O&&Wf(n,O,1),Gm(n,1)}!function pN(t,n){const e=t.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const r=e[i];if(r<0)Ra(~r);else{const o=r,s=e[++i],c=e[++i];WA(s,o),c(2,n[o])}}}finally{Ra(-1)}}(t,n);const C=t.components;null!==C&&sC(n,C,0);const A=t.viewQuery;if(null!==A&&W_(2,A,i),y){const O=t.viewCheckHooks;null!==O&&$f(n,O)}else{const O=t.viewHooks;null!==O&&Wf(n,O,2),Gm(n,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Ff]){for(const O of n[Ff])O();n[Ff]=null}n[Ct]&=-73}catch(y){throw Vf(n),y}finally{null!==g&&(le(g,h),c&&function HN(t){t.lView[Gr]!==t&&(t.lView=null,tC.push(t))}(g)),Wm()}}function rC(t,n){for(let e=kS(t);null!==e;e=OS(e))for(let i=ai;i<e.length;i++)oC(e[i],n)}function QN(t,n,e){oC(Fr(n,t),e)}function oC(t,n){Fm(t)&&q_(t,n)}function q_(t,n){const i=t[Ue],r=t[Ct],o=t[Gr];let s=!!(0===n&&16&r);if(s||=!!(64&r&&0===n),s||=!!(1024&r),s||=!(!o?.dirty||!We(o)),s||=!1,o&&(o.dirty=!1),t[Ct]&=-9217,s)qN(i,t,i.template,t[Vn]);else if(8192&r){rC(t,1);const c=i.components;null!==c&&sC(t,c,1)}}function sC(t,n,e){for(let i=0;i<n.length;i++)QN(t,n[i],e)}function Bu(t,n){const e=VE()?64:1088;for(t[Wo].changeDetectionScheduler?.notify(n);t;){t[Ct]|=e;const i=ys(t);if(gu(t)&&!i)return t;t=i}return null}class Vu{get rootNodes(){const n=this._lView,e=n[Ue];return Lu(e,n,e.firstChild,[])}constructor(n,e,i=!0){this._lView=n,this._cdRefInjectingView=e,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Vn]}set context(n){this._lView[Vn]=n}get destroyed(){return!(256&~this._lView[Ct])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[gi];if(Wi(n)){const e=n[8],i=e?e.indexOf(this):-1;i>-1&&(Nu(n,i),Ws(e,i))}this._attachedToViewContainer=!1}_h(this._lView[Ue],this._lView)}onDestroy(n){Uf(this._lView,n)}markForCheck(){Bu(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Ct]&=-129}reattach(){Rm(this._lView),this._lView[Ct]|=128}detectChanges(){this._lView[Ct]|=1024,Ch(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Se(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const n=gu(this._lView),e=this._lView[ka];null!==e&&!n&&A_(e,this._lView),Ib(this._lView[Ue],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Se(902,!1);this._appRef=n;const e=gu(this._lView),i=this._lView[ka];null!==i&&!e&&xb(i,this._lView),Rm(this._lView)}}let bs=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=e2}return t})();const XN=bs,JN=class extends XN{constructor(n,e,i){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,e){return this.createEmbeddedViewImpl(n,e)}createEmbeddedViewImpl(n,e,i){const r=ic(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:e,dehydratedView:i});return new Vu(r)}};function e2(){return Ih(In(),be())}function Ih(t,n){return 4&t.type?new JN(n,t,Zl(t,n)):null}let DC=()=>null;function Wa(t,n){return DC(t,n)}class sc{}const Yu=new at("",{providedIn:"root",factory:()=>!1}),MC=new at("");class G2{}class TC{}class Z2{resolveComponentFactory(n){throw function Y2(t){const n=Error(`No component factory found for ${ri(t)}.`);return n.ngComponent=t,n}(n)}}class Ah{static#e=this.NULL=new Z2}class kh{}let qr=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function q2(){const t=be(),e=Fr(In().index,t);return(Ai(e)?e:t)[Ft]}()}return t})(),K2=(()=>{class t{static#e=this.\u0275prov=mt({token:t,providedIn:"root",factory:()=>null})}return t})();const AC=new Set;function ar(t){AC.has(t)||(AC.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}let Oh=(()=>{class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const e=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const i of e)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=mt({token:t,providedIn:"root",factory:()=>new t})}return t})();function Fh(t,n,e){let i=e?t.styles:null,r=e?t.classes:null,o=0;if(null!==n)for(let s=0;s<n.length;s++){const c=n[s];"number"==typeof c?o=c:1==o?r=Ls(r,c):2==o&&(i=Ls(i,c+": "+n[++s]+";"))}e?t.styles=i:t.stylesWithoutHost=i,e?t.classes=r:t.classesWithoutHost=r}class RC extends Ah{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const e=x(n);return new Ku(e,this.ngModule)}}function LC(t,n){const e=[];for(const i in t){if(!t.hasOwnProperty(i))continue;const r=t[i];if(void 0===r)continue;const o=Array.isArray(r),s=o?r[0]:r;e.push(n?{propName:s,templateName:i,isSignal:!!((o?r[1]:mo.None)&mo.SignalBased)}:{propName:s,templateName:i})}return e}class Ku extends TC{get inputs(){const n=this.componentDef,e=n.inputTransforms,i=LC(n.inputs,!0);if(null!==e)for(const r of i)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return i}get outputs(){return LC(this.componentDef.outputs,!1)}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=function uu(t){return t.map(bm).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}create(n,e,i,r){const o=F(null);try{let s=(r=r||this.ngModule)instanceof yo?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const c=s?new La(n,s):n,h=c.get(kh,null);if(null===h)throw new Se(407,!1);const g=c.get(K2,null),A={rendererFactory:h,sanitizer:g,inlineEffectRunner:null,afterRenderEventManager:c.get(Oh,null),changeDetectionScheduler:c.get(sc,null)},O=h.createRenderer(null,this.componentDef),j=this.componentDef.selectors[0][0]||"div",ne=i?function mN(t,n,e,i){const o=i.get(JS,!1)||e===Ar.ShadowDom,s=t.selectRootElement(n,o);return function _N(t){Hb(t)}(s),s}(O,i,this.componentDef.encapsulation,c):mh(O,j,function rF(t){const n=t.toLowerCase();return"svg"===n?TE:"math"===n?"math":null}(j));let he=512;this.componentDef.signals?he|=4096:this.componentDef.onPush||(he|=16);let Ce=null;null!==ne&&(Ce=g_(ne,c,!0));const ye=z_(0,null,null,1,0,null,null,null,null,null,null),Qe=Eh(null,ye,null,he,null,null,A,O,c,null,Ce);let dt,$t;$m(Qe);try{const sn=this.componentDef;let Sn,hi=null;sn.findHostDirectiveDefs?(Sn=[],hi=new Map,sn.findHostDirectiveDefs(sn,Sn,hi),Sn.push(sn)):Sn=[sn];const ss=function sF(t,n){const e=t[Ue],i=ft;return t[i]=n,ja(e,i,2,"#host",null)}(Qe,ne),pa=function aF(t,n,e,i,r,o,s){const c=r[Ue];!function lF(t,n,e,i){for(const r of t)n.mergedAttrs=Zs(n.mergedAttrs,r.hostAttrs);null!==n.mergedAttrs&&(Fh(n,n.mergedAttrs,!0),null!==e&&Bb(i,e,n))}(i,t,n,s);let h=null;null!==n&&(h=g_(n,r[mi]));const g=o.rendererFactory.createRenderer(n,e);let y=16;e.signals?y=4096:e.onPush&&(y=64);const C=Eh(r,jb(e),null,y,r[t.index],t,o,g,null,null,h);return c.firstCreatePass&&H_(c,t,i.length-1),Sh(r,C),r[t.index]=C}(ss,ne,sn,Sn,Qe,A,O);$t=_u(ye,ft),ne&&function uF(t,n,e,i){if(i)lu(t,e,["ng-version","18.1.3"]);else{const{attrs:r,classes:o}=function d(t){const n=[],e=[];let i=1,r=2;for(;i<t.length;){let o=t[i];if("string"==typeof o)2===r?""!==o&&n.push(o,t[++i]):8===r&&e.push(o);else{if(!kr(r))break;r=o}i++}return{attrs:n,classes:e}}(n.selectors[0]);r&&lu(t,e,r),o&&o.length>0&&Lb(t,e,o.join(" "))}}(O,sn,ne,i),void 0!==e&&function dF(t,n,e){const i=t.projection=[];for(let r=0;r<n.length;r++){const o=e[r];i.push(null!=o?Array.from(o):null)}}($t,this.ngContentSelectors,e),dt=function cF(t,n,e,i,r,o){const s=In(),c=r[Ue],h=or(s,r);Gb(c,r,s,e,null,i);for(let y=0;y<e.length;y++)Yi(Ba(r,c,s.directiveStart+y,s),r);Yb(c,r,s),h&&Yi(h,r);const g=Ba(r,c,s.directiveStart+s.componentOffset,s);if(t[Vn]=r[Vn]=g,null!==o)for(const y of o)y(g,n);return B_(c,s,r),g}(pa,sn,Sn,hi,Qe,[fF]),Y_(ye,Qe,null)}finally{Wm()}return new oF(this.componentType,dt,Zl($t,Qe),Qe,$t)}finally{F(o)}}}class oF extends G2{constructor(n,e,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new Vu(r,void 0,!1),this.componentType=n}setInput(n,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;const o=this._rootLView;G_(o[Ue],o,r,n,e),this.previousInputValues.set(n,e),Bu(Fr(this._tNode.index,o),1)}}get injector(){return new xi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function fF(){const t=In();Hf(be()[Ue],t)}let Co=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=hF}return t})();function hF(){return UC(In(),be())}const pF=Co,BC=class extends pF{constructor(n,e,i){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=i}get element(){return Zl(this._hostTNode,this._hostLView)}get injector(){return new xi(this._hostTNode,this._hostLView)}get parentInjector(){const n=Zf(this._hostTNode,this._hostLView);if(qm(n)){const e=bu(n,this._hostLView),i=Su(n);return new xi(e[Ue].data[i+8],e)}return new xi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const e=VC(this._lContainer);return null!==e&&e[n]||null}get length(){return this._lContainer.length-ai}createEmbeddedView(n,e,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const s=Wa(this._lContainer,n.ssrId),c=n.createEmbeddedViewImpl(e||{},o,s);return this.insertImpl(c,r,Ha(this._hostTNode,s)),c}createComponent(n,e,i,r,o){const s=n&&!function fu(t){return"function"==typeof t}(n);let c;if(s)c=e;else{const j=e||{};c=j.index,i=j.injector,r=j.projectableNodes,o=j.environmentInjector||j.ngModuleRef}const h=s?n:new Ku(x(n)),g=i||this.parentInjector;if(!o&&null==h.ngModule){const ne=(s?g:this.parentInjector).get(yo,null);ne&&(o=ne)}const y=x(h.componentType??{}),C=Wa(this._lContainer,y?.id??null),O=h.create(g,r,C?.firstChild??null,o);return this.insertImpl(O.hostView,c,Ha(this._hostTNode,C)),O}insert(n,e){return this.insertImpl(n,e,!0)}insertImpl(n,e,i){const r=n._lView;if(function FA(t){return Wi(t[gi])}(r)){const c=this.indexOf(n);if(-1!==c)this.detach(c);else{const h=r[gi],g=new BC(h,h[Vi],h[gi]);g.detach(g.indexOf(n))}}const o=this._adjustIndex(e),s=this._lContainer;return rc(s,r,o,i),n.attachToViewContainerRef(),Bi(cy(s),o,n),n}move(n,e){return this.insert(n,e)}indexOf(n){const e=VC(this._lContainer);return null!==e?e.indexOf(n):-1}remove(n){const e=this._adjustIndex(n,-1),i=Nu(this._lContainer,e);i&&(Ws(cy(this._lContainer),e),_h(i[Ue],i))}detach(n){const e=this._adjustIndex(n,-1),i=Nu(this._lContainer,e);return i&&null!=Ws(cy(this._lContainer),e)?new Vu(i):null}_adjustIndex(n,e=0){return n??this.length+e}};function VC(t){return t[8]}function cy(t){return t[8]||(t[8]=[])}function UC(t,n){let e;const i=n[t.index];return Wi(i)?e=i:(e=Zb(i,n,null,t),n[t.index]=e,Sh(n,e)),zC(e,n,t,i),new BC(e,t,n)}let zC=function HC(t,n,e,i){if(t[Go])return;let r;r=8&e.type?an(i):function gF(t,n){const e=t[Ft],i=e.createComment(""),r=or(n,t);return Ua(e,yh(e,r),i,function lN(t,n){return t.nextSibling(n)}(e,r),!1),i}(n,e),t[Go]=r},uy=()=>!1;class dy{constructor(n){this.queryList=n,this.matches=null}clone(){return new dy(this.queryList)}setDirty(){this.queryList.setDirty()}}class fy{constructor(n=[]){this.queries=n}createEmbeddedView(n){const e=n.queries;if(null!==e){const i=null!==n.contentQueries?n.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){const s=e.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new fy(r)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)null!==_y(n,e).matches&&this.queries[e].setDirty()}}class $C{constructor(n,e,i=null){this.flags=e,this.read=i,this.predicate="string"==typeof n?function bF(t){return t.split(",").map(n=>n.trim())}(n):n}}class hy{constructor(n=[]){this.queries=n}elementStart(n,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,o=this.getByIndex(i).embeddedTView(n,r);o&&(o.indexInDeclarationView=i,null!==e?e.push(o):e=[o])}return null!==e?new hy(e):null}template(n,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class py{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new py(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const e=this._declarationNodeIndex;let i=n.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(n,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(n,e,vF(e,o)),this.matchTNodeWithReadOption(n,e,qf(e,n,o,!1,!1))}else i===bs?4&e.type&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,qf(e,n,i,!1,!1))}matchTNodeWithReadOption(n,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===li||r===Co||r===bs&&4&e.type)this.addMatch(e.index,-2);else{const o=qf(e,n,r,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(n,e){null===this.matches?this.matches=[n,e]:this.matches.push(n,e)}}function vF(t,n){const e=t.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===n)return e[i+1];return null}function EF(t,n,e,i){return-1===e?function wF(t,n){return 11&t.type?Zl(t,n):4&t.type?Ih(t,n):null}(n,t):-2===e?function SF(t,n,e){return e===li?Zl(n,t):e===bs?Ih(n,t):e===Co?UC(n,t):void 0}(t,n,i):Ba(t,t[Ue],e,n)}function WC(t,n,e,i){const r=n[_s].queries[i];if(null===r.matches){const o=t.data,s=e.matches,c=[];for(let h=0;null!==s&&h<s.length;h+=2){const g=s[h];c.push(g<0?null:EF(n,o[g],s[h+1],e.metadata.read))}r.matches=c}return r.matches}function gy(t,n,e,i){const r=t.queries.getByIndex(e),o=r.matches;if(null!==o){const s=WC(t,n,r,e);for(let c=0;c<o.length;c+=2){const h=o[c];if(h>0)i.push(s[c/2]);else{const g=o[c+1],y=n[-h];for(let C=ai;C<y.length;C++){const A=y[C];A[ka]===A[gi]&&gy(A[Ue],A,g,i)}if(null!==y[Hl]){const C=y[Hl];for(let A=0;A<C.length;A++){const O=C[A];gy(O[Ue],O,g,i)}}}}}return i}function YC(t,n,e){const i=Zt();return i.firstCreatePass&&(function qC(t,n,e){null===t.queries&&(t.queries=new hy),t.queries.track(new py(n,e))}(i,new $C(t,n,e),-1),!(2&~n)&&(i.staticViewQueries=!0)),function GC(t,n,e){const i=new o_(!(4&~e));return function wN(t,n,e,i){const r=Kb(n);r.push(e),t.firstCreatePass&&Qb(t).push(i,r.length-1)}(t,n,i,i.destroy),(n[_s]??=new fy).queries.push(new dy(i))-1}(i,be(),n)}function _y(t,n){return t.queries.getByIndex(n)}function KC(t,n){const e=t[Ue],i=_y(e,n);return i.crossesNgTemplate?gy(e,t,n,[]):WC(e,t,i,n)}function ac(t,n){ar("NgSignals");const e=function vt(t){const n=Object.create(K);n.value=t;const e=()=>($(n),n.value);return e[V]=n,e}(t),i=e[V];return n?.equal&&(i.equal=n.equal),e.set=r=>yn(i,r),e.update=r=>function tn(t,n){oe()||Ae(),yn(t,n(t.value))}(i,r),e.asReadonly=XC.bind(e),e}function XC(){const t=this[V];if(void 0===t.readonlyFn){const n=()=>this();n[V]=t,t.readonlyFn=n}return t.readonlyFn}function JC(t){return function QC(t){return"function"==typeof t&&void 0!==t[V]}(t)&&"function"==typeof t.set}function En(t){let n=function u1(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0;const i=[t];for(;n;){let r;if(wo(t))r=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Se(903,!1);r=n.\u0275dir}if(r){if(e){i.push(r);const s=t;s.inputs=Lh(t.inputs),s.inputTransforms=Lh(t.inputTransforms),s.declaredInputs=Lh(t.declaredInputs),s.outputs=Lh(t.outputs);const c=r.hostBindings;c&&BF(t,c);const h=r.viewQuery,g=r.contentQueries;if(h&&RF(t,h),g&&LF(t,g),NF(t,r),$r(t.outputs,r.outputs),wo(r)&&r.data.animation){const y=t.data;y.animation=(y.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const c=o[s];c&&c.ngInherit&&c(t),c===En&&(e=!1)}}n=Object.getPrototypeOf(n)}!function FF(t){let n=0,e=null;for(let i=t.length-1;i>=0;i--){const r=t[i];r.hostVars=n+=r.hostVars,r.hostAttrs=Zs(r.hostAttrs,e=Zs(e,r.hostAttrs))}}(i)}function NF(t,n){for(const e in n.inputs){if(!n.inputs.hasOwnProperty(e)||t.inputs.hasOwnProperty(e))continue;const i=n.inputs[e];if(void 0!==i&&(t.inputs[e]=i,t.declaredInputs[e]=n.declaredInputs[e],null!==n.inputTransforms)){const r=Array.isArray(i)?i[0]:i;if(!n.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=n.inputTransforms[r]}}}function Lh(t){return t===Tr?{}:t===bt?[]:t}function RF(t,n){const e=t.viewQuery;t.viewQuery=e?(i,r)=>{n(i,r),e(i,r)}:n}function LF(t,n){const e=t.contentQueries;t.contentQueries=e?(i,r,o)=>{n(i,r,o),e(i,r,o)}:n}function BF(t,n){const e=t.hostBindings;t.hostBindings=e?(i,r)=>{n(i,r),e(i,r)}:n}class Ya{}class WF{}class vy extends Ya{constructor(n,e,i){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new RC(this);const r=function we(t,n){const e=t[Sa]||null;if(!e&&!0===n)throw new Error(`Type ${ri(t)} does not have '\u0275mod' property.`);return e}(n);this._bootstrapComponents=function Lr(t){return t instanceof Function?t():t}(r.bootstrap),this._r3Injector=pS(n,e,[{provide:Ya,useValue:this},{provide:Ah,useValue:this.componentFactoryResolver},...i],ri(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class wy extends WF{constructor(n){super(),this.moduleType=n}create(n){return new vy(this.moduleType,n,[])}}class p1 extends Ya{constructor(n){super(),this.componentFactoryResolver=new RC(this),this.instance=null;const e=new Rl([...n.providers,{provide:Ya,useValue:this},{provide:Ah,useValue:this.componentFactoryResolver}],n.parent||kf(),n.debugName,new Set(["environment"]));this.injector=e,n.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function Bh(t){return!!Ey(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Ey(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Xo(t,n,e){return t[n]=e}function Xu(t,n){return t[n]}function ci(t,n,e){return!Object.is(t[n],e)&&(t[n]=e,!0)}function Za(t,n,e,i){const r=ci(t,n,e);return ci(t,n+1,i)||r}function Kr(t,n,e,i,r,o){const s=Za(t,n,e,i);return Za(t,n+2,r,o)||s}function Ju(t,n,e,i,r,o,s,c,h,g){const y=e+ft,C=n.firstCreatePass?function XF(t,n,e,i,r,o,s,c,h){const g=n.consts,y=ja(n,t,4,s||null,c||null);j_(n,e,y,Yr(g,h)),Hf(n,y);const C=y.tView=z_(2,y,i,r,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,g,null);return null!==n.queries&&(n.queries.template(n,y),C.queries=n.queries.embeddedTView(y)),y}(y,n,t,i,r,o,s,c,h):n.data[y];Eo(C,!1);const A=m1(n,t,C,e);wu()&&vh(n,t,A,C),Yi(A,t);const O=Zb(A,t,A,C);return t[y]=O,Sh(t,O),function jC(t,n,e){return uy(t,n,e)}(O,C,t),Bf(C)&&V_(n,t,C),null!=h&&U_(t,C,g),C}function Le(t,n,e,i,r,o,s,c){const h=be(),g=Zt();return Ju(h,g,t,n,e,i,r,Yr(g.consts,o),s,c),Le}let m1=function _1(t,n,e,i){return Zo(!0),n[Ft].createComment("")};function _c(t,n,e,i){return ci(t,So(),e)?n+Nt(e)+i:Ut}function yc(t,n,e,i,r,o){const c=Za(t,vs(),e,r);return ws(2),c?n+Nt(e)+i+Nt(r)+o:Ut}function vc(t,n,e,i,r,o,s,c){const g=function Vh(t,n,e,i,r){const o=Za(t,n,e,i);return ci(t,n+2,r)||o}(t,vs(),e,r,s);return ws(3),g?n+Nt(e)+i+Nt(r)+o+Nt(s)+c:Ut}function Wh(t,n){return t<<17|n<<2}function ea(t){return t>>17&32767}function ky(t){return 2|t}function Ka(t){return(131068&t)>>2}function Oy(t,n){return-131069&t|n<<2}function Ny(t){return 1|t}function Z1(t,n,e,i){const r=t[e+1],o=null===n;let s=i?ea(r):Ka(r),c=!1;for(;0!==s&&(!1===c||o);){const g=t[s+1];LR(t[s],n)&&(c=!0,t[s+1]=i?Ny(g):ky(g)),s=i?ea(g):Ka(g)}c&&(t[e+1]=i?ky(r):Ny(r))}function LR(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Gs(t,n)>=0}const Mi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function q1(t){return t.substring(Mi.key,Mi.keyEnd)}function BR(t){return t.substring(Mi.value,Mi.valueEnd)}function Q1(t,n){const e=Mi.textEnd;let i=Mi.key=Ic(t,n,e);return e===i?-1:(i=Mi.keyEnd=function jR(t,n,e){let i;for(;n<e&&(45===(i=t.charCodeAt(n))||95===i||(-33&i)>=65&&(-33&i)<=90||i>=48&&i<=57);)n++;return n}(t,i,e),i=J1(t,i,e),i=Mi.value=Ic(t,i,e),i=Mi.valueEnd=function HR(t,n,e){let i=-1,r=-1,o=-1,s=n,c=s;for(;s<e;){const h=t.charCodeAt(s++);if(59===h)return c;34===h||39===h?c=s=eI(t,h,s,e):n===s-4&&85===o&&82===r&&76===i&&40===h?c=s=eI(t,41,s,e):h>32&&(c=s),o=r,r=i,i=-33&h}return c}(t,i,e),J1(t,i,e))}function Ic(t,n,e){for(;n<e&&t.charCodeAt(n)<=32;)n++;return n}function J1(t,n,e,i){return(n=Ic(t,n,e))<e&&n++,n}function eI(t,n,e,i){let r=-1,o=e;for(;o<i;){const s=t.charCodeAt(o++);if(s==n&&92!==r)return o;r=92==s&&92===r?0:s}throw new Error}function H(t,n,e){const i=be();return ci(i,So(),n)&&Sr(Zt(),Un(),i,t,n,i[Ft],e,!1),H}function Fy(t,n,e,i,r){const s=r?"class":"style";G_(t,e,n.inputs[s],s,i)}function ni(t,n){return function Io(t,n,e,i){const r=be(),o=Zt(),s=ws(2);o.firstUpdatePass&&iI(o,t,s,i),n!==Ut&&ci(r,s,n)&&oI(o,o.data[Ui()],r,r[Ft],t,r[s+1]=function JR(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=ri(Rr(t)))),t}(n,e),i,s)}(t,n,null,!0),ni}function St(t){!function xo(t,n,e,i){const r=Zt(),o=ws(2);r.firstUpdatePass&&iI(r,null,o,i);const s=be();if(e!==Ut&&ci(s,o,e)){const c=r.data[Ui()];if(aI(c,i)&&!nI(r,o)){let h=i?c.classesWithoutHost:c.stylesWithoutHost;null!==h&&(e=Ls(h,e||"")),Fy(r,c,s,e,i)}else!function XR(t,n,e,i,r,o,s,c){r===Ut&&(r=bt);let h=0,g=0,y=0<r.length?r[0]:null,C=0<o.length?o[0]:null;for(;null!==y||null!==C;){const A=h<r.length?r[h+1]:void 0,O=g<o.length?o[g+1]:void 0;let ne,j=null;y===C?(h+=2,g+=2,A!==O&&(j=C,ne=O)):null===C||null!==y&&y<C?(h+=2,j=y):(g+=2,j=C,ne=O),null!==j&&oI(t,n,e,i,j,ne,s,c),y=h<r.length?r[h]:null,C=g<o.length?o[g]:null}}(r,c,s,s[Ft],s[o+1],s[o+1]=function KR(t,n,e){if(null==e||""===e)return bt;const i=[],r=Rr(e);if(Array.isArray(r))for(let o=0;o<r.length;o++)t(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&t(i,o,r[o]);else"string"==typeof r&&n(i,r);return i}(t,n,e),i,o)}}(rI,$R,t,!1)}function $R(t,n){for(let e=function UR(t){return function X1(t){Mi.key=0,Mi.keyEnd=0,Mi.value=0,Mi.valueEnd=0,Mi.textEnd=t.length}(t),Q1(t,Ic(t,0,Mi.textEnd))}(n);e>=0;e=Q1(n,e))rI(t,q1(n),BR(n))}function nI(t,n){return n>=t.expandoStartIndex}function iI(t,n,e,i){const r=t.data;if(null===r[e+1]){const o=r[Ui()],s=nI(t,e);aI(o,i)&&null===n&&!s&&(n=!1),n=function GR(t,n,e,i){const r=function jm(t){const n=Rt.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let o=i?n.residualClasses:n.residualStyles;if(null===r)0===(i?n.classBindings:n.styleBindings)&&(e=id(e=Ry(null,t,n,e,i),n.attrs,i),o=null);else{const s=n.directiveStylingLast;if(-1===s||t[s]!==r)if(e=Ry(r,t,n,e,i),null===o){let h=function YR(t,n,e){const i=e?n.classBindings:n.styleBindings;if(0!==Ka(i))return t[ea(i)]}(t,n,i);void 0!==h&&Array.isArray(h)&&(h=Ry(null,t,n,h[1],i),h=id(h,n.attrs,i),function ZR(t,n,e,i){t[ea(e?n.classBindings:n.styleBindings)]=i}(t,n,i,h))}else o=function qR(t,n,e){let i;const r=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<r;o++)i=id(i,t[o].hostAttrs,e);return id(i,n.attrs,e)}(t,n,i)}return void 0!==o&&(i?n.residualClasses=o:n.residualStyles=o),e}(r,o,n,i),function FR(t,n,e,i,r,o){let s=o?n.classBindings:n.styleBindings,c=ea(s),h=Ka(s);t[i]=e;let y,g=!1;if(Array.isArray(e)?(y=e[1],(null===y||Gs(e,y)>0)&&(g=!0)):y=e,r)if(0!==h){const A=ea(t[c+1]);t[i+1]=Wh(A,c),0!==A&&(t[A+1]=Oy(t[A+1],i)),t[c+1]=function OR(t,n){return 131071&t|n<<17}(t[c+1],i)}else t[i+1]=Wh(c,0),0!==c&&(t[c+1]=Oy(t[c+1],i)),c=i;else t[i+1]=Wh(h,0),0===c?c=i:t[h+1]=Oy(t[h+1],i),h=i;g&&(t[i+1]=ky(t[i+1])),Z1(t,y,i,!0),Z1(t,y,i,!1),function RR(t,n,e,i,r){const o=r?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof n&&Gs(o,n)>=0&&(e[i+1]=Ny(e[i+1]))}(n,y,t,i,o),s=Wh(c,h),o?n.classBindings=s:n.styleBindings=s}(r,o,n,e,s,i)}}function Ry(t,n,e,i,r){let o=null;const s=e.directiveEnd;let c=e.directiveStylingLast;for(-1===c?c=e.directiveStart:c++;c<s&&(o=n[c],i=id(i,o.hostAttrs,r),o!==t);)c++;return null!==t&&(e.directiveStylingLast=c),i}function id(t,n,e){const i=e?1:2;let r=-1;if(null!==n)for(let o=0;o<n.length;o++){const s=n[o];"number"==typeof s?r=s:r===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),$i(t,s,!!e||n[++o]))}return void 0===t?null:t}function rI(t,n,e){$i(t,n,Rr(e))}function oI(t,n,e,i,r,o,s,c){if(!(3&n.type))return;const h=t.data,g=h[c+1],y=function NR(t){return!(1&~t)}(g)?sI(h,n,e,r,Ka(g),s):void 0;Gh(y)||(Gh(o)||function kR(t){return!(2&~t)}(g)&&(o=sI(h,null,e,r,c,s)),function dN(t,n,e,i,r){if(n)r?t.addClass(e,i):t.removeClass(e,i);else{let o=-1===i.indexOf("-")?void 0:Qs.DashCase;null==r?t.removeStyle(e,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Qs.Important),t.setStyle(e,i,r,o))}}(i,s,mu(Ui(),e),r,o))}function sI(t,n,e,i,r,o){const s=null===n;let c;for(;r>0;){const h=t[r],g=Array.isArray(h),y=g?h[1]:h,C=null===y;let A=e[r+1];A===Ut&&(A=C?bt:void 0);let O=C?su(A,i):y===i?A:void 0;if(g&&!Gh(O)&&(O=su(h,i)),Gh(O)&&(c=O,s))return c;const j=t[r+1];r=s?ea(j):Ka(j)}if(null!==n){let h=o?n.residualClasses:n.residualStyles;null!=h&&(c=su(h,i))}return c}function Gh(t){return void 0!==t}function aI(t,n){return!!(t.flags&(n?8:16))}function I(t,n,e,i){const r=be(),o=Zt(),s=ft+t,c=r[Ft],h=o.firstCreatePass?function SL(t,n,e,i,r,o){const s=n.consts,h=ja(n,t,2,i,Yr(s,r));return j_(n,e,h,Yr(s,o)),null!==h.attrs&&Fh(h,h.attrs,!1),null!==h.mergedAttrs&&Fh(h,h.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,h),h}(s,o,r,n,e,i):o.data[s],g=dI(o,r,h,c,n,t);r[s]=g;const y=Bf(h);return Eo(h,!0),Bb(c,g,h),!function cc(t){return!(32&~t.flags)}(h)&&wu()&&vh(o,r,g,h),0===function RA(){return Rt.lFrame.elementDepthCount}()&&Yi(g,r),function LA(){Rt.lFrame.elementDepthCount++}(),y&&(V_(o,r,h),B_(o,h,r)),null!==i&&U_(r,h),I}function P(){let t=In();Vm()?Um():(t=t.parent,Eo(t,!1));const n=t;(function VA(t){return Rt.skipHydrationRootTNode===t})(n)&&function HA(){Rt.skipHydrationRootTNode=null}(),function BA(){Rt.lFrame.elementDepthCount--}();const e=Zt();return e.firstCreatePass&&(Hf(e,t),Pm(t)&&e.queries.elementEnd(t)),null!=n.classesWithoutHost&&function ek(t){return!!(8&t.flags)}(n)&&Fy(e,n,be(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function tk(t){return!!(16&t.flags)}(n)&&Fy(e,n,be(),n.stylesWithoutHost,!1),P}function re(t,n,e,i){return I(t,n,e,i),P(),re}let dI=(t,n,e,i,r,o)=>(Zo(!0),mh(i,r,function ZE(){return Rt.lFrame.currentNamespace}()));function xn(t,n,e){const i=be(),r=Zt(),o=t+ft,s=r.firstCreatePass?function IL(t,n,e,i,r){const o=n.consts,s=Yr(o,i),c=ja(n,t,8,"ng-container",s);return null!==s&&Fh(c,s,!0),j_(n,e,c,Yr(o,r)),null!==n.queries&&n.queries.elementStart(n,c),c}(o,r,i,n,e):r.data[o];Eo(s,!0);const c=fI(r,i,s,t);return i[o]=c,wu()&&vh(r,i,c,s),Yi(c,i),Bf(s)&&(V_(r,i,s),B_(r,s,i)),null!=e&&U_(i,s),xn}function Dn(){let t=In();const n=Zt();return Vm()?Um():(t=t.parent,Eo(t,!1)),n.firstCreatePass&&(Hf(n,t),Pm(t)&&n.queries.elementEnd(t)),Dn}function xc(t,n,e){return xn(t,n,e),Dn(),xc}let fI=(t,n,e,i)=>(Zo(!0),P_(n[Ft],""));function Tt(){return be()}const Mc="en-US";let _I=Mc;let RI=(t,n,e)=>{};function de(t,n,e,i){const r=be(),o=Zt(),s=In();return jy(o,r,r[Ft],s,t,n,i),de}function jy(t,n,e,i,r,o,s){const c=Bf(i),g=t.firstCreatePass&&Qb(t),y=n[Vn],C=Kb(n);let A=!0;if(3&i.type||s){const ne=or(i,n),he=s?s(ne):ne,Ce=C.length,ye=s?dt=>s(an(dt[i.index])):i.index;let Qe=null;if(!s&&c&&(Qe=function _B(t,n,e,i){const r=t.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===e&&r[o+1]===i){const c=n[Vl],h=r[o+2];return c.length>h?c[h]:null}"string"==typeof s&&(o+=2)}return null}(t,n,r,i.index)),null!==Qe)(Qe.__ngLastListenerFn__||Qe).__ngNextListenerFn__=o,Qe.__ngLastListenerFn__=o,A=!1;else{o=UI(i,n,y,o),RI(ne,r,o);const dt=e.listen(he,r,o);C.push(o,dt),g&&g.push(r,ye,Ce,Ce+1)}}else o=UI(i,n,y,o);const O=i.outputs;let j;if(A&&null!==O&&(j=O[r])){const ne=j.length;if(ne)for(let he=0;he<ne;he+=2){const $t=n[j[he]][j[he+1]].subscribe(o),sn=C.length;C.push(o,$t),g&&g.push(r,i.index,sn,-(sn+1))}}}function VI(t,n,e,i){const r=F(null);try{return Yo(6,n,e),!1!==e(i)}catch(o){return bh(t,o),!1}finally{Yo(7,n,e),F(r)}}function UI(t,n,e,i){return function r(o){if(o===Function)return i;Bu(t.componentOffset>-1?Fr(t.index,n):n,5);let c=VI(n,e,i,o),h=r.__ngNextListenerFn__;for(;h;)c=VI(n,e,h,o)&&c,h=h.__ngNextListenerFn__;return c}}function z(t=1){return function ZA(t){return(Rt.lFrame.contextLView=function OE(t,n){for(;t>0;)n=n[Ul],t--;return n}(t,Rt.lFrame.contextLView))[Vn]}(t)}function yB(t,n){let e=null;const i=function Fl(t){const n=t.attrs;if(null!=n){const e=n.indexOf(5);if(!(1&e))return n[e+1]}return null}(t);for(let r=0;r<n.length;r++){const o=n[r];if("*"!==o){if(null===i?Pa(t,o,!0):Tf(i,o))return r}else e=r}return e}function Qh(t){const n=be()[Gn][Vi];if(!n.projection){const i=n.projection=function ir(t,n){const e=[];for(let i=0;i<t;i++)e.push(n);return e}(t?t.length:1,null),r=i.slice();let o=n.child;for(;null!==o;){if(128!==o.type){const s=t?yB(o,t):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o)}o=o.next}}}function Xh(t,n=0,e,i,r,o){const s=be(),c=Zt(),h=i?t+1:null;null!==h&&Ju(s,c,h,i,r,o,null,e);const g=ja(c,ft+t,16,null,e||null);null===g.projection&&(g.projection=n),Um();const C=!s[rr]||Fa();null===s[Gn][Vi].projection[g.projection]&&null!==h?function vB(t,n,e){const i=ft+e,r=n.data[i],o=t[i],s=Wa(o,r.tView.ssrId);rc(o,ic(t,r,void 0,{dehydratedView:s}),0,Ha(r,s))}(s,c,h):C&&32&~g.flags&&function cN(t,n,e){Rb(n[Ft],0,n,e,O_(t,e,n),Pb(e.parent||n[Vi],e,n))}(c,s,g)}function Jh(t,n,e){return lt(t,"",n,"",e),Jh}function lt(t,n,e,i,r){const o=be(),s=_c(o,n,e,i);return s!==Ut&&Sr(Zt(),Un(),o,t,s,o[Ft],r,!1),lt}function Xt(t,n,e,i,r,o,s){const c=be(),h=yc(c,n,e,i,r,o);return h!==Ut&&Sr(Zt(),Un(),c,t,h,c[Ft],s,!1),Xt}function Tc(t,n,e,i,r,o,s,c,h){const g=be(),y=vc(g,n,e,i,r,o,s,c);return y!==Ut&&Sr(Zt(),Un(),g,t,y,g[Ft],h,!1),Tc}function cd(t,n,e,i,r,o,s,c,h,g,y){const C=be(),A=function wc(t,n,e,i,r,o,s,c,h,g){const C=Kr(t,vs(),e,r,s,h);return ws(4),C?n+Nt(e)+i+Nt(r)+o+Nt(s)+c+Nt(h)+g:Ut}(C,n,e,i,r,o,s,c,h,g);return A!==Ut&&Sr(Zt(),Un(),C,t,A,C[Ft],y,!1),cd}function Wt(t,n,e){YC(t,n,e)}function Gt(t){const n=be(),e=Zt(),i=Hm();jf(i+1);const r=_y(e,i);if(t.dirty&&function NA(t){return!(4&~t[Ct])}(n)===!(2&~r.metadata.flags)){if(null===r.matches)t.reset([]);else{const o=KC(n,i);t.reset(o,SS),t.notifyOnChanges()}return!0}return!1}function Yt(){return function my(t,n){return t[_s].queries[n].queryList}(be(),Hm())}function qn(t){return Na(function LE(){return Rt.lFrame.contextLView}(),ft+t)}function se(t,n=""){const e=be(),i=Zt(),r=t+ft,o=i.firstCreatePass?ja(i,r,1,n,null):i.data[r],s=tx(i,e,o,n,t);e[r]=s,wu()&&vh(i,e,s,o),Eo(o,!1)}let tx=(t,n,e,i,r)=>(Zo(!0),function T_(t,n){return t.createText(n)}(n[Ft],i));function ln(t){return qt("",t,""),ln}function qt(t,n,e){const i=be(),r=_c(i,t,n,e);return r!==Ut&&Ss(i,Ui(),r),qt}function ta(t,n,e,i,r){const o=be(),s=yc(o,t,n,e,i,r);return s!==Ut&&Ss(o,Ui(),s),ta}function $y(t,n,e){JC(n)&&(n=n());const i=be();return ci(i,So(),n)&&Sr(Zt(),Un(),i,t,n,i[Ft],e,!1),$y}function Wy(t,n){const e=be(),i=Zt(),r=In();return jy(i,e,e[Ft],r,t,n),Wy}function Gy(t,n,e,i,r){if(t=Mt(t),Array.isArray(t))for(let o=0;o<t.length;o++)Gy(t[o],n,e,i,r);else{const o=Zt(),s=be(),c=In();let h=Aa(t)?t:Mt(t.provide);const g=_E(t),y=1048575&c.providerIndexes,C=c.directiveStart,A=c.providerIndexes>>20;if(Aa(t)||!t.multi){const O=new Eu(g,r,te),j=Zy(h,n,r?y:y+A,C);-1===j?(Xm(Yf(c,s),o,h),Yy(o,t,n.length),n.push(h),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(O),s.push(O)):(e[j]=O,s[j]=O)}else{const O=Zy(h,n,y+A,C),j=Zy(h,n,y,y+A),he=j>=0&&e[j];if(r&&!he||!r&&!(O>=0&&e[O])){Xm(Yf(c,s),o,h);const Ce=function UB(t,n,e,i,r){const o=new Eu(t,e,te);return o.multi=[],o.index=n,o.componentProviders=0,fx(o,r,i&&!e),o}(r?VB:BB,e.length,r,i,g);!r&&he&&(e[j].providerFactory=Ce),Yy(o,t,n.length,0),n.push(h),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(Ce),s.push(Ce)}else Yy(o,t,O>-1?O:j,fx(e[r?j:O],g,!r&&i));!r&&i&&he&&e[j].componentProviders++}}}function Yy(t,n,e,i){const r=Aa(n),o=function lA(t){return!!t.useClass}(n);if(r||o){const h=(o?Mt(n.useClass):n).prototype.ngOnDestroy;if(h){const g=t.destroyHooks||(t.destroyHooks=[]);if(!r&&n.multi){const y=g.indexOf(e);-1===y?g.push(e,[i,h]):g[y+1].push(i,h)}else g.push(e,h)}}}function fx(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function Zy(t,n,e,i){for(let r=e;r<i;r++)if(n[r]===t)return r;return-1}function BB(t,n,e,i){return qy(this.multi,[])}function VB(t,n,e,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,c=Ba(e,e[Ue],this.providerFactory.index,i);o=c.slice(0,s),qy(r,o);for(let h=s;h<c.length;h++)o.push(c[h])}else o=[],qy(r,o);return o}function qy(t,n){for(let e=0;e<t.length;e++)n.push((0,t[e])());return n}function $n(t,n=[]){return e=>{e.providersResolver=(i,r)=>function LB(t,n,e){const i=Zt();if(i.firstCreatePass){const r=wo(t);Gy(e,i.data,i.blueprint,r,!0),Gy(n,i.data,i.blueprint,r,!1)}}(i,r?r(t):t,n)}}let zB=(()=>{class t{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const i=yr(0,e.type),r=i.length>0?function g1(t,n,e=null){return new p1({providers:t,parent:n,debugName:e,runEnvironmentInitializers:!0}).injector}([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=mt({token:t,providedIn:"environment",factory:()=>new t(Vt(yo))})}return t})();function hx(t){ar("NgStandalone"),t.getStandaloneInjector=n=>n.get(zB).getOrCreateStandaloneInjector(t)}function Xa(t,n,e){const i=sr()+t,r=be();return r[i]===Ut?Xo(r,i,e?n.call(e):n()):Xu(r,i)}function np(t,n,e,i,r){return function vx(t,n,e,i,r,o,s){const c=n+e;return Za(t,c,r,o)?Xo(t,c+2,s?i.call(s,r,o):i(r,o)):ud(t,c+2)}(be(),sr(),t,n,e,i,r)}function _x(t,n,e,i,r,o,s){return function Ex(t,n,e,i,r,o,s,c,h){const g=n+e;return Kr(t,g,r,o,s,c)?Xo(t,g+4,h?i.call(h,r,o,s,c):i(r,o,s,c)):ud(t,g+4)}(be(),sr(),t,n,e,i,r,o,s)}function Ky(t,n,e,i,r,o,s,c){const h=sr()+t,g=be(),y=Kr(g,h,e,i,r,o);return ci(g,h+4,s)||y?Xo(g,h+5,c?n.call(c,e,i,r,o,s):n(e,i,r,o,s)):Xu(g,h+5)}function ud(t,n){const e=t[n];return e===Ut?void 0:e}function yx(t,n,e,i,r,o){const s=n+e;return ci(t,s,r)?Xo(t,s+1,o?i.call(o,r):i(r)):ud(t,s+1)}function pn(t,n){const e=Zt();let i;const r=t+ft;e.firstCreatePass?(i=function KB(t,n){if(n)for(let e=n.length-1;e>=0;e--){const i=n[e];if(t===i.name)return i}}(n,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks??=[]).push(r,i.onDestroy)):i=e.data[r];const o=i.factory||(i.factory=Pi(i.type)),c=Si(te);try{const h=Gf(!1),g=o();return Gf(h),function Hy(t,n,e,i){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=i}(e,be(),r,g),g}finally{Si(c)}}function gn(t,n,e){const i=t+ft,r=be(),o=Na(r,i);return function dd(t,n){return t[Ue].data[n].pure}(r,i)?yx(r,sr(),n,o.transform,e,o):o.transform(e)}function ki(t,n){return Ih(t,n)}const jx=new at(""),sp=new at("");let rv,nv=(()=>{class t{constructor(e,i,r){this._ngZone=e,this.registry=i,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,rv||(function Z3(t){rv=t}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{hn.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb()}});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e()},i)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||t)(Vt(hn),Vt(iv),Vt(sp))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac})}return t})(),iv=(()=>{class t{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return rv?.findTestabilityInTree(this,e,i)??null}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function ap(t){return!!t&&"function"==typeof t.then}function Hx(t){return!!t&&"function"==typeof t.subscribe}const q3=new at("");let ov=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i}),this.appInits=ot(q3,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const r of this.appInits){const o=r();if(ap(o))e.push(o);else if(Hx(o)){const s=new Promise((c,h)=>{o.subscribe({complete:c,error:h})});e.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const sv=new at("");function Gx(t,n){return Array.isArray(n)?n.reduce(Gx,t):{...t,...n}}let es=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ot(Mk),this.afterRenderEffectManager=ot(Oh),this.zonelessEnabled=ot(Yu),this.externalTestViews=new Set,this.beforeRender=new Pe,this.afterTick=new Pe,this.componentTypes=[],this.components=[],this.isStable=ot(Yl).hasPendingTasks.pipe(Hn(e=>!e)),this._injector=ot(yo)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){const r=e instanceof TC;if(!this._injector.get(ov).done)throw!r&&function ue(t){const n=x(t)||N(t)||J(t);return null!==n&&n.standalone}(e),new Se(405,!1);let s;s=r?e:this._injector.get(Ah).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const c=function K3(t){return t.isBoundToModule}(s)?void 0:this._injector.get(Ya),g=s.create(Di.NULL,[],i||s.selector,c),y=g.location.nativeElement,C=g.injector.get(jx,null);return C?.registerApplication(y),g.onDestroy(()=>{this.detachView(g.hostView),lp(this.components,g),C?.unregisterApplication(y)}),this._loadComponent(g),g}tick(){this._tick(!0)}_tick(e){if(this._runningTick)throw new Se(101,!1);const i=F(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(e)}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,F(i),this.afterTick.next()}}detectChangesInAttachedViews(e){let i=null;this._injector.destroyed||(i=this._injector.get(kh,null,{optional:!0}));let r=0;const o=this.afterRenderEffectManager;for(;r<10;){const s=0===r;if(e||!s){this.beforeRender.next(s);for(let{_lView:c,notifyErrorHandler:h}of this._views)X3(c,h,s,this.zonelessEnabled)}else i?.begin?.(),i?.end?.();if(r++,o.executeInternalCallbacks(),!this.allViews.some(({_lView:c})=>yu(c))&&(o.execute(),!this.allViews.some(({_lView:c})=>yu(c))))break}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;lp(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const i=this._injector.get(sv,[]);[...this._bootstrapListeners,...i].forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>lp(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new Se(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function lp(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function X3(t,n,e,i){(e||yu(t))&&Ch(t,n,e&&!i?0:1)}let n5=(()=>{class t{constructor(){this.zone=ot(hn),this.changeDetectionScheduler=ot(sc),this.applicationRef=ot(es)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function av({ngZoneFactory:t,ignoreChangesOutsideZone:n}){return t??=()=>new hn(lv()),[{provide:hn,useFactory:t},{provide:Pr,multi:!0,useFactory:()=>{const e=ot(n5,{optional:!0});return()=>e.initialize()}},{provide:Pr,multi:!0,useFactory:()=>{const e=ot(r5);return()=>{e.initialize()}}},!0===n?{provide:MC,useValue:!0}:[]]}function lv(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}let r5=(()=>{class t{constructor(){this.subscription=new U,this.initialized=!1,this.zone=ot(hn),this.pendingTasks=ot(Yl)}initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{hn.assertNotInAngularZone(),queueMicrotask(()=>{null!==e&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{hn.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),pd=(()=>{class t{constructor(){this.appRef=ot(es),this.taskService=ot(Yl),this.ngZone=ot(hn),this.zonelessEnabled=ot(Yu),this.disableScheduling=ot(MC,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new U,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof r_||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&5===e)return;switch(e){case 3:case 2:case 0:case 4:case 5:case 1:this.shouldRefreshViews=!0}if(!this.shouldScheduleTick())return;const i=this.useMicrotaskScheduler?_S:mS;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&hn.isInAngularZone())}tick(e){if(this.runningTick||this.appRef.destroyed)return;const i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(e)},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(i),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,_S(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Is=new at("",{providedIn:"root",factory:()=>ot(Is,Kt.Optional|Kt.SkipSelf)||function o5(){return typeof $localize<"u"&&$localize.locale||Mc}()}),uv=new at("");let Qx=(()=>{class t{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=function Dk(t="zone.js",n){return"noop"===t?new r_:"zone.js"===t?new hn(n):t}(i?.ngZone,lv({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=i?.ignoreChangesOutsideZone,s=function YF(t,n,e){return new vy(t,n,e)}(e.moduleType,this.injector,[...av({ngZoneFactory:()=>r,ignoreChangesOutsideZone:o}),{provide:sc,useExisting:pd}]),c=s.injector.get(bo,null);return r.runOutsideAngular(()=>{const h=r.onError.subscribe({next:g=>{c.handleError(g)}});s.onDestroy(()=>{lp(this._modules,s),h.unsubscribe()})}),function Wx(t,n,e){try{const i=e();return ap(i)?i.catch(r=>{throw n.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw n.runOutsideAngular(()=>t.handleError(i)),i}}(c,r,()=>{const h=s.injector.get(ov);return h.runInitializers(),h.donePromise.then(()=>(function yI(t){"string"==typeof t&&(_I=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Is,Mc)||Mc),this._moduleDoBootstrap(s),s))})})}bootstrapModule(e,i=[]){const r=Gx({},i);return function t5(t,n,e){const i=new wy(e);return Promise.resolve(i)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(e){const i=e.injector.get(es);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new Se(-403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Se(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(uv,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||t)(Vt(Di))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),na=null;const Xx=new at("");function Jx(t,n,e=[]){const i=`Platform: ${n}`,r=new at(i);return(o=[])=>{let s=dv();if(!s||s.injector.get(Xx,!1)){const c=[...e,...o,{provide:r,useValue:!0}];t?t(c):function l5(t){if(na&&!na.get(Xx,!1))throw new Se(400,!1);(function $x(){!function Xe(t){pe=t}(()=>{throw new Se(600,!1)})})(),na=t;const n=t.get(Qx);(function tD(t){t.get(jS,null)?.forEach(e=>e())})(t)}(function eD(t=[],n){return Di.create({name:n,providers:[{provide:Cm,useValue:"platform"},{provide:uv,useValue:new Set([()=>na=null])},...t]})}(c,i))}return function c5(t){const n=dv();if(!n)throw new Se(401,!1);return n}()}}function dv(){return na?.get(Qx)??null}let kc=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=d5}return t})();function d5(t){return function f5(t,n,e){if(Oa(t)&&!e){const i=Fr(t.index,n);return new Vu(i,i)}return 175&t.type?new Vu(n[Gn],n):null}(In(),be(),!(16&~t))}class sD{constructor(){}supports(n){return Bh(n)}create(n){return new _5(n)}}const m5=(t,n)=>n;class _5{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||m5}forEachItem(n){let e;for(e=this._itHead;null!==e;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,i=this._removalsHead,r=0,o=null;for(;e||i;){const s=!i||e&&e.currentIndex<lD(i,r,o)?e:i,c=lD(s,r,o),h=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{o||(o=[]);const g=c-r,y=h-r;if(g!=y){for(let A=0;A<g;A++){const O=A<o.length?o[A]:o[A]=0,j=O+A;y<=j&&j<g&&(o[A]=O+1)}o[s.previousIndex]=y-g}}c!==h&&n(s,c,h)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)n(e)}diff(n){if(null==n&&(n=[]),!Bh(n))throw new Se(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r,o,s,e=this._itHead,i=!1;if(Array.isArray(n)){this.length=n.length;for(let c=0;c<this.length;c++)o=n[c],s=this._trackByFn(c,o),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,o,s,c)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,s,c),i=!0),e=e._next}else r=0,function KF(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{const e=t[Symbol.iterator]();let i;for(;!(i=e.next()).done;)n(i.value)}}(n,c=>{s=this._trackByFn(r,c),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,c,s,r)),Object.is(e.item,c)||this._addIdentityChange(e,c)):(e=this._mismatch(e,c,s,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,i,r){let o;return null===n?o=this._itTail:(o=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,o,r)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,o,r)):n=this._addAfter(new y5(e,i),o,r),n}_verifyReinsertion(n,e,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?n=this._reinsertAfter(o,n._prev,r):n.currentIndex!=r&&(n.currentIndex=r,this._addToMoves(n,r)),n}_truncate(n){for(;null!==n;){const e=n._next;this._addToRemovals(this._unlink(n)),n=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const r=n._prevRemoved,o=n._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(n,e,i),this._addToMoves(n,i),n}_moveAfter(n,e,i){return this._unlink(n),this._insertAfter(n,e,i),this._addToMoves(n,i),n}_addAfter(n,e,i){return this._insertAfter(n,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,e,i){const r=null===e?this._itHead:e._next;return n._next=r,n._prev=e,null===r?this._itTail=n:r._prev=n,null===e?this._itHead=n:e._next=n,null===this._linkedRecords&&(this._linkedRecords=new aD),this._linkedRecords.put(n),n.currentIndex=i,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const e=n._prev,i=n._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new aD),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class y5{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class v5{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,n))return i;return null}remove(n){const e=n._prevDup,i=n._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class aD{constructor(){this.map=new Map}put(n){const e=n.trackById;let i=this.map.get(e);i||(i=new v5,this.map.set(e,i)),i.add(n)}get(n,e){const r=this.map.get(n);return r?r.get(n,e):null}remove(n){const e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function lD(t,n,e){const i=t.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+n+r}class cD{constructor(){}supports(n){return n instanceof Map||Ey(n)}create(){return new w5}}class w5{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let e;for(e=this._mapHead;null!==e;e=e._next)n(e)}forEachPreviousItem(n){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)n(e)}forEachChangedItem(n){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}diff(n){if(n){if(!(n instanceof Map||Ey(n)))throw new Se(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(n,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,e){if(n){const i=n._prev;return e._next=n,e._prev=i,n._prev=e,i&&(i._next=e),n===this._mapHead&&(this._mapHead=e),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(n,e){if(this._records.has(n)){const r=this._records.get(n);this._maybeAddToChanges(r,e);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new E5(n);return this._records.set(n,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,e){Object.is(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,e){n instanceof Map?n.forEach(e):Object.keys(n).forEach(i=>e(n[i],i))}}class E5{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function uD(){return new mv([new sD])}let mv=(()=>{class t{static#e=this.\u0275prov=mt({token:t,providedIn:"root",factory:uD});constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new t(e)}static extend(e){return{provide:t,useFactory:i=>t.create(e,i||uD()),deps:[[t,new Pl,new Ia]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new Se(901,!1)}}return t})();function dD(){return new fp([new cD])}let fp=(()=>{class t{static#e=this.\u0275prov=mt({token:t,providedIn:"root",factory:dD});constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new t(e)}static extend(e){return{provide:t,useFactory:i=>t.create(e,i||dD()),deps:[[t,new Pl,new Ia]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new Se(901,!1)}}return t})();const C5=Jx(null,"core",[]);let I5=(()=>{class t{constructor(e){}static#e=this.\u0275fac=function(i){return new(i||t)(Vt(es))};static#t=this.\u0275mod=f({type:t});static#n=this.\u0275inj=tr({})}return t})();const MD=new at("");function yd(t,n){ar("NgSignals");const e=function ke(t){const n=Object.create(Ot);n.computation=t;const e=()=>{if(L(n),$(n),n.value===Ge)throw n.error;return n.value};return e[V]=n,e}(t);return n?.equal&&(e[V].equal=n.equal),e}function ts(t){const n=F(null);try{return t()}finally{F(n)}}let BD=null;function vd(){return BD}class hV{}const ns=new at(""),Pv=/\s+/,YD=[];let Ed=(()=>{class t{constructor(e,i){this._ngEl=e,this._renderer=i,this.initialClasses=YD,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(Pv):YD}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(Pv):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(Pv).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||t)(te(li),te(qr))};static#t=this.\u0275dir=_({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}return t})();class t4{constructor(n,e,i,r){this.$implicit=n,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Mo=(()=>{class t{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new t4(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const c=i.get(o);i.move(c,s),qD(c,r)}});for(let r=0,o=i.length;r<o;r++){const c=i.get(r).context;c.index=r,c.count=o,c.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{qD(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||t)(te(Co),te(bs),te(mv))};static#t=this.\u0275dir=_({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function qD(t,n){t.context.$implicit=n.item}let is=(()=>{class t{constructor(e,i){this._viewContainer=e,this._context=new n4,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){KD("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){KD("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||t)(te(Co),te(bs))};static#t=this.\u0275dir=_({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class n4{constructor(){this.$implicit=null,this.ngIf=null}}function KD(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${ri(n)}'.`)}let Pp=(()=>{class t{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,o]=e.split("."),s=-1===r.indexOf("-")?void 0:Qs.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,s):this._renderer.removeStyle(this._ngEl.nativeElement,r,s)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static#e=this.\u0275fac=function(i){return new(i||t)(te(li),te(fp),te(qr))};static#t=this.\u0275dir=_({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return t})(),Sd=(()=>{class t{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(this._shouldRecreateView(e)){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,i,r)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,i,r),get:(e,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static#e=this.\u0275fac=function(i){return new(i||t)(te(Co))};static#t=this.\u0275dir=_({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Gi]})}return t})(),JD=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=f({type:t});static#n=this.\u0275inj=tr({})}return t})();function tM(t){return"server"===t}class rU extends hV{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Bv extends rU{static makeCurrent(){!function fV(t){BD??=t}(new Bv)}onAndCancel(n,e,i){return n.addEventListener(e,i),()=>{n.removeEventListener(e,i)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function oU(){return Id=Id||document.querySelector("base"),Id?Id.getAttribute("href"):null}();return null==e?null:function sU(t){return new URL(t,document.baseURI).pathname}(e)}resetBaseElement(){Id=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function JV(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===n)return decodeURIComponent(o)}return null}(document.cookie,n)}}let Id=null,lU=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac})}return t})();const Np=new at("");let dM=(()=>{class t{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new Se(5101,!1);return this._eventNameToPlugin.set(e,i),i}static#e=this.\u0275fac=function(i){return new(i||t)(Vt(Np),Vt(hn))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac})}return t})();class Vv{constructor(n){this._doc=n}}const Uv="ng-app-id";let fM=(()=>{class t{constructor(e,i,r,o={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=tM(o),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${Uv}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){const r=this.styleRef;if(r.has(e)){const o=r.get(e);return o.usage+=i,o.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===e)return r.delete(i),o.removeAttribute(Uv),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(Uv,this.appId),e.appendChild(s),s}}addStyleToHost(e,i){const r=this.getStyleElement(e,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||t)(Vt(ns),Vt(Kl),Vt($S,8),Vt(Ql))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac})}return t})();const zv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},jv=/%COMP%/g,fU=new at("",{providedIn:"root",factory:()=>!0});function pM(t,n){return n.map(e=>e.replace(jv,t))}let Hv=(()=>{class t{constructor(e,i,r,o,s,c,h,g=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=c,this.ngZone=h,this.nonce=g,this.rendererByCompId=new Map,this.platformIsServer=tM(c),this.defaultRenderer=new $v(e,s,h,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Ar.ShadowDom&&(i={...i,encapsulation:Ar.Emulated});const r=this.getOrCreateRenderer(e,i);return r instanceof mM?r.applyToHost(e):r instanceof Wv&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,c=this.ngZone,h=this.eventManager,g=this.sharedStylesHost,y=this.removeStylesOnCompDestroy,C=this.platformIsServer;switch(i.encapsulation){case Ar.Emulated:o=new mM(h,g,i,this.appId,y,s,c,C);break;case Ar.ShadowDom:return new mU(h,g,e,i,s,c,this.nonce,C);default:o=new Wv(h,g,i,y,s,c,C)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||t)(Vt(dM),Vt(fM),Vt(Kl),Vt(fU),Vt(ns),Vt(Ql),Vt(hn),Vt($S))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac})}return t})();class $v{constructor(n,e,i,r){this.eventManager=n,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(n,e){return e?this.doc.createElementNS(zv[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(gM(n)?n.content:n).appendChild(e)}insertBefore(n,e,i){n&&(gM(n)?n.content:n).insertBefore(e,i)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let i="string"==typeof n?this.doc.querySelector(n):n;if(!i)throw new Se(-5104,!1);return e||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,i,r){if(r){e=r+":"+e;const o=zv[r];o?n.setAttributeNS(o,e,i):n.setAttribute(e,i)}else n.setAttribute(e,i)}removeAttribute(n,e,i){if(i){const r=zv[i];r?n.removeAttributeNS(r,e):n.removeAttribute(`${i}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,i,r){r&(Qs.DashCase|Qs.Important)?n.style.setProperty(e,i,r&Qs.Important?"important":""):n.style[e]=i}removeStyle(n,e,i){i&Qs.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,i){null!=n&&(n[e]=i)}setValue(n,e){n.nodeValue=e}listen(n,e,i){if("string"==typeof n&&!(n=vd().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${e}`);return this.eventManager.addEventListener(n,e,this.decoratePreventDefault(i))}decoratePreventDefault(n){return e=>{if("__ngUnwrap__"===e)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))&&e.preventDefault()}}}function gM(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class mU extends $v{constructor(n,e,i,r,o,s,c,h){super(n,o,s,h),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const g=pM(r.id,r.styles);for(const y of g){const C=document.createElement("style");c&&C.setAttribute("nonce",c),C.textContent=y,this.shadowRoot.appendChild(C)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,i){return super.insertBefore(this.nodeOrShadowRoot(n),e,i)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Wv extends $v{constructor(n,e,i,r,o,s,c,h){super(n,o,s,c),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=h?pM(h,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class mM extends Wv{constructor(n,e,i,r,o,s,c,h){const g=r+"-"+i.id;super(n,e,i,o,s,c,h,g),this.contentAttr=function hU(t){return"_ngcontent-%COMP%".replace(jv,t)}(g),this.hostAttr=function pU(t){return"_nghost-%COMP%".replace(jv,t)}(g)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){const i=super.createElement(n,e);return super.setAttribute(i,this.contentAttr,""),i}}let _U=(()=>{class t extends Vv{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||t)(Vt(ns))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac})}return t})(),yU=(()=>{class t extends Vv{constructor(e){super(e),this.delegate=ot(MD,{optional:!0})}supports(e){return!!this.delegate&&this.delegate.supports(e)}addEventListener(e,i,r){return this.delegate.addEventListener(e,i,r)}removeEventListener(e,i,r){return this.delegate.removeEventListener(e,i,r)}static#e=this.\u0275fac=function(i){return new(i||t)(Vt(ns))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac})}return t})();const _M=["alt","control","meta","shift"],vU={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},wU={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let EU=(()=>{class t extends Vv{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,i,r){const o=t.parseEventName(i),s=t.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>vd().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=t._normalizeKey(i.pop());let s="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),s="code."),_M.forEach(g=>{const y=i.indexOf(g);y>-1&&(i.splice(y,1),s+=g+".")}),s+=o,0!=i.length||0===o.length)return null;const h={};return h.domEventName=r,h.fullKey=s,h}static matchEventFullKeyCode(e,i){let r=vU[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),_M.forEach(s=>{s!==r&&(0,wU[s])(e)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{t.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(i){return new(i||t)(Vt(ns))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac})}return t})();const IU=Jx(C5,"browser",[{provide:Ql,useValue:"browser"},{provide:jS,useValue:function SU(){Bv.makeCurrent()},multi:!0},{provide:ns,useFactory:function CU(){return function Qk(t){l_=t}(document),document},deps:[]}]),xU=new at(""),wM=[{provide:sp,useClass:class aU{addToWindow(n){An.getAngularTestability=(i,r=!0)=>{const o=n.findTestabilityInTree(i,r);if(null==o)throw new Se(5103,!1);return o},An.getAllAngularTestabilities=()=>n.getAllTestabilities(),An.getAllAngularRootElements=()=>n.getAllRootElements(),An.frameworkStabilizers||(An.frameworkStabilizers=[]),An.frameworkStabilizers.push(i=>{const r=An.getAllAngularTestabilities();let o=r.length;const s=function(){o--,0==o&&i()};r.forEach(c=>{c.whenStable(s)})})}findTestabilityInTree(n,e,i){return null==e?null:n.getTestability(e)??(i?vd().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},deps:[]},{provide:jx,useClass:nv,deps:[hn,iv,sp]},{provide:nv,useClass:nv,deps:[hn,iv,sp]}],EM=[{provide:Cm,useValue:"root"},{provide:bo,useFactory:function bU(){return new bo},deps:[]},{provide:Np,useClass:_U,multi:!0,deps:[ns,hn,Ql]},{provide:Np,useClass:EU,multi:!0,deps:[ns]},{provide:Np,useClass:yU,multi:!0},Hv,fM,dM,{provide:kh,useExisting:Hv},{provide:class P4{},useClass:lU,deps:[]},[]];let SM=(()=>{class t{constructor(e){}static withServerTransition(e){return{ngModule:t,providers:[{provide:Kl,useValue:e.appId}]}}static#e=this.\u0275fac=function(i){return new(i||t)(Vt(xU,12))};static#t=this.\u0275mod=f({type:t});static#n=this.\u0275inj=tr({providers:[...EM,...wM],imports:[JD,I5]})}return t})(),Gv=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=mt({token:t,factory:function(i){let r=null;return r=i?new(i||t):Vt(PU),r},providedIn:"root"})}return t})(),PU=(()=>{class t extends Gv{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case Zr.NONE:return i;case Zr.HTML:return Ko(i,"HTML")?Rr(i):hb(this._doc,String(i)).toString();case Zr.STYLE:return Ko(i,"Style")?Rr(i):i;case Zr.SCRIPT:if(Ko(i,"Script"))return Rr(i);throw new Se(5200,!1);case Zr.URL:return Ko(i,"URL")?Rr(i):fh(String(i));case Zr.RESOURCE_URL:if(Ko(i,"ResourceURL"))return Rr(i);throw new Se(5201,!1);default:throw new Se(5202,!1)}}bypassSecurityTrustHtml(e){return function yO(t){return new fO(t)}(e)}bypassSecurityTrustStyle(e){return function vO(t){return new hO(t)}(e)}bypassSecurityTrustScript(e){return function wO(t){return new pO(t)}(e)}bypassSecurityTrustUrl(e){return function EO(t){return new gO(t)}(e)}bypassSecurityTrustResourceUrl(e){return function SO(t){return new mO(t)}(e)}static#e=this.\u0275fac=function(i){return new(i||t)(Vt(ns))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ia(t){return this instanceof ia?(this.v=t,this):new ia(t)}function MM(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function Kv(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],i=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=t[o]&&function(s){return new Promise(function(c,h){!function r(o,s,c,h){Promise.resolve(h).then(function(g){o({value:g,done:c})},s)}(c,h,(s=t[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Qv=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function TM(t){return Ze(t?.then)}function PM(t){return Ze(t[un])}function AM(t){return Symbol.asyncIterator&&Ze(t?.[Symbol.asyncIterator])}function kM(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const OM=function XU(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function NM(t){return Ze(t?.[OM])}function FM(t){return function DM(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(t,n||[]),o=[];return r={},c("next"),c("throw"),c("return",function s(O){return function(j){return Promise.resolve(j).then(O,C)}}),r[Symbol.asyncIterator]=function(){return this},r;function c(O,j){i[O]&&(r[O]=function(ne){return new Promise(function(he,Ce){o.push([O,ne,he,Ce])>1||h(O,ne)})},j&&(r[O]=j(r[O])))}function h(O,j){try{!function g(O){O.value instanceof ia?Promise.resolve(O.value.v).then(y,C):A(o[0][2],O)}(i[O](j))}catch(ne){A(o[0][3],ne)}}function y(O){h("next",O)}function C(O){h("throw",O)}function A(O,j){O(j),o.shift(),o.length&&h(o[0][0],o[0][1])}}(this,arguments,function*(){const e=t.getReader();try{for(;;){const{value:i,done:r}=yield ia(e.read());if(r)return yield ia(void 0);yield yield ia(i)}}finally{e.releaseLock()}})}function RM(t){return Ze(t?.getReader)}function Ms(t){if(t instanceof Qt)return t;if(null!=t){if(PM(t))return function JU(t){return new Qt(n=>{const e=t[un]();if(Ze(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Qv(t))return function e8(t){return new Qt(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}(t);if(TM(t))return function t8(t){return new Qt(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,ie)})}(t);if(AM(t))return LM(t);if(NM(t))return function n8(t){return new Qt(n=>{for(const e of t)if(n.next(e),n.closed)return;n.complete()})}(t);if(RM(t))return function i8(t){return LM(FM(t))}(t)}throw kM(t)}function LM(t){return new Qt(n=>{(function r8(t,n){var e,i,r,o;return function IM(t,n,e,i){return new(e||(e=Promise))(function(o,s){function c(y){try{g(i.next(y))}catch(C){s(C)}}function h(y){try{g(i.throw(y))}catch(C){s(C)}}function g(y){y.done?o(y.value):function r(o){return o instanceof e?o:new e(function(s){s(o)})}(y.value).then(c,h)}g((i=i.apply(t,n||[])).next())})}(this,void 0,void 0,function*(){try{for(e=MM(t);!(i=yield e.next()).done;)if(n.next(i.value),n.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}n.complete()})})(t,n).catch(e=>n.error(e))})}function ra(t,n,e,i=0,r=!1){const o=n.schedule(function(){e(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(o),!r)return o}function BM(t,n=0){return Ht((e,i)=>{e.subscribe(wn(i,r=>ra(i,t,()=>i.next(r),n),()=>ra(i,t,()=>i.complete(),n),r=>ra(i,t,()=>i.error(r),n)))})}function VM(t,n=0){return Ht((e,i)=>{i.add(t.schedule(()=>e.subscribe(i),n))})}function UM(t,n){if(!t)throw new Error("Iterable cannot be null");return new Qt(e=>{ra(e,n,()=>{const i=t[Symbol.asyncIterator]();ra(e,n,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function Xv(t,n){return n?function u8(t,n){if(null!=t){if(PM(t))return function o8(t,n){return Ms(t).pipe(VM(n),BM(n))}(t,n);if(Qv(t))return function a8(t,n){return new Qt(e=>{let i=0;return n.schedule(function(){i===t.length?e.complete():(e.next(t[i++]),e.closed||this.schedule())})})}(t,n);if(TM(t))return function s8(t,n){return Ms(t).pipe(VM(n),BM(n))}(t,n);if(AM(t))return UM(t,n);if(NM(t))return function l8(t,n){return new Qt(e=>{let i;return ra(e,n,()=>{i=t[OM](),ra(e,n,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void e.error(s)}o?e.complete():e.next(r)},0,!0)}),()=>Ze(i?.return)&&i.return()})}(t,n);if(RM(t))return function c8(t,n){return UM(FM(t),n)}(t,n)}throw kM(t)}(t,n):Ms(t)}const{isArray:d8}=Array,{getPrototypeOf:f8,prototype:h8,keys:p8}=Object;function zM(t){return t&&Ze(t.schedule)}function Jv(t){return t[t.length-1]}function jM(t){return zM(Jv(t))?t.pop():void 0}const{isArray:v8}=Array;function HM(t){return Hn(n=>function w8(t,n){return v8(n)?t(...n):t(n)}(t,n))}function E8(t,n){return t.reduce((e,i,r)=>(e[i]=n[r],e),{})}function S8(...t){const n=function _8(t){return Ze(Jv(t))?t.pop():void 0}(t),{args:e,keys:i}=function g8(t){if(1===t.length){const n=t[0];if(d8(n))return{args:n,keys:null};if(function m8(t){return t&&"object"==typeof t&&f8(t)===h8}(n)){const e=p8(n);return{args:e.map(i=>n[i]),keys:e}}}return{args:t,keys:null}}(t),r=new Qt(o=>{const{length:s}=e;if(!s)return void o.complete();const c=new Array(s);let h=s,g=s;for(let y=0;y<s;y++){let C=!1;Ms(e[y]).subscribe(wn(o,A=>{C||(C=!0,g--),c[y]=A},()=>h--,void 0,()=>{(!h||!C)&&(g||o.next(i?E8(i,c):c),o.complete())}))}});return n?r.pipe(HM(n)):r}let $M=(()=>{class t{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(i){return new(i||t)(te(qr),te(li))};static#t=this.\u0275dir=_({type:t})}return t})(),tl=(()=>{class t extends $M{static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=zi(t)))(r||t)}})();static#t=this.\u0275dir=_({type:t,features:[En]})}return t})();const Po=new at(""),C8={provide:Po,useExisting:fn(()=>Fc),multi:!0},x8=new at("");let Fc=(()=>{class t extends $M{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function I8(){const t=vd()?vd().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(i){return new(i||t)(te(qr),te(li),te(x8,8))};static#t=this.\u0275dir=_({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&de("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[$n([C8]),En]})}return t})();const Zi=new at(""),sa=new at("");function tT(t){return null!=t}function nT(t){return ap(t)?Xv(t):t}function iT(t){let n={};return t.forEach(e=>{n=null!=e?{...n,...e}:n}),0===Object.keys(n).length?null:n}function rT(t,n){return n.map(e=>e(t))}function oT(t){return t.map(n=>function M8(t){return!t.validate}(n)?n:e=>n.validate(e))}function e0(t){return null!=t?function sT(t){if(!t)return null;const n=t.filter(tT);return 0==n.length?null:function(e){return iT(rT(e,n))}}(oT(t)):null}function t0(t){return null!=t?function aT(t){if(!t)return null;const n=t.filter(tT);return 0==n.length?null:function(e){return S8(rT(e,n).map(nT)).pipe(Hn(iT))}}(oT(t)):null}function lT(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function cT(t){return t._rawValidators}function uT(t){return t._rawAsyncValidators}function n0(t){return t?Array.isArray(t)?t:[t]:[]}function Lp(t,n){return Array.isArray(t)?t.includes(n):t===n}function dT(t,n){const e=n0(n);return n0(t).forEach(r=>{Lp(e,r)||e.push(r)}),e}function fT(t,n){return n0(n).filter(e=>!Lp(t,e))}class hT{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=e0(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=t0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class fr extends hT{get formDirective(){return null}get path(){return null}}class aa extends hT{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class pT{constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let xd=(()=>{class t extends pT{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||t)(te(aa,2))};static#t=this.\u0275dir=_({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&ni("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[En]})}return t})(),Bp=(()=>{class t extends pT{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||t)(te(fr,10))};static#t=this.\u0275dir=_({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&ni("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[En]})}return t})();const Dd="VALID",Up="INVALID",Rc="PENDING",Md="DISABLED";class Lc{}class mT extends Lc{constructor(n,e){super(),this.value=n,this.source=e}}class s0 extends Lc{constructor(n,e){super(),this.pristine=n,this.source=e}}class a0 extends Lc{constructor(n,e){super(),this.touched=n,this.source=e}}class zp extends Lc{constructor(n,e){super(),this.status=n,this.source=e}}class O8 extends Lc{constructor(n){super(),this.source=n}}class N8 extends Lc{constructor(n){super(),this.source=n}}function l0(t){return(jp(t)?t.validators:t)||null}function c0(t,n){return(jp(n)?n.asyncValidators:t)||null}function jp(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function _T(t,n,e){const i=t.controls;if(!(n?Object.keys(i):i).length)throw new Se(1e3,"");if(!i[e])throw new Se(1001,"")}function yT(t,n,e){t._forEachChild((i,r)=>{if(void 0===e[r])throw new Se(1002,"")})}class Hp{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=yd(()=>this.statusReactive()),this.statusReactive=ac(void 0),this._pristine=yd(()=>this.pristineReactive()),this.pristineReactive=ac(!0),this._touched=yd(()=>this.touchedReactive()),this.touchedReactive=ac(!1),this._events=new Pe,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return ts(this.statusReactive)}set status(n){ts(()=>this.statusReactive.set(n))}get valid(){return this.status===Dd}get invalid(){return this.status===Up}get pending(){return this.status==Rc}get disabled(){return this.status===Md}get enabled(){return this.status!==Md}get pristine(){return ts(this.pristineReactive)}set pristine(n){ts(()=>this.pristineReactive.set(n))}get dirty(){return!this.pristine}get touched(){return ts(this.touchedReactive)}set touched(n){ts(()=>this.touchedReactive.set(n))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(dT(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(dT(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(fT(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(fT(n,this._rawAsyncValidators))}hasValidator(n){return Lp(this._rawValidators,n)}hasAsyncValidator(n){return Lp(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){const e=!1===this.touched;this.touched=!0;const i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched({...n,sourceControl:i}),e&&!1!==n.emitEvent&&this._events.next(new a0(!0,i))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(n))}markAsUntouched(n={}){const e=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const i=n.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:i})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,i),e&&!1!==n.emitEvent&&this._events.next(new a0(!1,i))}markAsDirty(n={}){const e=!0===this.pristine;this.pristine=!1;const i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty({...n,sourceControl:i}),e&&!1!==n.emitEvent&&this._events.next(new s0(!1,i))}markAsPristine(n={}){const e=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const i=n.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,i),e&&!1!==n.emitEvent&&this._events.next(new s0(!0,i))}markAsPending(n={}){this.status=Rc;const e=n.sourceControl??this;!1!==n.emitEvent&&(this._events.next(new zp(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending({...n,sourceControl:e})}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=Md,this.errors=null,this._forEachChild(r=>{r.disable({...n,onlySelf:!0})}),this._updateValue();const i=n.sourceControl??this;!1!==n.emitEvent&&(this._events.next(new mT(this.value,i)),this._events.next(new zp(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:e},this),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=Dd,this._forEachChild(i=>{i.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:e},this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n,e){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Dd||this.status===Rc)&&this._runAsyncValidator(i,n.emitEvent)}const e=n.sourceControl??this;!1!==n.emitEvent&&(this._events.next(new mT(this.value,e)),this._events.next(new zp(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity({...n,sourceControl:e})}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Md:Dd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,e){if(this.asyncValidator){this.status=Rc,this._hasOwnPendingAsyncValidator={emitEvent:!1!==e};const i=nT(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const n=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent,this,e.shouldHaveEmitted)}get(n){let e=n;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(n,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,e,i){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||i)&&this._events.next(new zp(this.status,e)),this._parent&&this._parent._updateControlsErrors(n,e,i)}_initObservables(){this.valueChanges=new Tn,this.statusChanges=new Tn}_calculateStatus(){return this._allControlsDisabled()?Md:this.errors?Up:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Rc)?Rc:this._anyControlsHaveStatus(Up)?Up:Dd}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,e){const i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,e),r&&this._events.next(new s0(this.pristine,e))}_updateTouched(n={},e){this.touched=this._anyControlsTouched(),this._events.next(new a0(this.touched,e)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,e)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){jp(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function F8(t){return Array.isArray(t)?e0(t):t||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function R8(t){return Array.isArray(t)?t0(t):t||null}(this._rawAsyncValidators)}}class Td extends Hp{constructor(n,e,i){super(l0(e),c0(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,i={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){yT(this,0,n),Object.keys(n).forEach(i=>{_T(this,!0,i),this.controls[i].setValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(i=>{const r=this.controls[i];r&&r.patchValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((i,r)=>{i.reset(n?n[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,i)=>(n[i]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&n(i,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&n(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(n,e){let i=n;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}class vT extends Td{}const nl=new at("CallSetDisabledState",{providedIn:"root",factory:()=>Pd}),Pd="always";function $p(t,n){return[...n.path,t]}function Ad(t,n,e=Pd){u0(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||"always"===e)&&n.valueAccessor.setDisabledState?.(t.disabled),function B8(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&wT(t,n)})}(t,n),function U8(t,n){const e=(i,r)=>{n.valueAccessor.writeValue(i),r&&n.viewToModelUpdate(i)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function V8(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&wT(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function L8(t,n){if(n.valueAccessor.setDisabledState){const e=i=>{n.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function Wp(t,n,e=!0){const i=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(i),n.valueAccessor.registerOnTouched(i)),Yp(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Gp(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function u0(t,n){const e=cT(t);null!==n.validator?t.setValidators(lT(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const i=uT(t);null!==n.asyncValidator?t.setAsyncValidators(lT(i,n.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]);const r=()=>t.updateValueAndValidity();Gp(n._rawValidators,r),Gp(n._rawAsyncValidators,r)}function Yp(t,n){let e=!1;if(null!==t){if(null!==n.validator){const r=cT(t);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==n.validator);o.length!==r.length&&(e=!0,t.setValidators(o))}}if(null!==n.asyncValidator){const r=uT(t);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==n.asyncValidator);o.length!==r.length&&(e=!0,t.setAsyncValidators(o))}}}const i=()=>{};return Gp(n._rawValidators,i),Gp(n._rawAsyncValidators,i),e}function wT(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function f0(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}function h0(t,n){if(!n)return null;let e,i,r;return Array.isArray(n),n.forEach(o=>{o.constructor===Fc?e=o:function H8(t){return Object.getPrototypeOf(t.constructor)===tl}(o)?i=o:r=o}),r||i||e||null}function bT(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function CT(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}Promise.resolve();const Od=class extends Hp{constructor(n=null,e,i){super(l0(e),c0(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),jp(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=CT(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){bT(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){bT(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){CT(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},Z8={provide:aa,useExisting:fn(()=>g0)},DT=Promise.resolve();let g0=(()=>{class t extends aa{constructor(e,i,r,o,s,c){super(),this._changeDetectorRef=s,this.callSetDisabledState=c,this.control=new Od,this._registered=!1,this.name="",this.update=new Tn,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=h0(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),f0(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ad(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){DT.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&function wv(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(i);DT.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?$p(e,this._parent):[e]}static#e=this.\u0275fac=function(i){return new(i||t)(te(fr,9),te(Zi,10),te(sa,10),te(Po,10),te(kc,8),te(nl,8))};static#t=this.\u0275dir=_({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[$n([Z8]),En,Gi]})}return t})(),Zp=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=_({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return t})();const m0=new at(""),ez={provide:fr,useExisting:fn(()=>Bc)};let Bc=(()=>{class t extends fr{get submitted(){return ts(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}constructor(e,i,r){super(),this.callSetDisabledState=r,this._submitted=yd(()=>this._submittedReactive()),this._submittedReactive=ac(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Tn,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Yp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Ad(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Wp(e.control||null,e,!1),function $8(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this._submittedReactive.set(!0),function ST(t,n){t._syncPendingControls(),n.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new O8(this.control)),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new N8(this.form))}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(Wp(i||null,e),(t=>t instanceof Od)(r)&&(Ad(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);(function ET(t,n){u0(t,n)})(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function z8(t,n){return Yp(t,n)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){u0(this.form,this),this._oldForm&&Yp(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(i){return new(i||t)(te(Zi,10),te(sa,10),te(nl,8))};static#t=this.\u0275dir=_({type:t,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&de("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[$n([ez]),En,Gi]})}return t})();const iz={provide:aa,useExisting:fn(()=>Nd)};let Nd=(()=>{class t extends aa{set isDisabled(e){}static#e=this._ngModelWarningSentOnce=!1;constructor(e,i,r,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Tn,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=h0(0,o)}ngOnChanges(e){this._added||this._setUpControl(),f0(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return $p(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(i){return new(i||t)(te(fr,13),te(Zi,10),te(sa,10),te(Po,10),te(m0,8))};static#n=this.\u0275dir=_({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[$n([iz]),En,Gi]})}return t})(),$T=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=f({type:t});static#n=this.\u0275inj=tr({})}return t})();class WT extends Hp{constructor(n,e,i){super(l0(e),c0(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[this._adjustIndex(n)]}push(n,e={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(n,e,i={}){this.controls.splice(n,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(n,e={}){let i=this._adjustIndex(n);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(n,e,i={}){let r=this._adjustIndex(n);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,e={}){yT(this,0,n),n.forEach((i,r)=>{_T(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(n.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n=[],e={}){this._forEachChild((i,r)=>{i.reset(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((e,i)=>{n(e,i)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(e=>e.enabled&&n(e))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}}function GT(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let S0=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new t;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let o={};return GT(i)?o=i:null!==i&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Td(r,o)}record(e,i=null){const r=this._reduceControls(e);return new vT(r,i)}control(e,i,r){let o={};return this.useNonNullable?(GT(i)?o=i:(o.validators=i,o.asyncValidators=r),new Od(e,{...o,nonNullable:!0})):new Od(e,i,r)}array(e,i,r){const o=e.map(s=>this._createControl(s));return new WT(o,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof Od||e instanceof Hp?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),yz=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:nl,useValue:e.callSetDisabledState??Pd}]}}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=f({type:t});static#n=this.\u0275inj=tr({imports:[$T]})}return t})(),vz=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:m0,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:nl,useValue:e.callSetDisabledState??Pd}]}}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=f({type:t});static#n=this.\u0275inj=tr({imports:[$T]})}return t})();function b0(t,n,e=1/0){return Ze(n)?b0((i,r)=>Hn((o,s)=>n(i,o,r,s))(Ms(t(i,r))),e):("number"==typeof n&&(e=n),Ht((i,r)=>function wz(t,n,e,i,r,o,s,c){const h=[];let g=0,y=0,C=!1;const A=()=>{C&&!h.length&&!g&&n.complete()},O=ne=>g<i?j(ne):h.push(ne),j=ne=>{o&&n.next(ne),g++;let he=!1;Ms(e(ne,y++)).subscribe(wn(n,Ce=>{r?.(Ce),o?O(Ce):n.next(Ce)},()=>{he=!0},void 0,()=>{if(he)try{for(g--;h.length&&g<i;){const Ce=h.shift();s?ra(n,s,()=>j(Ce)):j(Ce)}A()}catch(Ce){n.error(Ce)}}))};return t.subscribe(wn(n,O,()=>{C=!0,A()})),()=>{c?.()}}(i,r,t,e)))}const Ez=["addListener","removeListener"],Sz=["addEventListener","removeEventListener"],bz=["on","off"];function Oi(t,n,e,i){if(Ze(e)&&(i=e,e=void 0),i)return Oi(t,n,e).pipe(HM(i));const[r,o]=function xz(t){return Ze(t.addEventListener)&&Ze(t.removeEventListener)}(t)?Sz.map(s=>c=>t[s](n,c,e)):function Cz(t){return Ze(t.addListener)&&Ze(t.removeListener)}(t)?Ez.map(YT(t,n)):function Iz(t){return Ze(t.on)&&Ze(t.off)}(t)?bz.map(YT(t,n)):[];if(!r&&Qv(t))return b0(s=>Oi(s,n,e))(Ms(t));if(!r)throw new TypeError("Invalid event target");return new Qt(s=>{const c=(...h)=>s.next(1<h.length?h:h[0]);return r(c),()=>o(c)})}function YT(t,n){return e=>i=>t[e](n,i)}class fi{constructor(n,e){this.x=n,this.y=e}static fromEvent(n,e=null){if(this.isMouseEvent(n))return new fi(n.clientX,n.clientY);if(null===e||1===n.changedTouches.length)return new fi(n.changedTouches[0].clientX,n.changedTouches[0].clientY);for(let i=0;i<n.changedTouches.length;i++)if(n.changedTouches[i].target===e)return new fi(n.changedTouches[i].clientX,n.changedTouches[i].clientY);return null}static isMouseEvent(n){return 8===Object.prototype.toString.apply(n).indexOf("MouseEvent")}static isIPosition(n){return!!n&&"x"in n&&"y"in n}static getCurrent(n){let e=new fi(0,0);if(window){const i=window.getComputedStyle(n);if(i){let r=parseInt(i.getPropertyValue("left"),10),o=parseInt(i.getPropertyValue("top"),10);e.x=isNaN(r)?0:r,e.y=isNaN(o)?0:o}return e}return console.error("Not Supported!"),null}static copy(n){return new fi(0,0).set(n)}get value(){return{x:this.x,y:this.y}}add(n){return this.x+=n.x,this.y+=n.y,this}subtract(n){return this.x-=n.x,this.y-=n.y,this}multiply(n){this.x*=n,this.y*=n}divide(n){this.x/=n,this.y/=n}reset(){return this.x=0,this.y=0,this}set(n){return this.x=n.x,this.y=n.y,this}}class ZT{constructor(n,e){this.parent=n,this.renderer=e,this._added=!1;let i=e.createElement("div");e.setStyle(i,"position","absolute"),e.setStyle(i,"width","100%"),e.setStyle(i,"height","100%"),e.setStyle(i,"background-color","transparent"),e.setStyle(i,"top","0"),e.setStyle(i,"left","0"),this._helper=i}add(){this.parent&&!this._added&&(this.parent.appendChild(this._helper),this._added=!0)}remove(){this.parent&&this._added&&(this.parent.removeChild(this._helper),this._added=!1)}dispose(){this._helper=null,this._added=!1}get el(){return this._helper}}let qp=(()=>{class t{set zIndex(e){this.renderer.setStyle(this.el.nativeElement,"z-index",e),this._zIndex=e}set ngDraggable(e){if(null!=e&&""!==e){this.allowDrag=!!e;let i=this.getDragEl();this.allowDrag?this.renderer.addClass(i,"ng-draggable"):(this.putBack(),this.renderer.removeClass(i,"ng-draggable"))}}constructor(e,i){this.el=e,this.renderer=i,this.allowDrag=!0,this.moving=!1,this.orignal=null,this.oldTrans=new fi(0,0),this.tempTrans=new fi(0,0),this.currTrans=new fi(0,0),this.oldZIndex="",this._zIndex="",this.needTransform=!1,this.draggingSub=null,this._helperBlock=null,this.started=new Tn,this.stopped=new Tn,this.edge=new Tn,this.outOfBounds={top:!1,right:!1,bottom:!1,left:!1},this.gridSize=1,this.inBounds=!1,this.trackPosition=!0,this.scale=1,this.preventDefaultEvent=!1,this.position={x:0,y:0},this.lockAxis=null,this.movingOffset=new Tn,this.endOffset=new Tn,this._helperBlock=new ZT(e.nativeElement,i)}ngOnInit(){if(this.allowDrag){let e=this.getDragEl();this.renderer.addClass(e,"ng-draggable")}this.resetPosition()}ngOnDestroy(){this.bounds=null,this.handle=null,this.orignal=null,this.oldTrans=null,this.tempTrans=null,this.currTrans=null,this._helperBlock.dispose(),this._helperBlock=null,this.draggingSub&&this.draggingSub.unsubscribe()}ngOnChanges(e){if(e.position&&!e.position.isFirstChange()){let i=e.position.currentValue;this.moving?this.needTransform=!0:(fi.isIPosition(i)?this.oldTrans.set(i):this.oldTrans.reset(),this.transform())}}ngAfterViewInit(){this.inBounds&&(this.boundsCheck(),this.oldTrans.add(this.tempTrans),this.tempTrans.reset())}getDragEl(){return this.handle?this.handle:this.el.nativeElement}resetPosition(){fi.isIPosition(this.position)?this.oldTrans.set(this.position):this.oldTrans.reset(),this.tempTrans.reset(),this.transform()}moveTo(e){if(this.orignal){if(e.subtract(this.orignal),this.tempTrans.set(e),this.tempTrans.divide(this.scale),this.transform(),this.bounds){let i=this.boundsCheck();i&&this.edge.emit(i)}this.movingOffset.emit(this.currTrans.value)}}transform(){let e=this.tempTrans.x+this.oldTrans.x,i=this.tempTrans.y+this.oldTrans.y;"x"===this.lockAxis?(e=this.oldTrans.x,this.tempTrans.x=0):"y"===this.lockAxis&&(i=this.oldTrans.y,this.tempTrans.y=0),this.gridSize>1&&(e=Math.round(e/this.gridSize)*this.gridSize,i=Math.round(i/this.gridSize)*this.gridSize);let r=`translate(${Math.round(e)}px, ${Math.round(i)}px)`;this.renderer.setStyle(this.el.nativeElement,"transform",r),this.renderer.setStyle(this.el.nativeElement,"-webkit-transform",r),this.renderer.setStyle(this.el.nativeElement,"-ms-transform",r),this.renderer.setStyle(this.el.nativeElement,"-moz-transform",r),this.renderer.setStyle(this.el.nativeElement,"-o-transform",r),this.currTrans.x=e,this.currTrans.y=i}pickUp(){if(this.oldZIndex=this.el.nativeElement.style.zIndex?this.el.nativeElement.style.zIndex:"",window&&(this.oldZIndex=window.getComputedStyle(this.el.nativeElement,null).getPropertyValue("z-index")),this.zIndexMoving&&this.renderer.setStyle(this.el.nativeElement,"z-index",this.zIndexMoving),!this.moving){this.started.emit(this.el.nativeElement),this.moving=!0;const e=this.getDragEl();this.renderer.addClass(e,"ng-dragging"),this.subscribeEvents()}}subscribeEvents(){this.draggingSub=Oi(document,"mousemove",{passive:!1}).subscribe(i=>this.onMouseMove(i)),this.draggingSub.add(Oi(document,"touchmove",{passive:!1}).subscribe(i=>this.onMouseMove(i))),this.draggingSub.add(Oi(document,"mouseup",{passive:!1}).subscribe(()=>this.putBack())),/msie\s|trident\//i.test(window.navigator.userAgent)||this.draggingSub.add(Oi(document,"mouseleave",{passive:!1}).subscribe(()=>this.putBack())),this.draggingSub.add(Oi(document,"touchend",{passive:!1}).subscribe(()=>this.putBack())),this.draggingSub.add(Oi(document,"touchcancel",{passive:!1}).subscribe(()=>this.putBack()))}unsubscribeEvents(){this.draggingSub.unsubscribe(),this.draggingSub=null}boundsCheck(){if(this.bounds){let e=this.bounds.getBoundingClientRect(),i=this.el.nativeElement.getBoundingClientRect(),r={top:!!this.outOfBounds.top||e.top<i.top,right:!!this.outOfBounds.right||e.right>i.right,bottom:!!this.outOfBounds.bottom||e.bottom>i.bottom,left:!!this.outOfBounds.left||e.left<i.left};return this.inBounds&&(r.top||(this.tempTrans.y-=(i.top-e.top)/this.scale),r.bottom||(this.tempTrans.y-=(i.bottom-e.bottom)/this.scale),r.right||(this.tempTrans.x-=(i.right-e.right)/this.scale),r.left||(this.tempTrans.x-=(i.left-e.left)/this.scale),this.transform()),r}return null}getCurrentOffset(){return this.currTrans.value}putBack(){if(this._zIndex?this.renderer.setStyle(this.el.nativeElement,"z-index",this._zIndex):this.zIndexMoving&&(this.oldZIndex?this.renderer.setStyle(this.el.nativeElement,"z-index",this.oldZIndex):this.el.nativeElement.style.removeProperty("z-index")),this.moving){if(this.stopped.emit(this.el.nativeElement),this._helperBlock.remove(),this.needTransform&&(fi.isIPosition(this.position)?this.oldTrans.set(this.position):this.oldTrans.reset(),this.transform(),this.needTransform=!1),this.bounds){let i=this.boundsCheck();i&&this.edge.emit(i)}this.moving=!1,this.endOffset.emit(this.currTrans.value),this.trackPosition&&this.oldTrans.add(this.tempTrans),this.tempTrans.reset(),this.trackPosition||this.transform();const e=this.getDragEl();this.renderer.removeClass(e,"ng-dragging"),this.unsubscribeEvents()}}checkHandleTarget(e,i){if("BUTTON"===i.tagName)return!1;if(i===e)return!0;for(let r in i.children)if(i.children.hasOwnProperty(r)&&this.checkHandleTarget(e,i.children[r]))return!0;return!1}onMouseDown(e){e instanceof MouseEvent&&2===e.button||void 0!==this.handle&&!this.checkHandleTarget(e.target||e.srcElement,this.handle)||!1!==this.allowDrag&&(this.preventDefaultEvent&&(e.stopPropagation(),e.preventDefault()),this.orignal=fi.fromEvent(e,this.getDragEl()),this.pickUp())}onMouseMove(e){this.moving&&this.allowDrag&&(this.preventDefaultEvent&&(e.stopPropagation(),e.preventDefault()),this._helperBlock.add(),this.moveTo(fi.fromEvent(e,this.getDragEl())))}static#e=this.\u0275fac=function(i){return new(i||t)(te(li),te(qr))};static#t=this.\u0275dir=_({type:t,selectors:[["","ngDraggable",""]],hostBindings:function(i,r){1&i&&de("mousedown",function(s){return r.onMouseDown(s)})("touchstart",function(s){return r.onMouseDown(s)})},inputs:{handle:"handle",bounds:"bounds",outOfBounds:"outOfBounds",gridSize:"gridSize",zIndexMoving:"zIndexMoving",zIndex:"zIndex",inBounds:"inBounds",trackPosition:"trackPosition",scale:"scale",preventDefaultEvent:"preventDefaultEvent",position:"position",lockAxis:"lockAxis",ngDraggable:"ngDraggable"},outputs:{started:"started",stopped:"stopped",edge:"edge",movingOffset:"movingOffset",endOffset:"endOffset"},exportAs:["ngDraggable"],features:[Gi]})}return t})();class Dz{constructor(n,e,i,r,o,s){this.parent=n,this.renderer=e,this.type=i,this.css=r,this.onMouseDown=o,this.existHandle=s;let c=this.existHandle||e.createElement("div");e.addClass(c,"ng-resizable-handle"),e.addClass(c,r),"se"===i&&e.addClass(c,"ng-resizable-diagonal"),this.parent&&!this.existHandle&&n.appendChild(c),this._onResize=h=>{o(h,this)},c.addEventListener("mousedown",this._onResize,{passive:!1}),c.addEventListener("touchstart",this._onResize,{passive:!1}),this._handle=c}dispose(){this._handle.removeEventListener("mousedown",this._onResize),this._handle.removeEventListener("touchstart",this._onResize),this.parent&&!this.existHandle&&this.parent.removeChild(this._handle),this._handle=null,this._onResize=null}get el(){return this._handle}}class la{constructor(n,e){this.width=n,this.height=e}static getCurrent(n){let e=new la(0,0);if(window){const i=window.getComputedStyle(n);return i&&(e.width=parseInt(i.getPropertyValue("width"),10),e.height=parseInt(i.getPropertyValue("height"),10)),e}return console.error("Not Supported!"),null}static copy(n){return new la(0,0).set(n)}set(n){return this.width=n.width,this.height=n.height,this}}let Mz=(()=>{class t{set ngResizable(e){null!=e&&""!==e&&(this._resizable=!!e,this.updateResizable())}constructor(e,i){this.el=e,this.renderer=i,this._resizable=!0,this._handles={},this._handleType=[],this._handleResizing=null,this._direction=null,this._directionChanged=null,this._aspectRatio=0,this._containment=null,this._origMousePos=null,this._origSize=null,this._origPos=null,this._currSize=null,this._currPos=null,this._initSize=null,this._initPos=null,this._gridSize=null,this._bounding=null,this._helperBlock=null,this.draggingSub=null,this._adjusted=!1,this.rzHandles="e,s,se",this.rzHandleDoms={},this.rzAspectRatio=!1,this.rzContainment=null,this.rzGrid=null,this.rzMinWidth=null,this.rzMinHeight=null,this.rzMaxWidth=null,this.rzMaxHeight=null,this.rzScale=1,this.preventDefaultEvent=!0,this.rzStart=new Tn,this.rzResizing=new Tn,this.rzStop=new Tn,this._helperBlock=new ZT(e.nativeElement,i)}ngOnChanges(e){e.rzHandles&&!e.rzHandles.isFirstChange()&&this.updateResizable(),e.rzAspectRatio&&!e.rzAspectRatio.isFirstChange()&&this.updateAspectRatio(),e.rzContainment&&!e.rzContainment.isFirstChange()&&this.updateContainment()}ngOnInit(){this.updateResizable()}ngOnDestroy(){this.removeHandles(),this._containment=null,this._helperBlock.dispose(),this._helperBlock=null}ngAfterViewInit(){const e=this.el.nativeElement;this._initSize=la.getCurrent(e),this._initPos=fi.getCurrent(e),this._currSize=la.copy(this._initSize),this._currPos=fi.copy(this._initPos),this.updateAspectRatio(),this.updateContainment()}resetSize(){this._currSize=la.copy(this._initSize),this._currPos=fi.copy(this._initPos),this.doResize()}getStatus(){return this._currPos&&this._currSize?{size:{width:this._currSize.width,height:this._currSize.height},position:{top:this._currPos.y,left:this._currPos.x}}:null}updateResizable(){const e=this.el.nativeElement;this.renderer.removeClass(e,"ng-resizable"),this.removeHandles(),this._resizable&&(this.renderer.addClass(e,"ng-resizable"),this.createHandles())}updateAspectRatio(){if("boolean"==typeof this.rzAspectRatio)this._aspectRatio=this.rzAspectRatio&&this._currSize.height?this._currSize.width/this._currSize.height:0;else{let e=Number(this.rzAspectRatio);this._aspectRatio=isNaN(e)?0:e}}updateContainment(){this._containment=this.rzContainment?"string"==typeof this.rzContainment?"parent"===this.rzContainment?this.el.nativeElement.parentElement:document.querySelector(this.rzContainment):this.rzContainment:null}createHandles(){if(!this.rzHandles)return;let e;if("string"==typeof this.rzHandles){e="all"===this.rzHandles?["n","e","s","w","ne","se","nw","sw"]:this.rzHandles.replace(/ /g,"").toLowerCase().split(",");for(let i of e){let r=this.createHandleByType(i,`ng-resizable-${i}`);r&&(this._handleType.push(i),this._handles[i]=r)}}else{e=Object.keys(this.rzHandles);for(let i of e){let r=this.createHandleByType(i,this.rzHandles[i]);r&&(this._handleType.push(i),this._handles[i]=r)}}}createHandleByType(e,i){const r=this.el.nativeElement,o=this.rzHandleDoms[e]?this.rzHandleDoms[e].nativeElement:null;return e.match(/^(se|sw|ne|nw|n|e|s|w)$/)?new Dz(r,this.renderer,e,i,this.onMouseDown.bind(this),o):(console.error("Invalid handle type:",e),null)}removeHandles(){for(let e of this._handleType)this._handles[e].dispose();this._handleType=[],this._handles={}}onMouseDown(e,i){e instanceof MouseEvent&&2===e.button||(this.preventDefaultEvent&&(e.stopPropagation(),e.preventDefault()),this._handleResizing||(this._origMousePos=fi.fromEvent(e),this.startResize(i),this.subscribeEvents()))}subscribeEvents(){this.draggingSub=Oi(document,"mousemove",{passive:!1}).subscribe(i=>this.onMouseMove(i)),this.draggingSub.add(Oi(document,"touchmove",{passive:!1}).subscribe(i=>this.onMouseMove(i))),this.draggingSub.add(Oi(document,"mouseup",{passive:!1}).subscribe(()=>this.onMouseLeave())),/msie\s|trident\//i.test(window.navigator.userAgent)||this.draggingSub.add(Oi(document,"mouseleave",{passive:!1}).subscribe(()=>this.onMouseLeave())),this.draggingSub.add(Oi(document,"touchend",{passive:!1}).subscribe(()=>this.onMouseLeave())),this.draggingSub.add(Oi(document,"touchcancel",{passive:!1}).subscribe(()=>this.onMouseLeave()))}unsubscribeEvents(){this.draggingSub.unsubscribe(),this.draggingSub=null}onMouseLeave(){this._handleResizing&&(this.stopResize(),this._origMousePos=null,this.unsubscribeEvents())}onMouseMove(e){this._handleResizing&&this._resizable&&this._origMousePos&&this._origPos&&this._origSize&&(this.resizeTo(fi.fromEvent(e)),this.onResizing())}startResize(e){const i=this.el.nativeElement;this._origSize=la.getCurrent(i),this._origPos=fi.getCurrent(i),this._currSize=la.copy(this._origSize),this._currPos=fi.copy(this._origPos),this._containment&&this.getBounding(),this.getGridSize(),this._helperBlock.add(),this._handleResizing=e,this.updateDirection(),this.rzStart.emit(this.getResizingEvent())}stopResize(){this._helperBlock.remove(),this.rzStop.emit(this.getResizingEvent()),this._handleResizing=null,this._direction=null,this._origSize=null,this._origPos=null,this._containment&&this.resetBounding()}onResizing(){this.rzResizing.emit(this.getResizingEvent())}getResizingEvent(){return{host:this.el.nativeElement,handle:this._handleResizing?this._handleResizing.el:null,size:{width:this._currSize.width,height:this._currSize.height},position:{top:this._currPos.y,left:this._currPos.x},direction:{...this._directionChanged}}}updateDirection(){this._direction={n:!!this._handleResizing.type.match(/n/),s:!!this._handleResizing.type.match(/s/),w:!!this._handleResizing.type.match(/w/),e:!!this._handleResizing.type.match(/e/)},this._directionChanged={...this._direction},this.rzAspectRatio&&(this._directionChanged.n&&!this._directionChanged.e&&(this._directionChanged.w=!0),this._directionChanged.s&&!this._directionChanged.w&&(this._directionChanged.e=!0),this._directionChanged.e&&!this._directionChanged.n&&(this._directionChanged.s=!0),this._directionChanged.w&&!this._directionChanged.n&&(this._directionChanged.s=!0))}resizeTo(e){e.subtract(this._origMousePos).divide(this.rzScale);const i=Math.round(e.x/this._gridSize.x)*this._gridSize.x,r=Math.round(e.y/this._gridSize.y)*this._gridSize.y;this._direction.n?(this._currPos.y=this._origPos.y+r,this._currSize.height=this._origSize.height-r):this._direction.s&&(this._currSize.height=this._origSize.height+r),this._direction.e?this._currSize.width=this._origSize.width+i:this._direction.w&&(this._currSize.width=this._origSize.width-i,this._currPos.x=this._origPos.x+i),this.checkBounds(),this.checkSize(),this.adjustByRatio(),this.doResize()}doResize(){const e=this.el.nativeElement;(!this._direction||this._direction.n||this._direction.s||this._aspectRatio)&&this.renderer.setStyle(e,"height",this._currSize.height+"px"),(!this._direction||this._direction.w||this._direction.e||this._aspectRatio)&&this.renderer.setStyle(e,"width",this._currSize.width+"px"),this.renderer.setStyle(e,"left",this._currPos.x+"px"),this.renderer.setStyle(e,"top",this._currPos.y+"px")}adjustByRatio(){if(this._aspectRatio&&!this._adjusted)if(this._direction.e||this._direction.w){const e=Math.floor(this._currSize.width/this._aspectRatio);this._direction.n&&(this._currPos.y+=this._currSize.height-e),this._currSize.height=e}else{const e=Math.floor(this._aspectRatio*this._currSize.height);this._direction.n&&(this._currPos.x+=this._currSize.width-e),this._currSize.width=e}}checkBounds(){if(this._containment){const e=this._bounding.width-this._bounding.pr-this._bounding.deltaL-this._bounding.translateX-this._currPos.x,i=this._bounding.height-this._bounding.pb-this._bounding.deltaT-this._bounding.translateY-this._currPos.y;if(this._direction.n&&this._currPos.y+this._bounding.translateY<0&&(this._currPos.y=-this._bounding.translateY,this._currSize.height=this._origSize.height+this._origPos.y+this._bounding.translateY),this._direction.w&&this._currPos.x+this._bounding.translateX<0&&(this._currPos.x=-this._bounding.translateX,this._currSize.width=this._origSize.width+this._origPos.x+this._bounding.translateX),this._currSize.width>e&&(this._currSize.width=e),this._currSize.height>i&&(this._currSize.height=i),this._aspectRatio){if(this._adjusted=!1,(this._direction.w||this._direction.e)&&this._currSize.width/this._aspectRatio>=i){const r=Math.floor(i*this._aspectRatio);this._direction.w&&(this._currPos.x+=this._currSize.width-r),this._currSize.width=r,this._currSize.height=i,this._adjusted=!0}if((this._direction.n||this._direction.s)&&this._currSize.height*this._aspectRatio>=e){const r=Math.floor(e/this._aspectRatio);this._direction.n&&(this._currPos.y+=this._currSize.height-r),this._currSize.width=e,this._currSize.height=r,this._adjusted=!0}}}}checkSize(){const e=this.rzMinHeight?this.rzMinHeight:1,i=this.rzMinWidth?this.rzMinWidth:1;this._currSize.height<e&&(this._currSize.height=e,this._direction.n&&(this._currPos.y=this._origPos.y+(this._origSize.height-e))),this._currSize.width<i&&(this._currSize.width=i,this._direction.w&&(this._currPos.x=this._origPos.x+(this._origSize.width-i))),this.rzMaxHeight&&this._currSize.height>this.rzMaxHeight&&(this._currSize.height=this.rzMaxHeight,this._direction.n&&(this._currPos.y=this._origPos.y+(this._origSize.height-this.rzMaxHeight))),this.rzMaxWidth&&this._currSize.width>this.rzMaxWidth&&(this._currSize.width=this.rzMaxWidth,this._direction.w&&(this._currPos.x=this._origPos.x+(this._origSize.width-this.rzMaxWidth)))}getBounding(){const e=this._containment,i=window.getComputedStyle(e);if(i){let r=i.getPropertyValue("position"),s=window.getComputedStyle(this.el.nativeElement).getPropertyValue("transform").replace(/[^-\d,]/g,"").split(",");this._bounding={},this._bounding.width=e.clientWidth,this._bounding.height=e.clientHeight,this._bounding.pr=parseInt(i.getPropertyValue("padding-right"),10),this._bounding.pb=parseInt(i.getPropertyValue("padding-bottom"),10),this._bounding.deltaL=this.el.nativeElement.offsetLeft-this._currPos.x,this._bounding.deltaT=this.el.nativeElement.offsetTop-this._currPos.y,s.length>=6?(this._bounding.translateX=parseInt(s[4],10),this._bounding.translateY=parseInt(s[5],10)):(this._bounding.translateX=0,this._bounding.translateY=0),this._bounding.position=i.getPropertyValue("position"),"static"===r&&this.renderer.setStyle(e,"position","relative")}}resetBounding(){this._bounding&&"static"===this._bounding.position&&this.renderer.setStyle(this._containment,"position","relative"),this._bounding=null}getGridSize(){this._gridSize={x:1,y:1},this.rzGrid&&("number"==typeof this.rzGrid?this._gridSize={x:this.rzGrid,y:this.rzGrid}:Array.isArray(this.rzGrid)&&(this._gridSize={x:this.rzGrid[0],y:this.rzGrid[1]}))}static#e=this.\u0275fac=function(i){return new(i||t)(te(li),te(qr))};static#t=this.\u0275dir=_({type:t,selectors:[["","ngResizable",""]],inputs:{ngResizable:"ngResizable",rzHandles:"rzHandles",rzHandleDoms:"rzHandleDoms",rzAspectRatio:"rzAspectRatio",rzContainment:"rzContainment",rzGrid:"rzGrid",rzMinWidth:"rzMinWidth",rzMinHeight:"rzMinHeight",rzMaxWidth:"rzMaxWidth",rzMaxHeight:"rzMaxHeight",rzScale:"rzScale",preventDefaultEvent:"preventDefaultEvent"},outputs:{rzStart:"rzStart",rzResizing:"rzResizing",rzStop:"rzStop"},exportAs:["ngResizable"],features:[Gi]})}return t})(),Tz=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=f({type:t});static#n=this.\u0275inj=tr({})}return t})();var Lt=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(Lt||{});const Ts="*";function Vc(t,n){return{type:Lt.Trigger,name:t,definitions:n,options:{}}}function Ao(t,n=null){return{type:Lt.Animate,styles:n,timings:t}}function rn(t){return{type:Lt.Style,styles:t,offset:null}}function rs(t,n,e){return{type:Lt.State,name:t,styles:n,options:e}}function Kp(t){return{type:Lt.Keyframes,steps:t}}function ko(t,n,e=null){return{type:Lt.Transition,expr:t,animation:n,options:e}}class Fd{constructor(n=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class qT{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let e=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,c)=>Math.max(s,c.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const e=n*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const n=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function KT(t){return new Se(3e3,!1)}function ca(t){switch(t.length){case 0:return new Fd;case 1:return t[0];default:return new qT(t)}}function QT(t,n,e=new Map,i=new Map){const r=[],o=[];let s=-1,c=null;if(n.forEach(h=>{const g=h.get("offset"),y=g==s,C=y&&c||new Map;h.forEach((A,O)=>{let j=O,ne=A;if("offset"!==O)switch(j=t.normalizePropertyName(j,r),ne){case"!":ne=e.get(O);break;case Ts:ne=i.get(O);break;default:ne=t.normalizeStyleValue(O,j,ne,r)}C.set(j,ne)}),y||o.push(C),c=C,s=g}),r.length)throw function ij(t){return new Se(3502,!1)}();return o}function I0(t,n,e,i){switch(n){case"start":t.onStart(()=>i(e&&x0(e,"start",t)));break;case"done":t.onDone(()=>i(e&&x0(e,"done",t)));break;case"destroy":t.onDestroy(()=>i(e&&x0(e,"destroy",t)))}}function x0(t,n,e){const o=D0(t.element,t.triggerName,t.fromState,t.toState,n||t.phaseName,e.totalTime??t.totalTime,!!e.disabled),s=t._data;return null!=s&&(o._data=s),o}function D0(t,n,e,i,r="",o=0,s){return{element:t,triggerName:n,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function Ur(t,n,e){let i=t.get(n);return i||t.set(n,i=e),i}function XT(t){const n=t.indexOf(":");return[t.substring(1,n),t.slice(n+1)]}const gj=typeof document>"u"?null:document.documentElement;function M0(t){const n=t.parentNode||t.host||null;return n===gj?null:n}let rl=null,JT=!1;function eP(t,n){for(;n;){if(n===t)return!0;n=M0(n)}return!1}function tP(t,n,e){if(e)return Array.from(t.querySelectorAll(n));const i=t.querySelector(n);return i?[i]:[]}let T0=(()=>{class t{validateStyleProperty(e){return function _j(t){rl||(rl=function yj(){return typeof document<"u"?document.body:null}()||{},JT=!!rl.style&&"WebkitAppearance"in rl.style);let n=!0;return rl.style&&!function mj(t){return"ebkit"==t.substring(1,6)}(t)&&(n=t in rl.style,!n&&JT&&(n="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in rl.style)),n}(e)}containsElement(e,i){return eP(e,i)}getParentElement(e){return M0(e)}query(e,i,r){return tP(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,s,c=[],h){return new Fd(r,o)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac})}return t})();class P0{static#e=this.NOOP=new T0}class A0{}const wj=1e3,k0="ng-enter",Qp="ng-leave",Xp="ng-trigger",Jp=".ng-trigger",iP="ng-animating",O0=".ng-animating";function Ps(t){if("number"==typeof t)return t;const n=t.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:N0(parseFloat(n[1]),n[2])}function N0(t,n){return"s"===n?t*wj:t}function eg(t,n,e){return t.hasOwnProperty("duration")?t:function Sj(t,n,e){let r,o=0,s="";if("string"==typeof t){const c=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===c)return n.push(KT()),{duration:0,delay:0,easing:""};r=N0(parseFloat(c[1]),c[2]);const h=c[3];null!=h&&(o=N0(parseFloat(h),c[4]));const g=c[5];g&&(s=g)}else r=t;if(!e){let c=!1,h=n.length;r<0&&(n.push(function Fz(){return new Se(3100,!1)}()),c=!0),o<0&&(n.push(function Rz(){return new Se(3101,!1)}()),c=!0),c&&n.splice(h,0,KT())}return{duration:r,delay:o,easing:s}}(t,n,e)}function os(t,n,e){n.forEach((i,r)=>{const o=R0(r);e&&!e.has(r)&&e.set(r,t.style[o]),t.style[o]=i})}function ol(t,n){n.forEach((e,i)=>{const r=R0(i);t.style[r]=""})}function Rd(t){return Array.isArray(t)?1==t.length?t[0]:function Pz(t,n=null){return{type:Lt.Sequence,steps:t,options:n}}(t):t}const F0=new RegExp("{{\\s*(.+?)\\s*}}","g");function oP(t){let n=[];if("string"==typeof t){let e;for(;e=F0.exec(t);)n.push(e[1]);F0.lastIndex=0}return n}function Ld(t,n,e){const i=`${t}`,r=i.replace(F0,(o,s)=>{let c=n[s];return null==c&&(e.push(function Bz(t){return new Se(3003,!1)}()),c=""),c.toString()});return r==i?t:r}const Ij=/-+([a-z0-9])/g;function R0(t){return t.replace(Ij,(...n)=>n[1].toUpperCase())}function zr(t,n,e){switch(n.type){case Lt.Trigger:return t.visitTrigger(n,e);case Lt.State:return t.visitState(n,e);case Lt.Transition:return t.visitTransition(n,e);case Lt.Sequence:return t.visitSequence(n,e);case Lt.Group:return t.visitGroup(n,e);case Lt.Animate:return t.visitAnimate(n,e);case Lt.Keyframes:return t.visitKeyframes(n,e);case Lt.Style:return t.visitStyle(n,e);case Lt.Reference:return t.visitReference(n,e);case Lt.AnimateChild:return t.visitAnimateChild(n,e);case Lt.AnimateRef:return t.visitAnimateRef(n,e);case Lt.Query:return t.visitQuery(n,e);case Lt.Stagger:return t.visitStagger(n,e);default:throw function Vz(t){return new Se(3004,!1)}()}}function L0(t,n){return window.getComputedStyle(t)[n]}const Mj=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class sP extends A0{normalizePropertyName(n,e){return R0(n)}normalizeStyleValue(n,e,i,r){let o="";const s=i.toString().trim();if(Mj.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const c=i.match(/^[+-]?[\d\.]+([a-z]*)$/);c&&0==c[1].length&&r.push(function Uz(t,n){return new Se(3005,!1)}())}return s+o}}const tg="*";const ng=new Set(["true","1"]),ig=new Set(["false","0"]);function aP(t,n){const e=ng.has(t)||ig.has(t),i=ng.has(n)||ig.has(n);return(r,o)=>{let s=t==tg||t==r,c=n==tg||n==o;return!s&&e&&"boolean"==typeof r&&(s=r?ng.has(t):ig.has(t)),!c&&i&&"boolean"==typeof o&&(c=o?ng.has(n):ig.has(n)),s&&c}}const kj=new RegExp("s*:selfs*,?","g");function B0(t,n,e,i){return new Oj(t).build(n,e,i)}class Oj{constructor(n){this._driver=n}build(n,e,i){const r=new Rj(e);return this._resetContextStyleTimingState(r),zr(this,Rd(n),r)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles=new Map,n.collectedStyles.set("",new Map),n.currentTime=0}visitTrigger(n,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],s=[];return"@"==n.name.charAt(0)&&e.errors.push(function zz(){return new Se(3006,!1)}()),n.definitions.forEach(c=>{if(this._resetContextStyleTimingState(e),c.type==Lt.State){const h=c,g=h.name;g.toString().split(/\s*,\s*/).forEach(y=>{h.name=y,o.push(this.visitState(h,e))}),h.name=g}else if(c.type==Lt.Transition){const h=this.visitTransition(c,e);i+=h.queryCount,r+=h.depCount,s.push(h)}else e.errors.push(function jz(){return new Se(3007,!1)}())}),{type:Lt.Trigger,name:n.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(n,e){const i=this.visitStyle(n.styles,e),r=n.options&&n.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(c=>{c instanceof Map&&c.forEach(h=>{oP(h).forEach(g=>{s.hasOwnProperty(g)||o.add(g)})})}),o.size&&e.errors.push(function Hz(t,n){return new Se(3008,!1)}(0,o.values()))}return{type:Lt.State,name:n.name,style:i,options:r?{params:r}:null}}visitTransition(n,e){e.queryCount=0,e.depCount=0;const i=zr(this,Rd(n.animation),e),r=function Tj(t,n){const e=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(i=>function Pj(t,n,e){if(":"==t[0]){const h=function Aj(t,n){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return n.push(function Jz(t){return new Se(3016,!1)}()),"* => *"}}(t,e);if("function"==typeof h)return void n.push(h);t=h}const i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function Xz(t){return new Se(3015,!1)}()),n;const r=i[1],o=i[2],s=i[3];n.push(aP(r,s)),"<"==o[0]&&(r!=tg||s!=tg)&&n.push(aP(s,r))}(i,e,n)):e.push(t),e}(n.expr,e.errors);return{type:Lt.Transition,matchers:r,animation:i,queryCount:e.queryCount,depCount:e.depCount,options:sl(n.options)}}visitSequence(n,e){return{type:Lt.Sequence,steps:n.steps.map(i=>zr(this,i,e)),options:sl(n.options)}}visitGroup(n,e){const i=e.currentTime;let r=0;const o=n.steps.map(s=>{e.currentTime=i;const c=zr(this,s,e);return r=Math.max(r,e.currentTime),c});return e.currentTime=r,{type:Lt.Group,steps:o,options:sl(n.options)}}visitAnimate(n,e){const i=function Bj(t,n){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return V0(eg(t,n).duration,0,"");const e=t;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=V0(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=eg(e,n);return V0(r.duration,r.delay,r.easing)}(n.timings,e.errors);e.currentAnimateTimings=i;let r,o=n.styles?n.styles:rn({});if(o.type==Lt.Keyframes)r=this.visitKeyframes(o,e);else{let s=n.styles,c=!1;if(!s){c=!0;const g={};i.easing&&(g.easing=i.easing),s=rn(g)}e.currentTime+=i.duration+i.delay;const h=this.visitStyle(s,e);h.isEmptyStep=c,r=h}return e.currentAnimateTimings=null,{type:Lt.Animate,timings:i,style:r,options:null}}visitStyle(n,e){const i=this._makeStyleAst(n,e);return this._validateStyleAst(i,e),i}_makeStyleAst(n,e){const i=[],r=Array.isArray(n.styles)?n.styles:[n.styles];for(let c of r)"string"==typeof c?c===Ts?i.push(c):e.errors.push(new Se(3002,!1)):i.push(new Map(Object.entries(c)));let o=!1,s=null;return i.forEach(c=>{if(c instanceof Map&&(c.has("easing")&&(s=c.get("easing"),c.delete("easing")),!o))for(let h of c.values())if(h.toString().indexOf("{{")>=0){o=!0;break}}),{type:Lt.Style,styles:i,easing:s,offset:n.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(n,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),n.styles.forEach(s=>{"string"!=typeof s&&s.forEach((c,h)=>{const g=e.collectedStyles.get(e.currentQuerySelector),y=g.get(h);let C=!0;y&&(o!=r&&o>=y.startTime&&r<=y.endTime&&(e.errors.push(function Wz(t,n,e,i,r){return new Se(3010,!1)}()),C=!1),o=y.startTime),C&&g.set(h,{startTime:o,endTime:r}),e.options&&function Cj(t,n,e){const i=n.params||{},r=oP(t);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function Lz(t){return new Se(3001,!1)}())})}(c,e.options,e.errors)})})}visitKeyframes(n,e){const i={type:Lt.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function Gz(){return new Se(3011,!1)}()),i;let o=0;const s=[];let c=!1,h=!1,g=0;const y=n.steps.map(Ce=>{const ye=this._makeStyleAst(Ce,e);let Qe=null!=ye.offset?ye.offset:function Lj(t){if("string"==typeof t)return null;let n=null;if(Array.isArray(t))t.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;n=parseFloat(i.get("offset")),i.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const e=t;n=parseFloat(e.get("offset")),e.delete("offset")}return n}(ye.styles),dt=0;return null!=Qe&&(o++,dt=ye.offset=Qe),h=h||dt<0||dt>1,c=c||dt<g,g=dt,s.push(dt),ye});h&&e.errors.push(function Yz(){return new Se(3012,!1)}()),c&&e.errors.push(function Zz(){return new Se(3200,!1)}());const C=n.steps.length;let A=0;o>0&&o<C?e.errors.push(function qz(){return new Se(3202,!1)}()):0==o&&(A=1/(C-1));const O=C-1,j=e.currentTime,ne=e.currentAnimateTimings,he=ne.duration;return y.forEach((Ce,ye)=>{const Qe=A>0?ye==O?1:A*ye:s[ye],dt=Qe*he;e.currentTime=j+ne.delay+dt,ne.duration=dt,this._validateStyleAst(Ce,e),Ce.offset=Qe,i.styles.push(Ce)}),i}visitReference(n,e){return{type:Lt.Reference,animation:zr(this,Rd(n.animation),e),options:sl(n.options)}}visitAnimateChild(n,e){return e.depCount++,{type:Lt.AnimateChild,options:sl(n.options)}}visitAnimateRef(n,e){return{type:Lt.AnimateRef,animation:this.visitReference(n.animation,e),options:sl(n.options)}}visitQuery(n,e){const i=e.currentQuerySelector,r=n.options||{};e.queryCount++,e.currentQuery=n;const[o,s]=function Nj(t){const n=!!t.split(/\s*,\s*/).find(e=>":self"==e);return n&&(t=t.replace(kj,"")),t=t.replace(/@\*/g,Jp).replace(/@\w+/g,e=>Jp+"-"+e.slice(1)).replace(/:animating/g,O0),[t,n]}(n.selector);e.currentQuerySelector=i.length?i+" "+o:o,Ur(e.collectedStyles,e.currentQuerySelector,new Map);const c=zr(this,Rd(n.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:Lt.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:c,originalSelector:n.selector,options:sl(n.options)}}visitStagger(n,e){e.currentQuery||e.errors.push(function Kz(){return new Se(3013,!1)}());const i="full"===n.timings?{duration:0,delay:0,easing:"full"}:eg(n.timings,e.errors,!0);return{type:Lt.Stagger,animation:zr(this,Rd(n.animation),e),timings:i,options:null}}}class Rj{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function sl(t){return t?(t={...t}).params&&(t.params=function Fj(t){return t?{...t}:null}(t.params)):t={},t}function V0(t,n,e){return{duration:t,delay:n,easing:e}}function U0(t,n,e,i,r,o,s=null,c=!1){return{type:1,element:t,keyframes:n,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:c}}class rg{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,e){let i=this._map.get(n);i||this._map.set(n,i=[]),i.push(...e)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const zj=new RegExp(":enter","g"),Hj=new RegExp(":leave","g");function z0(t,n,e,i,r,o=new Map,s=new Map,c,h,g=[]){return(new $j).buildKeyframes(t,n,e,i,r,o,s,c,h,g)}class $j{buildKeyframes(n,e,i,r,o,s,c,h,g,y=[]){g=g||new rg;const C=new j0(n,e,g,r,o,y,[]);C.options=h;const A=h.delay?Ps(h.delay):0;C.currentTimeline.delayNextStep(A),C.currentTimeline.setStyles([s],null,C.errors,h),zr(this,i,C);const O=C.timelines.filter(j=>j.containsAnimation());if(O.length&&c.size){let j;for(let ne=O.length-1;ne>=0;ne--){const he=O[ne];if(he.element===e){j=he;break}}j&&!j.allowOnlyTimelineStyles()&&j.setStyles([c],null,C.errors,h)}return O.length?O.map(j=>j.buildKeyframes()):[U0(e,[],[],[],0,A,"",!1)]}visitTrigger(n,e){}visitState(n,e){}visitTransition(n,e){}visitAnimateChild(n,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(n.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=n}visitAnimateRef(n,e){const i=e.createSubContext(n.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],e,i),this.visitReference(n.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=n}_applyAnimationRefDelays(n,e,i){for(const r of n){const o=r?.delay;if(o){const s="number"==typeof o?o:Ps(Ld(o,r?.params??{},e.errors));i.delayNextStep(s)}}}_visitSubInstructions(n,e,i){let o=e.currentTimeline.currentTime;const s=null!=i.duration?Ps(i.duration):null,c=null!=i.delay?Ps(i.delay):null;return 0!==s&&n.forEach(h=>{const g=e.appendInstructionToTimeline(h,s,c);o=Math.max(o,g.duration+g.delay)}),o}visitReference(n,e){e.updateOptions(n.options,!0),zr(this,n.animation,e),e.previousNode=n}visitSequence(n,e){const i=e.subContextCount;let r=e;const o=n.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){r.previousNode.type==Lt.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=og);const s=Ps(o.delay);r.delayNextStep(s)}n.steps.length&&(n.steps.forEach(s=>zr(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=n}visitGroup(n,e){const i=[];let r=e.currentTimeline.currentTime;const o=n.options&&n.options.delay?Ps(n.options.delay):0;n.steps.forEach(s=>{const c=e.createSubContext(n.options);o&&c.delayNextStep(o),zr(this,s,c),r=Math.max(r,c.currentTimeline.currentTime),i.push(c.currentTimeline)}),i.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=n}_visitTiming(n,e){if(n.dynamic){const i=n.strValue;return eg(e.params?Ld(i,e.params,e.errors):i,e.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,e){const i=e.currentAnimateTimings=this._visitTiming(n.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=n.style;o.type==Lt.Keyframes?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=n}visitStyle(n,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||n.easing;n.isEmptyStep?i.applyEmptyStep(o):i.setStyles(n.styles,o,e.errors,e.options),e.previousNode=n}visitKeyframes(n,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,c=e.createSubContext().currentTimeline;c.easing=i.easing,n.styles.forEach(h=>{c.forwardTime((h.offset||0)*o),c.setStyles(h.styles,h.easing,e.errors,e.options),c.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(c),e.transformIntoNewTimeline(r+o),e.previousNode=n}visitQuery(n,e){const i=e.currentTimeline.currentTime,r=n.options||{},o=r.delay?Ps(r.delay):0;o&&(e.previousNode.type===Lt.Style||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=og);let s=i;const c=e.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=c.length;let h=null;c.forEach((g,y)=>{e.currentQueryIndex=y;const C=e.createSubContext(n.options,g);o&&C.delayNextStep(o),g===e.element&&(h=C.currentTimeline),zr(this,n.animation,C),C.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,C.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),h&&(e.currentTimeline.mergeTimelineCollectedStyles(h),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=n}visitStagger(n,e){const i=e.parentContext,r=e.currentTimeline,o=n.timings,s=Math.abs(o.duration),c=s*(e.currentQueryTotal-1);let h=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":h=c-h;break;case"full":h=i.currentStaggerTime}const y=e.currentTimeline;h&&y.delayNextStep(h);const C=y.currentTime;zr(this,n.animation,e),e.previousNode=n,i.currentStaggerTime=r.currentTime-C+(r.startTime-i.currentTimeline.startTime)}}const og={};class j0{constructor(n,e,i,r,o,s,c,h){this._driver=n,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=c,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=og,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=h||new sg(this._driver,e,0),c.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,e){if(!n)return;const i=n;let r=this.options;null!=i.duration&&(r.duration=Ps(i.duration)),null!=i.delay&&(r.delay=Ps(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(c=>{(!e||!s.hasOwnProperty(c))&&(s[c]=Ld(o[c],s,this.errors))})}}_copyOptions(){const n={};if(this.options){const e=this.options.params;if(e){const i=n.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return n}createSubContext(n=null,e,i){const r=e||this.element,o=new j0(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(n),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(n){return this.previousNode=og,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,e,i){const r={duration:e??n.duration,delay:this.currentTimeline.currentTime+(i??0)+n.delay,easing:""},o=new Wj(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,r,n.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,e,i,r,o,s){let c=[];if(r&&c.push(this.element),n.length>0){n=(n=n.replace(zj,"."+this._enterClassName)).replace(Hj,"."+this._leaveClassName);let g=this._driver.query(this.element,n,1!=i);0!==i&&(g=i<0?g.slice(g.length+i,g.length):g.slice(0,i)),c.push(...g)}return!o&&0==c.length&&s.push(function Qz(t){return new Se(3014,!1)}()),c}}class sg{constructor(n,e,i,r){this._driver=n,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+n),e&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,e){return this.applyStylesToKeyframe(),new sg(this._driver,n,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,e){this._localTimelineStyles.set(n,e),this._globalTimelineStyles.set(n,e),this._styleSummary.set(n,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Ts),this._currentKeyframe.set(e,Ts);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},s=function Gj(t,n){const e=new Map;let i;return t.forEach(r=>{if("*"===r){i??=n.keys();for(let o of i)e.set(o,Ts)}else for(let[o,s]of r)e.set(o,s)}),e}(n,this._globalTimelineStyles);for(let[c,h]of s){const g=Ld(h,o,i);this._pendingStyles.set(c,g),this._localTimelineStyles.has(c)||this._backFill.set(c,this._globalTimelineStyles.get(c)??Ts),this._updateStyle(c,g)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((n,e)=>{this._currentKeyframe.set(e,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,n)}))}snapshotCurrentStyles(){for(let[n,e]of this._localTimelineStyles)this._pendingStyles.set(n,e),this._updateStyle(n,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let e in this._currentKeyframe)n.push(e);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((c,h)=>{const g=new Map([...this._backFill,...c]);g.forEach((y,C)=>{"!"===y?n.add(C):y===Ts&&e.add(C)}),i||g.set("offset",h/this.duration),r.push(g)});const o=[...n.values()],s=[...e.values()];if(i){const c=r[0],h=new Map(c);c.set("offset",0),h.set("offset",1),r=[c,h]}return U0(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class Wj extends sg{constructor(n,e,i,r,o,s,c=!1){super(n,e,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=c,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],s=i+e,c=e/s,h=new Map(n[0]);h.set("offset",0),o.push(h);const g=new Map(n[0]);g.set("offset",uP(c)),o.push(g);const y=n.length-1;for(let C=1;C<=y;C++){let A=new Map(n[C]);const O=A.get("offset");A.set("offset",uP((e+O*i)/s)),o.push(A)}i=s,e=0,r="",n=o}return U0(this.element,n,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function uP(t,n=3){const e=Math.pow(10,n-1);return Math.round(t*e)/e}function dP(t,n,e,i,r,o,s,c,h,g,y,C,A){return{type:0,element:t,triggerName:n,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:s,timelines:c,queriedElements:h,preStyleProps:g,postStyleProps:y,totalTime:C,errors:A}}const H0={};class fP{constructor(n,e,i){this._triggerName=n,this.ast=e,this._stateStyles=i}match(n,e,i,r){return function Yj(t,n,e,i,r){return t.some(o=>o(n,e,i,r))}(this.ast.matchers,n,e,i,r)}buildStyles(n,e,i){let r=this._stateStyles.get("*");return void 0!==n&&(r=this._stateStyles.get(n?.toString())||r),r?r.buildStyles(e,i):new Map}build(n,e,i,r,o,s,c,h,g,y){const C=[],A=this.ast.options&&this.ast.options.params||H0,j=this.buildStyles(i,c&&c.params||H0,C),ne=h&&h.params||H0,he=this.buildStyles(r,ne,C),Ce=new Set,ye=new Map,Qe=new Map,dt="void"===r,$t={params:hP(ne,A),delay:this.ast.options?.delay},sn=y?[]:z0(n,e,this.ast.animation,o,s,j,he,$t,g,C);let Sn=0;return sn.forEach(hi=>{Sn=Math.max(hi.duration+hi.delay,Sn)}),C.length?dP(e,this._triggerName,i,r,dt,j,he,[],[],ye,Qe,Sn,C):(sn.forEach(hi=>{const ss=hi.element,pa=Ur(ye,ss,new Set);hi.preStyleProps.forEach(cl=>pa.add(cl));const eA=Ur(Qe,ss,new Set);hi.postStyleProps.forEach(cl=>eA.add(cl)),ss!==e&&Ce.add(ss)}),dP(e,this._triggerName,i,r,dt,j,he,sn,[...Ce.values()],ye,Qe,Sn))}}function hP(t,n){const e={...n};return Object.entries(t).forEach(([i,r])=>{null!=r&&(e[i]=r)}),e}class Zj{constructor(n,e,i){this.styles=n,this.defaultParams=e,this.normalizer=i}buildStyles(n,e){const i=new Map,r=hP(n,this.defaultParams);return this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,c)=>{s&&(s=Ld(s,r,e));const h=this.normalizer.normalizePropertyName(c,e);s=this.normalizer.normalizeStyleValue(c,h,s,e),i.set(c,s)})}),i}}class Kj{constructor(n,e,i){this.name=n,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new Zj(r.style,r.options&&r.options.params||{},i))}),pP(this.states,"true","1"),pP(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new fP(n,r,this.states))}),this.fallbackTransition=function Qj(t,n,e){return new fP(t,{type:Lt.Transition,animation:{type:Lt.Sequence,steps:[],options:null},matchers:[(s,c)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,e,i,r){return this.transitionFactories.find(s=>s.match(n,e,i,r))||null}matchStyles(n,e,i){return this.fallbackTransition.buildStyles(n,e,i)}}function pP(t,n,e){t.has(n)?t.has(e)||t.set(e,t.get(n)):t.has(e)&&t.set(n,t.get(e))}const Xj=new rg;class Jj{constructor(n,e,i){this.bodyNode=n,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,e){const i=[],o=B0(this._driver,e,i,[]);if(i.length)throw function rj(t){return new Se(3503,!1)}();this._animations.set(n,o)}_buildPlayer(n,e,i){const r=n.element,o=QT(this._normalizer,n.keyframes,e,i);return this._driver.animate(r,o,n.duration,n.delay,n.easing,[],!0)}create(n,e,i={}){const r=[],o=this._animations.get(n);let s;const c=new Map;if(o?(s=z0(this._driver,e,o,k0,Qp,new Map,new Map,i,Xj,r),s.forEach(y=>{const C=Ur(c,y.element,new Map);y.postStyleProps.forEach(A=>C.set(A,null))})):(r.push(function oj(){return new Se(3300,!1)}()),s=[]),r.length)throw function sj(t){return new Se(3504,!1)}();c.forEach((y,C)=>{y.forEach((A,O)=>{y.set(O,this._driver.computeStyle(C,O,Ts))})});const g=ca(s.map(y=>{const C=c.get(y.element);return this._buildPlayer(y,new Map,C)}));return this._playersById.set(n,g),g.onDestroy(()=>this.destroy(n)),this.players.push(g),g}destroy(n){const e=this._getPlayer(n);e.destroy(),this._playersById.delete(n);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(n){const e=this._playersById.get(n);if(!e)throw function aj(t){return new Se(3301,!1)}();return e}listen(n,e,i,r){const o=D0(e,"","","");return I0(this._getPlayer(n),i,o,r),()=>{}}command(n,e,i,r){if("register"==i)return void this.register(n,r[0]);if("create"==i)return void this.create(n,e,r[0]||{});const o=this._getPlayer(n);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(n)}}}const gP="ng-animate-queued",$0="ng-animate-disabled",rH=[],mP={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},oH={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Oo="__ng_removed";class W0{get params(){return this.options.params}constructor(n,e=""){this.namespaceId=e;const i=n&&n.hasOwnProperty("value");if(this.value=function cH(t){return t??null}(i?n.value:n),i){const{value:o,...s}=n;this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){const e=n.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Bd="void",G0=new W0(Bd);class sH{constructor(n,e,i){this.id=n,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,Jr(e,this._hostClassName)}listen(n,e,i,r){if(!this._triggers.has(e))throw function lj(t,n){return new Se(3302,!1)}();if(null==i||0==i.length)throw function cj(t){return new Se(3303,!1)}();if(!function uH(t){return"start"==t||"done"==t}(i))throw function uj(t,n){return new Se(3400,!1)}();const o=Ur(this._elementListeners,n,[]),s={name:e,phase:i,callback:r};o.push(s);const c=Ur(this._engine.statesByElement,n,new Map);return c.has(e)||(Jr(n,Xp),Jr(n,Xp+"-"+e),c.set(e,G0)),()=>{this._engine.afterFlush(()=>{const h=o.indexOf(s);h>=0&&o.splice(h,1),this._triggers.has(e)||c.delete(e)})}}register(n,e){return!this._triggers.has(n)&&(this._triggers.set(n,e),!0)}_getTrigger(n){const e=this._triggers.get(n);if(!e)throw function dj(t){return new Se(3401,!1)}();return e}trigger(n,e,i,r=!0){const o=this._getTrigger(e),s=new Y0(this.id,e,n);let c=this._engine.statesByElement.get(n);c||(Jr(n,Xp),Jr(n,Xp+"-"+e),this._engine.statesByElement.set(n,c=new Map));let h=c.get(e);const g=new W0(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&h&&g.absorbOptions(h.options),c.set(e,g),h||(h=G0),g.value!==Bd&&h.value===g.value){if(!function hH(t,n){const e=Object.keys(t),i=Object.keys(n);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!n.hasOwnProperty(o)||t[o]!==n[o])return!1}return!0}(h.params,g.params)){const ne=[],he=o.matchStyles(h.value,h.params,ne),Ce=o.matchStyles(g.value,g.params,ne);ne.length?this._engine.reportError(ne):this._engine.afterFlush(()=>{ol(n,he),os(n,Ce)})}return}const A=Ur(this._engine.playersByElement,n,[]);A.forEach(ne=>{ne.namespaceId==this.id&&ne.triggerName==e&&ne.queued&&ne.destroy()});let O=o.matchTransition(h.value,g.value,n,g.params),j=!1;if(!O){if(!r)return;O=o.fallbackTransition,j=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:e,transition:O,fromState:h,toState:g,player:s,isFallbackTransition:j}),j||(Jr(n,gP),s.onStart(()=>{Uc(n,gP)})),s.onDone(()=>{let ne=this.players.indexOf(s);ne>=0&&this.players.splice(ne,1);const he=this._engine.playersByElement.get(n);if(he){let Ce=he.indexOf(s);Ce>=0&&he.splice(Ce,1)}}),this.players.push(s),A.push(s),s}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(e=>e.delete(n)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const e=this._engine.playersByElement.get(n);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,e){const i=this._engine.driver.query(n,Jp,!0);i.forEach(r=>{if(r[Oo])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(n,e,i,r){const o=this._engine.statesByElement.get(n),s=new Map;if(o){const c=[];if(o.forEach((h,g)=>{if(s.set(g,h.value),this._triggers.has(g)){const y=this.trigger(n,g,Bd,r);y&&c.push(y)}}),c.length)return this._engine.markElementAsRemoved(this.id,n,!0,e,s),i&&ca(c).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const e=this._elementListeners.get(n),i=this._engine.statesByElement.get(n);if(e&&i){const r=new Set;e.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const h=this._triggers.get(s).fallbackTransition,g=i.get(s)||G0,y=new W0(Bd),C=new Y0(this.id,s,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:s,transition:h,fromState:g,toState:y,player:C,isFallbackTransition:!0})})}}removeNode(n,e){const i=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,e),this.triggerLeaveAnimation(n,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(n):[];if(o&&o.length)r=!0;else{let s=n;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(n),r)i.markElementAsRemoved(this.id,n,!1,e);else{const o=n[Oo];(!o||o===mP)&&(i.afterFlush(()=>this.clearElementCache(n)),i.destroyInnerAnimations(n),i._onRemovalComplete(n,e))}}insertNode(n,e){Jr(n,this._hostClassName)}drainQueuedTransitions(n){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(c=>{if(c.name==i.triggerName){const h=D0(o,i.triggerName,i.fromState.value,i.toState.value);h._data=n,I0(i.player,c.phase,h,c.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(n){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}}class aH{_onRemovalComplete(n,e){this.onRemovalComplete(n,e)}constructor(n,e,i){this.bodyNode=n,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const n=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&n.push(i)})}),n}createNamespace(n,e){const i=new sH(n,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[n]=i}_balanceNamespaceList(n,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,c=this.driver.getParentElement(e);for(;c;){const h=r.get(c);if(h){const g=i.indexOf(h);i.splice(g+1,0,n),s=!0;break}c=this.driver.getParentElement(c)}s||i.unshift(n)}else i.push(n);return r.set(e,n),n}register(n,e){let i=this._namespaceLookup[n];return i||(i=this.createNamespace(n,e)),i}registerTrigger(n,e,i){let r=this._namespaceLookup[n];r&&r.register(e,i)&&this.totalAnimations++}destroy(n,e){n&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(n);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[n]}))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const e=new Set,i=this.statesByElement.get(n);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(n,e,i,r){if(ag(e)){const o=this._fetchNamespace(n);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(n,e,i,r){if(!ag(e))return;const o=e[Oo];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(n){const s=this._fetchNamespace(n);s&&s.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,e){e?this.disabledNodes.has(n)||(this.disabledNodes.add(n),Jr(n,$0)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),Uc(n,$0))}removeNode(n,e,i){if(ag(e)){const r=n?this._fetchNamespace(n):null;r?r.removeNode(e,i):this.markElementAsRemoved(n,e,!1,i);const o=this.namespacesByHostElement.get(e);o&&o.id!==n&&o.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(n,e,i,r,o){this.collectedLeaveElements.push(e),e[Oo]={namespaceId:n,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(n,e,i,r,o){return ag(e)?this._fetchNamespace(n).listen(e,i,r,o):()=>{}}_buildInstruction(n,e,i,r,o){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,i,r,n.fromState.options,n.toState.options,e,o)}destroyInnerAnimations(n){let e=this.driver.query(n,Jp,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(n,O0,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(n){const e=this.playersByElement.get(n);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(n){const e=this.playersByQueriedElement.get(n);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return ca(this.players).onDone(()=>n());n()})}processLeaveNode(n){const e=n[Oo];if(e&&e.setForRemoval){if(n[Oo]=mP,e.namespaceId){this.destroyInnerAnimations(n);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(n)}this._onRemovalComplete(n,e.setForRemoval)}n.classList?.contains($0)&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(n=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Jr(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,n)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?ca(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(n){throw function fj(t){return new Se(3402,!1)}()}_flushAnimations(n,e){const i=new rg,r=[],o=new Map,s=[],c=new Map,h=new Map,g=new Map,y=new Set;this.disabledNodes.forEach(ut=>{y.add(ut);const Dt=this.driver.query(ut,".ng-animate-queued",!0);for(let kt=0;kt<Dt.length;kt++)y.add(Dt[kt])});const C=this.bodyNode,A=Array.from(this.statesByElement.keys()),O=vP(A,this.collectedEnterElements),j=new Map;let ne=0;O.forEach((ut,Dt)=>{const kt=k0+ne++;j.set(Dt,kt),ut.forEach(cn=>Jr(cn,kt))});const he=[],Ce=new Set,ye=new Set;for(let ut=0;ut<this.collectedLeaveElements.length;ut++){const Dt=this.collectedLeaveElements[ut],kt=Dt[Oo];kt&&kt.setForRemoval&&(he.push(Dt),Ce.add(Dt),kt.hasAnimation?this.driver.query(Dt,".ng-star-inserted",!0).forEach(cn=>Ce.add(cn)):ye.add(Dt))}const Qe=new Map,dt=vP(A,Array.from(Ce));dt.forEach((ut,Dt)=>{const kt=Qp+ne++;Qe.set(Dt,kt),ut.forEach(cn=>Jr(cn,kt))}),n.push(()=>{O.forEach((ut,Dt)=>{const kt=j.get(Dt);ut.forEach(cn=>Uc(cn,kt))}),dt.forEach((ut,Dt)=>{const kt=Qe.get(Dt);ut.forEach(cn=>Uc(cn,kt))}),he.forEach(ut=>{this.processLeaveNode(ut)})});const $t=[],sn=[];for(let ut=this._namespaceList.length-1;ut>=0;ut--)this._namespaceList[ut].drainQueuedTransitions(e).forEach(kt=>{const cn=kt.player,Ni=kt.element;if($t.push(cn),this.collectedEnterElements.length){const qi=Ni[Oo];if(qi&&qi.setForMove){if(qi.previousTriggersValues&&qi.previousTriggersValues.has(kt.triggerName)){const ul=qi.previousTriggersValues.get(kt.triggerName),io=this.statesByElement.get(kt.element);if(io&&io.has(kt.triggerName)){const wg=io.get(kt.triggerName);wg.value=ul,io.set(kt.triggerName,wg)}}return void cn.destroy()}}const as=!C||!this.driver.containsElement(C,Ni),Hr=Qe.get(Ni),ga=j.get(Ni),Qn=this._buildInstruction(kt,i,ga,Hr,as);if(Qn.errors&&Qn.errors.length)return void sn.push(Qn);if(as)return cn.onStart(()=>ol(Ni,Qn.fromStyles)),cn.onDestroy(()=>os(Ni,Qn.toStyles)),void r.push(cn);if(kt.isFallbackTransition)return cn.onStart(()=>ol(Ni,Qn.fromStyles)),cn.onDestroy(()=>os(Ni,Qn.toStyles)),void r.push(cn);const iA=[];Qn.timelines.forEach(qi=>{qi.stretchStartingKeyframe=!0,this.disabledNodes.has(qi.element)||iA.push(qi)}),Qn.timelines=iA,i.append(Ni,Qn.timelines),s.push({instruction:Qn,player:cn,element:Ni}),Qn.queriedElements.forEach(qi=>Ur(c,qi,[]).push(cn)),Qn.preStyleProps.forEach((qi,ul)=>{if(qi.size){let io=h.get(ul);io||h.set(ul,io=new Set),qi.forEach((wg,Vw)=>io.add(Vw))}}),Qn.postStyleProps.forEach((qi,ul)=>{let io=g.get(ul);io||g.set(ul,io=new Set),qi.forEach((wg,Vw)=>io.add(Vw))})});if(sn.length){const ut=[];sn.forEach(Dt=>{ut.push(function hj(t,n){return new Se(3505,!1)}())}),$t.forEach(Dt=>Dt.destroy()),this.reportError(ut)}const Sn=new Map,hi=new Map;s.forEach(ut=>{const Dt=ut.element;i.has(Dt)&&(hi.set(Dt,Dt),this._beforeAnimationBuild(ut.player.namespaceId,ut.instruction,Sn))}),r.forEach(ut=>{const Dt=ut.element;this._getPreviousPlayers(Dt,!1,ut.namespaceId,ut.triggerName,null).forEach(cn=>{Ur(Sn,Dt,[]).push(cn),cn.destroy()})});const ss=he.filter(ut=>EP(ut,h,g)),pa=new Map;yP(pa,this.driver,ye,g,Ts).forEach(ut=>{EP(ut,h,g)&&ss.push(ut)});const cl=new Map;O.forEach((ut,Dt)=>{yP(cl,this.driver,new Set(ut),h,"!")}),ss.forEach(ut=>{const Dt=pa.get(ut),kt=cl.get(ut);pa.set(ut,new Map([...Dt?.entries()??[],...kt?.entries()??[]]))});const Bw=[],tA=[],nA={};s.forEach(ut=>{const{element:Dt,player:kt,instruction:cn}=ut;if(i.has(Dt)){if(y.has(Dt))return kt.onDestroy(()=>os(Dt,cn.toStyles)),kt.disabled=!0,kt.overrideTotalTime(cn.totalTime),void r.push(kt);let Ni=nA;if(hi.size>1){let Hr=Dt;const ga=[];for(;Hr=Hr.parentNode;){const Qn=hi.get(Hr);if(Qn){Ni=Qn;break}ga.push(Hr)}ga.forEach(Qn=>hi.set(Qn,Ni))}const as=this._buildAnimation(kt.namespaceId,cn,Sn,o,cl,pa);if(kt.setRealPlayer(as),Ni===nA)Bw.push(kt);else{const Hr=this.playersByElement.get(Ni);Hr&&Hr.length&&(kt.parentPlayer=ca(Hr)),r.push(kt)}}else ol(Dt,cn.fromStyles),kt.onDestroy(()=>os(Dt,cn.toStyles)),tA.push(kt),y.has(Dt)&&r.push(kt)}),tA.forEach(ut=>{const Dt=o.get(ut.element);if(Dt&&Dt.length){const kt=ca(Dt);ut.setRealPlayer(kt)}}),r.forEach(ut=>{ut.parentPlayer?ut.syncPlayerEvents(ut.parentPlayer):ut.destroy()});for(let ut=0;ut<he.length;ut++){const Dt=he[ut],kt=Dt[Oo];if(Uc(Dt,Qp),kt&&kt.hasAnimation)continue;let cn=[];if(c.size){let as=c.get(Dt);as&&as.length&&cn.push(...as);let Hr=this.driver.query(Dt,O0,!0);for(let ga=0;ga<Hr.length;ga++){let Qn=c.get(Hr[ga]);Qn&&Qn.length&&cn.push(...Qn)}}const Ni=cn.filter(as=>!as.destroyed);Ni.length?dH(this,Dt,Ni):this.processLeaveNode(Dt)}return he.length=0,Bw.forEach(ut=>{this.players.push(ut),ut.onDone(()=>{ut.destroy();const Dt=this.players.indexOf(ut);this.players.splice(Dt,1)}),ut.play()}),Bw}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,e,i,r,o){let s=[];if(e){const c=this.playersByQueriedElement.get(n);c&&(s=c)}else{const c=this.playersByElement.get(n);if(c){const h=!o||o==Bd;c.forEach(g=>{g.queued||!h&&g.triggerName!=r||s.push(g)})}}return(i||r)&&(s=s.filter(c=>!(i&&i!=c.namespaceId||r&&r!=c.triggerName))),s}_beforeAnimationBuild(n,e,i){const o=e.element,s=e.isRemovalTransition?void 0:n,c=e.isRemovalTransition?void 0:e.triggerName;for(const h of e.timelines){const g=h.element,y=g!==o,C=Ur(i,g,[]);this._getPreviousPlayers(g,y,s,c,e.toState).forEach(O=>{const j=O.getRealPlayer();j.beforeDestroy&&j.beforeDestroy(),O.destroy(),C.push(O)})}ol(o,e.fromStyles)}_buildAnimation(n,e,i,r,o,s){const c=e.triggerName,h=e.element,g=[],y=new Set,C=new Set,A=e.timelines.map(j=>{const ne=j.element;y.add(ne);const he=ne[Oo];if(he&&he.removedBeforeQueried)return new Fd(j.duration,j.delay);const Ce=ne!==h,ye=function fH(t){const n=[];return wP(t,n),n}((i.get(ne)||rH).map(Sn=>Sn.getRealPlayer())).filter(Sn=>!!Sn.element&&Sn.element===ne),Qe=o.get(ne),dt=s.get(ne),$t=QT(this._normalizer,j.keyframes,Qe,dt),sn=this._buildPlayer(j,$t,ye);if(j.subTimeline&&r&&C.add(ne),Ce){const Sn=new Y0(n,c,ne);Sn.setRealPlayer(sn),g.push(Sn)}return sn});g.forEach(j=>{Ur(this.playersByQueriedElement,j.element,[]).push(j),j.onDone(()=>function lH(t,n,e){let i=t.get(n);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&t.delete(n)}return i}(this.playersByQueriedElement,j.element,j))}),y.forEach(j=>Jr(j,iP));const O=ca(A);return O.onDestroy(()=>{y.forEach(j=>Uc(j,iP)),os(h,e.toStyles)}),C.forEach(j=>{Ur(r,j,[]).push(O)}),O}_buildPlayer(n,e,i){return e.length>0?this.driver.animate(n.element,e,n.duration,n.delay,n.easing,i):new Fd(n.duration,n.delay)}}class Y0{constructor(n,e,i){this.namespaceId=n,this.triggerName=e,this.element=i,this._player=new Fd,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>I0(n,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const e=this._player;e.triggerCallback&&n.onStart(()=>e.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,e){Ur(this._queuedCallbacks,n,[]).push(e)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const e=this._player;e.triggerCallback&&e.triggerCallback(n)}}function ag(t){return t&&1===t.nodeType}function _P(t,n){const e=t.style.display;return t.style.display=n??"none",e}function yP(t,n,e,i,r){const o=[];e.forEach(h=>o.push(_P(h)));const s=[];i.forEach((h,g)=>{const y=new Map;h.forEach(C=>{const A=n.computeStyle(g,C,r);y.set(C,A),(!A||0==A.length)&&(g[Oo]=oH,s.push(g))}),t.set(g,y)});let c=0;return e.forEach(h=>_P(h,o[c++])),s}function vP(t,n){const e=new Map;if(t.forEach(c=>e.set(c,[])),0==n.length)return e;const r=new Set(n),o=new Map;function s(c){if(!c)return 1;let h=o.get(c);if(h)return h;const g=c.parentNode;return h=e.has(g)?g:r.has(g)?1:s(g),o.set(c,h),h}return n.forEach(c=>{const h=s(c);1!==h&&e.get(h).push(c)}),e}function Jr(t,n){t.classList?.add(n)}function Uc(t,n){t.classList?.remove(n)}function dH(t,n,e){ca(e).onDone(()=>t.processLeaveNode(n))}function wP(t,n){for(let e=0;e<t.length;e++){const i=t[e];i instanceof qT?wP(i.players,n):n.push(i)}}function EP(t,n,e){const i=e.get(t);if(!i)return!1;let r=n.get(t);return r?i.forEach(o=>r.add(o)):n.set(t,i),e.delete(t),!0}class Vd{constructor(n,e,i){this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new aH(n.body,e,i),this._timelineEngine=new Jj(n.body,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(n,e,i,r,o){const s=n+"-"+r;let c=this._triggerCache[s];if(!c){const h=[],y=B0(this._driver,o,h,[]);if(h.length)throw function nj(t,n){return new Se(3404,!1)}();c=function qj(t,n,e){return new Kj(t,n,e)}(r,y,this._normalizer),this._triggerCache[s]=c}this._transitionEngine.registerTrigger(e,r,c)}register(n,e){this._transitionEngine.register(n,e)}destroy(n,e){this._transitionEngine.destroy(n,e)}onInsert(n,e,i,r){this._transitionEngine.insertNode(n,e,i,r)}onRemove(n,e,i){this._transitionEngine.removeNode(n,e,i)}disableAnimations(n,e){this._transitionEngine.markElementAsDisabled(n,e)}process(n,e,i,r){if("@"==i.charAt(0)){const[o,s]=XT(i);this._timelineEngine.command(o,e,s,r)}else this._transitionEngine.trigger(n,e,i,r)}listen(n,e,i,r,o){if("@"==i.charAt(0)){const[s,c]=XT(i);return this._timelineEngine.listen(s,e,c,o)}return this._transitionEngine.listen(n,e,i,r,o)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(n){this._transitionEngine.afterFlushAnimationsDone(n)}}class Ud{static#e=this.initialStylesByElement=new WeakMap;constructor(n,e,i){this._element=n,this._startStyles=e,this._endStyles=i,this._state=0;let r=Ud.initialStylesByElement.get(n);r||Ud.initialStylesByElement.set(n,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&os(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(os(this._element,this._initialStyles),this._endStyles&&(os(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Ud.initialStylesByElement.delete(this._element),this._startStyles&&(ol(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ol(this._element,this._endStyles),this._endStyles=null),os(this._element,this._initialStyles),this._state=3)}}function Z0(t){let n=null;return t.forEach((e,i)=>{(function gH(t){return"display"===t||"position"===t})(i)&&(n=n||new Map,n.set(i,e))}),n}class SP{constructor(n,e,i,r){this.element=n,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map;const e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){const e=[];return n.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(n,e,i){return n.animate(this._convertKeyframesToObject(e),i)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&n.set(r,this._finished?i:L0(this.element,r))}),this.currentSnapshot=n}triggerCallback(n){const e="start"===n?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class bP{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}containsElement(n,e){return eP(n,e)}getParentElement(n){return M0(n)}query(n,e,i){return tP(n,e,i)}computeStyle(n,e,i){return L0(n,e)}animate(n,e,i,r,o,s=[]){const h={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(h.easing=o);const g=new Map,y=s.filter(O=>O instanceof SP);(function xj(t,n){return 0===t||0===n})(i,r)&&y.forEach(O=>{O.currentSnapshot.forEach((j,ne)=>g.set(ne,j))});let C=function bj(t){return t.length?t[0]instanceof Map?t:t.map(n=>new Map(Object.entries(n))):[]}(e).map(O=>new Map(O));C=function Dj(t,n,e){if(e.size&&n.length){let i=n[0],r=[];if(e.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<n.length;o++){let s=n[o];r.forEach(c=>s.set(c,L0(t,c)))}}return n}(n,C,g);const A=function pH(t,n){let e=null,i=null;return Array.isArray(n)&&n.length?(e=Z0(n[0]),n.length>1&&(i=Z0(n[n.length-1]))):n instanceof Map&&(e=Z0(n)),e||i?new Ud(t,e,i):null}(n,C);return new SP(n,C,h,A)}}const CP="@.disabled";class IP{constructor(n,e,i,r){this.namespaceId=n,this.delegate=e,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(n){this.delegate.destroyNode?.(n)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,e){this.delegate.appendChild(n,e),this.engine.onInsert(this.namespaceId,e,n,!1)}insertBefore(n,e,i,r=!0){this.delegate.insertBefore(n,e,i),this.engine.onInsert(this.namespaceId,e,n,r)}removeChild(n,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,i,r){this.delegate.setAttribute(n,e,i,r)}removeAttribute(n,e,i){this.delegate.removeAttribute(n,e,i)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,i,r){this.delegate.setStyle(n,e,i,r)}removeStyle(n,e,i){this.delegate.removeStyle(n,e,i)}setProperty(n,e,i){"@"==e.charAt(0)&&e==CP?this.disableAnimations(n,!!i):this.delegate.setProperty(n,e,i)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,i){return this.delegate.listen(n,e,i)}disableAnimations(n,e){this.engine.disableAnimations(n,e)}}class mH extends IP{constructor(n,e,i,r,o){super(e,i,r,o),this.factory=n,this.namespaceId=e}setProperty(n,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==CP?this.disableAnimations(n,i=void 0===i||!!i):this.engine.process(this.namespaceId,n,e.slice(1),i):this.delegate.setProperty(n,e,i)}listen(n,e,i){if("@"==e.charAt(0)){const r=function _H(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(n);let o=e.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function yH(t){const n=t.indexOf(".");return[t.substring(0,n),t.slice(n+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,c=>{this.factory.scheduleListenerCallback(c._data||-1,i,c)})}return this.delegate.listen(n,e,i)}}class vH{constructor(n,e,i){this.delegate=n,this.engine=e,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,e.onRemovalComplete=(r,o)=>{const s=o?.parentNode(r);s&&o.removeChild(s,r)}}createRenderer(n,e){const r=this.delegate.createRenderer(n,e);if(!n||!e?.data?.animation){const g=this._rendererCache;let y=g.get(r);return y||(y=new IP("",r,this.engine,()=>g.delete(r)),g.set(r,y)),y}const o=e.id,s=e.id+"-"+this._currentId;this._currentId++,this.engine.register(s,n);const c=g=>{Array.isArray(g)?g.forEach(c):this.engine.registerTrigger(o,s,n,g.name,g)};return e.data.animation.forEach(c),new mH(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(n,e,i){if(n>=0&&n<this._microtaskId)return void this._zone.run(()=>e(i));const r=this._animationCallbacksBuffer;0==r.length&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{const[s,c]=o;s(c)}),this._animationCallbacksBuffer=[]})}),r.push([e,i])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}const xP=[{provide:A0,useFactory:function EH(){return new sP}},{provide:Vd,useClass:(()=>{class t extends Vd{constructor(e,i,r){super(e,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||t)(Vt(ns),Vt(P0),Vt(A0))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac})}return t})()},{provide:kh,useFactory:function SH(t,n,e){return new vH(t,n,e)},deps:[Hv,Vd,hn]}],q0=[{provide:P0,useFactory:()=>new bP},{provide:HS,useValue:"BrowserAnimations"},...xP],DP=[{provide:P0,useClass:T0},{provide:HS,useValue:"NoopAnimations"},...xP];let bH=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?DP:q0}}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=f({type:t});static#n=this.\u0275inj=tr({providers:q0,imports:[SM]})}return t})();const CH=["editorContainer"],K0=new at("NGX_MONACO_EDITOR_CONFIG");let TP,MP=!1,IH=(()=>{class t{constructor(){this.config=ot(K0),this.onInit=new Tn,this._insideNg=!1}set insideNg(e){this._insideNg=e,this._editor&&(this._editor.dispose(),this.initMonaco(this._options,this.insideNg))}get insideNg(){return this._insideNg}ngAfterViewInit(){MP?TP.then(()=>{this.initMonaco(this._options,this.insideNg)}):(MP=!0,TP=new Promise(e=>{const i=this.config.baseUrl||"./assets";if("object"==typeof window.monaco)return this.initMonaco(this._options,this.insideNg),void e();const r=c=>{let h=c||window.require,g={paths:{vs:`${i}/monaco/min/vs`}};Object.assign(g,this.config.requireConfig||{}),h.config(g),h(["vs/editor/editor.main"],()=>{"function"==typeof this.config.onMonacoLoad&&this.config.onMonacoLoad(),this.initMonaco(this._options,this.insideNg),e()})};if(this.config.monacoRequire)r(this.config.monacoRequire);else if(window.require)if(window.require.config)r();else{var o=`${i}/monaco/min/vs/loader.js`,s=new XMLHttpRequest;s.addEventListener("load",()=>{let c=document.createElement("script");c.type="text/javascript",c.text=["var nodeRequire = require;",s.responseText.replace('"use strict";',""),"var monacoAmdRequire = require;","require = nodeRequire;","require.nodeRequire = require;"].join("\n"),document.body.appendChild(c),r(window.monacoAmdRequire)}),s.open("GET",o),s.send()}else{const c=document.createElement("script");c.type="text/javascript",c.src=`${i}/monaco/min/vs/loader.js`,c.addEventListener("load",()=>{r()}),document.body.appendChild(c)}}))}ngOnDestroy(){this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._editor&&(this._editor.dispose(),this._editor=void 0)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=a({type:t,selectors:[["ng-component"]],viewQuery:function(i,r){if(1&i&&Wt(CH,7),2&i){let o;Gt(o=Yt())&&(r._editorContainer=o.first)}},inputs:{insideNg:"insideNg"},outputs:{onInit:"onInit"},decls:0,vars:0,template:function(i,r){},encapsulation:2})}return t})(),xH=(()=>{class t extends IH{constructor(){super(...arguments),this.zone=ot(hn),this._value="",this.propagateChange=e=>{},this.onTouched=()=>{}}set options(e){this._options=Object.assign({},this.config.defaultOptions,e),this._editor&&(this._editor.dispose(),this.initMonaco(e,this.insideNg))}get options(){return this._options}set model(e){this.options.model=e,this._editor&&(this._editor.dispose(),this.initMonaco(this.options,this.insideNg))}writeValue(e){this._value=e||"",setTimeout(()=>{this._editor&&!this.options.model&&this._editor.setValue(this._value)})}registerOnChange(e){this.propagateChange=e}registerOnTouched(e){this.onTouched=e}initMonaco(e,i){const r=!!e.model;if(r){const o=monaco.editor.getModel(e.model.uri||"");o?(e.model=o,e.model.setValue(this._value)):e.model=monaco.editor.createModel(e.model.value,e.model.language,e.model.uri)}i?this._editor=monaco.editor.create(this._editorContainer.nativeElement,e):this.zone.runOutsideAngular(()=>{this._editor=monaco.editor.create(this._editorContainer.nativeElement,e)}),r||this._editor.setValue(this._value),this._editor.onDidChangeModelContent(o=>{const s=this._editor.getValue();this.zone.run(()=>{this.propagateChange(s),this._value=s})}),this._editor.onDidBlurEditorWidget(()=>{this.onTouched()}),this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._windowResizeSubscription=Oi(window,"resize").subscribe(()=>this._editor.layout()),this.onInit.emit(this._editor)}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=zi(t)))(r||t)}})();static#t=this.\u0275cmp=a({type:t,selectors:[["ngx-monaco-editor"]],inputs:{options:"options",model:"model"},standalone:!0,features:[$n([{provide:Po,useExisting:fn(()=>t),multi:!0}]),En,hx],decls:2,vars:0,consts:[["editorContainer",""],[1,"editor-container"]],template:function(i,r){1&i&&re(0,"div",1,0)},styles:["[_nghost-%COMP%]{display:block;height:200px}.editor-container[_ngcontent-%COMP%]{width:100%;height:98%}"],changeDetection:0})}return t})(),DH=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[{provide:K0,useValue:e}]}}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=f({type:t});static#n=this.\u0275inj=tr({imports:[JD]})}return t})();function PP(t,n,e,i,r,o,s){try{var c=t[o](s),h=c.value}catch(g){return void e(g)}c.done?n(h):Promise.resolve(h).then(i,r)}function Fe(t){return function(){var n=this,e=arguments;return new Promise(function(i,r){var o=t.apply(n,e);function s(h){PP(o,i,r,s,c,"next",h)}function c(h){PP(o,i,r,s,c,"throw",h)}s(void 0)})}}var on=function(t){return t.System="System",t.User="User",t}(on||{}),No=function(t){return t.Error="Error",t.Info="Info",t.Warning="Warning",t}(No||{});class vi{_processId;_processName;_icon;_hasWindow;_type;_status;_powerUsage;_cpuUsage;_memoryUsage;_diskUsage;_gpuUsage;_networkUsage;_processTrigger;constructor(n,e,i,r,o,s){this._processId=n,this._processName=e,this._icon=i,this._hasWindow=r,this._type=o,this._processTrigger=s||null,this._memoryUsage=0,this._cpuUsage=0,this._gpuUsage=0,this._diskUsage=0,this._networkUsage=0,this._status="",this._powerUsage=""}get getProcessId(){return this._processId}get getProcessName(){return this._processName}get getIcon(){return this._icon}get getCpuUsage(){return this._cpuUsage}get getGpuUsage(){return this._gpuUsage}get getMemoryUsage(){return this._memoryUsage}get getHasWindow(){return this._hasWindow}get getType(){return this._type}get getProcessTrigger(){return this._processTrigger}get getDiskUsage(){return this._diskUsage}get getNetworkUsage(){return this._networkUsage}get getProcessStatus(){return this._status}get getPowerUsage(){return this._powerUsage}set setCpuUsage(n){this._cpuUsage=n}set setGpuUsage(n){this._gpuUsage=n}set setMemoryUsage(n){this._memoryUsage=n}set setDiskUsage(n){this._diskUsage=n}set setNetworkUsage(n){this._networkUsage=n}set setProcessStatus(n){this._status=n}set setPowerUsage(n){this._powerUsage=n}}class Q0{_systemProcessList;_userProcessList;_processList=[];constructor(){this._systemProcessList=this.fetchSystemApp(),this._userProcessList=this.fetchUserApp(),this.createAppsList()}appExist(n){const e=n.trim();return this._systemProcessList.includes(e)||this._userProcessList.includes(e)}fetchSystemApp(){return this._systemProcessList=["audioplayer","fileexplorer","taskmanager","terminal","videoplayer","photoviewer","texteditor"],this._systemProcessList}fetchUserApp(){return this._userProcessList=["hello","greeting","jsdos","ruffle","codeeditor","markdownviewer"],this._userProcessList}createAppsList(){this._processList=[...this._systemProcessList,...this._userProcessList]}getAppPosition(n){return this._processList.indexOf(n)}getAppList(){return this._processList}}class Kn{EMPTY_STRING="";ROOT="/";DOUBLE_SLASH="//";OSDISK="OSDisk (C:)";THISPC="This PC";URL=".url";SHORTCUT="Shortcut";BASE="osdrive";IMAGE_BASE_PATH="osdrive/Cheetah/System/Imageres/";NEW_FOLDER="New Folder";DEFAULT_MENU_ORDER="DefaultMenuOrder";DEFAULT_FILE_MENU_ORDER="DefaultFileMenuOrder";DEFAULT_FOLDER_MENU_ORDER="DefaultFolderMenuOrder";FILE_EXPLORER_FILE_MENU_ORDER="FileExplorerFolderMenuOrder";FILE_EXPLORER_FOLDER_MENU_ORDER="FileExplorerfolderMenuOrder";FILE_EXPLORER_UNIQUE_MENU_ORDER="FileExploreruniqueMenuOrder";TASK_BAR_MENU_OPTION="taskbar-menu";NESTED_MENU_OPTION="nested-menu";FILE_EXPLORER_FILE_MANAGER_MENU_OPTION="file-explorer-file-manager-menu";IMAGE_FILE_EXTENSIONS=[".jpg",".png",".avif",".bmp",".ico",".jpeg",".tiff",".tif",".svg",".webp",".xlm"];VIDEO_FILE_EXTENSIONS=[".mp4",".webm",".ogg",".mkv"];AUDIO_FILE_EXTENSIONS=[".mp3",".flac",".aac",".dolby",".mpeg",".opus",".m4a",".ogg",".oga",".wav",".caf",".weba",".webm"];PROGRAMING_LANGUAGE_FILE_EXTENSIONS=[".js",".js.map",".map",".mjs",".ts",".cs",".java",".py",".c",".cpp",".html"]}const TH=(()=>{let t=0;return()=>(t+=1,`u${`0000${(Math.random()*36**4|0).toString(36)}`.slice(-4)}${t}`)})();function As(t){const n=[];for(let e=0,i=t.length;e<i;e++)n.push(t[e]);return n}function cg(t,n){const i=(t.ownerDocument.defaultView||window).getComputedStyle(t).getPropertyValue(n);return i?parseFloat(i.replace("px","")):0}function AP(t,n={}){const e=n.width||function PH(t){const n=cg(t,"border-left-width"),e=cg(t,"border-right-width");return t.clientWidth+n+e}(t),i=n.height||function AH(t){const n=cg(t,"border-top-width"),e=cg(t,"border-bottom-width");return t.clientHeight+n+e}(t);return{width:e,height:i}}const jr=16384;function ug(t){return new Promise((n,e)=>{const i=new Image;i.decode=()=>n(i),i.onload=()=>n(i),i.onerror=e,i.crossOrigin="anonymous",i.decoding="async",i.src=t})}function X0(){return(X0=Fe(function*(t){return Promise.resolve().then(()=>(new XMLSerializer).serializeToString(t)).then(encodeURIComponent).then(n=>`data:image/svg+xml;charset=utf-8,${n}`)})).apply(this,arguments)}function J0(){return J0=Fe(function*(t,n,e){const i="http://www.w3.org/2000/svg",r=document.createElementNS(i,"svg"),o=document.createElementNS(i,"foreignObject");return r.setAttribute("width",`${n}`),r.setAttribute("height",`${e}`),r.setAttribute("viewBox",`0 0 ${n} ${e}`),o.setAttribute("width","100%"),o.setAttribute("height","100%"),o.setAttribute("x","0"),o.setAttribute("y","0"),o.setAttribute("externalResourcesRequired","true"),r.appendChild(o),o.appendChild(t),function NH(t){return X0.apply(this,arguments)}(r)}),J0.apply(this,arguments)}const Cr=(t,n)=>{if(t instanceof n)return!0;const e=Object.getPrototypeOf(t);return null!==e&&(e.constructor.name===n.name||Cr(e,n))};function kP(t,n,e){const i=window.getComputedStyle(t,e),r=i.getPropertyValue("content");if(""===r||"none"===r)return;const o=TH();try{n.className=`${n.className} ${o}`}catch{return}const s=document.createElement("style");s.appendChild(function BH(t,n,e){const i=`.${t}:${n}`,r=e.cssText?function RH(t){const n=t.getPropertyValue("content");return`${t.cssText} content: '${n.replace(/'|"/g,"")}';`}(e):function LH(t){return As(t).map(n=>`${n}: ${t.getPropertyValue(n)}${t.getPropertyPriority(n)?" !important":""};`).join(" ")}(e);return document.createTextNode(`${i}{${r}}`)}(o,e,i)),n.appendChild(s)}const OP="application/font-woff",NP="image/jpeg",UH={woff:OP,woff2:OP,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:NP,jpeg:NP,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function ew(t){const n=function zH(t){const n=/\.([^./]*?)$/g.exec(t);return n?n[1]:""}(t).toLowerCase();return UH[n]||""}function tw(t){return-1!==t.search(/^(data:)/)}function FP(t,n){return`data:${n};base64,${t}`}function RP(t,n,e){return nw.apply(this,arguments)}function nw(){return(nw=Fe(function*(t,n,e){const i=yield fetch(t,n);if(404===i.status)throw new Error(`Resource "${i.url}" not found`);const r=yield i.blob();return new Promise((o,s)=>{const c=new FileReader;c.onerror=s,c.onloadend=()=>{try{o(e({res:i,result:c.result}))}catch(h){s(h)}},c.readAsDataURL(r)})})).apply(this,arguments)}const iw={};function rw(t,n,e){return ow.apply(this,arguments)}function ow(){return(ow=Fe(function*(t,n,e){const i=function HH(t,n,e){let i=t.replace(/\?.*/,"");return e&&(i=t),/ttf|otf|eot|woff2?/i.test(i)&&(i=i.replace(/.*\//,"")),n?`[${n}]${i}`:i}(t,n,e.includeQueryParams);if(null!=iw[i])return iw[i];let r;e.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+(new Date).getTime());try{const o=yield RP(t,e.fetchRequestInit,({res:s,result:c})=>(n||(n=s.headers.get("Content-Type")||""),function jH(t){return t.split(/,/)[1]}(c)));r=FP(o,n)}catch(o){r=e.imagePlaceholder||"";let s=`Failed to fetch resource: ${t}`;o&&(s="string"==typeof o?o:o.message),s&&console.warn(s)}return iw[i]=r,r})).apply(this,arguments)}function sw(){return(sw=Fe(function*(t){const n=t.toDataURL();return"data:,"===n?t.cloneNode(!1):ug(n)})).apply(this,arguments)}function aw(){return(aw=Fe(function*(t,n){if(t.currentSrc){const o=document.createElement("canvas"),s=o.getContext("2d");return o.width=t.clientWidth,o.height=t.clientHeight,s?.drawImage(t,0,0,o.width,o.height),ug(o.toDataURL())}const e=t.poster,i=ew(e);return ug(yield rw(e,i,n))})).apply(this,arguments)}function lw(){return(lw=Fe(function*(t){var n;try{if(null!==(n=t?.contentDocument)&&void 0!==n&&n.body)return yield dg(t.contentDocument.body,{},!0)}catch{}return t.cloneNode(!1)})).apply(this,arguments)}function cw(){return cw=Fe(function*(t,n){return Cr(t,HTMLCanvasElement)?function $H(t){return sw.apply(this,arguments)}(t):Cr(t,HTMLVideoElement)?function WH(t,n){return aw.apply(this,arguments)}(t,n):Cr(t,HTMLIFrameElement)?function GH(t){return lw.apply(this,arguments)}(t):t.cloneNode(!1)}),cw.apply(this,arguments)}const ZH=t=>null!=t.tagName&&"SLOT"===t.tagName.toUpperCase();function uw(){return(uw=Fe(function*(t,n,e){var i,r;let o=[];return o=ZH(t)&&t.assignedNodes?As(t.assignedNodes()):Cr(t,HTMLIFrameElement)&&null!==(i=t.contentDocument)&&void 0!==i&&i.body?As(t.contentDocument.body.childNodes):As((null!==(r=t.shadowRoot)&&void 0!==r?r:t).childNodes),0===o.length||Cr(t,HTMLVideoElement)||(yield o.reduce((s,c)=>s.then(()=>dg(c,e)).then(h=>{h&&n.appendChild(h)}),Promise.resolve())),n})).apply(this,arguments)}function dw(){return(dw=Fe(function*(t,n){const e=t.querySelectorAll?t.querySelectorAll("use"):[];if(0===e.length)return t;const i={};for(let o=0;o<e.length;o++){const c=e[o].getAttribute("xlink:href");if(c){const h=t.querySelector(c),g=document.querySelector(c);!h&&g&&!i[c]&&(i[c]=yield dg(g,n,!0))}}const r=Object.values(i);if(r.length){const o="http://www.w3.org/1999/xhtml",s=document.createElementNS(o,"svg");s.setAttribute("xmlns",o),s.style.position="absolute",s.style.width="0",s.style.height="0",s.style.overflow="hidden",s.style.display="none";const c=document.createElementNS(o,"defs");s.appendChild(c);for(let h=0;h<r.length;h++)c.appendChild(r[h]);t.appendChild(s)}return t})).apply(this,arguments)}function dg(t,n,e){return fw.apply(this,arguments)}function fw(){return fw=Fe(function*(t,n,e){return e||!n.filter||n.filter(t)?Promise.resolve(t).then(i=>function YH(t,n){return cw.apply(this,arguments)}(i,n)).then(i=>function qH(t,n,e){return uw.apply(this,arguments)}(t,i,n)).then(i=>function JH(t,n){return Cr(n,Element)&&(function KH(t,n){const e=n.style;if(!e)return;const i=window.getComputedStyle(t);i.cssText?(e.cssText=i.cssText,e.transformOrigin=i.transformOrigin):As(i).forEach(r=>{let o=i.getPropertyValue(r);"font-size"===r&&o.endsWith("px")&&(o=Math.floor(parseFloat(o.substring(0,o.length-2)))-.1+"px"),Cr(t,HTMLIFrameElement)&&"display"===r&&"inline"===o&&(o="block"),"d"===r&&n.getAttribute("d")&&(o=`path(${n.getAttribute("d")})`),e.setProperty(r,o,i.getPropertyPriority(r))})}(t,n),function VH(t,n){kP(t,n,":before"),kP(t,n,":after")}(t,n),function QH(t,n){Cr(t,HTMLTextAreaElement)&&(n.innerHTML=t.value),Cr(t,HTMLInputElement)&&n.setAttribute("value",t.value)}(t,n),function XH(t,n){if(Cr(t,HTMLSelectElement)){const i=Array.from(n.children).find(r=>t.value===r.getAttribute("value"));i&&i.setAttribute("selected","")}}(t,n)),n}(t,i)).then(i=>function e6(t,n){return dw.apply(this,arguments)}(i,n)):null}),fw.apply(this,arguments)}const LP=/url\((['"]?)([^'"]+?)\1\)/g,t6=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,n6=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function hw(){return(hw=Fe(function*(t,n,e,i,r){try{const o=e?function MH(t,n){if(t.match(/^[a-z]+:\/\//i))return t;if(t.match(/^\/\//))return window.location.protocol+t;if(t.match(/^[a-z]+:/i))return t;const e=document.implementation.createHTMLDocument(),i=e.createElement("base"),r=e.createElement("a");return e.head.appendChild(i),e.body.appendChild(r),n&&(i.href=n),r.href=t,r.href}(n,e):n,s=ew(n);let c;return c=r?FP(yield r(o),s):yield rw(o,s,i),t.replace(function i6(t){const n=t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${n})(['"]?\\))`,"g")}(n),`$1${c}$3`)}catch{}return t})).apply(this,arguments)}function BP(t){return-1!==t.search(LP)}function VP(t,n,e){return pw.apply(this,arguments)}function pw(){return pw=Fe(function*(t,n,e){if(!BP(t))return t;const i=function s6(t,{preferredFontFormat:n}){return n?t.replace(n6,e=>{for(;;){const[i,,r]=t6.exec(e)||[];if(!r)return"";if(r===n)return`src: ${i};`}}):t}(t,e);return function r6(t){const n=[];return t.replace(LP,(e,i,r)=>(n.push(r),e)),n.filter(e=>!tw(e))}(i).reduce((o,s)=>o.then(c=>function o6(t,n,e,i,r){return hw.apply(this,arguments)}(c,s,n,e)),Promise.resolve(i))}),pw.apply(this,arguments)}function fg(t,n,e){return gw.apply(this,arguments)}function gw(){return(gw=Fe(function*(t,n,e){var i;const r=null===(i=n.style)||void 0===i?void 0:i.getPropertyValue(t);if(r){const o=yield VP(r,null,e);return n.style.setProperty(t,o,n.style.getPropertyPriority(t)),!0}return!1})).apply(this,arguments)}function mw(){return(mw=Fe(function*(t,n){(yield fg("background",t,n))||(yield fg("background-image",t,n)),(yield fg("mask",t,n))||(yield fg("mask-image",t,n))})).apply(this,arguments)}function _w(){return(_w=Fe(function*(t,n){const e=Cr(t,HTMLImageElement);if((!e||tw(t.src))&&(!Cr(t,SVGImageElement)||tw(t.href.baseVal)))return;const i=e?t.src:t.href.baseVal,r=yield rw(i,ew(i),n);yield new Promise((o,s)=>{t.onload=o,t.onerror=s;const c=t;c.decode&&(c.decode=o),"lazy"===c.loading&&(c.loading="eager"),e?(t.srcset="",t.src=r):t.href.baseVal=r})})).apply(this,arguments)}function yw(){return(yw=Fe(function*(t,n){const i=As(t.childNodes).map(r=>UP(r,n));yield Promise.all(i).then(()=>t)})).apply(this,arguments)}function UP(t,n){return vw.apply(this,arguments)}function vw(){return vw=Fe(function*(t,n){Cr(t,Element)&&(yield function a6(t,n){return mw.apply(this,arguments)}(t,n),yield function l6(t,n){return _w.apply(this,arguments)}(t,n),yield function c6(t,n){return yw.apply(this,arguments)}(t,n))}),vw.apply(this,arguments)}const zP={};function jP(t){return ww.apply(this,arguments)}function ww(){return(ww=Fe(function*(t){let n=zP[t];return null!=n||(n={url:t,cssText:yield(yield fetch(t)).text()},zP[t]=n),n})).apply(this,arguments)}function HP(t,n){return Ew.apply(this,arguments)}function Ew(){return Ew=Fe(function*(t,n){let e=t.cssText;const i=/url\(["']?([^"')]+)["']?\)/g,o=(e.match(/url\([^)]+\)/g)||[]).map(function(){var s=Fe(function*(c){let h=c.replace(i,"$1");return h.startsWith("https://")||(h=new URL(h,t.url).href),RP(h,n.fetchRequestInit,({result:g})=>(e=e.replace(c,`url(${g})`),[c,g]))});return function(c){return s.apply(this,arguments)}}());return Promise.all(o).then(()=>e)}),Ew.apply(this,arguments)}function $P(t){if(null==t)return[];const n=[];let i=t.replace(/(\/\*[\s\S]*?\*\/)/gi,"");const r=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const h=r.exec(i);if(null===h)break;n.push(h[0])}i=i.replace(r,"");const o=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,c=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");for(;;){let h=o.exec(i);if(null===h){if(h=c.exec(i),null===h)break;o.lastIndex=c.lastIndex}else c.lastIndex=o.lastIndex;n.push(h[0])}return n}function Sw(){return(Sw=Fe(function*(t,n){const e=[],i=[];return t.forEach(r=>{if("cssRules"in r)try{As(r.cssRules||[]).forEach((o,s)=>{if(o.type===CSSRule.IMPORT_RULE){let c=s+1;const g=jP(o.href).then(y=>HP(y,n)).then(y=>$P(y).forEach(C=>{try{r.insertRule(C,C.startsWith("@import")?c+=1:r.cssRules.length)}catch(A){console.error("Error inserting rule from remote css",{rule:C,error:A})}})).catch(y=>{console.error("Error loading remote css",y.toString())});i.push(g)}})}catch(o){const s=t.find(c=>null==c.href)||document.styleSheets[0];null!=r.href&&i.push(jP(r.href).then(c=>HP(c,n)).then(c=>$P(c).forEach(h=>{s.insertRule(h,r.cssRules.length)})).catch(c=>{console.error("Error loading remote stylesheet",c)})),console.error("Error inlining remote css file",o)}}),Promise.all(i).then(()=>(t.forEach(r=>{if("cssRules"in r)try{As(r.cssRules||[]).forEach(o=>{e.push(o)})}catch(o){console.error(`Error while reading CSS rules from ${r.href}`,o)}}),e))})).apply(this,arguments)}function bw(){return bw=Fe(function*(t,n){if(null==t.ownerDocument)throw new Error("Provided element is not within a Document");const e=As(t.ownerDocument.styleSheets),i=yield function d6(t,n){return Sw.apply(this,arguments)}(e,n);return function f6(t){return t.filter(n=>n.type===CSSRule.FONT_FACE_RULE).filter(n=>BP(n.style.getPropertyValue("src")))}(i)}),bw.apply(this,arguments)}function Cw(){return Cw=Fe(function*(t,n){const e=yield function h6(t,n){return bw.apply(this,arguments)}(t,n);return(yield Promise.all(e.map(r=>VP(r.cssText,r.parentStyleSheet?r.parentStyleSheet.href:null,n)))).join("\n")}),Cw.apply(this,arguments)}function Iw(){return Iw=Fe(function*(t,n){const e=null!=n.fontEmbedCSS?n.fontEmbedCSS:n.skipFonts?null:yield function p6(t,n){return Cw.apply(this,arguments)}(t,n);if(e){const i=document.createElement("style"),r=document.createTextNode(e);i.appendChild(r),t.firstChild?t.insertBefore(i,t.firstChild):t.appendChild(i)}}),Iw.apply(this,arguments)}function xw(){return xw=Fe(function*(t,n={}){const{width:e,height:i}=AP(t,n),r=yield dg(t,n,!0);return yield function g6(t,n){return Iw.apply(this,arguments)}(r,n),yield UP(r,n),function u6(t,n){const{style:e}=t;n.backgroundColor&&(e.backgroundColor=n.backgroundColor),n.width&&(e.width=`${n.width}px`),n.height&&(e.height=`${n.height}px`);const i=n.style;null!=i&&Object.keys(i).forEach(r=>{e[r]=i[r]})}(r,n),yield function FH(t,n,e){return J0.apply(this,arguments)}(r,e,i)}),xw.apply(this,arguments)}function Dw(){return Dw=Fe(function*(t,n={}){const{width:e,height:i}=AP(t,n),r=yield function m6(t){return xw.apply(this,arguments)}(t,n),o=yield ug(r),s=document.createElement("canvas"),c=s.getContext("2d"),h=n.pixelRatio||function kH(){let t,n;try{n=process}catch{}const e=n&&n.env?n.env.devicePixelRatio:null;return e&&(t=parseInt(e,10),Number.isNaN(t)&&(t=1)),t||window.devicePixelRatio||1}(),g=n.canvasWidth||e,y=n.canvasHeight||i;return s.width=g*h,s.height=y*h,n.skipAutoScale||function OH(t){(t.width>jr||t.height>jr)&&(t.width>jr&&t.height>jr?t.width>t.height?(t.height*=jr/t.width,t.width=jr):(t.width*=jr/t.height,t.height=jr):t.width>jr?(t.height*=jr/t.width,t.width=jr):(t.width*=jr/t.height,t.height=jr))}(s),s.style.width=`${g}`,s.style.height=`${y}`,n.backgroundColor&&(c.fillStyle=n.backgroundColor,c.fillRect(0,0,s.width,s.height)),c.drawImage(o,0,0,s.width,s.height),s}),Dw.apply(this,arguments)}function Ir(t){return Tw.apply(this,arguments)}function Tw(){return(Tw=Fe(function*(t,n={}){return(yield function hg(t){return Dw.apply(this,arguments)}(t,n)).toDataURL()})).apply(this,arguments)}let wi=(()=>{class t{_activeProcessIds;static instance;constructor(){this._activeProcessIds=[],t.instance=this}getNewProcessId(){let e=0;for(e=this.generateProcessId();this._activeProcessIds.includes(e);)e=this.generateProcessId();return this._activeProcessIds.push(e),e}generateProcessId(){const e=Math.ceil(1e3),i=Math.floor(9999);return Math.floor(Math.random()*(i-e+1))+e}removeProcessId(e){const r=this._activeProcessIds.indexOf(e);-1!==r&&this._activeProcessIds.splice(r,1)}processCount(){return this._activeProcessIds.length}static \u0275fac=function(i){return new(i||t)};static \u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Yn=(()=>{class t{static instance;_runningProcesses;_runningProcessesImages;_eventOriginator="";closeProcessNotify=new Pe;focusOnNextProcessNotify=new Pe;focusOnCurrentProcessNotify=new Pe;removeFocusOnOtherProcessesNotify=new Pe;hideProcessPreviewWindowNotify=new Pe;hideOtherProcessNotify=new Pe;keepProcessPreviewWindowNotify=new Pe;maximizeProcessWindowNotify=new Pe;minimizeProcessWindowNotify=new Pe;showProcessPreviewWindowNotify=new Pe;showOnlyCurrentProcessWindowNotify=new Pe;processListChangeNotify=new Pe;restoreOrMinimizeProcessWindowNotify=new Pe;restoreProcessWindowNotify=new Pe;restoreProcessesWindowNotify=new Pe;showProcessNotify=new Pe;hideProcessNotify=new Pe;constructor(){this._runningProcesses=[],this._runningProcessesImages=new Map,t.instance=this}addProcess(e){this._runningProcesses.push(e)}addProcessImage(e,i){if(this._runningProcessesImages.has(e)){const r=this._runningProcessesImages.get(e)||[];r.push(i),this._runningProcessesImages.set(e,r)}else this._runningProcessesImages.set(e,[i])}addEventOriginator(e){this._eventOriginator=e}removeProcess(e){const r=this._runningProcesses.findIndex(o=>o.getProcessId===e.getProcessId);-1!=r&&this._runningProcesses.splice(r,1)}removeProcessImages(e){this._runningProcessesImages.has(e)&&this._runningProcessesImages.delete(e)}removeProcessImage(e,i){if(this._runningProcessesImages.has(e)){const o=this._runningProcessesImages.get(e)||[],s=o.findIndex(c=>c.pid===i);-1!=s&&o.splice(s||0,1)}}removeEventOriginator(){this._eventOriginator=""}getProcess(e){return this._runningProcesses.find(r=>r.getProcessId===e)}getProcessImages(e){return this._runningProcessesImages.has(e)&&this._runningProcessesImages.get(e)||[]}getEventOrginator(){return this._eventOriginator}isProcessRunning(e){return!!this._runningProcesses.find(r=>r.getProcessName===e)}getProcesses(){return this._runningProcesses}processCount(){return this._runningProcesses.length}static \u0275fac=function(i){return new(i||t)};static \u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const y6=Vc("openClose",[rs("open",rn({opacity:1,zIndex:2})),rs("close",rn({opacity:0})),ko("open => *",[Ao("0.30s ease-out",Kp([rn({transform:"{{wt0p}}",opacity:1}),rn({transform:"{{wt25p}}",opacity:.75}),rn({transform:"{{wt50p}}",opacity:.5}),rn({transform:"{{wt75p}}",opacity:.25}),rn({transform:"{{wt100p}}",opacity:0})]))],{params:{wt0p:"translate(0,0)",wt25p:"translate(-25px,25px)",wt50p:"translate(-50px,50px)",wt75p:"translate(-75px,75px)",wt100p:"translate(-100px,100px)"}}),ko("* => open",[Ao("0.30s ease-in",Kp([rn({transform:"{{wt100p}}",opacity:0}),rn({transform:"{{wt75p}}",opacity:.25}),rn({transform:"{{wt50p}}",opacity:.5}),rn({transform:"{{wt25p}}",opacity:.75}),rn({transform:"{{wt0p}}",opacity:1})]))],{params:{wt0p:"translate(0,0)",wt25p:"translate(-25px,25px)",wt50p:"translate(-50px,50px)",wt75p:"translate(-75px,75px)",wt100p:"translate(-100px,100px)"}})]),v6=Vc("hideShow",[rs("hidden",rn({opacity:0,zIndex:1})),rs("visible",rn({opacity:1,zIndex:2})),ko("visible => hidden",[Ao("0.30s ease-out",Kp([rn({transform:"{{yAxis0p}}",opacity:1}),rn({transform:"{{yAxis25p}}",opacity:.75}),rn({transform:"{{yAxis50p}}",opacity:.5}),rn({transform:"{{yAxis75p}}",opacity:.25}),rn({transform:"{{yAxis100p}}",opacity:0})]))],{params:{yAxis0p:"translate(0, 0)",yAxis25p:"translate(0, 25px)",yAxis50p:"translate(0, 50px)",yAxis75p:"translate(0, 75px)",yAxis100p:"translate(0, 100px)"}}),ko("hidden => visible",[Ao("0.30s ease-in",Kp([rn({transform:"{{yAxis100p}}",opacity:0}),rn({transform:"{{yAxis75p}}",opacity:.25}),rn({transform:"{{yAxis50p}}",opacity:.5}),rn({transform:"{{yAxis25p}}",opacity:.75}),rn({transform:"{{yAxis0p}}",opacity:1})]))],{params:{yAxis0p:"translate(0, 0)",yAxis25p:"translate(0, 25px)",yAxis50p:"translate(0, 50px)",yAxis75p:"translate(0, 75px)",yAxis100p:"translate(0, 100px)"}})]),w6=Vc("minimizeMaximize",[rs("minimized",rn({opacity:1,width:"{{winWidth}}",height:"{{winHeight}}",transform:"{{winTransform}}",zIndex:"{{winZIndex}}"}),{params:{winWidth:"",winHeight:"",winTransform:"",winZIndex:""}}),rs("maximized",rn({opacity:1,width:"100%",height:"calc(100% - 40px)",left:0,right:0,top:0,bottom:0,transform:"translate(0,0)",zIndex:"{{winZIndex}}"}),{params:{winZIndex:""}}),ko("minimized => maximized",Ao("0.50s ease-out")),ko("maximized => minimized",Ao("0.50s ease-in"))]);var Jt=function(t){return t[t.App=0]="App",t[t.Window=1]="Window",t}(Jt||{});let eo=(()=>{class t{_sessionName="main-session";_pickUpKey="temp-session-retrieval-key";_sessionDataDict;static instance;_sessionRetrievalCounter=0;constructor(){if(sessionStorage.getItem(this._sessionName)){const e=sessionStorage.getItem(this._sessionName);this._sessionDataDict=new Map(JSON.parse(e)),t.instance=this}else this._sessionDataDict=new Map,t.instance=this}addSession(e,i){e===this._pickUpKey?this.addTempSession(i):(this._sessionDataDict.set(e,i),this.saveSession(this._sessionDataDict))}getSession(e){return this._sessionDataDict.get(e)}getTempSession(e){let i="";return this._sessionRetrievalCounter<=1?(i=sessionStorage.getItem(e)||"",1===this._sessionRetrievalCounter?(sessionStorage.removeItem(e),this._sessionRetrievalCounter=0,i):(this._sessionRetrievalCounter++,i)):i}getKeys(){const e=[];for(const i of this._sessionDataDict.keys())e.push(i);return e}hasTempSession(e){return null!==sessionStorage.getItem(e)}removeSession(e){this._sessionDataDict.delete(e),this.saveSession(this._sessionDataDict)}resetSession(){this._sessionDataDict=new Map,sessionStorage.clear()}saveSession(e){const i=JSON.stringify(Array.from(e.entries()));sessionStorage.setItem(this._sessionName,i)}addTempSession(e){sessionStorage.setItem(this._pickUpKey,e)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),to=(()=>{class t{static instance;_appStateManagmentService;_sessionManagmentService;constructor(){this._appStateManagmentService=new Map,t.instance=this,this._sessionManagmentService=eo.instance}addState(e,i,r){if(void 0!==r)if(this._appStateManagmentService.has(e)){const o=this._appStateManagmentService.get(e);r==Jt.App?o[Jt.App]=i:o[Jt.Window]=i,this._appStateManagmentService.set(e,o),this._sessionManagmentService.addSession(e,o)}else{let c=[];c=r==Jt.App?[i,{app_name:"",pid:0,x_axis:0,y_axis:0,height:0,width:0,z_index:0,is_visible:!0}]:[{pid:0,app_data:"",app_name:"",unique_id:""},i],this._appStateManagmentService.set(e,c),this._sessionManagmentService.addSession(e,c)}else this._appStateManagmentService.set(e,i)}getState(e,i){if(void 0!==i){const r=this._appStateManagmentService.get(e);return void 0!==r?i==Jt.App?r[Jt.App]:r[Jt.Window]:r}return this._appStateManagmentService.get(e)}hasState(e){return!!this._appStateManagmentService.has(e)}removeState(e){this._appStateManagmentService.has(e)&&this._appStateManagmentService.delete(e)}getKeys(){const e=[];for(const i of this._appStateManagmentService.keys())e.push(i);return e}static \u0275fac=function(i){return new(i||t)};static \u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),pg=(()=>{class t{el;constructor(e){this.el=e}color="rgb(26,26,26)";closeBtnColor="rgb(232,17,35)";focusedCloseBtnColor="rgb(139,10,20)";focusedWindowColor="blue";unfocusedWindowColor="rgb(121, 163, 232)";onMouseEnter(){this.highlight(this.color,this.closeBtnColor)}onMouseLeave(){this.highlight("","")}highlight(e,i){"closeBtn"==this.el.nativeElement.id?(this.el.nativeElement.style.backgroundColor=i,this.el.nativeElement.style.transition="background-color 0.3s ease",this.el.nativeElement.focus()):("hideBtn"==this.el.nativeElement.id||"minBtn"==this.el.nativeElement.id||"maxBtn"==this.el.nativeElement.id)&&(this.el.nativeElement.style.backgroundColor=e,this.el.nativeElement.focus())}static \u0275fac=function(i){return new(i||t)(te(li))};static \u0275dir=_({type:t,selectors:[["","appHighlight",""]],hostBindings:function(i,r){1&i&&de("mouseenter",function(){return r.onMouseEnter()})("mouseleave",function(){return r.onMouseLeave()})("focus",function(){return r.highlight()})}})}return t})();const E6=["divWindow"],S6=["*"],b6=(t,n,e,i,r)=>({wt0p:t,wt25p:n,wt50p:e,wt75p:i,wt100p:r}),Ow=(t,n)=>({value:t,params:n}),C6=(t,n,e,i,r)=>({yAxis0p:t,yAxis25p:n,yAxis50p:e,yAxis75p:i,yAxis100p:r}),I6=(t,n,e,i)=>({winWidth:t,winHeight:n,winTransform:e,winZIndex:i}),x6=t=>({fill:t});function D6(t,n){if(1&t){const e=Tt();I(0,"button",16),de("click",function(){return G(e),Y(z().onMaximizeBtnClick())}),Ii(),I(1,"svg",13),re(2,"path",17),P()()}if(2&t){const e=z();T(2),H("ngStyle",function mx(t,n,e,i){return yx(be(),sr(),t,n,e,i)}(1,x6,e.isWindowMaximizable?"#FFFFF":"#989898CC"))}}function M6(t,n){if(1&t){const e=Tt();I(0,"button",18),de("click",function(){return G(e),Y(z().onUnMaximizeBtnClick())}),Ii(),I(1,"svg",19),re(2,"path",20)(3,"path",21),P()()}}let no=(()=>{class t{changeDetectorRef;divWindow;runningProcessID=0;processAppIcon="";processAppName="";isMaximizable=!0;_runningProcessService;_stateManagmentService;_sessionManagmentService;_originalWindowsState;_restoreOrMinSub;_focusOnNextProcessSub;_focusOnCurrentProcessSub;_showOnlyCurrentProcessSub;_removeFocusOnOtherProcessesSub;_hideOtherProcessSub;_restoreProcessSub;_restoreProcessesSub;SECONDS_DELAY=350;WINDOW_CAPTURE_SECONDS_DELAY=5e3;HIDDEN_Z_INDEX=0;MIN_Z_INDEX=1;MAX_Z_INDEX=2;TMP_Z_INDEX=3;windowHide=!1;windowMaximize=!1;windowOpenCloseAction="open";windowHideShowAction="visible";windowMinMaxAction="minimized";windowTransform="translate(0,0)";windowTransform0p="translate(0,0)";windowTransform25p="translate(-25px,25px)";windowTransform50p="translate(-50px,50px)";windowTransform75p="translate(-75px,75px)";windowTransform100p="translate(-100px,100px)";yAxis0p="translate(0,0)";yAxis25p="translate(0,25px)";yAxis50p="translate(0,50px)";yAxis75p="translate(0,75px)";yAxis100p="translate(0,100px)";windowWidth="0px";windowHeight="0px";windowZIndex="0";xAxisTmp=0;yAxisTmp=0;isWindowMaximizable=!0;currentWindowSizeState=!1;currentStyles={};headerActiveStyles={};closeBtnStyles={};defaultWidthOnOpen=0;defaultHeightOnOpen=0;z_index="25914523";pid_with_highest_z_index=0;hasWindow=!1;icon="";name="Window";processId=0;uniqueId="";type=on.System;displayName="";constructor(e,i,r,o){this.changeDetectorRef=i,this._runningProcessService=e,this._stateManagmentService=r,this._sessionManagmentService=o,this.retrievePastSessionData(),this._restoreOrMinSub=this._runningProcessService.restoreOrMinimizeProcessWindowNotify.subscribe(s=>{this.restoreHiddenWindow(s)}),this._focusOnNextProcessSub=this._runningProcessService.focusOnNextProcessNotify.subscribe(()=>{this.setNextWindowToFocus()}),this._focusOnCurrentProcessSub=this._runningProcessService.focusOnCurrentProcessNotify.subscribe(s=>{this.setFocusOnWindow(s)}),this._removeFocusOnOtherProcessesSub=this._runningProcessService.removeFocusOnOtherProcessesNotify.subscribe(s=>{this.removeFocusOnWindow(s)}),this._showOnlyCurrentProcessSub=this._runningProcessService.showOnlyCurrentProcessWindowNotify.subscribe(s=>{this.showOnlyThisWindow(s)}),this._hideOtherProcessSub=this._runningProcessService.hideOtherProcessNotify.subscribe(s=>{this.moveWindowsOutOfSight(s)}),this._restoreProcessSub=this._runningProcessService.restoreProcessWindowNotify.subscribe(s=>{this.restorePriorFocusOnWindow(s)}),this._restoreProcessesSub=this._runningProcessService.restoreProcessesWindowNotify.subscribe(()=>{this.restorePriorFocusOnWindows()})}get getDivWindowElement(){return this.divWindow.nativeElement}ngOnInit(){this.processId=this.runningProcessID,this.icon=this.processAppIcon,this.name=this.processAppName,this.isWindowMaximizable=this.isMaximizable,this.windowOpenCloseAction="open"}ngOnDestroy(){this._restoreOrMinSub?.unsubscribe(),this._focusOnNextProcessSub?.unsubscribe(),this._focusOnCurrentProcessSub?.unsubscribe(),this._removeFocusOnOtherProcessesSub?.unsubscribe(),this._showOnlyCurrentProcessSub?.unsubscribe(),this._hideOtherProcessSub?.unsubscribe(),this._restoreProcessSub?.unsubscribe(),this._restoreProcessesSub?.unsubscribe()}ngAfterViewInit(){this.defaultHeightOnOpen=this.getDivWindowElement.offsetHeight,this.defaultWidthOnOpen=this.getDivWindowElement.offsetWidth;const e=this._stateManagmentService.getState(this.z_index);this.windowTransform="translate(0, 0)",this.windowHeight=`${String(this.defaultHeightOnOpen)}px`,this.windowWidth=`${String(this.defaultWidthOnOpen)}px`,this.windowZIndex=String(void 0===e?this.MAX_Z_INDEX:e),this._originalWindowsState={app_name:this.name,pid:this.processId,height:this.defaultHeightOnOpen,width:this.defaultWidthOnOpen,x_axis:0,y_axis:0,z_index:void 0===e?this.MAX_Z_INDEX:e,is_visible:!0},this.uniqueId=`${this.name}-${this.processId}`,this._stateManagmentService.addState(this.uniqueId,this._originalWindowsState,Jt.Window),this.setWindowToFocusById(this.processId),this.changeDetectorRef.detectChanges()}ngOnChanges(e){"Window"==this.name&&(this.name=this.processAppName),this.displayName=this.processAppName,this.icon=this.processAppIcon}captureComponentImg(){Ir(this.divWindow.nativeElement).then(e=>{this._runningProcessService.addProcessImage(this.name,{pid:this.processId,imageData:e})})}setHideAndShow(){this.windowHide=!this.windowHide,this.windowHideShowAction=this.windowHide?"hidden":"visible",this.generateHideAnimationValues(this.xAxisTmp,this.yAxisTmp);const e=this._stateManagmentService.getState(this.uniqueId,Jt.Window);if(this.windowHide){if(e.pid==this.processId){e.is_visible=!1,e.z_index=this.MIN_Z_INDEX,this.currentStyles={"z-index":this.MIN_Z_INDEX},this._stateManagmentService.addState(this.uniqueId,e,Jt.Window);const i=this.getNextProcess(this.processId);i&&(this._runningProcessService.addEventOriginator(`${i.getProcessName}-${i.getProcessId}`),this._runningProcessService.focusOnNextProcessNotify.next())}}else this.windowHide||e.pid==this.processId&&(this.currentWindowSizeState&&this.setWindowToFullScreen(this.processId,e.z_index),e.is_visible=!0,this._stateManagmentService.addState(this.uniqueId,e,Jt.Window))}setMaximizeAndUnMaximize(){const e=this._stateManagmentService.getState(this.uniqueId,Jt.Window);if(this.currentWindowSizeState=this.windowMaximize,this.windowMaximize)e.pid==this.processId&&(this.setWindowToFullScreen(this.processId,e.z_index),this._runningProcessService.addEventOriginator(this.uniqueId),this._runningProcessService.maximizeProcessWindowNotify.next());else if(!this.windowMaximize&&e.pid==this.processId){this.windowWidth=`${String(e.width)}px`,this.windowHeight=`${String(e.height)}px`,this.windowTransform=`translate(${String(e.x_axis)}px, ${String(e.y_axis)}px)`,this.windowZIndex=String(e.z_index);const i=30;this._runningProcessService.addEventOriginator(this.uniqueId),this._runningProcessService.minimizeProcessWindowNotify.next([e.width,e.height-i])}this.windowMaximize=!this.windowMaximize}setBtnFocus(e){this.processId==e&&(this.closeBtnStyles={"background-color":"rgb(139,10,20)"})}setHeaderInActive(e){this.processId==e&&(this.headerActiveStyles={"background-color":"rgb(121, 163, 232)"})}setHeaderActive(e){this.processId==e&&(this.headerActiveStyles={"background-color":"blue"})}setWindowToFullScreen(e,i){this.processId==e&&(this.windowZIndex=String(i))}onHideBtnClick(e){this.processId==e&&this.setHideAndShow()}restoreHiddenWindow(e){this.processId==e&&this.setHideAndShow()}updateWindowZIndex(e,i){this.processId==e.pid&&(this.currentStyles={"z-index":i},e.z_index=i,this._stateManagmentService.addState(`${e.app_name}-${e.pid}`,e,Jt.Window))}setWindowToPriorHiddenState(e,i){this.processId==e.pid&&(this.currentStyles={"z-index":i,opacity:0})}onMaximizeBtnClick(){this.isWindowMaximizable&&(this.windowMaximize=!0,this.windowMinMaxAction="maximized",this.setMaximizeAndUnMaximize())}onUnMaximizeBtnClick(){this.windowMaximize=!1,this.windowMinMaxAction="minimized",this.setMaximizeAndUnMaximize()}onTitleBarDoubleClick(){this.isWindowMaximizable&&(this.currentWindowSizeState&&!this.windowMaximize?(this.windowMaximize=!1,this.windowMinMaxAction="minimized"):(this.windowMaximize=!0,this.windowMinMaxAction="maximized"),this.setMaximizeAndUnMaximize())}onDragEnd(e){const i=window.getComputedStyle(e),r=new WebKitCSSMatrix(i.transform),o=r.m41,s=r.m42;if(0!=o&&0!=s){const c=this._stateManagmentService.getState(this.uniqueId,Jt.Window);c.x_axis=o,c.y_axis=s,this.xAxisTmp=o,this.yAxisTmp=s,this.windowTransform=`translate(${String(o)}px , ${String(s)}px)`,this._stateManagmentService.addState(this.uniqueId,c,Jt.Window)}}onDragStart(e){}onRZStop(e){const i=Number(e.size.height),r=Number(e.size.width),o=this._stateManagmentService.getState(this.uniqueId,Jt.Window);o.width=r,o.height=i,this.windowWidth=`${String(r)}px`,this.windowHeight=`${String(i)}px`,this._stateManagmentService.addState(this.uniqueId,o,Jt.Window)}generateCloseAnimationValues(e,i){this.windowTransform0p=`translate(${String(e)}px , ${String(i)}px)`,this.windowTransform25p=`translate(${String(e-25)}px , ${String(i+25)}px)`,this.windowTransform50p=`translate(${String(e-50)}px , ${String(i+50)}px)`,this.windowTransform75p=`translate(${String(e-75)}px , ${String(i+75)}px)`,this.windowTransform100p=`translate(${String(e-100)}px , ${String(i+100)}px)`}generateHideAnimationValues(e,i){this.yAxis0p=`translate(${String(e)}px , ${String(i)}px)`,this.yAxis25p=`translate(${String(e)}px , ${String(i+25)}px)`,this.yAxis50p=`translate(${String(e)}px , ${String(i+50)}px)`,this.yAxis75p=`translate(${String(e)}px , ${String(i+75)}px)`,this.yAxis100p=`translate(${String(e)}px , ${String(i+100)}px)`}createGlassPane(){}onCloseBtnClick(){this.windowOpenCloseAction="close",this.generateCloseAnimationValues(this.xAxisTmp,this.yAxisTmp),setTimeout(()=>{const e=this._runningProcessService.getProcess(this.processId);this._runningProcessService.closeProcessNotify.next(e);const i=this.getNextProcess(this.processId);i&&(this._runningProcessService.addEventOriginator(`${i.getProcessName}-${i.getProcessId}`),this._runningProcessService.focusOnNextProcessNotify.next())},this.SECONDS_DELAY)}setFocusOnWindow(e){this.uniqueId===`${this.name}-${e}`&&(this.windowHide||(this._runningProcessService.addEventOriginator(this.uniqueId),this._runningProcessService.removeFocusOnOtherProcessesNotify.next(e),this.processId==e&&(this.setHeaderActive(e),this.setWindowToFocusById(e))))}showOnlyThisWindow(e){this._runningProcessService.addEventOriginator(this.uniqueId),this._runningProcessService.hideOtherProcessNotify.next(e),this.processId==e&&(this.setHeaderActive(e),this.showOnlyWindowById(e))}removeFocusOnWindow(e){const i=this._runningProcessService.getProcesses().filter(r=>1==r.getHasWindow&&r.getProcessId!=e);for(let r=0;r<i.length;r++){const o=i[r],s=this._stateManagmentService.getState(`${o.getProcessName}-${o.getProcessId}`,Jt.Window);null!=s&&s.is_visible&&(this.setHeaderInActive(s.pid),this.updateWindowZIndex(s,this.MIN_Z_INDEX))}}moveWindowsOutOfSight(e){if(this._runningProcessService.getEventOrginator()===this.uniqueId){const i=this._runningProcessService.getProcesses().filter(r=>!0===r.getHasWindow&&r.getProcessId!==e);for(let r=0;r<i.length;r++){const o=i[r],s=this._stateManagmentService.getState(`${o.getProcessName}-${o.getProcessId}`,Jt.Window);null!=s&&s.is_visible?(2===s.z_index&&(this.pid_with_highest_z_index=s.pid),this.updateWindowZIndex(s,this.HIDDEN_Z_INDEX)):null!=s&&!s.is_visible&&this.setWindowToPriorHiddenState(s,this.MIN_Z_INDEX)}this._runningProcessService.removeEventOriginator()}}restorePriorFocusOnWindows(){const e=this._runningProcessService.getProcesses().filter(i=>!0===i.getHasWindow);for(let i=0;i<e.length;i++){const r=e[i],o=this._stateManagmentService.getState(`${r.getProcessName}-${r.getProcessId}`,Jt.Window);null!=o&&o.is_visible&&(o.pid!==this.pid_with_highest_z_index?(this.setHeaderInActive(o.pid),this.updateWindowZIndex(o,this.MIN_Z_INDEX)):(this.setHeaderActive(o.pid),this.updateWindowZIndex(o,this.MAX_Z_INDEX)))}}restorePriorFocusOnWindow(e){const r=this._runningProcessService.getProcesses().filter(s=>!0===s.getHasWindow&&s.getProcessId===e)[0],o=this._stateManagmentService.getState(`${r.getProcessName}-${r.getProcessId}`,Jt.Window);null!=o&&o.is_visible?o.pid!==this.pid_with_highest_z_index?(this.setHeaderInActive(o.pid),this.updateWindowZIndex(o,this.MIN_Z_INDEX)):(this.setHeaderActive(o.pid),this.updateWindowZIndex(o,this.MAX_Z_INDEX)):null!=o&&!o.is_visible&&this.setWindowToPriorHiddenState(o,this.MIN_Z_INDEX)}setWindowToFocusById(e){let i=this._stateManagmentService.getState(this.z_index);const o=this._stateManagmentService.getState(`${this.name}-${e}`,Jt.Window);void 0!==o&&(o.pid==e&&!i||o.pid==e&&o.z_index<=i)&&(i=this.MAX_Z_INDEX,this._stateManagmentService.addState(this.z_index,i),o.z_index=i,this._stateManagmentService.addState(this.uniqueId,o,Jt.Window),this.currentStyles={"z-index":i},this.setHeaderActive(e))}showOnlyWindowById(e){const r=this._stateManagmentService.getState(`${this.name}-${e}`,Jt.Window);if(void 0!==r&&r.pid==e){const o=this.TMP_Z_INDEX;this.currentStyles=r.is_visible?{"z-index":o}:{"z-index":o,opacity:1,transform:`translate(${String(r.x_axis)}px, ${String(r.y_axis)}px)`},this.setHeaderActive(e)}}setNextWindowToFocus(){if(this._runningProcessService.getEventOrginator()==this.uniqueId){const e=this._runningProcessService.getProcesses().filter(i=>1==i.getHasWindow&&i.getProcessId===this.processId);for(let i=0;i<e.length;i++){const r=e[i],o=this._stateManagmentService.getState(`${r.getProcessName}-${r.getProcessId}`,Jt.Window);if(null!=o&&o.is_visible){this.setWindowToFocusById(r.getProcessId);break}}this._runningProcessService.removeEventOriginator()}}getNextProcess(e){const i=this._runningProcessService.getProcesses().filter(r=>1==r.getHasWindow&&r.getProcessId!==e);for(let r=0;r<i.length;r++){const o=i[r],s=this._stateManagmentService.getState(`${o.getProcessName}-${o.getProcessId}`,Jt.Window);if(void 0!==s&&s.is_visible)return o}}retrievePastSessionData(){const e=this._sessionManagmentService._pickUpKey;if(this._sessionManagmentService.hasTempSession(e)){const i=this._sessionManagmentService.getTempSession(e)||"";this._sessionManagmentService.getSession(i);this._sessionManagmentService.removeSession(i)}}static \u0275fac=function(i){return new(i||t)(te(Yn),te(kc),te(to),te(eo))};static \u0275cmp=a({type:t,selectors:[["cos-window"]],viewQuery:function(i,r){if(1&i&&Wt(E6,5),2&i){let o;Gt(o=Yt())&&(r.divWindow=o.first)}},inputs:{runningProcessID:"runningProcessID",processAppIcon:"processAppIcon",processAppName:"processAppName",isMaximizable:"isMaximizable"},features:[Gi],ngContentSelectors:S6,decls:23,vars:41,consts:[["divWindow",""],["leftHS",""],["elseBlock",""],["tabindex","0","ngDraggable","","ngResizable","",1,"window-container","window-dd-box",3,"stopped","started","rzStop","ngStyle","handle","rzHandles","rzMinWidth","rzMinHeight"],["appHighlight","","tabindex","0",1,"header-container",3,"dblclick","ngStyle"],[1,"left-header-section"],[3,"src","alt"],[1,"right-header-section"],["appHighlight","","id","hideBtn","title","Hide",3,"click"],["width","10","viewBox","0 0 10 1"],["d","M0 0h10v1H0z","fill","#FFFFF"],["id","maxBtn","appHighlight","","title","Maximize",3,"click",4,"ngIf","ngIfElse"],["id","closeBtn","appHighlight","","title","Close",3,"click","ngStyle"],["width","10","viewBox","0 0 10 10"],["d","M10.2.7L9.5 0 5.1 4.4.7 0 0 .7l4.4 4.4L0 9.5l.7.7 4.4-4.4 4.4 4.4.7-.7-4.4-4.4z","fill","#FFFFF"],["tabindex","0",1,"window-content-container"],["id","maxBtn","appHighlight","","title","Maximize",3,"click"],["d","M0 0v10h10V0H0zm1 1h8v8H1V1z",3,"ngStyle"],["id","minBtn","appHighlight","","title","Minimize",3,"click"],["width","15","viewBox","0 0 24 24"],["fill","none","d","M0 0h24v24H0z"],["d","M7 6V3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1h-3v3c0 .552-.45 1-1.007 1H4.007A1.001 1.001 0 0 1 3 21l.003-14c0-.552.45-1 1.007-1H7zM5.003 8L5 20h10V8H5.003zM9 6h8v10h2V4H9v2z","fill","#FFFFF"]],template:function(i,r){if(1&i){const o=Tt();Qh(),I(0,"div",3,0),de("stopped",function(c){return G(o),Y(r.onDragEnd(c))})("started",function(){return G(o),Y(r.onDragStart(r.processId))})("rzStop",function(c){return G(o),Y(r.onRZStop(c))}),I(2,"div",4),de("dblclick",function(){return G(o),Y(r.onTitleBarDoubleClick())}),I(3,"div",5,1)(5,"h1")(6,"figure"),re(7,"img",6),I(8,"figcaption"),se(9),P()()()(),I(10,"div",7)(11,"nav")(12,"button",8),de("click",function(){return G(o),Y(r.onHideBtnClick(r.processId))}),Ii(),I(13,"svg",9),re(14,"path",10),P()(),Le(15,D6,3,3,"button",11)(16,M6,4,0,"ng-template",null,2,ki),vr(),I(18,"button",12),de("click",function(){return G(o),Y(r.onCloseBtnClick())}),Ii(),I(19,"svg",13),re(20,"path",14),P()()()()(),vr(),I(21,"div",15),Xh(22),P()()}if(2&i){const o=qn(4),s=qn(17);H("@openClose",np(21,Ow,r.windowOpenCloseAction,Ky(15,b6,r.windowTransform0p,r.windowTransform25p,r.windowTransform50p,r.windowTransform75p,r.windowTransform100p)))("@hideShow",np(30,Ow,r.windowHideShowAction,Ky(24,C6,r.yAxis0p,r.yAxis25p,r.yAxis50p,r.yAxis75p,r.yAxis100p)))("@minimizeMaximize",np(38,Ow,r.windowMinMaxAction,_x(33,I6,r.windowWidth,r.windowHeight,r.windowTransform,r.windowZIndex)))("ngStyle",r.currentStyles)("handle",o)("rzHandles","e,s,w,se,sw")("rzMinWidth",r.defaultWidthOnOpen)("rzMinHeight",r.defaultHeightOnOpen),T(2),H("ngStyle",r.headerActiveStyles),T(5),H("src",r.icon,$e)("alt",r.name),T(2),qt(" ",r.displayName," "),T(6),H("ngIf",!r.currentWindowSizeState)("ngIfElse",s),T(3),H("ngStyle",r.closeBtnStyles)}},dependencies:[is,Pp,qp,Mz,pg],styles:[".window-container[_ngcontent-%COMP%]{font-size:1rem;text-align:center;background-color:gray;box-shadow:0 0 20px #0000007f;position:absolute;min-width:25%;min-height:10%;top:25%;left:25%;outline:1px hsl(0deg 0% 20%/70%);overflow:hidden}.header-container[_ngcontent-%COMP%]{width:100%;position:relative;display:flex}.left-header-section[_ngcontent-%COMP%]{width:calc(100% - 135px);height:30px;left:0}.right-header-section[_ngcontent-%COMP%]{height:30px;right:0}.window-content-container[_ngcontent-%COMP%]{width:100%;min-height:10%;position:relative}.window-dd-box[_ngcontent-%COMP%]{justify-content:center;align-items:center;background:#121212;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}.window-dd-box[_ngcontent-%COMP%]:active{box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}h1[_ngcontent-%COMP%]{color:#fff;font-size:12px;font-weight:400;height:29px;border-bottom:1px transparent blue;width:-moz-fit-content;width:fit-content;flex-grow:1;display:flex;left:0}img[_ngcontent-%COMP%]{height:18px;width:18px;margin:0 6px 0 8px}figure[_ngcontent-%COMP%]{display:flex;align-items:center;height:30px}figcaption[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}button[_ngcontent-%COMP%]{border-left:1px transparent blue;box-sizing:content-box;color:#fff;display:flex;font-size:20px;width:45px;place-content:center;place-items:center}svg[_ngcontent-%COMP%]{fill:#fff;margin-bottom:2px}nav[_ngcontent-%COMP%]{display:flex;position:absolute;width:-moz-fit-content;width:fit-content;right:0;height:30px}.ng-draggable[_ngcontent-%COMP%], .ng-dragging[_ngcontent-%COMP%]{cursor:auto}.ng-resizable-diagonal[_ngcontent-%COMP%]{border-bottom:12px solid transparent}"],data:{animation:[y6,v6,w6]}})}return t})();const T6=["titleContent"];let P6=(()=>{class t{titleContent;_processIdService;_runningProcessService;_maximizeWindowSub;SECONDS_DELAY=250;hasWindow=!0;icon="osdrive/Pictures/favicon_nice.png";name="hello";processId=0;type=on.User;displayName="Hello";constructor(e,i){this._processIdService=e,this._runningProcessService=i,this.processId=this._processIdService.getNewProcessId(),this._runningProcessService.addProcess(this.getComponentDetail()),this._maximizeWindowSub=this._runningProcessService.maximizeProcessWindowNotify.subscribe(()=>{this.maximizeWindow()})}ngAfterViewInit(){this.setTitleWindowToFocus(this.processId),setTimeout(()=>{this.captureComponentImg()},this.SECONDS_DELAY)}ngOnDestroy(){this._maximizeWindowSub?.unsubscribe()}captureComponentImg(){Ir(this.titleContent.nativeElement).then(e=>{this._runningProcessService.addProcessImage(this.name,{pid:this.processId,imageData:e})})}maximizeWindow(){if(`${this.name}-${this.processId}`===this._runningProcessService.getEventOrginator()){this._runningProcessService.removeEventOriginator();const r=document.getElementById("vanta"),o=70;this.titleContent.nativeElement.style.height=(r?.offsetHeight||0)-o+"px",this.titleContent.nativeElement.style.width=`${r?.offsetWidth}px`}}setTitleWindowToFocus(e){this._runningProcessService.focusOnCurrentProcessNotify.next(e)}getComponentDetail(){return new vi(this.processId,this.name,this.icon,this.hasWindow,this.type)}static \u0275fac=function(i){return new(i||t)(te(wi),te(Yn))};static \u0275cmp=a({type:t,selectors:[["cos-title"]],viewQuery:function(i,r){if(1&i&&Wt(T6,7),2&i){let o;Gt(o=Yt())&&(r.titleContent=o.first)}},decls:4,vars:3,consts:[["titleContent",""],[3,"click","runningProcessID","processAppIcon","processAppName"],[1,"title"]],template:function(i,r){if(1&i){const o=Tt();I(0,"cos-window",1),de("click",function(){return G(o),Y(r.setTitleWindowToFocus(r.processId))}),I(1,"p",2,0),se(3," Hello, World! "),P()()}2&i&&H("runningProcessID",r.processId)("processAppIcon",r.icon)("processAppName",r.name)},dependencies:[no],styles:[".title[_ngcontent-%COMP%]{font-size:50px;text-align:center;background-color:orange;height:100%;min-height:78px;width:100%}"]})}return t})(),A6=(()=>{class t{hasWindow=!0;icon="favicon.ico";name="greeting";processId=0;type=on.User;displayName="";constructor(){}ngOnInit(){}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=a({type:t,selectors:[["cos-greeting"]],decls:2,vars:0,template:function(i,r){1&i&&(I(0,"p"),se(1,"greeting works!"),P())}})}return t})();class Fo{_IconPath;_currentPath;_contentPath;_fileExtension;_fileType;_fileName;_opensWith;_dateModified;_size;_isFile;_isShortCut;_fileSizeUnit;_mode;constructor(){this._IconPath="",this._currentPath="",this._contentPath="",this._fileExtension="",this._fileType="",this._fileName="",this._opensWith="",this._dateModified=new Date("1990-01-01"),this._size=0,this._isFile=!0,this._isShortCut=!1,this._fileSizeUnit="B",this._mode=0}get getIconPath(){return this._IconPath}set setIconPath(n){this._IconPath=n}get getCurrentPath(){return this._currentPath}set setCurrentPath(n){this._currentPath=n}get getContentPath(){return this._contentPath}set setContentPath(n){this._contentPath=n}get getFileExtension(){return this._fileExtension}set setFileExtension(n){this._fileExtension=n}get getFileType(){return this._fileType}set setFileType(n){this._fileType=n}get getFileName(){return this._fileName}set setFileName(n){this._fileName=n}get getOpensWith(){return this._opensWith}set setOpensWith(n){this._opensWith=n}get getDateModified(){return this._dateModified}get getDateModifiedUS(){return this._dateModified.toLocaleString("en-US")}get getDateTimeModifiedUS(){return this._dateModified.toLocaleString("en-US",{month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0}).replace(",","")}set setDateModified(n){this._dateModified="string"==typeof n?new Date(n):n}get getSize(){return this._size}get getSize1(){let n=0;return this._size>=0&&this._size<=999&&(n=this._size),this._size>=1e3&&this._size<=999999&&(n=Math.round(this._size/1e3*100)/100),this._size>=1e6&&this._size<=999999999&&(n=Math.round(this._size/1e6*100)/100),n}set setSize(n){this._size=n}get getIsFile(){return this._isFile}set setIsFile(n){this._isFile=n}get getIsShortCut(){return this._isShortCut}set setIsShortCut(n){this._isShortCut=n}get getFileSizeUnit(){return this._size>=0&&this._size<=999&&(this._fileSizeUnit="B"),this._size>=1e3&&this._size<=999999&&(this._fileSizeUnit="KB"),this._size>=1e6&&this._size<=999999999&&(this._fileSizeUnit="MB"),this._fileSizeUnit}get getMode(){return"0"+(this._mode&parseInt("777",8)).toString(8)}set setMode(n){this._mode=n}}var Ro=function(t){return t.LIST_VIEW="List View",t.CONTENT_VIEW="Content View",t.DETAILS_VIEW="Details View",t.TILES_VIEW="Tiles View",t.SMALL_ICON_VIEW="Small Icon View",t.MEDIUM_ICON_VIEW="Medium Icon View",t.LARGE_ICON_VIEW="Large Icon View",t.EXTRA_LARGE_ICON_VIEW="Extra Large Icon View",t}(Ro||{}),_t=ae(308),al=function(t){return t.LARGE_ICONS="Large Icons",t.MEDIUM_ICONS="Medium Icons",t.SMALL_ICONS="Small Icons",t}(al||{}),ji=function(t){return t.NAME="Name",t.DATE_MODIFIED="Date Modified",t.ITEM_TYPE="Item Type",t.SIZE="Size",t}(ji||{});class GP{_iconPath;_fileName;_fileType;_contentPath;_opensWith;constructor(n,e,i,r,o){this._iconPath=n,this._fileName=e,this._fileType=i,this._contentPath=r,this._opensWith=o}get getIconPath(){return this._iconPath}set setIconPath(n){this._iconPath=n}get geFileName(){return this._fileName}set setFileName(n){this._fileName=n}get getContentPath(){return this._contentPath}set setContentPath(n){this._contentPath=n}get getFileType(){return this._fileType}set setFileType(n){this._fileType=n}get getOpensWith(){return this._opensWith}set setOpensWith(n){this._opensWith=n}}class k6{_name;_path;constructor(){this._path="",this._name=""}get getPath(){return this._path}set setPath(n){this._path=n}get getName(){return this._name}set setName(n){this._name=n}}class YP{_createdDate;_modifiedDate;_size;_mode;constructor(n=new Date("1990-01-01"),e=new Date("1990-01-01"),i=0,r=0){this._createdDate=n,this._modifiedDate=e,this._size=i,this._mode=r}get getCreatedDate(){return this._createdDate}set setCreatedDate(n){this._createdDate=new Date(n)}get getModifiedDate(){return this._modifiedDate}set setModifiedDate(n){this._modifiedDate=new Date(n)}get getSize(){return this._size}set setSize(n){this._size=n}get getMode(){return this._mode}set setMode(n){this._mode=n}}var ZP=ae(728),ua=ae(838);const O6=JSON.parse('{"3d-objects.url":null,"AppData":{"StartMenu":{"audioplayer.url":null,"fileexplorer.url":null,"js-dos.url":null,"markdown.url":null,"photoviewer.url":null,"ruffle.url":null,"taskmanager.url":null,"terminal.url":null,"texteditor.url":null,"videoplayer.url":null,"vscode.url":null}},"Cheetah":{"System":{"BrowserFS":{"browserfs.d.ts":null,"browserfs.js":null,"browserfs.js.map":null,"browserfs.min.js":null,"browserfs.min.js.map":null,"node":{"backend":{"AsyncMirror.d.ts":null,"AsyncMirror.js":null,"AsyncMirror.js.map":null,"Dropbox.d.ts":null,"Dropbox.js":null,"Dropbox.js.map":null,"Emscripten.d.ts":null,"Emscripten.js":null,"Emscripten.js.map":null,"FolderAdapter.d.ts":null,"FolderAdapter.js":null,"FolderAdapter.js.map":null,"HTML5FS.d.ts":null,"HTML5FS.js":null,"HTML5FS.js.map":null,"InMemory.d.ts":null,"InMemory.js":null,"InMemory.js.map":null,"IndexedDB.d.ts":null,"IndexedDB.js":null,"IndexedDB.js.map":null,"IsoFS.d.ts":null,"IsoFS.js":null,"IsoFS.js.map":null,"LocalStorage.d.ts":null,"LocalStorage.js":null,"LocalStorage.js.map":null,"MountableFileSystem.d.ts":null,"MountableFileSystem.js":null,"MountableFileSystem.js.map":null,"OverlayFS.d.ts":null,"OverlayFS.js":null,"OverlayFS.js.map":null,"WorkerFS.d.ts":null,"WorkerFS.js":null,"WorkerFS.js.map":null,"XmlHttpRequest.d.ts":null,"XmlHttpRequest.js":null,"XmlHttpRequest.js.map":null,"ZipFS.d.ts":null,"ZipFS.js":null,"ZipFS.js.map":null},"core":{"FS.d.ts":null,"FS.js":null,"FS.js.map":null,"api_error.d.ts":null,"api_error.js":null,"api_error.js.map":null,"backends.d.ts":null,"backends.js":null,"backends.js.map":null,"browserfs.d.ts":null,"browserfs.js":null,"browserfs.js.map":null,"file.d.ts":null,"file.js":null,"file.js.map":null,"file_flag.d.ts":null,"file_flag.js":null,"file_flag.js.map":null,"file_system.d.ts":null,"file_system.js":null,"file_system.js.map":null,"global.d.ts":null,"global.js":null,"global.js.map":null,"levenshtein.d.ts":null,"levenshtein.js":null,"levenshtein.js.map":null,"node_fs.d.ts":null,"node_fs.js":null,"node_fs.js.map":null,"node_fs_stats.d.ts":null,"node_fs_stats.js":null,"node_fs_stats.js.map":null,"util.d.ts":null,"util.js":null,"util.js.map":null},"generic":{"emscripten_fs.d.ts":null,"emscripten_fs.js":null,"emscripten_fs.js.map":null,"extended_ascii.d.ts":null,"extended_ascii.js":null,"extended_ascii.js.map":null,"file_index.d.ts":null,"file_index.js":null,"file_index.js.map":null,"inode.d.ts":null,"inode.js":null,"inode.js.map":null,"key_value_filesystem.d.ts":null,"key_value_filesystem.js":null,"key_value_filesystem.js.map":null,"locked_fs.d.ts":null,"locked_fs.js":null,"locked_fs.js.map":null,"mutex.d.ts":null,"mutex.js":null,"mutex.js.map":null,"preload_file.d.ts":null,"preload_file.js":null,"preload_file.js.map":null,"setImmediate.d.ts":null,"setImmediate.js":null,"setImmediate.js.map":null,"xhr.d.ts":null,"xhr.js":null,"xhr.js.map":null},"index.d.ts":null,"index.js":null,"index.js.map":null,"typedoc.d.ts":null,"typedoc.js":null,"typedoc.js.map":null},"scripts":{"make_http_index.js":null,"make_xhrfs_index.js":null,"make_xhrfs_index.js.map":null},"shims":{"buffer.js":null,"bufferGlobal.js":null,"fs.js":null,"path.js":null,"process.js":null}},"Fluent Effect":{"LICENSE":null,"README.md":null,"fs-src":{"LICENSE.txt":null,"fluentRevealEffect.d.ts":null,"helpers":{"index.d.ts":null},"main.d.ts":null,"main.js":null,"main.js.map":null,"types.d.ts":null},"package.json":null},"Imageres":{"3d-objects_folder.png":null,"3d-objects_folder_small.png":null,"arrow_down.png":null,"arrow_next.png":null,"arrow_next_1.png":null,"arrow_up.png":null,"audioplayer.png":null,"camera.png":null,"chkmark26.png":null,"chkmark32.png":null,"chkmark32_blk.png":null,"circle.png":null,"circle_blk.png":null,"cmd.png":null,"code_file.png":null,"config.png":null,"content_view.png":null,"cross_mark_32.png":null,"desktop_folder.png":null,"desktop_folder_small.png":null,"details_pane.png":null,"details_view.ico":null,"details_view.png":null,"documents.png":null,"documents_folder.png":null,"documents_folder_small.png":null,"downloads_folder.png":null,"downloads_folder_small.png":null,"econo.png":null,"empty_folder.png":null,"empty_recycle.ico":null,"emulator_2.png":null,"extra_large_image.png":null,"file.png":null,"file_explorer.png":null,"folder.png":null,"folder_folder_small.png":null,"games_folder.png":null,"games_folder_small.png":null,"generic_program.png":null,"grey_history_32.png":null,"grey_nav_expand_32.png":null,"grey_nav_forward_32.png":null,"grey_nav_refresh_32.png":null,"image_file.png":null,"info.png":null,"js-dos_emulator.png":null,"js-dos_file.png":null,"large_image.png":null,"list_of_thumbnails_view.png":null,"markdown.png":null,"markdown_file.png":null,"medium_icons_view.png":null,"music_file.png":null,"music_folder.png":null,"music_folder_small.png":null,"my_computer.png":null,"navigation_pane.png":null,"os_disk.png":null,"pdf.png":null,"photoviewer.png":null,"pictures.png":null,"pictures_folder.png":null,"pictures_folder_small.png":null,"pin_24.png":null,"preview_pane.png":null,"question.png":null,"quick_access.png":null,"quick_access_small.png":null,"quill.png":null,"red_x.png":null,"ruffle.png":null,"search_32.png":null,"shell32_51380.ico":null,"shortcut.png":null,"sm_file.png":null,"sm_folder.png":null,"sm_hamburger_menu.png":null,"sm_music.png":null,"sm_picture.png":null,"sm_power.png":null,"sm_settings.png":null,"small_icons_view.png":null,"swf_file.png":null,"taskmanager.png":null,"taskmanger_2.png":null,"terminal.png":null,"text_editor.png":null,"this_pc.png":null,"tiles_view.png":null,"unknown.png":null,"unpin_24.png":null,"unpin_32.png":null,"video_file.png":null,"videoplayer.png":null,"videos.png":null,"videos_folder.png":null,"videos_folder_small.png":null,"vs_code.png":null,"warning.png":null,"wasm_file.png":null,"white_history_32.png":null,"x_32.png":null}}},"Program-Files":{"3D-Model-Viewer":{"3D-Viewer":{"js-3d-model-viewer.js":null,"js-3d-model-viewer.js.map":null,"js-3d-model-viewer.min.js":null,"js-3d-model-viewer.min.js.map":null},"LICENSE":null,"README.md":null,"assets":{"avocado.glb":null,"duck.glb":null,"helmet.glb":null,"sample.obj":null,"sample_02.mtl":null,"sample_02.obj":null,"sample_03.mtl":null,"sample_03.obj":null,"sneakers.usdz":null},"index.html":null,"rollup.config.js":null},"Backgrounds":{"vanta.birds.min.js":null,"vanta.globe.min.js":null,"vanta.halo.min.js":null,"vanta.rings.min.js":null,"vanta.waves.min.js":null},"Howler":{"howler.min.js":null,"siriwave.umd.min.js":null},"JS-DOS":{"emulators-ui-loader.png":null,"js-dos.js":null,"js-dos.js.map":null,"wdosbox.js":null,"wdosbox.js.symbols":null,"wdosbox.wasm":null},"Marked":{"marked.min.js":null},"PDF-JS":{"pdf.mjs":null,"pdf.mjs.map":null,"pdf.sandbox.mjs":null,"pdf.sandbox.mjs.map":null,"pdf.worker.mjs":null,"pdf.worker.mjs.map":null,"web":{"cmaps":{"78-EUC-H.bcmap":null,"78-EUC-V.bcmap":null,"78-H.bcmap":null,"78-RKSJ-H.bcmap":null,"78-RKSJ-V.bcmap":null,"78-V.bcmap":null,"78ms-RKSJ-H.bcmap":null,"78ms-RKSJ-V.bcmap":null,"83pv-RKSJ-H.bcmap":null,"90ms-RKSJ-H.bcmap":null,"90ms-RKSJ-V.bcmap":null,"90msp-RKSJ-H.bcmap":null,"90msp-RKSJ-V.bcmap":null,"90pv-RKSJ-H.bcmap":null,"90pv-RKSJ-V.bcmap":null,"Add-H.bcmap":null,"Add-RKSJ-H.bcmap":null,"Add-RKSJ-V.bcmap":null,"Add-V.bcmap":null,"Adobe-CNS1-0.bcmap":null,"Adobe-CNS1-1.bcmap":null,"Adobe-CNS1-2.bcmap":null,"Adobe-CNS1-3.bcmap":null,"Adobe-CNS1-4.bcmap":null,"Adobe-CNS1-5.bcmap":null,"Adobe-CNS1-6.bcmap":null,"Adobe-CNS1-UCS2.bcmap":null,"Adobe-GB1-0.bcmap":null,"Adobe-GB1-1.bcmap":null,"Adobe-GB1-2.bcmap":null,"Adobe-GB1-3.bcmap":null,"Adobe-GB1-4.bcmap":null,"Adobe-GB1-5.bcmap":null,"Adobe-GB1-UCS2.bcmap":null,"Adobe-Japan1-0.bcmap":null,"Adobe-Japan1-1.bcmap":null,"Adobe-Japan1-2.bcmap":null,"Adobe-Japan1-3.bcmap":null,"Adobe-Japan1-4.bcmap":null,"Adobe-Japan1-5.bcmap":null,"Adobe-Japan1-6.bcmap":null,"Adobe-Japan1-UCS2.bcmap":null,"Adobe-Korea1-0.bcmap":null,"Adobe-Korea1-1.bcmap":null,"Adobe-Korea1-2.bcmap":null,"Adobe-Korea1-UCS2.bcmap":null,"B5-H.bcmap":null,"B5-V.bcmap":null,"B5pc-H.bcmap":null,"B5pc-V.bcmap":null,"CNS-EUC-H.bcmap":null,"CNS-EUC-V.bcmap":null,"CNS1-H.bcmap":null,"CNS1-V.bcmap":null,"CNS2-H.bcmap":null,"CNS2-V.bcmap":null,"ETHK-B5-H.bcmap":null,"ETHK-B5-V.bcmap":null,"ETen-B5-H.bcmap":null,"ETen-B5-V.bcmap":null,"ETenms-B5-H.bcmap":null,"ETenms-B5-V.bcmap":null,"EUC-H.bcmap":null,"EUC-V.bcmap":null,"Ext-H.bcmap":null,"Ext-RKSJ-H.bcmap":null,"Ext-RKSJ-V.bcmap":null,"Ext-V.bcmap":null,"GB-EUC-H.bcmap":null,"GB-EUC-V.bcmap":null,"GB-H.bcmap":null,"GB-V.bcmap":null,"GBK-EUC-H.bcmap":null,"GBK-EUC-V.bcmap":null,"GBK2K-H.bcmap":null,"GBK2K-V.bcmap":null,"GBKp-EUC-H.bcmap":null,"GBKp-EUC-V.bcmap":null,"GBT-EUC-H.bcmap":null,"GBT-EUC-V.bcmap":null,"GBT-H.bcmap":null,"GBT-V.bcmap":null,"GBTpc-EUC-H.bcmap":null,"GBTpc-EUC-V.bcmap":null,"GBpc-EUC-H.bcmap":null,"GBpc-EUC-V.bcmap":null,"H.bcmap":null,"HKdla-B5-H.bcmap":null,"HKdla-B5-V.bcmap":null,"HKdlb-B5-H.bcmap":null,"HKdlb-B5-V.bcmap":null,"HKgccs-B5-H.bcmap":null,"HKgccs-B5-V.bcmap":null,"HKm314-B5-H.bcmap":null,"HKm314-B5-V.bcmap":null,"HKm471-B5-H.bcmap":null,"HKm471-B5-V.bcmap":null,"HKscs-B5-H.bcmap":null,"HKscs-B5-V.bcmap":null,"Hankaku.bcmap":null,"Hiragana.bcmap":null,"KSC-EUC-H.bcmap":null,"KSC-EUC-V.bcmap":null,"KSC-H.bcmap":null,"KSC-Johab-H.bcmap":null,"KSC-Johab-V.bcmap":null,"KSC-V.bcmap":null,"KSCms-UHC-H.bcmap":null,"KSCms-UHC-HW-H.bcmap":null,"KSCms-UHC-HW-V.bcmap":null,"KSCms-UHC-V.bcmap":null,"KSCpc-EUC-H.bcmap":null,"KSCpc-EUC-V.bcmap":null,"Katakana.bcmap":null,"LICENSE":null,"NWP-H.bcmap":null,"NWP-V.bcmap":null,"RKSJ-H.bcmap":null,"RKSJ-V.bcmap":null,"Roman.bcmap":null,"UniCNS-UCS2-H.bcmap":null,"UniCNS-UCS2-V.bcmap":null,"UniCNS-UTF16-H.bcmap":null,"UniCNS-UTF16-V.bcmap":null,"UniCNS-UTF32-H.bcmap":null,"UniCNS-UTF32-V.bcmap":null,"UniCNS-UTF8-H.bcmap":null,"UniCNS-UTF8-V.bcmap":null,"UniGB-UCS2-H.bcmap":null,"UniGB-UCS2-V.bcmap":null,"UniGB-UTF16-H.bcmap":null,"UniGB-UTF16-V.bcmap":null,"UniGB-UTF32-H.bcmap":null,"UniGB-UTF32-V.bcmap":null,"UniGB-UTF8-H.bcmap":null,"UniGB-UTF8-V.bcmap":null,"UniJIS-UCS2-H.bcmap":null,"UniJIS-UCS2-HW-H.bcmap":null,"UniJIS-UCS2-HW-V.bcmap":null,"UniJIS-UCS2-V.bcmap":null,"UniJIS-UTF16-H.bcmap":null,"UniJIS-UTF16-V.bcmap":null,"UniJIS-UTF32-H.bcmap":null,"UniJIS-UTF32-V.bcmap":null,"UniJIS-UTF8-H.bcmap":null,"UniJIS-UTF8-V.bcmap":null,"UniJIS2004-UTF16-H.bcmap":null,"UniJIS2004-UTF16-V.bcmap":null,"UniJIS2004-UTF32-H.bcmap":null,"UniJIS2004-UTF32-V.bcmap":null,"UniJIS2004-UTF8-H.bcmap":null,"UniJIS2004-UTF8-V.bcmap":null,"UniJISPro-UCS2-HW-V.bcmap":null,"UniJISPro-UCS2-V.bcmap":null,"UniJISPro-UTF8-V.bcmap":null,"UniJISX0213-UTF32-H.bcmap":null,"UniJISX0213-UTF32-V.bcmap":null,"UniJISX02132004-UTF32-H.bcmap":null,"UniJISX02132004-UTF32-V.bcmap":null,"UniKS-UCS2-H.bcmap":null,"UniKS-UCS2-V.bcmap":null,"UniKS-UTF16-H.bcmap":null,"UniKS-UTF16-V.bcmap":null,"UniKS-UTF32-H.bcmap":null,"UniKS-UTF32-V.bcmap":null,"UniKS-UTF8-H.bcmap":null,"UniKS-UTF8-V.bcmap":null,"V.bcmap":null,"WP-Symbol.bcmap":null},"compressed.tracemonkey-pldi-09.pdf":null,"debugger.css":null,"debugger.mjs":null,"images":{"altText_add.svg":null,"altText_done.svg":null,"annotation-check.svg":null,"annotation-comment.svg":null,"annotation-help.svg":null,"annotation-insert.svg":null,"annotation-key.svg":null,"annotation-newparagraph.svg":null,"annotation-noicon.svg":null,"annotation-note.svg":null,"annotation-paperclip.svg":null,"annotation-paragraph.svg":null,"annotation-pushpin.svg":null,"cursor-editorFreeHighlight.svg":null,"cursor-editorFreeText.svg":null,"cursor-editorInk.svg":null,"cursor-editorTextHighlight.svg":null,"editor-toolbar-delete.svg":null,"findbarButton-next.svg":null,"findbarButton-previous.svg":null,"gv-toolbarButton-download.svg":null,"loading-icon.gif":null,"loading.svg":null,"secondaryToolbarButton-documentProperties.svg":null,"secondaryToolbarButton-firstPage.svg":null,"secondaryToolbarButton-handTool.svg":null,"secondaryToolbarButton-lastPage.svg":null,"secondaryToolbarButton-rotateCcw.svg":null,"secondaryToolbarButton-rotateCw.svg":null,"secondaryToolbarButton-scrollHorizontal.svg":null,"secondaryToolbarButton-scrollPage.svg":null,"secondaryToolbarButton-scrollVertical.svg":null,"secondaryToolbarButton-scrollWrapped.svg":null,"secondaryToolbarButton-selectTool.svg":null,"secondaryToolbarButton-spreadEven.svg":null,"secondaryToolbarButton-spreadNone.svg":null,"secondaryToolbarButton-spreadOdd.svg":null,"toolbarButton-bookmark.svg":null,"toolbarButton-currentOutlineItem.svg":null,"toolbarButton-download.svg":null,"toolbarButton-editorFreeText.svg":null,"toolbarButton-editorHighlight.svg":null,"toolbarButton-editorInk.svg":null,"toolbarButton-editorStamp.svg":null,"toolbarButton-menuArrow.svg":null,"toolbarButton-openFile.svg":null,"toolbarButton-pageDown.svg":null,"toolbarButton-pageUp.svg":null,"toolbarButton-presentationMode.svg":null,"toolbarButton-print.svg":null,"toolbarButton-search.svg":null,"toolbarButton-secondaryToolbarToggle.svg":null,"toolbarButton-sidebarToggle.svg":null,"toolbarButton-viewAttachments.svg":null,"toolbarButton-viewLayers.svg":null,"toolbarButton-viewOutline.svg":null,"toolbarButton-viewThumbnail.svg":null,"toolbarButton-zoomIn.svg":null,"toolbarButton-zoomOut.svg":null,"treeitem-collapsed.svg":null,"treeitem-expanded.svg":null},"locale":{"ach":{"viewer.ftl":null},"af":{"viewer.ftl":null},"an":{"viewer.ftl":null},"ar":{"viewer.ftl":null},"ast":{"viewer.ftl":null},"az":{"viewer.ftl":null},"be":{"viewer.ftl":null},"bg":{"viewer.ftl":null},"bn":{"viewer.ftl":null},"bo":{"viewer.ftl":null},"br":{"viewer.ftl":null},"brx":{"viewer.ftl":null},"bs":{"viewer.ftl":null},"ca":{"viewer.ftl":null},"cak":{"viewer.ftl":null},"ckb":{"viewer.ftl":null},"cs":{"viewer.ftl":null},"cy":{"viewer.ftl":null},"da":{"viewer.ftl":null},"de":{"viewer.ftl":null},"dsb":{"viewer.ftl":null},"el":{"viewer.ftl":null},"en-CA":{"viewer.ftl":null},"en-GB":{"viewer.ftl":null},"en-US":{"viewer.ftl":null},"eo":{"viewer.ftl":null},"es-AR":{"viewer.ftl":null},"es-CL":{"viewer.ftl":null},"es-ES":{"viewer.ftl":null},"es-MX":{"viewer.ftl":null},"et":{"viewer.ftl":null},"eu":{"viewer.ftl":null},"fa":{"viewer.ftl":null},"ff":{"viewer.ftl":null},"fi":{"viewer.ftl":null},"fr":{"viewer.ftl":null},"fur":{"viewer.ftl":null},"fy-NL":{"viewer.ftl":null},"ga-IE":{"viewer.ftl":null},"gd":{"viewer.ftl":null},"gl":{"viewer.ftl":null},"gn":{"viewer.ftl":null},"gu-IN":{"viewer.ftl":null},"he":{"viewer.ftl":null},"hi-IN":{"viewer.ftl":null},"hr":{"viewer.ftl":null},"hsb":{"viewer.ftl":null},"hu":{"viewer.ftl":null},"hy-AM":{"viewer.ftl":null},"hye":{"viewer.ftl":null},"ia":{"viewer.ftl":null},"id":{"viewer.ftl":null},"is":{"viewer.ftl":null},"it":{"viewer.ftl":null},"ja":{"viewer.ftl":null},"ka":{"viewer.ftl":null},"kab":{"viewer.ftl":null},"kk":{"viewer.ftl":null},"km":{"viewer.ftl":null},"kn":{"viewer.ftl":null},"ko":{"viewer.ftl":null},"lij":{"viewer.ftl":null},"lo":{"viewer.ftl":null},"locale.json":null,"lt":{"viewer.ftl":null},"ltg":{"viewer.ftl":null},"lv":{"viewer.ftl":null},"meh":{"viewer.ftl":null},"mk":{"viewer.ftl":null},"mr":{"viewer.ftl":null},"ms":{"viewer.ftl":null},"my":{"viewer.ftl":null},"nb-NO":{"viewer.ftl":null},"ne-NP":{"viewer.ftl":null},"nl":{"viewer.ftl":null},"nn-NO":{"viewer.ftl":null},"oc":{"viewer.ftl":null},"pa-IN":{"viewer.ftl":null},"pl":{"viewer.ftl":null},"pt-BR":{"viewer.ftl":null},"pt-PT":{"viewer.ftl":null},"rm":{"viewer.ftl":null},"ro":{"viewer.ftl":null},"ru":{"viewer.ftl":null},"sat":{"viewer.ftl":null},"sc":{"viewer.ftl":null},"scn":{"viewer.ftl":null},"sco":{"viewer.ftl":null},"si":{"viewer.ftl":null},"sk":{"viewer.ftl":null},"skr":{"viewer.ftl":null},"sl":{"viewer.ftl":null},"son":{"viewer.ftl":null},"sq":{"viewer.ftl":null},"sr":{"viewer.ftl":null},"sv-SE":{"viewer.ftl":null},"szl":{"viewer.ftl":null},"ta":{"viewer.ftl":null},"te":{"viewer.ftl":null},"tg":{"viewer.ftl":null},"th":{"viewer.ftl":null},"tl":{"viewer.ftl":null},"tr":{"viewer.ftl":null},"trs":{"viewer.ftl":null},"uk":{"viewer.ftl":null},"ur":{"viewer.ftl":null},"uz":{"viewer.ftl":null},"vi":{"viewer.ftl":null},"wo":{"viewer.ftl":null},"xh":{"viewer.ftl":null},"zh-CN":{"viewer.ftl":null},"zh-TW":{"viewer.ftl":null}},"standard_fonts":{"FoxitDingbats.pfb":null,"FoxitFixed.pfb":null,"FoxitFixedBold.pfb":null,"FoxitFixedBoldItalic.pfb":null,"FoxitFixedItalic.pfb":null,"FoxitSerif.pfb":null,"FoxitSerifBold.pfb":null,"FoxitSerifBoldItalic.pfb":null,"FoxitSerifItalic.pfb":null,"FoxitSymbol.pfb":null,"LICENSE_FOXIT":null,"LICENSE_LIBERATION":null,"LiberationSans-Bold.ttf":null,"LiberationSans-BoldItalic.ttf":null,"LiberationSans-Italic.ttf":null,"LiberationSans-Regular.ttf":null},"viewer.css":null,"viewer.html":null,"viewer.mjs":null,"viewer.mjs.map":null}},"Quill":{"quill.js":null},"Ruffle":{"318626a8878622d4730e.wasm":null,"42f8dbf7f8b1cca631d0.wasm":null,"core.ruffle.199108ce0aa8adfdc8f0.js":null,"core.ruffle.e88cc385ca3824332d82.js":null,"ruffle.js":null},"Videojs":{"video.min.js":null},"simple.txt":null},"Users":{"3D-Objects":{},"Desktop":{"fileexplorer.url":null,"heat.url":null,"hello.url":null,"surfs.url":null,"taskmanager.url":null,"terminal.url":null,"titanium.url":null},"Documents":{"Credits.md":null,"Dynamic Programming.txt":null,"PDFs":{"CyberPower_UM_EC650LCD 2.pdf":null,"MotherBoard":{"PRO-B650-P-WIFI.pdf":null}},"Screen-Shots":{"Sample ScreenShot.png":null},"simple.txt":null,"starting a new proj in VSCode.txt":null},"Downloads":{"anothertest.txt":null},"Games":{"D3D.url":null,"Data":{"D3D.jsdos":null,"Digger.jsdos":null,"Doom.jsdos":null,"Jill of the Jungle.jsdos":null,"Machine Nation.jsdos":null,"Shadow Knight.jsdos":null},"Diggers.url":null,"Doom.url":null,"Flash-Games":{"logo-anim.swf":null},"icons":{"d3d.png":null,"diggers.png":null,"doom.png":null,"doom1.png":null}},"Music":{"jazz-club-in-new-orleans.mp3":null,"titanium.mp3":null,"watr-fluid.mp3":null},"Pictures":{"Samples":{"Chill on the Moon.jpg":null,"Sparkling Water.jpg":null,"Sunset Car.jpg":null,"Sunset.jpg":null,"mystical.jpg":null,"no_img.jpeg":null},"favicon.ico":null,"favicon1.ico":null,"favicon_nice.png":null,"heat.png":null},"Videos":{"nuts.mp4":null,"surfs.mp4":null}},"desktop.url":null,"documents.url":null,"downloads.url":null,"games.url":null,"music.url":null,"pictures.url":null,"videos.url":null}');var N6=ae(68),F6=ae.n(N6);class da{_iconPath;_fileName;_fileType;_contentPath;_opensWith;constructor(n,e,i,r,o){this._iconPath=n,this._fileName=e,this._fileType=i,this._contentPath=r,this._opensWith=o}get getIconPath(){return this._iconPath}set setIconPath(n){this._iconPath=n}get geFileName(){return this._fileName}set setFileName(n){this._fileName=n}get getContentPath(){return this._contentPath}set setContentPath(n){this._contentPath=n}get getFileType(){return this._fileType}set setFileType(n){this._fileType=n}get getOpensWith(){return this._opensWith}set setOpensWith(n){this._opensWith=n}}let Lo=(()=>{class t{static instace;_fileInfo;_consts=new Kn;_fileSystem;_directoryFileEntires=[];_fileExistsMap;_fileAndAppIconAssociation;_eventOriginator="";dirFilesUpdateNotify=new Pe;fetchDirectoryDataNotify=new Pe;goToDirectoryNotify=new Pe;SECONDS_DELAY=200;constructor(){this._fileExistsMap=new Map,this._fileAndAppIconAssociation=new Map,t.instace=this}initBrowserFsAsync(){var e=this;return Fe(function*(){if(!e._fileSystem)return new Promise((i,r)=>{ZP.configure({fs:"MountableFileSystem",options:{"/":{fs:"OverlayFS",options:{readable:{fs:"XmlHttpRequest",options:{index:O6,baseUrl:"osdrive"}},writable:{fs:"IndexedDB",options:{storeName:"browser-fs-cache"}}}}}},o=>{o&&(console.log("initBrowserFs Error:",o),r())}),e._fileSystem=ZP.BFSRequire("fs"),i()})})()}changeFolderIcon(e,i,r){const o=`/Cheetah/System/Imageres/${e.toLocaleLowerCase()}_folder.png`;return r!==`/Users/${e}`?i:this._fileSystem.existsSync(o)?`${this._consts.IMAGE_BASE_PATH}${e.toLocaleLowerCase()}_folder.png`:i}checkIfDirectory(e){var i=this;return Fe(function*(){return new Promise((r,o)=>{i._fileSystem.stat(e,(s,c)=>{s&&(console.log("checkIfDirectory error:",s),o(s));const h=!!c&&c.isDirectory();r(h)})})})()}checkIfExistsAsync(e){var i=this;return Fe(function*(){return new Promise(r=>{i._fileSystem.exists(`${e}`,o=>{o?(console.log("checkIfExistsAsync :Already exists",o),r(!0)):(console.log("checkIfExistsAsync :Does not exists",o),r(!1))})})})()}copyFileAsync(e,i){var r=this;return Fe(function*(){const o=r.getFileName(e);return console.log(`Destination: ${i}/${o}`),new Promise((s,c)=>{r._fileSystem.readFile(e,(h,g=ua.hp.from(""))=>{h?(console.log("copyFileAsync error:",h),c(!1)):r._fileSystem.writeFile(`${i}/${o}`,g,{flag:"wx"},y=>{if("EEXIST"===y?.code){console.log("copyFileAsync Error: file already exists",y);const C=r.iterateFileName(`${i}/${o}`);r._fileSystem.writeFile(C,g,A=>{A&&(console.log("copyFileAsync Iterate Error:",A),c(!1)),s(!0)})}else console.log("copyFileAsync Error:",y),r._fileExistsMap.set(`${i}/${o}`,0),s(!0)})})})})()}copyHandler(e,i,r){var o=this;return Fe(function*(){if(yield o.checkIfDirectory(`${i}`)){const c=o.getFileName(i);if(yield o.createFolderAsync(r,c)){const g=yield o.getEntriesFromDirectoryAsync(i);for(const y of g)if(yield o.checkIfDirectory(`${i}/${y}`)){if(!(yield o.copyHandler(e,`${i}/${y}`,`${r}/${c}`)))return console.log(`Failed to copy directory: ${i}/${y}`),!1}else{if(!(yield o.copyFileAsync(`${i}/${y}`,`${r}/${c}`)))return console.log(`file:${i}/${y} failed to copy to destination:${r}/${c}`),!1;console.log(`file:${i}/${y} successfully copied to destination:${r}/${c}`)}}}else{if(!(yield o.copyFileAsync(`${i}`,`${r}`)))return console.log(`file:${i} failed to copy to destination:${r}`),!1;console.log(`file:${i} successfully copied to destination:${r}`)}return!0})()}createFolderAsync(e,i){var r=this;return Fe(function*(){return new Promise((o,s)=>{r._fileSystem.mkdir(`${e}/${i}`,511,c=>{if("EEXIST"===c?.code){console.log("createFolderAsync Error:folder  already exists",c);const h=r.iterateFileName(`${e}/${i}`);r._fileSystem.mkdir(h,511,g=>{g&&(console.log("createFolderAsync  Error:",g),s(!1)),o(!0)})}else console.log(`err:${c}`),r._fileExistsMap.set(`${e}/${i}`,0),o(!0)})})})()}deleteFolderAsync(e){var i=this;return Fe(function*(){return new Promise((r,o)=>{i._fileSystem.exists(`${e}/`,s=>{s?i._fileSystem.rmdir(`${e}/`,c=>{c&&(console.log("deleteFolderAsync Error: folder delete failed",c),o(!1)),r(!0)}):console.log("deleteFolderAsync Error: folder doesn't exists",s)})})})()}deleteFileAsync(e){var i=this;return Fe(function*(){return new Promise((r,o)=>{i._fileSystem.unlink(e,s=>{s&&(console.log("deleteFileAsync error:",s),o(!1)),r(!0)})})})()}getExtraFileMetaDataAsync(e){var i=this;return Fe(function*(){return new Promise((r,o)=>{i._fileSystem.exists(`${e}`,s=>{s?i._fileSystem.stat(e,(c,h)=>{c&&(console.log("getExtraFileMetaDataAsync error:",c),o(c)),r(new YP(h?.ctime,h?.mtime,h?.size,h?.mode))}):(console.log("getExtraFileMetaDataAsync :Does not exists",s),r(new YP))})})})()}getFileAsync(e){var i=this;return Fe(function*(){return e?new Promise((r,o)=>{i._fileSystem.readFile(e,(s,c=ua.hp.from(""))=>{s?(console.log("getFileAsync error:",s),o(s)):r(c.toString())})}):(console.error("getFileAsync error: Path must not be empty"),Promise.reject(new Error("Path must not be empty")))})()}getFileBlobAsync(e){var i=this;return Fe(function*(){return e?new Promise((r,o)=>{i._fileSystem.readFile(e,(s,c=ua.hp.from(""))=>{s&&(console.log("getFileBlobAsync error:",s),o(s)),c=c||new Uint8Array;const h=i.bufferToUrl(c);r(h)})}):(console.error("getFileBlobAsync error: Path must not be empty"),Promise.reject(new Error("Path must not be empty")))})()}getEntriesFromDirectoryAsync(e){var i=this;return Fe(function*(){return e?(yield i.initBrowserFsAsync(),new Promise((r,o)=>{const s=i._fileSystem;setTimeout(()=>{s.readdir(e,function(c,h){c?(console.log("Oops! a boo boo happened, filesystem wasn't ready:",c),o([])):r(h||[])})},i.SECONDS_DELAY)})):(console.error("getEntriesFromDirectoryAsync error: Path must not be empty"),Promise.reject(new Error("Path must not be empty")))})()}getFileEntriesFromDirectory(e,i){for(let r=0;r<e.length;r++){const o=e[r],s=new k6;s.setName=(0,_t.basename)(o,(0,_t.extname)(o)),s.setPath=(0,_t.resolve)(i,o),this._directoryFileEntires.push(s)}return this._directoryFileEntires}getFileName(e){return`${(0,_t.basename)(e,(0,_t.extname)(e))}${(0,_t.extname)(e)}`}getFileInfoAsync(e){var i=this;return Fe(function*(){const r=(0,_t.extname)(e);i._fileInfo=new Fo;const o=yield i.getExtraFileMetaDataAsync(e);if(r)if(r===i._consts.URL){const s=yield i.getShortCutFromURLAsync(e);i._fileInfo=i.populateFileInfo(e,o,!0,i._consts.EMPTY_STRING,i._consts.EMPTY_STRING,!0,s),i._fileInfo.setIsShortCut=!0}else if(i._consts.IMAGE_FILE_EXTENSIONS.includes(r)){const s=yield i.getFileConetentFromB64DataUrlAsync(e,"image");i._fileInfo=i.populateFileInfo(e,o,!0,"photoviewer","image_file.png",!1,void 0,s)}else if(i._consts.VIDEO_FILE_EXTENSIONS.includes(r)){const s=yield i.getFileConetentFromB64DataUrlAsync(e,"video");i._fileInfo=i.populateFileInfo(e,o,!0,"videoplayer","video_file.png",!1,void 0,s)}else if(i._consts.AUDIO_FILE_EXTENSIONS.includes(r)){const s=yield i.getFileConetentFromB64DataUrlAsync(e,"audio");i._fileInfo=i.populateFileInfo(e,o,!0,"audioplayer","music_file.png",!1,void 0,s)}else i._consts.PROGRAMING_LANGUAGE_FILE_EXTENSIONS.includes(r)||".wasm"===r?i._fileInfo=i.populateFileInfo(e,o,!0,"codeeditor",".wasm"===r?"wasm_file.png":"code_file.png"):".txt"===r||".properties"===r?i._fileInfo=i.populateFileInfo(e,o,!0,"texteditor","file.png"):".md"===r?i._fileInfo=i.populateFileInfo(e,o,!0,"markdownviewer","markdown_file.png"):".jsdos"===r?i._fileInfo=i.populateFileInfo(e,o,!0,"jsdos","js-dos_file.png"):".swf"===r?i._fileInfo=i.populateFileInfo(e,o,!0,"ruffle","swf_file.png"):(i._fileInfo.setIconPath=`${i._consts.IMAGE_BASE_PATH}/unknown.png`,i._fileInfo.setCurrentPath=e,i._fileInfo.setFileName=(0,_t.basename)(e,(0,_t.extname)(e)),i._fileInfo.setDateModified=o.getModifiedDate,i._fileInfo.setSize=o.getSize,i._fileInfo.setMode=o.getMode,i._fileInfo.setFileExtension=r);else{const s=yield i.setFolderValuesAsync(e);i._fileInfo=i.populateFileInfo(e,o,!1,i._consts.EMPTY_STRING,i._consts.EMPTY_STRING,!1,void 0,s),i._fileInfo.setIconPath=i.changeFolderIcon(s.geFileName,s.getIconPath,e)}return i.addAppAssociaton(i._fileInfo.getOpensWith,i._fileInfo.getIconPath),i._fileInfo})()}populateFileInfo(e,i,r=!0,o,s,c=!1,h,g){const y=new Fo,C=`${this._consts.IMAGE_BASE_PATH}${s}`;return y.setCurrentPath=e,void 0!==h?(y.setIconPath=c&&h?.getIconPath||C,y.setContentPath=h?.getContentPath||this._consts.EMPTY_STRING,y.setFileType=h?.getFileType||(0,_t.extname)(e),y.setFileName=h?.geFileName||(0,_t.basename)(e,(0,_t.extname)(e)),y.setOpensWith=h?.getOpensWith||o):(y.setIconPath=c&&g?.getIconPath||C,y.setContentPath=g?.getContentPath||this._consts.EMPTY_STRING,y.setFileType=g?.getFileType||(0,_t.extname)(e),y.setFileName=g?.geFileName||(0,_t.basename)(e,(0,_t.extname)(e)),y.setOpensWith=g?.getOpensWith||o),y.setIsFile=r,y.setDateModified=i.getModifiedDate,y.setSize=i.getSize,y.setMode=i.getMode,y.setFileExtension=(0,_t.extname)(e),y}getFileConetentFromB64DataUrlAsync(e,i){var r=this;return Fe(function*(){return new Promise((o,s)=>{r._fileSystem.readFile(e,(c,h=ua.hp.from(""))=>{c&&(console.log("getFileConetentFromB64DataUrlAsync error:",c),s(c));const y=h.toString("utf8");if(r.isUtf8Encoded(y))if("data:image"==y.substring(0,10)||"data:video"==y.substring(0,10)||"data:audio"==y.substring(0,10)){const C=h.toString().split(",")[1],O=ua.hp.from(C,"base64"),j=r.bufferToUrl(O);"data:image"==y.substring(0,10)?o(new da(j,(0,_t.basename)(e,(0,_t.extname)(e)),"",j,"")):o(new da("",(0,_t.basename)(e,(0,_t.extname)(e)),"",j,""))}else{const C=r.bufferToUrl2(h);o(new da("image"===i?C:"",(0,_t.basename)(e,(0,_t.extname)(e)),"",C,""))}else o(new da("",(0,_t.basename)(e,(0,_t.extname)(e)),"",r.bufferToUrl2(h),""))})})})()}getShortCutFromURLAsync(e){var i=this;return Fe(function*(){return new Promise((r,o)=>{i._fileSystem.readFile(e,function(s,c=ua.hp.from("")){s&&(console.log("getShortCutAsync error:",s),o(new GP("","","","","")));const h=c?c.toString():ua.hp.from("").toString(),g=F6().parse(h)||{InternetShortcut:{FileName:"hi",IconPath:"",FileType:"",ContentPath:"",OpensWith:""}};if("object"==typeof g){const y=g?.InternetShortcut,C=y?.FileName,A=y?.IconPath,O=y?.FileType,j=y?.ContentPath,ne=y?.OpensWith;r(new GP(A,C,O,j,ne))}})})})()}movehandler(e,i){var r=this;return Fe(function*(){if(0===i.length)return!0;const o=i.shift()||"",s=r.getFileName(o);if(yield r.checkIfDirectory(`${o}`)){const h=yield r.getEntriesFromDirectoryAsync(o);if(!(yield r.createFolderAsync(e,s)))return console.log(`folder:${e}/${s}  creation failed`),!1;for(const y of h)if(yield r.checkIfDirectory(`${o}/${y}`))i.push(`${o}/${y}`);else{const A=yield r.moveFileAsync(`${o}/${y}`,`${e}/${s}`);console.log(A?`file:${o}/${y} successfully moved to destination:${e}/${s}`:`file:${o}/${y} failed to move to destination:${e}/${s}`)}}else{const h=yield r.moveFileAsync(`${o}`,`${e}`);console.log(h?`file:${o} successfully moved to destination:${e}`:`file:${o} failed to move to destination:${e}`)}return r.movehandler(`${e}/${s}`,i)})()}writeFilesAsync(e,i){var r=this;return Fe(function*(){return new Promise((o,s)=>{i.forEach(c=>{const h=new FileReader;h.readAsDataURL(c),h.onload=g=>{r._fileSystem.writeFile(`${e}/${c.name}`,g.target?.result,{flag:"wx"},y=>{if(console.log(`fileName:${e}/${c.name}`),"EEXIST"===y?.code){console.log("writeFileAsync Error: file already exists",y);const C=r.iterateFileName(`${e}/${c.name}`);r._fileSystem.writeFile(C,g.target?.result,A=>{A&&(console.log("writeFileAsync Iterate Error:",A),s(A)),o(!0)})}else r._fileExistsMap.set(`${e}/${c.name}`,0),o(!0)})}})})})()}writeFileAsync(e,i){var r=this;return Fe(function*(){return new Promise((o,s)=>{r._fileSystem.writeFile(`${e}/${i.getFileName}`,i.getContentPath,{flag:"wx"},c=>{if(console.log(`FileName:${e}/${i.getFileName}`),"EEXIST"===c?.code){console.log("writeFileAsync Error: file already exists",c);const h=r.iterateFileName(`${e}/${i.getFileName}`);r._fileSystem.writeFile(h,i.getContentPath,g=>{g&&(console.log("writeFileAsync Iterate Error:",g),s(!1)),o(!0)})}else r._fileExistsMap.set(`${e}/${i.getFileName}`,0),o(!0)})})})()}removeHandler(e,i){var r=this;return Fe(function*(){const o=yield r.getEntriesFromDirectoryAsync(i);for(const c of o){const h=`${i}/${c}`;if(yield r.checkIfDirectory(h)){if(!(yield r.removeHandler(e,h)))return console.log(`Failed to delete directory: ${h}`),!1}else{if(!(yield r.deleteFileAsync(h)))return console.log(`File: ${c} in ${h} failed deletion`),!1;console.log(`File: ${c} in ${h} deleted successfully`)}}return console.log(`folder to delete: ${i}`),(yield r.deleteFolderAsync(`${i}`))?(console.log(`Directory: ${i} deleted successfully`),!0):(console.log(`Failed to delete directory: ${i}`),!1)})()}renameAsync(e,i,r){var o=this;return Fe(function*(){return new Promise((s,c)=>{let h="",g="";r?(h=`${(0,_t.dirname)(e)}/${i}${(0,_t.extname)(e)}`,g="file"):(h=`${(0,_t.dirname)(e)}/${i}`,g="folder"),o._fileSystem.exists(`${h}`,y=>{y?(console.log(`renameAsync Error: ${g} already exists`,y),c(!1)):o._fileSystem.rename(`${e}`,h,C=>{C&&(console.log(`renameAsync Error: ${g} rename`,C),c(!1)),s(!0)})})})})()}resetDirectoryFiles(){this._directoryFileEntires=[]}moveFileAsync(e,i){var r=this;return Fe(function*(){return new Promise((o,s)=>{const c=r.getFileName(e),h=`${i}/${c}`;r._fileSystem.readFile(e,(g,y=ua.hp.from(""))=>{g?(console.log("getFile in moveAsync error:",g),s(!1)):(r._fileSystem.writeFile(`${h}`,y,C=>{C?(console.log("writeFile in moveAsync error:",C),s(!1)):(r._fileSystem.unlink(e,A=>{A&&(console.log("unlink file error:",A),s(A)),console.log("successfully unlinked"),o(!0)}),console.log("successfully renamed"),o(!0))}),console.log("successfully fetched"),o(!0))})})})()}iterateFileName(e){const i=(0,_t.extname)(e),r=(0,_t.basename)(e,i);let o=this._fileExistsMap.get(e)||0;return o+=1,this._fileExistsMap.set(e,o),`${(0,_t.dirname)(e)}/${r} (${o})${i}`}setFolderValuesAsync(e){var i=this;return Fe(function*(){return new Promise((r,o)=>{i._fileSystem.exists(`${e}`,s=>{s?i._fileSystem.stat(e,(c,h)=>{c&&(console.log("setFolderValuesAsync error:",c),o(new da("","","","","")));const g=!!h&&h.isDirectory();r(new da(`${i._consts.IMAGE_BASE_PATH}${g?"folder.png":"unknown.png"}`,(0,_t.basename)(e,(0,_t.extname)(e)),"folder",(0,_t.basename)(e,(0,_t.extname)(e)),"fileexplorer"))}):(console.log("setFolderValuesAsync :Does not exists",s),r(new da("","","","","")))})})})()}addAppAssociaton(e,i){this._fileAndAppIconAssociation.get(e)||this._fileAndAppIconAssociation.set(e,"photoviewer"===e||"videoplayer"===e||"audioplayer"===e||"ruffle"===e?`${this._consts.IMAGE_BASE_PATH}${e}.png`:i)}getAppAssociaton(e){return this._fileAndAppIconAssociation.get(e)||""}bufferToUrl(e){return URL.createObjectURL(new Blob([new Uint8Array(e)]))}bufferToUrl2(e){return URL.createObjectURL(new Blob([e]))}uint8ToBase64(e){return btoa(String.fromCharCode(...new Uint8Array(e)))}isUtf8Encoded(e){try{const r=(new TextEncoder).encode(e);return new TextDecoder("utf-8",{fatal:!0}).decode(r),!0}catch{return!1}}addEventOriginator(e){this._eventOriginator=e}getEventOrginator(){return this._eventOriginator}removeEventOriginator(){this._eventOriginator=""}static \u0275fac=function(i){return new(i||t)};static \u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),hr=(()=>{class t{_runningProcessService;_appDirectory;_TriggerList;_onlyOneInstanceAllowed=["taskmanager"];static instance;startProcessNotify=new Pe;appNotFoundNotify=new Pe;appIsRunningNotify=new Pe;constructor(e){this._runningProcessService=e,this._appDirectory=new Q0,this._TriggerList=[],t.instance=this}startApplication(e){let i="";if(this._appDirectory.appExist(e.getOpensWith)){if(!this._runningProcessService.isProcessRunning(e.getOpensWith)||this._runningProcessService.isProcessRunning(e.getOpensWith)&&!this._onlyOneInstanceAllowed.includes(e.getOpensWith))return this.startProcessNotify.next(e.getOpensWith),void this._TriggerList.push(e);if(this._onlyOneInstanceAllowed.includes(e.getOpensWith))return i=`Only one instance of ${e.getOpensWith} is allowed to run.`,void this.appIsRunningNotify.next(i)}i=`Osdrive:/App Directory/${e.getOpensWith}`,this.appNotFoundNotify.next(i)}getLastProcessTrigger(){return this._TriggerList.length>0&&this._TriggerList.pop()||new Fo}static \u0275fac=function(i){return new(i||t)(Vt(Yn))};static \u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Nw=(()=>{class t{autoArrangeIconsNotify=new Pe;alignIconsToGridNotify=new Pe;viewByNotify=new Pe;sortByNotify=new Pe;refreshNotify=new Pe;showDesktopIconsNotify=new Pe;static \u0275fac=function(i){return new(i||t)};static \u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),fa=(()=>{class t{_isPasteActive=!1;_path="NOPATH";_actions="";pinToTaskBar=new Pe;unPinFromTaskBar=new Pe;openApplicationFromTaskBar=new Pe;closeApplicationFromTaskBar=new Pe;showTaskBarMenu=new Pe;hideTaskBarMenu=new Pe;keepTaskBarMenu=new Pe;hideContextMenus=new Pe;storeData=new Pe;addToQuickAccess=new Pe;showPropertiesView=new Pe;closePropertiesView=new Pe;setPasteState(e){this._isPasteActive=e}getPasteState(){return this._isPasteActive}setPath(e){this._path=e}getPath(){return this._path}setActions(e){this._actions=e}getActions(){return this._actions}static \u0275fac=function(i){return new(i||t)};static \u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),gg=(()=>{class t{errorNotify=new Pe;InfoNotify=new Pe;warningNotify=new Pe;closeDialogBoxNotify=new Pe;static \u0275fac=function(i){return new(i||t)};static \u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function R6(t,n){1&t&&re(0,"div",5)}function L6(t,n){1&t&&(I(0,"div",16),re(1,"div",17),P())}function B6(t,n){1&t&&re(0,"div",5)}function V6(t,n){if(1&t&&(xn(0),Le(1,R6,1,0,"div",14)(2,L6,2,0,"div",15)(3,B6,1,0,"div",14),Dn()),2&t){const e=z().index;T(),H("ngIf",3===e||4===e||5===e||6===e),T(),H("ngIf",3===e||4===e||5===e||6===e),T(),H("ngIf",3===e||4===e||5===e||6===e)}}function U6(t,n){1&t&&re(0,"div",5)}function z6(t,n){1&t&&(I(0,"div",16),re(1,"div",17),P())}function j6(t,n){1&t&&re(0,"div",5)}function H6(t,n){if(1&t&&(xn(0),Le(1,U6,1,0,"div",14)(2,z6,2,0,"div",15)(3,j6,1,0,"div",14),Dn()),2&t){const e=z().index;T(),H("ngIf",3===e||4===e||6===e||9===e),T(),H("ngIf",3===e||4===e||6===e||9===e),T(),H("ngIf",3===e||4===e||6===e||9===e)}}function $6(t,n){1&t&&re(0,"div",5)}function W6(t,n){1&t&&(I(0,"div",16),re(1,"div",17),P())}function G6(t,n){1&t&&re(0,"div",5)}function Y6(t,n){if(1&t&&(xn(0),Le(1,$6,1,0,"div",14)(2,W6,2,0,"div",15)(3,G6,1,0,"div",14),Dn()),2&t){const e=z().index;T(),H("ngIf",0===e||2===e||5===e),T(),H("ngIf",0===e||2===e||5===e),T(),H("ngIf",0===e||2===e||5===e)}}function Z6(t,n){1&t&&re(0,"div",5)}function q6(t,n){1&t&&(I(0,"div",16),re(1,"div",17),P())}function K6(t,n){1&t&&re(0,"div",5)}function Q6(t,n){if(1&t&&(xn(0),Le(1,Z6,1,0,"div",14)(2,q6,2,0,"div",15)(3,K6,1,0,"div",14),Dn()),2&t){const e=z().index;T(),H("ngIf",2===e||4===e||6===e),T(),H("ngIf",2===e||4===e||6===e),T(),H("ngIf",2===e||4===e||6===e)}}function X6(t,n){1&t&&re(0,"div",5)}function J6(t,n){1&t&&(I(0,"div",16),re(1,"div",17),P())}function e9(t,n){1&t&&re(0,"div",5)}function t9(t,n){if(1&t&&(xn(0),Le(1,X6,1,0,"div",14)(2,J6,2,0,"div",15)(3,e9,1,0,"div",14),Dn()),2&t){const e=z().index;T(),H("ngIf",4===e||6===e||8===e),T(),H("ngIf",4===e||6===e||8===e),T(),H("ngIf",4===e||6===e||8===e)}}function n9(t,n){if(1&t){const e=Tt();I(0,"div",7)(1,"div",8),de("click",function(){const r=G(e).$implicit;return Y(z(2).onMenuItemClick(r.action))}),I(2,"span",9),re(3,"figure",10),P(),I(4,"span",11),se(5),P(),I(6,"span",12),re(7,"figure",10),P()(),Le(8,V6,4,3,"ng-container",13)(9,H6,4,3,"ng-container",13)(10,Y6,4,3,"ng-container",13)(11,Q6,4,3,"ng-container",13)(12,t9,4,3,"ng-container",13),P()}if(2&t){const e=n.$implicit,i=z(2);T(5),ln(e.label),T(3),H("ngIf",i.menuOrder===i.fileExplrUniqueMenuOrder),T(),H("ngIf",i.menuOrder===i.fileExplrFolderMenuOrder),T(),H("ngIf",i.menuOrder===i.fileExplrFileMenuOrder),T(),H("ngIf",i.menuOrder===i.defaultFileMenuOrder),T(),H("ngIf",i.menuOrder===i.defaultFolderMenuOrder)}}function i9(t,n){if(1&t&&(I(0,"div",4),re(1,"div",5),Le(2,n9,13,6,"div",6),re(3,"div",5),P()),2&t){const e=z();T(2),H("ngForOf",e.generalMenu)}}function r9(t,n){1&t&&re(0,"img",29),2&t&&H("src",z().$implicit.icon,$e)}function o9(t,n){if(1&t){const e=Tt();I(0,"div",21)(1,"div",22),de("click",function(){const r=G(e).$implicit;return Y(z(2).onMenuItemClick(r.action))}),I(2,"div",23)(3,"figure",24),Le(4,r9,1,1,"img",25),P()(),I(5,"div",26)(6,"p",27),se(7),P()(),I(8,"div",28),re(9,"figure",24),P()()()}if(2&t){const e=n.$implicit;T(4),H("ngIf",e.icon.length>0),T(3),ln(e.label)}}function s9(t,n){if(1&t&&(I(0,"div",18),re(1,"div",19),Le(2,o9,10,2,"div",20),re(3,"div",19),P()),2&t){const e=z();T(2),H("ngForOf",e.generalMenu)}}function a9(t,n){1&t&&re(0,"img",48),2&t&&H("src",z(2).$implicit.icon1,$e)}function l9(t,n){1&t&&re(0,"img",48),2&t&&H("src",z(2).$implicit.icon2,$e)}function c9(t,n){if(1&t){const e=Tt();I(0,"div",41),de("click",function(){G(e);const r=z().$implicit;return Y(z(2).onMenuItemClick(r.action))})("mouseenter",function(){G(e);const r=z().$implicit;return Y(z(2).onMenuItemHover(r.action1))}),I(1,"div",42)(2,"figure",43),Le(3,a9,1,1,"img",44),P()(),I(4,"div",45)(5,"p",46),se(6),P()(),I(7,"div",47)(8,"figure",43),Le(9,l9,1,1,"img",44),P()()()}if(2&t){const e=z().$implicit;T(3),H("ngIf",e.icon1),T(3),qt(" ",e.label,""),T(3),H("ngIf",e.icon2)}}function u9(t,n){1&t&&re(0,"img",48),2&t&&H("src",z(2).$implicit.icon1,$e)}function d9(t,n){1&t&&re(0,"img",48),2&t&&H("src",z(2).$implicit.icon2,$e)}function f9(t,n){if(1&t){const e=Tt();I(0,"div",49),de("click",function(){G(e);const r=z().$implicit;return Y(z(2).onMenuItemClick(r.action))}),I(1,"div",42)(2,"figure",43),Le(3,u9,1,1,"img",44),P()(),I(4,"div",45)(5,"p",46),se(6),P()(),I(7,"div",47)(8,"figure",43),Le(9,d9,1,1,"img",44),P()()()}if(2&t){const e=z().$implicit;T(3),H("ngIf",e.icon1),T(3),qt(" ",e.label,""),T(3),H("ngIf",e.icon2)}}function h9(t,n){1&t&&re(0,"img",48),2&t&&H("src",z(2).$implicit.icon1,$e)}function p9(t,n){1&t&&re(0,"img",48),2&t&&H("src",z(2).$implicit.icon2,$e)}function g9(t,n){if(1&t&&(I(0,"div",50)(1,"div",42)(2,"figure",43),Le(3,h9,1,1,"img",44),P()(),I(4,"div",51)(5,"p",46),se(6),P()(),I(7,"div",47)(8,"figure",43),Le(9,p9,1,1,"img",44),P()()()),2&t){const e=z().$implicit;T(3),H("ngIf",e.icon1),T(3),qt(" ",e.label,""),T(3),H("ngIf",e.icon2)}}function m9(t,n){if(1&t&&re(0,"img",59),2&t){const e=z().$implicit;H("ngClass","A"===e.styleOption?"dm-nested-img-alt":"dm-nested-img-alt2")("src",e.icon,$e)}}function _9(t,n){if(1&t&&(I(0,"div",45),se(1),P()),2&t){const e=z().$implicit;T(),ln(e.label)}}function y9(t,n){if(1&t&&(I(0,"div",45)(1,"p",46),se(2),P()()),2&t){const e=z().$implicit;T(2),qt(" ",e.label,"")}}function v9(t,n){1&t&&re(0,"div",31)}function w9(t,n){1&t&&(I(0,"div",60),re(1,"div",61),P())}function E9(t,n){1&t&&re(0,"div",31)}function S9(t,n){if(1&t){const e=Tt();I(0,"div",54),de("click",function(){const r=G(e).$implicit;return Y(z(4).onMenuItemClick(r.action))}),I(1,"div",55)(2,"div",42)(3,"figure",56),Le(4,m9,1,2,"img",57),P()(),Le(5,_9,2,1,"div",58)(6,y9,3,1,"div",58),I(7,"div",47),re(8,"figure",43),P()(),Le(9,v9,1,0,"div",39)(10,w9,2,0,"div",40)(11,E9,1,0,"div",39),P()}if(2&t){const e=n.$implicit;T(3),H("ngClass","A"===e.styleOption?"dm-nested-figure-alt":"dm-nested-figure-alt2"),T(),H("ngIf",e.variables),T(),H("ngIf","A"===e.styleOption||"B"===e.styleOption),T(),H("ngIf","C"===e.styleOption),T(3),H("ngIf",e.emptyline),T(),H("ngIf",e.emptyline),T(),H("ngIf",e.emptyline)}}function b9(t,n){if(1&t&&(I(0,"div",52),re(1,"div",31),Le(2,S9,12,7,"div",53),re(3,"div",31),P()),2&t){const e=z(),i=e.$implicit;lt("id","dmNestedMenu-",e.index,""),T(2),H("ngForOf",i.nest)}}function C9(t,n){1&t&&re(0,"div",31)}function I9(t,n){1&t&&(I(0,"div",60),re(1,"div",61),P())}function x9(t,n){1&t&&re(0,"div",31)}function D9(t,n){if(1&t&&(I(0,"div",34),Le(1,c9,10,3,"div",35)(2,f9,10,3,"div",36)(3,g9,10,3,"div",37)(4,b9,4,3,"div",38)(5,C9,1,0,"div",39)(6,I9,2,0,"div",40)(7,x9,1,0,"div",39),P()),2&t){const e=n.$implicit,i=z(2);T(),H("ngIf",e.label!==i.paste),T(),H("ngIf",e.label===i.paste&&i.isPasteActive),T(),H("ngIf",e.label===i.paste&&!i.isPasteActive),T(),H("ngIf",e.nest.length),T(),H("ngIf",e.emptyline),T(),H("ngIf",e.emptyline),T(),H("ngIf",e.emptyline)}}function M9(t,n){if(1&t&&(I(0,"div",30),re(1,"div",31),Le(2,D9,8,7,"div",32),re(3,"div",33),P()),2&t){const e=z();T(2),H("ngForOf",e.nestedMenu)}}let Fw=(()=>{class t{generalMenu=[];nestedMenu=[];fileExplorerMenu=[];menuType="";menuOrder="";_menuService;_storeDataSub;_consts=new Kn;paste="Paste";fileExplrMngrMenuOption=this._consts.FILE_EXPLORER_FILE_MANAGER_MENU_OPTION;tskBarMenuOption=this._consts.TASK_BAR_MENU_OPTION;defaultFileMenuOrder=this._consts.DEFAULT_FILE_MENU_ORDER;defaultFolderMenuOrder=this._consts.DEFAULT_FOLDER_MENU_ORDER;fileExplrFolderMenuOrder=this._consts.FILE_EXPLORER_FOLDER_MENU_ORDER;fileExplrFileMenuOrder=this._consts.FILE_EXPLORER_FILE_MENU_ORDER;fileExplrUniqueMenuOrder=this._consts.FILE_EXPLORER_UNIQUE_MENU_ORDER;isPasteActive;keys=[];constructor(e){this._menuService=e,this.isPasteActive=this._menuService.getPasteState(),this._storeDataSub=this._menuService.storeData.subscribe(i=>{const o=i[1];this._menuService.setPath(i[0]),this._menuService.setActions(o),this._menuService.setPasteState(!0)})}ngOnDestroy(){this._storeDataSub?.unsubscribe()}onMenuItemClick(e){e()}onMenuItemHover(e){e()}getKeys(e){this.keys=Object.keys(e)}static \u0275fac=function(i){return new(i||t)(te(fa))};static \u0275cmp=a({type:t,selectors:[["cos-menu"]],inputs:{generalMenu:"generalMenu",nestedMenu:"nestedMenu",fileExplorerMenu:"fileExplorerMenu",menuType:"menuType",menuOrder:"menuOrder"},decls:7,vars:1,consts:[["fileExplrMngrMenu",""],["tskBarMenu",""],["nestedMenu0",""],[3,"ngTemplateOutlet"],["id","dmfileExplrMngrMenu",1,"dm-vertical-menu"],[1,"dm-empty-line-container"],["lass","dm-vertical-menu-cntnr",4,"ngFor","ngForOf"],["lass","dm-vertical-menu-cntnr"],[1,"dm-vertical-menu-item",3,"click"],[1,"span","dm-head"],[1,"dm-fig-cntxt-menu"],[1,"span","dm-mid"],[1,"span","dm-tail"],[4,"ngIf"],["class","dm-empty-line-container",4,"ngIf"],["class","dm-line-container",4,"ngIf"],[1,"dm-line-container"],[1,"dm-line"],[1,"dm-tskbar-vertical-menu"],[1,"dm-tskbar-empty-line-container"],["lass","dm-tskbar-vertical-menu-cntnr",4,"ngFor","ngForOf"],["lass","dm-tskbar-vertical-menu-cntnr"],[1,"dm-tskbar-vertical-menu-item",3,"click"],[1,"dm-tskbar-head"],[1,"dm-tskbar-fig-cntxt-menu"],["class","dm-tskbar-img-alt",3,"src",4,"ngIf"],[1,"dm-tskbar-mid"],[1,"dm-p"],[1,"dm-tskbar-tail"],[1,"dm-tskbar-img-alt",3,"src"],["id","dmNestedMenu",1,"dm-nested-vertical-menu"],[1,"dm-nested-empty-line-container"],["class","dm-nested-vertical-sub-menu",4,"ngFor","ngForOf"],[1,"dm-nested-empty-line-container1"],[1,"dm-nested-vertical-sub-menu"],["class","dm-nested-vertical-menu-item",3,"click","mouseenter",4,"ngIf"],["class","dm-nested-vertical-menu-item",3,"click",4,"ngIf"],["class","dm-nested-vertical-menu-item turn-off-hover-effect ",4,"ngIf"],["class","dm-nested-vertical-sub-menu-content",3,"id",4,"ngIf"],["class","dm-nested-empty-line-container",4,"ngIf"],["class","dm-nested-line-container",4,"ngIf"],[1,"dm-nested-vertical-menu-item",3,"click","mouseenter"],[1,"dm-nested-head"],[1,"dm-nested-figure"],["class","dm-nested-img",3,"src",4,"ngIf"],[1,"dm-nested-mid"],[1,"dm-nested-p"],[1,"dm-nested-tail"],[1,"dm-nested-img",3,"src"],[1,"dm-nested-vertical-menu-item",3,"click"],[1,"dm-nested-vertical-menu-item","turn-off-hover-effect"],[1,"dm-nested-mid-disabled"],[1,"dm-nested-vertical-sub-menu-content",3,"id"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[1,"dm-nested-vertical-menu-item"],[3,"ngClass"],[3,"ngClass","src",4,"ngIf"],["class","dm-nested-mid",4,"ngIf"],[3,"ngClass","src"],[1,"dm-nested-line-container"],[1,"dm-nested-line"]],template:function(i,r){if(1&i&&(xc(0,3),Le(1,i9,4,1,"ng-template",null,0,ki)(3,s9,4,1,"ng-template",null,1,ki)(5,M9,4,1,"ng-template",null,2,ki)),2&i){const o=qn(2),s=qn(4),c=qn(6);H("ngTemplateOutlet",r.menuType===r.fileExplrMngrMenuOption?o:r.menuType===r.tskBarMenuOption?s:c)}},dependencies:[Ed,Mo,is,Sd],styles:[".dm-vertical-menu[_ngcontent-%COMP%], .dm-tskbar-vertical-menu[_ngcontent-%COMP%]{position:absolute;width:205px;box-shadow:2px 2px #0000004d;border:1px solid #9c9898;z-index:2}.dm-vertical-menu-item-cntnr[_ngcontent-%COMP%]{width:100%}.dm-vertical-menu-item[_ngcontent-%COMP%], .dm-tskbar-vertical-menu-item[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;padding:2px 0;background-color:#2b2b2b;display:inline-flex;width:100%;z-index:2}.dm-vertical-menu[_ngcontent-%COMP%]   .dm-vertical-menu-item[_ngcontent-%COMP%]:hover, .dm-vertical-menu[_ngcontent-%COMP%]{background-color:#484444}.dm-line-container[_ngcontent-%COMP%]{max-height:1px;background-color:#2b2b2b}.dm-line[_ngcontent-%COMP%]{border:1px solid #9c9898;margin:0 8px}.dm-empty-line-container[_ngcontent-%COMP%], .dm-tskbar-empty-line-container[_ngcontent-%COMP%]{max-height:3px;min-height:3px;background-color:#2b2b2b}span[_ngcontent-%COMP%]{display:block}span.dm-head[_ngcontent-%COMP%]{padding-left:4px}span.dm-mid[_ngcontent-%COMP%]{padding:0 4px;color:#fff;text-align:left;font-size:11px;font-weight:400}span.dm-tail[_ngcontent-%COMP%]{padding-left:47px}.dm-fig-cntxt-menu[_ngcontent-%COMP%]{position:relative;align-items:center;display:inline-flex;min-width:18px;top:0;left:15%}.dm-img-alt[_ngcontent-%COMP%]{height:16px;width:16px;position:relative}.dm-figure-alt[_ngcontent-%COMP%]{align-items:center;display:inline-flex;min-width:18px}.dm-tskbar-empty-line-container[_ngcontent-%COMP%]{background-color:transparent}.dm-tskbar-vertical-menu[_ngcontent-%COMP%]{background-color:#292929b3;-webkit-backdrop-filter:blur(30px);backdrop-filter:blur(30px);z-index:5}.dm-tskbar-vertical-menu-cntnr[_ngcontent-%COMP%]{width:100%}.dm-tskbar-vertical-menu-item[_ngcontent-%COMP%]{background-color:transparent;z-index:5}.dm-tskbar-head[_ngcontent-%COMP%]{max-width:27%;padding-left:5px;padding-top:2px;padding-bottom:2px}.dm-tskbar-mid[_ngcontent-%COMP%]{min-width:48%;padding-left:10px;padding-top:2px;padding-bottom:2px;color:#fff;text-align:left;font-size:11px;font-weight:400}.dm-p[_ngcontent-%COMP%]{position:relative;top:10%}.dm-tskbar-tail[_ngcontent-%COMP%]{max-width:25%;padding-left:48px;padding-top:2px;padding-bottom:2px}.dm-tskbar-fig-cntxt-menu[_ngcontent-%COMP%]{position:relative;align-items:center;display:inline-flex;min-width:18px;top:0;left:15%}.dm-tskbar-img-alt[_ngcontent-%COMP%]{height:18px;width:18px;position:relative}.dm-nested-vertical-menu[_ngcontent-%COMP%]{position:absolute;width:210px;box-shadow:2px 2px #0000004d;border:1px solid #9c9898;z-index:2}.dm-nested-vertical-menu-item[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;padding:2px 0;background-color:#2b2b2b;display:inline-flex;width:100%;z-index:2}.dm-nested-line-container[_ngcontent-%COMP%]{max-height:1px;background-color:#2b2b2b}.dm-nested-line[_ngcontent-%COMP%]{border:1px solid #9c9898;margin:0 8px}.dm-nested-empty-line-container[_ngcontent-%COMP%]{max-height:3px;min-height:3px;background-color:#2b2b2b}.dm-nested-empty-line-container1[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%;height:3px;background-color:#2b2b2b}.dm-nested-vertical-sub-menu[_ngcontent-%COMP%]{float:left;overflow:hidden;width:100%;outline:none}.dm-nested-p[_ngcontent-%COMP%]{position:relative;top:10%}.dm-nested-vertical-sub-menu-content[_ngcontent-%COMP%]{display:none;position:absolute;background-color:#2b2b2b;box-shadow:2px 2px #0000004d;border:1px solid #9c9898;width:205px;z-index:2;left:98%;margin-top:-29px;animation:_ngcontent-%COMP%_fade 1s ease forwards;transition-delay:1s}.turn-off-hover-effect[_ngcontent-%COMP%]{pointer-events:none}@keyframes _ngcontent-%COMP%_fade{0%{opacity:0;transform:translateY(0)}to{opacity:1;transform:translateY(0)}}.dm-nested-vertical-menu[_ngcontent-%COMP%]   .dm-nested-vertical-menu-item[_ngcontent-%COMP%]:hover{background-color:#484444}.dm-nested-vertical-sub-menu[_ngcontent-%COMP%]:hover   .dm-nested-vertical-sub-menu-content[_ngcontent-%COMP%]{display:block;transition-delay:1s}.dm-nested-head[_ngcontent-%COMP%]{max-width:25%;padding-left:4px}.dm-nested-mid[_ngcontent-%COMP%], .dm-nested-mid-disabled[_ngcontent-%COMP%]{min-width:50%;padding:0 4px;color:#fff;text-align:left;font-size:11px;font-weight:400}.dm-nested-mid-disabled[_ngcontent-%COMP%]{color:#969696c6}.dm-nested-tail[_ngcontent-%COMP%]{max-width:25%;padding-left:62px}.dm-nested-figure[_ngcontent-%COMP%]{align-items:center;display:inline-flex;width:18px;height:18px}.dm-nested-img[_ngcontent-%COMP%]{height:18px;width:18px;position:relative;margin:0}.dm-nested-img-alt[_ngcontent-%COMP%]{height:8px;width:8px;position:relative}.dm-nested-figure-alt[_ngcontent-%COMP%]{position:relative;align-items:center;display:inline-flex;width:18px;height:18px;top:-25%;left:35%}.dm-nested-img-alt2[_ngcontent-%COMP%]{height:16px;width:16px;position:relative}.dm-nested-figure-alt2[_ngcontent-%COMP%]{position:relative;align-items:center;display:inline-flex;min-width:18px;top:0;left:15%}"]})}return t})();function T9(t,n){if(1&t){const e=Tt();I(0,"div",5),de("click",function(){G(e);const r=z().$implicit;return Y(z(2).navigateToSelectedPath(r.name,r.path))})("click",function(){G(e);const r=z().index,o=z(2);return Y(o.onBtnClick("qa-fileExplrTreeView-"+o.pid+"-"+r))})("mouseenter",function(){G(e);const r=z().index,o=z(2);return Y(o.onMouseEnter("qa-fileExplrTreeView-"+o.pid+"-"+r))})("mouseleave",function(){G(e);const r=z().index,o=z(2);return Y(o.onMouseLeave("qa-fileExplrTreeView-"+o.pid+"-"+r))}),I(1,"div",6),re(2,"figure",7),P(),I(3,"div",11)(4,"figure",12),re(5,"img",13),P()(),I(6,"div",14)(7,"p",15),se(8),P()()()}if(2&t){const e=z(),i=e.$implicit,r=e.index;Xt("id","qa-fileExplrTreeView-",z(2).pid,"-",r,""),T(5),H("src","3D-Objects"===i.name&&"/Users/3D-Objects"===i.path?"osdrive/Cheetah/System/Imageres/3d-objects_folder_small.png":"Desktop"===i.name&&"/Users/Desktop"===i.path?"osdrive/Cheetah/System/Imageres/desktop_folder_small.png":"Documents"===i.name&&"/Users/Documents"===i.path?"osdrive/Cheetah/System/Imageres/documents_folder_small.png":"Downloads"===i.name&&"/Users/Downloads"===i.path?"osdrive/Cheetah/System/Imageres/downloads_folder_small.png":"Games"===i.name&&"/Users/Games"===i.path?"osdrive/Cheetah/System/Imageres/games_folder_small.png":"Music"===i.name&&"/Users/Music"===i.path?"osdrive/Cheetah/System/Imageres/music_folder_small.png":"Pictures"===i.name&&"/Users/Pictures"===i.path?"osdrive/Cheetah/System/Imageres/pictures_folder_small.png":"Videos"===i.name&&"/Users/Videos"===i.path?"osdrive/Cheetah/System/Imageres/videos_folder_small.png":"osdrive/Cheetah/System/Imageres/folder_folder_small.png",$e),T(3),ln(i.name)}}function P9(t,n){if(1&t&&(xn(0),I(1,"li",17),Le(2,T9,9,5,"div",18),P(),Dn()),2&t){const e=n.$implicit,i=n.index,r=z(2);T(),Xt("id","qa-li-",r.pid,"-",i,""),T(),H("ngIf",e.isFolder)}}function A9(t,n){if(1&t){const e=Tt();xn(0),I(1,"ul",4)(2,"li",2)(3,"div",5),de("click",function(){G(e);const r=z();return Y(r.onBtnClick("qa-fileExplrTreeView-"+r.pid))})("mouseenter",function(){G(e);const r=z();return Y(r.onMouseEnter("qa-fileExplrTreeView-"+r.pid))})("mouseleave",function(){G(e);const r=z();return Y(r.onMouseLeave("qa-fileExplrTreeView-"+r.pid))}),I(4,"div",6)(5,"figure",7)(6,"div",8),Ii(),I(7,"svg",9),de("click",function(){return G(e),Y(z().showChildren("qa-fileExplrTreeView"))})("mouseenter",function(){G(e);const r=z();return Y(r.colorChevron(r.negTen,r.negTen))})("mouseleave",function(){G(e);const r=z();return Y(r.unColorChevron(r.negTen,r.negTen))}),re(8,"path",10),P()()()(),vr(),I(9,"div",11)(10,"figure",12),re(11,"img",13),P()(),I(12,"div",14)(13,"p",15),se(14),P()()(),I(15,"ul",1),Le(16,P9,3,4,"ng-container",3),P()()(),re(17,"div",16),Dn()}if(2&t){const e=z();T(2),lt("id","qa-li-",e.pid,""),T(),lt("id","qa-fileExplrTreeView-",e.pid,""),T(4),St(e.chevronBtnStyle),lt("id","qa-fileExplrTreeView-img-",e.pid,""),T(4),H("src","osdrive/Cheetah/System/Imageres/quick_access_small.png",$e),T(3),qt(" ",e.Quick_ACCESS,""),T(),lt("id","qa-ul-",e.pid,""),T(),H("ngForOf",e.quickAccessData)}}function k9(t,n){if(1&t){const e=Tt();xn(0),I(1,"div",5),de("click",function(){return G(e),Y(z().navigateToSelectedPath("This-PC","This-PC"))})("click",function(){G(e);const r=z();return Y(r.onBtnClick("tp-fileExplrTreeView-"+r.pid+"-"+r.level))})("mouseenter",function(){G(e);const r=z();return Y(r.onMouseEnter("tp-fileExplrTreeView-"+r.pid+"-"+r.level))})("mouseleave",function(){G(e);const r=z();return Y(r.onMouseLeave("tp-fileExplrTreeView-"+r.pid+"-"+r.level))}),I(2,"div",19)(3,"figure",7)(4,"div",8),Ii(),I(5,"svg",9),de("click",function(){return G(e),Y(z().showChildren("tp-fileExplrTreeView"))})("mouseenter",function(){return G(e),Y(z().colorChevron())})("mouseleave",function(){return G(e),Y(z().unColorChevron())}),re(6,"path",10),P()()()(),vr(),I(7,"div",20)(8,"figure",12),re(9,"img",13),P()(),I(10,"div",21)(11,"p",15),se(12),P()()(),Dn()}if(2&t){const e=z();T(),Xt("id","tp-fileExplrTreeView-",e.pid,"-",e.level,""),T(4),St(e.chevronBtnStyle),Xt("id","tp-fileExplrTreeView-img-",e.pid,"-",e.level,""),T(4),H("src","osdrive/Cheetah/System/Imageres/this_pc.png",$e),T(3),ln(e.THIS_PC)}}function O9(t,n){if(1&t){const e=Tt();I(0,"div",5),de("click",function(){G(e);const r=z().$implicit;return Y(z().navigateToSelectedPath(r.name,r.path))})("click",function(){G(e);const r=z().index,o=z();return Y(o.onBtnClick("tp-fileExplrTreeView-"+o.pid+"-"+o.level+"-"+r))})("mouseenter",function(){G(e);const r=z().index,o=z();return Y(o.onMouseEnter("tp-fileExplrTreeView-"+o.pid+"-"+o.level+"-"+r))})("mouseleave",function(){G(e);const r=z().index,o=z();return Y(o.onMouseLeave("tp-fileExplrTreeView-"+o.pid+"-"+o.level+"-"+r))}),I(1,"div",19)(2,"figure",7)(3,"div",8),Ii(),I(4,"svg",9),de("click",function(){G(e);const r=z(),o=r.$implicit,s=r.index;return Y(z().showGrandChildren(o.path,s))})("mouseenter",function(){G(e);const r=z().index;return Y(z().colorChevron(r))})("mouseleave",function(){G(e);const r=z().index;return Y(z().unColorChevron(r))}),re(5,"path",22),P()()()(),vr(),I(6,"div",20)(7,"figure",12),re(8,"img",13),P()(),I(9,"div",21)(10,"p",15),se(11),P()()()}if(2&t){const e=z(),i=e.$implicit,r=e.index,o=z();Tc("id","tp-fileExplrTreeView-",o.pid,"-",o.level,"-",r,""),T(4),St(o.chevronBtnStyle),Tc("id","tp-fileExplrTreeView-img-",o.pid,"-",o.level,"-",r,""),T(4),H("src","3D-Objects"===i.name&&"/Users/3D-Objects"===i.path?"osdrive/Cheetah/System/Imageres/3d-objects_folder_small.png":"Desktop"===i.name&&"/Users/Desktop"===i.path?"osdrive/Cheetah/System/Imageres/desktop_folder_small.png":"Documents"===i.name&&"/Users/Documents"===i.path?"osdrive/Cheetah/System/Imageres/documents_folder_small.png":"Downloads"===i.name&&"/Users/Downloads"===i.path?"osdrive/Cheetah/System/Imageres/downloads_folder_small.png":"Games"===i.name&&"/Users/Games"===i.path?"osdrive/Cheetah/System/Imageres/games_folder_small.png":"Music"===i.name&&"/Users/Music"===i.path?"osdrive/Cheetah/System/Imageres/music_folder_small.png":"Pictures"===i.name&&"/Users/Pictures"===i.path?"osdrive/Cheetah/System/Imageres/pictures_folder_small.png":"Videos"===i.name&&"/Users/Videos"===i.path?"osdrive/Cheetah/System/Imageres/videos_folder_small.png":"OSDisk (C:)"===i.name&&"/"===i.path?"osdrive/Cheetah/System/Imageres/os_disk.png":"osdrive/Cheetah/System/Imageres/folder_folder_small.png",$e),T(3),ln(i.name)}}function N9(t,n){if(1&t){const e=Tt();I(0,"div",5),de("click",function(){G(e);const r=z().$implicit;return Y(z(3).navigateToSelectedPath(r.name,r.path))})("click",function(){G(e);const r=z().index,o=z(2).index,s=z();return Y(s.onBtnClick("tp-fileExplrTreeView-"+s.pid+"-"+s.level+"-"+o+"-"+r))})("mouseenter",function(){G(e);const r=z().index,o=z(2).index,s=z();return Y(s.onMouseEnter("tp-fileExplrTreeView-"+s.pid+"-"+s.level+"-"+o+"-"+r))})("mouseleave",function(){G(e);const r=z().index,o=z(2).index,s=z();return Y(s.onMouseLeave("tp-fileExplrTreeView-"+s.pid+"-"+s.level+"-"+o+"-"+r))}),I(1,"div",19)(2,"figure",7)(3,"div",8),Ii(),I(4,"svg",9),de("click",function(){G(e);const r=z(),o=r.$implicit,s=r.index,c=z(2).index;return Y(z().showGreatGrandChildren(o.path,c,s))})("mouseenter",function(){G(e);const r=z().index,o=z(2).index;return Y(z().colorChevron(o,r))})("mouseleave",function(){G(e);const r=z().index,o=z(2).index;return Y(z().unColorChevron(o,r))}),re(5,"path",22),P()()()(),vr(),I(6,"div",20)(7,"figure",12),re(8,"img",13),P()(),I(9,"div",21)(10,"p",15),se(11),P()()()}if(2&t){const e=z(),i=e.$implicit,r=e.index,o=z(2).index,s=z();cd("id","tp-fileExplrTreeView-",s.pid,"-",s.level,"-",o,"-",r,""),T(4),St(s.chevronBtnStyle),cd("id","tp-fileExplrTreeView-img-",s.pid,"-",s.level,"-",o,"-",r,""),T(4),H("src","osdrive/Cheetah/System/Imageres/folder_folder_small.png",$e),T(3),qt(" ",i.name,"")}}function F9(t,n){if(1&t&&(xn(0),re(1,"cos-filetreeview",23),Dn()),2&t){const e=z(),i=e.$implicit,r=e.index,o=z(2).index,s=z();T(),H("level",s.nextLevel)("pid",s.processId)("showRoot",!1)("levelSrcId","newtree-"+s.pid+"-"+s.level+"-"+o+"-"+r)("treeData",i.children)}}function R9(t,n){if(1&t&&(xn(0),I(1,"li",17),Le(2,N9,12,14,"div",18)(3,F9,2,5,"ng-container",0),P(),Dn()),2&t){const e=n.$implicit,i=n.index,r=z(2).index,o=z();T(),cd("id","li-",o.pid,"-",o.level,"-",r,"-",i,""),T(),H("ngIf",e.isFolder),T(),H("ngIf",e.children&&e.children.length)}}function L9(t,n){if(1&t&&(xn(0),I(1,"ul",1),Le(2,R9,4,7,"ng-container",3),P(),Dn()),2&t){const e=z(),i=e.$implicit,r=e.index,o=z();T(),Tc("id","ul-",o.pid,"-",o.level,"-",r,""),T(),H("ngForOf",i.children)}}function B9(t,n){if(1&t&&(xn(0),I(1,"li",17),Le(2,O9,12,12,"div",18)(3,L9,3,5,"ng-container",0),P(),Dn()),2&t){const e=n.$implicit,i=n.index,r=z();T(),Tc("id","li-",r.pid,"-",r.level,"-",i,""),T(),H("ngIf",e.isFolder),T(),H("ngIf",e.children&&e.children.length)}}let V9=(()=>{class t{pid=0;level=0;showRoot=!0;isHoverActive=!1;levelSrcId="";treeData=[];quickAccessData=[];_fileService;_consts=new Kn;chevronBtnStyle={};expandedViews=[];selectedElementId="";isClicked=!1;processId=0;nextLevel=0;nextLevelSrcId=this._consts.EMPTY_STRING;negTen=-10;name="filetreeview";Quick_ACCESS="Quick access";THIS_PC="This PC";SECONDS_DELAY=350;constructor(e){this._fileService=e}ngOnInit(){this.setcolorChevron(this.isHoverActive),this.quickAccessData=this.genStaticData()}genStaticData(){return[{name:"Pictures",path:"/Users/Pictures",isFolder:!0,children:[]},{name:"Videos",path:"/Users/Videos",isFolder:!0,children:[]},{name:"PDFs",path:"/Users/Documents/PDFs",isFolder:!0,children:[]}]}ngOnChanges(){this.processId=this.pid,this.nextLevel=this.level+1,this.nextLevelSrcId=this.levelSrcId,this.setcolorChevron(this.isHoverActive)}hasClass(e,i){return new RegExp("(^|\\s+)"+i+"(\\s+|$)").test(e.className)}showChildren(e){let i="",r="";"tp-fileExplrTreeView"===e?(i=`ul-${this.pid}-0`,r=`tp-fileExplrTreeView-img-${this.pid}-${this.level}`):(i=`qa-ul-${this.pid}`,r=`qa-fileExplrTreeView-img-${this.pid}`);const s=document.getElementById(i),c=document.getElementById(r);if(s&&c){const h=this.hasClass(s,"nested"),g=this.hasClass(s,"active");g||h?g&&!h?(s.classList.remove("active"),c.classList.remove("root-caret-active"),s.classList.add("nested"),c.classList.add("root-caret-nested")):(s.classList.remove("nested"),c.classList.remove("root-caret-nested"),s.classList.add("active"),c.classList.add("root-caret-active")):(s.classList.add("nested"),c.classList.add("root-caret-nested"))}}showGrandChildren(e,i){const o=`tp-fileExplrTreeView-img-${this.pid}-${this.level}-${i}`,s=`ul-${this.pid}-${this.level}-${i}`,c=document.getElementById(`tp-fileExplrTreeView-${this.pid}-${this.level}-${i}`),h=document.getElementById(o),g=document.getElementById(s);if(c&&h){const y=this.hasClass(c,"nested"),C=this.hasClass(c,"active");C||y?C&&!y?(c.classList.remove("active"),h.classList.remove("caret-active"),c.classList.add("nested"),h.classList.add("caret-nested"),g&&(g.classList.remove("active"),g.classList.add("nested"))):(c.classList.remove("nested"),h.classList.remove("caret-nested"),c.classList.add("active"),h.classList.add("caret-active"),g&&(g.classList.remove("nested"),c.classList.add("active"))):(c.classList.add("active"),h.classList.add("caret-active")),this.expandedViews.includes(`SGC-${this.pid}-${this.level}-${i}`)||(this.expandedViews.push(`SGC-${this.pid}-${this.level}-${i}`),this._fileService.addEventOriginator(`${this.name}-${this.pid}`),this._fileService.fetchDirectoryDataNotify.next(e),setTimeout(()=>{this.showExpandedViews()},this.SECONDS_DELAY))}}showGrandChildren_B(e){const r=`tp-fileExplrTreeView-img-${this.pid}-${this.level}-${e}`,o=document.getElementById(`tp-fileExplrTreeView-${this.pid}-${this.level}-${e}`),s=document.getElementById(r);o&&s&&(o.classList.add("active"),s.classList.add("caret-active"))}showGreatGrandChildren(e,i,r){const s=`tp-fileExplrTreeView-img-${this.pid}-${this.level}-${i}-${r}`,c=`newtree-${this.pid}-${this.level}-${i}-${r}`,h=document.getElementById(`tp-fileExplrTreeView-${this.pid}-${this.level}-${i}-${r}`),g=document.getElementById(s),y=document.getElementById(c);if(y){const C=this.hasClass(y,"nested"),A=this.hasClass(y,"active");A||C?A&&!C?(y.classList.remove("active"),y.classList.add("nested")):(y.classList.remove("nested"),y.classList.add("active")):y.classList.add("nested")}if(h&&g){const C=this.hasClass(h,"nested"),A=this.hasClass(h,"active");A||C?A&&!C?(h.classList.remove("active"),g.classList.remove("caret-active"),h.classList.add("nested"),g.classList.add("caret-nested")):(h.classList.remove("nested"),g.classList.remove("caret-nested"),h.classList.add("active"),g.classList.add("caret-active")):(h.classList.add("active"),g.classList.add("caret-active")),this.expandedViews.includes(`SGGC-${this.pid}-${this.level}-${i}-${r}`)||(this.expandedViews.push(`SGGC-${this.pid}-${this.level}-${i}-${r}`),this._fileService.addEventOriginator(`${this.name}-${this.pid}`),this._fileService.fetchDirectoryDataNotify.next(e),setTimeout(()=>{this.showExpandedViews()},this.SECONDS_DELAY))}}showGreatGrandChildren_B(e,i){const o=`tp-fileExplrTreeView-img-${this.pid}-${this.level}-${e}-${i}`,s=document.getElementById(`tp-fileExplrTreeView-${this.pid}-${this.level}-${e}-${i}`),c=document.getElementById(o);s&&c&&(s.classList.add("active"),c.classList.add("caret-active"))}showExpandedViews(){for(const e of this.expandedViews){const i=e.split("-");if(console.log("arr:",i),"SGC"==i[0]){const r=Number(i[3]);this.showGrandChildren_B(r)}else{const r=Number(i[3]),o=Number(i[4]);this.showGreatGrandChildren_B(r,o)}}}navigateToSelectedPath(e,i){const r=[e,i];this._fileService.addEventOriginator(`filetreeview-1-${this.pid}`),this._fileService.goToDirectoryNotify.next(r)}setcolorChevron(e){this.chevronBtnStyle=e?{fill:"#ccc",transition:"fill 0.5s ease"}:{fill:"#191919",transition:"fill 0.75s ease"}}colorChevron(e,i){let r="";e===this.negTen&&i===this.negTen&&(r=`qa-fileExplrTreeView-img-${this.pid}`),void 0===e&&void 0===i&&(r=`tp-fileExplrTreeView-img-${this.pid}-${this.level}`),void 0!==e&&void 0===i&&(r=`tp-fileExplrTreeView-img-${this.pid}-${this.level}-${e}`),void 0!==e&&void 0!==i&&(r=`tp-fileExplrTreeView-img-${this.pid}-${this.level}-${e}-${i}`);const o=document.getElementById(r);o&&(o.style.fill="rgb(18, 107, 240)")}unColorChevron(e,i){let r="";e===this.negTen&&i===this.negTen&&(r=`qa-fileExplrTreeView-img-${this.pid}`),void 0===e&&void 0===i&&(r=`tp-fileExplrTreeView-img-${this.pid}-${this.level}`),void 0!==e&&void 0===i&&(r=`tp-fileExplrTreeView-img-${this.pid}-${this.level}-${e}`),void 0!==e&&void 0!==i&&(r=`tp-fileExplrTreeView-img-${this.pid}-${this.level}-${e}-${i}`);const o=document.getElementById(r);o&&(o.style.fill="#ccc")}onBtnClick(e){this.removeBtnStyle(this.selectedElementId),this.selectedElementId=e,this.isClicked=!0,this.setBtnStyle(e,!0)}onMouseEnter(e){console.log("onMouseEnter-elmntId:",e),this.setBtnStyle(e,!0)}onMouseLeave(e){console.log("onMouseLeave-elmntId:",e),e!=this.selectedElementId?this.removeBtnStyle(e):e==this.selectedElementId&&this.setBtnStyle(e,!1)}setBtnStyle(e,i){const r=document.getElementById(e);r&&(r.style.backgroundColor="#4c4c4c",this.selectedElementId==e&&(i&&(r.style.backgroundColor="#787474"),i||(r.style.backgroundColor="#4c4c4c")))}removeBtnStyle(e){const i=document.getElementById(e);i&&(i.style.backgroundColor="transparent",i.style.border="none")}static \u0275fac=function(i){return new(i||t)(te(Lo))};static \u0275cmp=a({type:t,selectors:[["cos-filetreeview"]],inputs:{pid:"pid",level:"level",showRoot:"showRoot",isHoverActive:"isHoverActive",levelSrcId:"levelSrcId",treeData:"treeData"},features:[Gi],decls:6,vars:10,consts:[[4,"ngIf"],[1,"ul-file-tree-view",3,"id"],[1,"li-file-tree-view0",3,"id"],[4,"ngFor","ngForOf"],["id","qa-FileExplrTreeView",1,"ul-file-tree-view"],[1,"tree-view-cntnr",3,"click","mouseenter","mouseleave","id"],[1,"fxtreeview-head"],[1,"fxtreeview-figure"],[1,"fxtreeview-img"],["xmlns","http://www.w3.org/2000/svg","height","10","width","10","viewBox","0 0 512 512",3,"click","mouseenter","mouseleave","id"],["d","M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"],[1,"fxtreeview-mid"],[1,"fxtreeview-figure1"],[1,"fxtreeview-img1",3,"src"],[1,"fxtreeview-tail"],[1,"fxtreeview-nested-p"],[2,"height","10px","width","100%"],[1,"li-file-tree-view",3,"id"],["class","tree-view-cntnr",3,"id","click","mouseenter","mouseleave",4,"ngIf"],[1,"span","fxtreeview-head"],[1,"span","fxtreeview-mid"],[1,"span","fxtreeview-tail"],["d","M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"],[3,"level","pid","showRoot","levelSrcId","treeData"]],template:function(i,r){1&i&&(Le(0,A9,18,13,"ng-container",0),I(1,"ul",1)(2,"li",2),Le(3,k9,13,10,"ng-container",0),I(4,"ul",1),Le(5,B9,4,6,"ng-container",3),P()()()),2&i&&(H("ngIf",r.showRoot),T(),Jh("id",r.nextLevelSrcId),T(),Xt("id","li-",r.pid,"-",r.level,""),T(),H("ngIf",r.showRoot),T(),Xt("id","ul-",r.pid,"-",r.level,""),T(),H("ngForOf",r.treeData))},dependencies:[Mo,is,t],styles:['.ul-file-tree-view[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0}.li-file-tree-view0[_ngcontent-%COMP%]{margin:0;padding:0}.li-file-tree-view[_ngcontent-%COMP%]{margin:0;padding:0 0 0 10px}.nested[_ngcontent-%COMP%]{display:none}.active[_ngcontent-%COMP%]{display:block}.root-caret-active[_ngcontent-%COMP%]{position:"relative";transform:rotate(0)}.caret-active[_ngcontent-%COMP%]{position:"relative";transform:rotate(90deg)}.root-caret-nested[_ngcontent-%COMP%]{position:"relative";transform:rotate(270deg)}.caret-nested[_ngcontent-%COMP%]{position:"relative";transform:rotate(0)}.tree-view-cntnr[_ngcontent-%COMP%]{display:inline-flex;width:100%;padding:2px 0}.fxtreeview-nested-p[_ngcontent-%COMP%]{position:relative;top:10%}.fxtreeview-head[_ngcontent-%COMP%]{padding-left:5px}.fxtreeview-mid[_ngcontent-%COMP%]{padding-left:2px;padding-right:3px}.fxtreeview-tail[_ngcontent-%COMP%]{padding:0 5px;color:#fff;text-align:left;font-size:12px;font-weight:200}.fxtreeview-img[_ngcontent-%COMP%]{height:10px;width:10px;position:relative}.fxtreeview-figure[_ngcontent-%COMP%]{position:relative;align-items:center;display:inline-flex;min-width:10px;top:0;left:15%}.fxtreeview-img1[_ngcontent-%COMP%]{height:17px;width:17px;position:relative}.fxtreeview-figure1[_ngcontent-%COMP%]{position:relative;align-items:center;display:inline-flex;min-width:17px;top:0;left:15%}']})}return t})(),qP=(()=>{class t{sanitizer;constructor(e){this.sanitizer=e}transform(e){return this.sanitizer.bypassSecurityTrustResourceUrl(e)}static \u0275fac=function(i){return new(i||t)(te(Gv,16))};static \u0275pipe=S({name:"safeResourceUrl",type:t,pure:!0})}return t})(),U9=(()=>{class t{transform(e,i=10,r=!1,o="..."){return e?(r&&(i=e.substring(0,i).lastIndexOf(" ")),e.length>i?e.substring(0,i)+o:e):""}static \u0275fac=function(i){return new(i||t)};static \u0275pipe=S({name:"truncateString",type:t,pure:!0})}return t})();const z9=["fileExplorerMainContainer"],j9=["fileExplorerRootContainer"],H9=["fileExplorerContentContainer"],$9=["navExplorerContainer"];function W9(t,n){1&t&&(Ii(),I(0,"svg",82),re(1,"path",83),P()),2&t&&St(z().ribbonMenuBtnStyle)}function G9(t,n){1&t&&(Ii(),I(0,"svg",82),re(1,"path",32),P()),2&t&&St(z().ribbonMenuBtnStyle)}function Y9(t,n){if(1&t){const e=Tt();xn(0),I(1,"div",84),re(2,"div",85)(3,"div",85),I(4,"div",86)(5,"div",87),re(6,"div",88),I(7,"div",89)(8,"div",90),de("click",function(){return G(e),Y(z().onNavPaneBtnClick())})("mouseenter",function(){return G(e),Y(z().onNavPaneBtnEnter())})("mouseleave",function(){return G(e),Y(z().onNavPaneBtnLeave())}),re(9,"div",91),I(10,"figure",92),re(11,"img",93),pn(12,"safeResourceUrl"),P(),I(13,"span",94),se(14," Navigation "),P(),I(15,"span",95),se(16," pane "),P()(),I(17,"div",96),re(18,"div",91),I(19,"div",97),de("click",function(){return G(e),Y(z().onPrevPaneBtnClick())})("mouseenter",function(){return G(e),Y(z().onPrevPaneBtnEnter())})("mouseleave",function(){return G(e),Y(z().onPrevPaneBtnLeave())}),I(20,"span",98)(21,"figure",99),re(22,"img",100),pn(23,"safeResourceUrl"),P(),I(24,"div",101)(25,"span",102),se(26," Preview pane"),P()()()(),re(27,"div",103),I(28,"div",104),de("click",function(){return G(e),Y(z().onDetailPaneBtnClick())})("mouseenter",function(){return G(e),Y(z().onDetailPaneBtnEnter())})("mouseleave",function(){return G(e),Y(z().onDetailPaneBtnLeave())}),I(29,"span",98)(30,"figure",99),re(31,"img",100),pn(32,"safeResourceUrl"),P(),I(33,"div",101)(34,"span",102),se(35," Details pane "),P()()()()()(),I(36,"div",105),se(37," Panes "),P()(),I(38,"div",106),re(39,"div",88),I(40,"div",107)(41,"div",108),de("mouseenter",function(){return G(e),Y(z().colorTabLayoutContainer())})("mouseleave",function(){return G(e),Y(z().unColorTabLayoutContainer())}),I(42,"div",109)(43,"span",110),de("mouseenter",function(){G(e);const r=z();return Y(r.onMouseEnterTabLayoutBtn(r.extraLargeIconsView,1))})("mouseleave",function(){return G(e),Y(z().onMouseLeaveTabLayoutBtn(1))})("click",function(){G(e);const r=z();return Y(r.onClickTabLayoutBtn(r.extraLargeIconsView,1))}),I(44,"figure",111),re(45,"img",112),pn(46,"safeResourceUrl"),P(),I(47,"div",113),se(48,"Extra large icons"),P()(),I(49,"span",110),de("mouseenter",function(){G(e);const r=z();return Y(r.onMouseEnterTabLayoutBtn(r.largeIconsView,2))})("mouseleave",function(){return G(e),Y(z().onMouseLeaveTabLayoutBtn(2))})("click",function(){G(e);const r=z();return Y(r.onClickTabLayoutBtn(r.largeIconsView,2))}),I(50,"figure",111),re(51,"img",112),pn(52,"safeResourceUrl"),P(),I(53,"div",113),se(54,"Large icons"),P()(),I(55,"span",110),de("mouseenter",function(){G(e);const r=z();return Y(r.onMouseEnterTabLayoutBtn(r.mediumIconsView,3))})("mouseleave",function(){return G(e),Y(z().onMouseLeaveTabLayoutBtn(3))})("click",function(){G(e);const r=z();return Y(r.onClickTabLayoutBtn(r.mediumIconsView,3))}),I(56,"figure",111),re(57,"img",112),pn(58,"safeResourceUrl"),P(),I(59,"div",113),se(60,"Medium icons"),P()()(),I(61,"div",114)(62,"span",110),de("mouseenter",function(){G(e);const r=z();return Y(r.onMouseEnterTabLayoutBtn(r.smallIconsView,4))})("mouseleave",function(){return G(e),Y(z().onMouseLeaveTabLayoutBtn(4))})("click",function(){G(e);const r=z();return Y(r.onClickTabLayoutBtn(r.smallIconsView,4))}),I(63,"figure",111),re(64,"img",112),pn(65,"safeResourceUrl"),P(),I(66,"div",113),se(67,"Small icons"),P()(),I(68,"span",110),de("mouseenter",function(){G(e);const r=z();return Y(r.onMouseEnterTabLayoutBtn(r.listView,5))})("mouseleave",function(){return G(e),Y(z().onMouseLeaveTabLayoutBtn(5))})("click",function(){G(e);const r=z();return Y(r.onClickTabLayoutBtn(r.listView,5))}),I(69,"figure",111),re(70,"img",112),pn(71,"safeResourceUrl"),P(),I(72,"div",113),se(73,"List"),P()(),I(74,"span",110),de("mouseenter",function(){G(e);const r=z();return Y(r.onMouseEnterTabLayoutBtn(r.detailsView,6))})("mouseleave",function(){return G(e),Y(z().onMouseLeaveTabLayoutBtn(6))})("click",function(){G(e);const r=z();return Y(r.onClickTabLayoutBtn(r.detailsView,6))}),I(75,"figure",111),re(76,"img",112),pn(77,"safeResourceUrl"),P(),I(78,"div",113),se(79,"Details"),P()()(),I(80,"div",115)(81,"span",110),de("mouseenter",function(){G(e);const r=z();return Y(r.onMouseEnterTabLayoutBtn(r.tilesView,7))})("mouseleave",function(){return G(e),Y(z().onMouseLeaveTabLayoutBtn(7))})("click",function(){G(e);const r=z();return Y(r.onClickTabLayoutBtn(r.tilesView,7))}),I(82,"figure",111),re(83,"img",112),pn(84,"safeResourceUrl"),P(),I(85,"div",113),se(86,"Tiles"),P()(),I(87,"span",110),de("mouseenter",function(){G(e);const r=z();return Y(r.onMouseEnterTabLayoutBtn(r.contentView,8))})("mouseleave",function(){return G(e),Y(z().onMouseLeaveTabLayoutBtn(8))})("click",function(){G(e);const r=z();return Y(r.onClickTabLayoutBtn(r.contentView,8))}),I(88,"figure",111),re(89,"img",112),pn(90,"safeResourceUrl"),P(),I(91,"div",113),se(92,"Content"),P()()()(),re(93,"div",116),P(),I(94,"div",117),se(95," Layout "),P()(),re(96,"div",118),P()(),Dn()}if(2&t){const e=z();T(8),lt("id","navPaneIconCntnr-",e.processId,""),T(3),H("src",gn(12,35,"osdrive/Cheetah/System/Imageres/navigation_pane.png"),$e),T(8),lt("id","prevPaneIconCntnr-",e.processId,""),T(3),H("src",gn(23,37,"osdrive/Cheetah/System/Imageres/preview_pane.png"),$e),T(6),lt("id","detailsPaneIconCntnr-",e.processId,""),T(3),H("src",gn(32,39,"osdrive/Cheetah/System/Imageres/details_pane.png"),$e),T(10),St(e.tabLayoutCntnrStyle),T(2),lt("id","tabLayoutIconCntnr-",e.processId,"-1"),T(2),H("src",gn(46,41,"osdrive/Cheetah/System/Imageres/extra_large_image.png"),$e),T(4),lt("id","tabLayoutIconCntnr-",e.processId,"-2"),T(2),H("src",gn(52,43,"osdrive/Cheetah/System/Imageres/large_image.png"),$e),T(4),lt("id","tabLayoutIconCntnr-",e.processId,"-3"),T(2),H("src",gn(58,45,"osdrive/Cheetah/System/Imageres/medium_icons_view.png"),$e),T(5),lt("id","tabLayoutIconCntnr-",e.processId,"-4"),T(2),H("src",gn(65,47,"osdrive/Cheetah/System/Imageres/small_icons_view.png"),$e),T(4),lt("id","tabLayoutIconCntnr-",e.processId,"-5"),T(2),H("src",gn(71,49,"osdrive/Cheetah/System/Imageres/list_of_thumbnails_view.png"),$e),T(4),lt("id","tabLayoutIconCntnr-",e.processId,"-6"),T(2),H("src",gn(77,51,"osdrive/Cheetah/System/Imageres/details_view.png"),$e),T(5),lt("id","tabLayoutIconCntnr-",e.processId,"-7"),T(2),H("src",gn(84,53,"osdrive/Cheetah/System/Imageres/tiles_view.png"),$e),T(4),lt("id","tabLayoutIconCntnr-",e.processId,"-8"),T(2),H("src",gn(90,55,"osdrive/Cheetah/System/Imageres/content_view.png"),$e)}}function Z9(t,n){1&t&&(I(0,"span",122)(1,"figure",45),re(2,"img",46),pn(3,"safeResourceUrl"),P()()),2&t&&(T(2),H("src",gn(3,1,"osdrive/Cheetah/System/Imageres/grey_nav_forward_32.png"),$e))}function q9(t,n){if(1&t&&(I(0,"div",119),Le(1,Z9,4,3,"span",120),I(2,"span",121),se(3),P()()),2&t){const e=n.$implicit,i=n.index;T(),H("ngIf",i>0),T(2),ln(e)}}function K9(t,n){if(1&t&&(I(0,"div",123)(1,"span",124)(2,"figure",125),re(3,"img",126),pn(4,"safeResourceUrl"),P()(),I(5,"span",127),se(6),P()()),2&t){const e=n.$implicit;T(3),H("src",gn(4,2,"osdrive/Cheetah/System/Imageres/white_history_32.png"),$e),T(3),ln(e)}}function Q9(t,n){1&t&&(re(0,"img",61),pn(1,"safeResourceUrl")),2&t&&H("src",gn(1,1,"osdrive/Cheetah/System/Imageres/cross_mark_32.png"),$e)}function X9(t,n){1&t&&(re(0,"img",61),pn(1,"safeResourceUrl")),2&t&&H("src",gn(1,1,"osdrive/Cheetah/System/Imageres/nav_right_32.png"),$e)}function J9(t,n){if(1&t&&(I(0,"div",128)(1,"span",124)(2,"figure",129),re(3,"img",130),pn(4,"safeResourceUrl"),P()(),I(5,"span",131),se(6),P()()),2&t){const e=n.$implicit;T(3),H("src",gn(4,2,"osdrive/Cheetah/System/Imageres/white_history_32.png"),$e),T(3),ln(e)}}function e$(t,n){if(1&t){const e=Tt();xn(0),I(1,"div",132,8),de("mouseenter",function(){return G(e),Y(z().showExpandTreeIconBtn())})("mouseleave",function(){return G(e),Y(z().hideExpandTreeIconBtn())}),re(3,"div",133)(4,"cos-filetreeview",134),P(),Dn()}if(2&t){const e=z();T(4),H("pid",e.processId)("isHoverActive",e.showExpandTreeIcon)("treeData",e.fileTreeNode)}}function t$(t,n){if(1&t){const e=Tt();I(0,"li",136)(1,"button",137),de("dblclick",function(){const r=G(e).$implicit;return Y(z(2).runProcess(r))})("mouseenter",function(r){const o=G(e),s=o.$implicit,c=o.index;return Y(z(2).onMouseEnter(r,s,c))})("mouseleave",function(){const r=G(e).index;return Y(z(2).onMouseLeave(r))})("contextmenu",function(r){const o=G(e),s=o.$implicit,c=o.index;return Y(z(2).onShowIconContextMenu(r,s,c))})("click",function(){const r=G(e).index;return Y(z(2).onBtnClick(r))}),I(2,"figure",138),re(3,"img",139),pn(4,"safeResourceUrl"),I(5,"figcaption",140),se(6),pn(7,"truncateString"),P(),I(8,"div",141)(9,"form",38),de("ngSubmit",function(){return G(e),Y(z(2).isFormDirty())}),I(10,"input",142),de("keypress",function(r){return G(e),Y(z(2).onKeyPress(r))}),P()()()()()()}if(2&t){const e=n.$implicit,i=n.index,r=z(2);lt("id","ilElmnt-",r.processId,""),T(),Xt("id","btnElmnt-",r.processId,"-",i,""),T(),Xt("id","figElmnt-",r.processId,"-",i,""),T(),Xt("id","imgElmnt-",r.processId,"-",i,""),H("src",gn(4,24,e.getIconPath),$e)("alt",e.getFileName),T(2),Xt("id","figCapElmnt-",r.processId,"-",i,""),T(),qt(" ",gn(7,26,e.getFileName)," "),T(2),Xt("id","renameContainer-",r.processId,"-",i,""),T(),H("formGroup",r.renameForm),T(),Xt("id","renameTxtBox-",r.processId,"-",i,"")}}function n$(t,n){1&t&&Le(0,t$,11,28,"li",135),2&t&&H("ngForOf",z().fileExplrFiles)}function i$(t,n){if(1&t){const e=Tt();I(0,"li",144)(1,"button",145),de("dblclick",function(){const r=G(e).$implicit;return Y(z(2).runProcess(r))})("mouseenter",function(r){const o=G(e),s=o.$implicit,c=o.index;return Y(z(2).onMouseEnter(r,s,c))})("mouseleave",function(){const r=G(e).index;return Y(z(2).onMouseLeave(r))})("contextmenu",function(r){const o=G(e),s=o.$implicit,c=o.index;return Y(z(2).onShowIconContextMenu(r,s,c))})("click",function(){const r=G(e).index;return Y(z(2).onBtnClick(r))}),I(2,"span",146)(3,"figure",147),re(4,"img",148),pn(5,"safeResourceUrl"),P(),I(6,"figcaption",149),se(7),pn(8,"truncateString"),P(),I(9,"div",141)(10,"form",38),de("ngSubmit",function(){return G(e),Y(z(2).isFormDirty())}),I(11,"input",142),de("keypress",function(r){return G(e),Y(z(2).onKeyPress(r))}),P()()()()()()}if(2&t){const e=n.$implicit,i=n.index,r=z(2);lt("id","ilElmnt-",r.processId,""),T(),Xt("id","btnElmnt-",r.processId,"-",i,""),T(3),Xt("id","imgElmnt-",r.processId,"-",i,""),H("src",gn(5,21,e.getIconPath),$e)("alt",e.getFileName),T(2),Xt("id","figCapElmnt-",r.processId,"-",i,""),T(),qt(" ",gn(8,23,e.getFileName)," "),T(2),Xt("id","renameContainer-",r.processId,"-",i,""),T(),H("formGroup",r.renameForm),T(),Xt("id","renameTxtBox-",r.processId,"-",i,"")}}function r$(t,n){1&t&&Le(0,i$,12,25,"li",143),2&t&&H("ngForOf",z().fileExplrFiles)}function o$(t,n){1&t&&(I(0,"p"),se(1,"Detail View"),P())}function s$(t,n){if(1&t&&(I(0,"div",161)(1,"div",162),se(2),P()()),2&t){const e=z().$implicit;T(2),qt("Date modified: ",e.getDateModifiedUS," ")}}function a$(t,n){if(1&t&&(I(0,"div",161)(1,"div",162),se(2),P(),I(3,"div",162),se(4),P()()),2&t){const e=z().$implicit;T(2),qt("Date modified: ",e.getDateModifiedUS," "),T(2),ta("",e.getSize1," ",e.getFileSizeUnit," ")}}function l$(t,n){if(1&t){const e=Tt();I(0,"li",151)(1,"button",152),de("dblclick",function(){const r=G(e).$implicit;return Y(z(2).runProcess(r))})("mouseenter",function(r){const o=G(e),s=o.$implicit,c=o.index;return Y(z(2).onMouseEnter(r,s,c))})("mouseleave",function(){const r=G(e).index;return Y(z(2).onMouseLeave(r))})("contextmenu",function(r){const o=G(e),s=o.$implicit,c=o.index;return Y(z(2).onShowIconContextMenu(r,s,c))})("click",function(){const r=G(e).index;return Y(z(2).onBtnClick(r))}),I(2,"span",153)(3,"figure",154),re(4,"img",155),pn(5,"safeResourceUrl"),P(),I(6,"div",156)(7,"figcaption",157),se(8),pn(9,"truncateString"),P(),Le(10,s$,3,1,"div",158)(11,a$,5,3,"ng-template",null,9,ki),I(13,"div",141)(14,"form",38),de("ngSubmit",function(){return G(e),Y(z(2).isFormDirty())}),I(15,"input",142),de("keypress",function(r){return G(e),Y(z(2).onKeyPress(r))}),P()()()()(),I(16,"div",159),re(17,"div",160),P()()()}if(2&t){const e=n.$implicit,i=n.index,r=qn(12),o=z(2);T(),Xt("id","btnElmnt-",o.processId,"-",i,""),T(2),Xt("id","figElmnt-",o.processId,"-",i,""),T(),Xt("id","imgElmnt-",o.processId,"-",i,""),H("src",gn(5,24,e.getIconPath),$e)("alt",e.getFileName),T(3),Xt("id","figCapElmnt-",o.processId,"-",i,""),T(),qt(" ",gn(9,26,e.getFileName)," "),T(2),H("ngIf",!e.getIsFile)("ngIfElse",r),T(3),Xt("id","renameContainer-",o.processId,"-",i,""),T(),H("formGroup",o.renameForm),T(),Xt("id","renameTxtBox-",o.processId,"-",i,"")}}function c$(t,n){1&t&&Le(0,l$,18,28,"li",150),2&t&&H("ngForOf",z().fileExplrFiles)}function u$(t,n){if(1&t&&(I(0,"figcaption",170),se(1),pn(2,"truncateString"),P()),2&t){const e=z(),i=e.$implicit,r=e.index;Xt("id","figCapElmnt-",z(2).processId,"-",r,""),T(),qt(" ",gn(2,4,i.getFileName)," ")}}function d$(t,n){if(1&t){const e=Tt();I(0,"div",171)(1,"div",141)(2,"form",38),de("ngSubmit",function(){return G(e),Y(z(3).isFormDirty())}),I(3,"input",142),de("keypress",function(r){return G(e),Y(z(3).onKeyPress(r))}),P()()(),I(4,"div",172)(5,"div",173),se(6),P(),I(7,"div",174),se(8),P(),I(9,"div",174),se(10),P()()()}if(2&t){const e=z(),i=e.$implicit,r=e.index,o=z(2);T(),Xt("id","renameContainer-",o.processId,"-",r,""),T(),H("formGroup",o.renameForm),T(),Xt("id","renameTxtBox-",o.processId,"-",r,""),T(2),Xt("id","figCapElmnt-",o.processId,"-",r,""),T(),ln(i.getFileName),T(2),ln(i.getFileType),T(2),ta("",i.getSize1," ",i.getFileSizeUnit,"")}}function f$(t,n){if(1&t){const e=Tt();I(0,"li",164)(1,"button",165),de("dblclick",function(){const r=G(e).$implicit;return Y(z(2).runProcess(r))})("mouseenter",function(r){const o=G(e),s=o.$implicit,c=o.index;return Y(z(2).onMouseEnter(r,s,c))})("mouseleave",function(){const r=G(e).index;return Y(z(2).onMouseLeave(r))})("contextmenu",function(r){const o=G(e),s=o.$implicit,c=o.index;return Y(z(2).onShowIconContextMenu(r,s,c))})("click",function(){const r=G(e).index;return Y(z(2).onBtnClick(r))}),I(2,"span",166)(3,"figure",167),re(4,"img",168),pn(5,"safeResourceUrl"),P(),Le(6,u$,3,6,"figcaption",169)(7,d$,11,14,"ng-template",null,9,ki),I(9,"div",141)(10,"form",38),de("ngSubmit",function(){return G(e),Y(z(2).isFormDirty())}),I(11,"input",142),de("keypress",function(r){return G(e),Y(z(2).onKeyPress(r))}),P()()()()()()}if(2&t){const e=n.$implicit,i=n.index,r=qn(8),o=z(2);T(),Xt("id","btnElmnt-",o.processId,"-",i,""),T(3),Xt("id","imgElmnt-",o.processId,"-",i,""),H("src",gn(5,17,e.getIconPath),$e)("alt",e.getFileName),T(2),H("ngIf",!e.getIsFile)("ngIfElse",r),T(3),Xt("id","renameContainer-",o.processId,"-",i,""),T(),H("formGroup",o.renameForm),T(),Xt("id","renameTxtBox-",o.processId,"-",i,"")}}function h$(t,n){1&t&&Le(0,f$,12,19,"li",163),2&t&&H("ngForOf",z().fileExplrFiles)}function p$(t,n){if(1&t&&re(0,"cos-menu",175),2&t){const e=z();St(e.fileExplrCntxtMenuStyle),H("generalMenu",e.menuData)("menuType",e.fileExplrMngrMenuOption)("menuOrder",e.menuOrder)}}function g$(t,n){if(1&t&&re(0,"cos-menu",176),2&t){const e=z();St(e.fileExplrCntxtMenuStyle),H("nestedMenu",e.fileExplrMenu)("menuType",e.fileExplrMenuOption)}}function m$(t,n){if(1&t&&(I(0,"div",179)(1,"div",180),se(2),P()()),2&t){const e=n.$implicit;T(2),ta("",e.label," ",e.data," ")}}function _$(t,n){if(1&t&&(I(0,"div",177),Le(1,m$,3,2,"div",178),P()),2&t){const e=z();lt("id","fx-information-tip-",e.processId,""),T(),H("ngForOf",e.fileInfoTipData)}}function y$(t,n){1&t&&(xn(0),I(1,"div",181)(2,"p"),se(3,"hide/show"),P()(),Dn())}function v$(t,n){1&t&&(xn(0),I(1,"div",181)(2,"p"),se(3,"Details"),P()(),Dn())}let w$=(()=>{class t{fileExplrMainCntnr;fileExplorerRootContainer;fileExplrCntntCntnr;navExplorerCntnr;_processIdService;_runningProcessService;_fileService;_directoryFilesEntires;_triggerProcessService;_stateManagmentService;_sessionManagmentService;_notificationService;_menuService;_formBuilder;_appState;_consts=new Kn;_viewByNotifySub;_sortByNotifySub;_refreshNotifySub;_autoArrangeIconsNotifySub;_autoAlignIconsNotifyBySub;_dirFilesUpdatedSub;_fetchDirectoryDataSub;_goToDirectoryDataSub;_hideContextMenuSub;_maximizeWindowSub;_minimizeWindowSub;isPrevBtnActive=!1;isNextBtnActive=!1;isUpBtnActive=!0;isNavigatedBefore=!1;isRenameActive=!1;isIconInFocusDueToCurrentAction=!1;isIconInFocusDueToPriorAction=!1;isBtnClickEvt=!1;isHideCntxtMenuEvt=!1;isShiftSubMenuLeft=!1;selectedFile;propertiesViewFile;selectedElementId=-1;prevSelectedElementId=-1;hideCntxtMenuEvtCnt=0;btnClickCnt=0;renameFileTriggerCnt=0;currentIconName=this._consts.EMPTY_STRING;isSearchBoxNotEmpty=!1;showPathHistory=!1;onClearSearchIconHover=!1;onSearchIconHover=!1;showIconCntxtMenu=!1;showFileExplrCntxtMenu=!1;showInformationTip=!1;iconCntxtCntr=0;fileExplrCntxtCntr=0;fileExplrCntxtMenuStyle={};clearSearchStyle={};searchStyle={};prevNavBtnStyle={};nextNavBtnStyle={};recentNavBtnStyle={};upNavBtnStyle={};upNavBtnCntnrStyle={};tabLayoutCntnrStyle={};ribbonMenuBtnStyle={};ribbonMenuCntnrStyle={};olClassName="ol-icon-size-view";fileExplrFiles=[];fileTreeNode=[];_fileInfo;prevPathEntries=[];nextPathEntries=[];recentPathEntries=[];upPathEntries=["/Users/Desktop"];_directoryHops=["This PC"];fileTreeHistory=[];SECONDS_DELAY=[100,1500,6e3,12e3,250];defaultviewOption=Ro.MEDIUM_ICON_VIEW;currentViewOption=Ro.MEDIUM_ICON_VIEW;currentViewOptionId=3;smallIconsView=Ro.SMALL_ICON_VIEW;mediumIconsView=Ro.MEDIUM_ICON_VIEW;largeIconsView=Ro.LARGE_ICON_VIEW;extraLargeIconsView=Ro.EXTRA_LARGE_ICON_VIEW;listView=Ro.LIST_VIEW;detailsView=Ro.DETAILS_VIEW;contentView=Ro.CONTENT_VIEW;tilesView=Ro.TILES_VIEW;sortByName=ji.NAME;sortByItemType=ji.ITEM_TYPE;sortBySize=ji.SIZE;sortByDateModified=ji.DATE_MODIFIED;isExtraLargeIcon=!1;isLargeIcon=!1;isMediumIcon=!0;isSmallIcon=!1;isListIcon=!1;isDetailsIcon=!1;isContentIcon=!1;isTitleIcon=!1;isSortByName=!1;isSortByItemType=!1;isSortBySize=!1;isSortByDateModified=!1;showExpandTreeIcon=!1;showNavigationPane=!0;showPreviewPane=!1;showDetailsPane=!1;showRibbonMenu=!1;renameForm;pathForm;searchForm;searchHistory=["Java","ProgramFile","Perenne"];pathHistory=["/Users/Vidoes","/Users/Games","/Users/Music"];sourceData=[{icon:this._consts.EMPTY_STRING,label:"Open",action:this.onTriggerRunProcess.bind(this)},{icon:this._consts.EMPTY_STRING,label:"Open in new window",action:this.doNothing.bind(this)},{icon:this._consts.EMPTY_STRING,label:"Pin to Quick access",action:this.doNothing.bind(this)},{icon:this._consts.EMPTY_STRING,label:"Open in Terminal",action:this.doNothing.bind(this)},{icon:this._consts.EMPTY_STRING,label:"Pin to Start",action:this.doNothing.bind(this)},{icon:this._consts.EMPTY_STRING,label:"Cut",action:this.onCut.bind(this)},{icon:this._consts.EMPTY_STRING,label:"Copy",action:this.onCopy.bind(this)},{icon:this._consts.EMPTY_STRING,label:"Create shortcut",action:this.createShortCut.bind(this)},{icon:this._consts.EMPTY_STRING,label:"Delete",action:this.onDeleteFile.bind(this)},{icon:this._consts.EMPTY_STRING,label:"Rename",action:this.onRenameFileTxtBoxShow.bind(this)},{icon:this._consts.EMPTY_STRING,label:"Properties",action:this.showPropertiesWindow.bind(this)}];menuData=[];fileExplrMenu=[];fileExplrMngrMenuOption=this._consts.FILE_EXPLORER_FILE_MANAGER_MENU_OPTION;fileExplrMenuOption=this._consts.NESTED_MENU_OPTION;menuOrder="";fileInfoTipData=[{label:this._consts.EMPTY_STRING,data:this._consts.EMPTY_STRING}];fileType=this._consts.EMPTY_STRING;fileAuthor=this._consts.EMPTY_STRING;fileSize=this._consts.EMPTY_STRING;fileDimesions=this._consts.EMPTY_STRING;fileDateModified=this._consts.EMPTY_STRING;icon=`${this._consts.IMAGE_BASE_PATH}file_explorer.png`;navPathIcon=`${this._consts.IMAGE_BASE_PATH}this_pc.png`;name="fileexplorer";processId=0;type=on.System;directory=this._consts.ROOT;displayName="fileexplorer";hasWindow=!0;constructor(e,i,r,o,s,c,h,g,y,C){this._processIdService=e,this._runningProcessService=i,this._fileService=r,this._triggerProcessService=o,this._stateManagmentService=h,this._sessionManagmentService=g,this._menuService=y,this._notificationService=C,this._formBuilder=c,this.processId=this._processIdService.getNewProcessId(),this._runningProcessService.addProcess(this.getComponentDetail()),this.retrievePastSessionData(),this._dirFilesUpdatedSub=this._fileService.dirFilesUpdateNotify.subscribe(()=>{this._fileService.getEventOrginator()===this.name&&(this.loadFilesInfoAsync(),this._fileService.removeEventOriginator())}),this._fetchDirectoryDataSub=this._fileService.fetchDirectoryDataNotify.subscribe(A=>{const j=`filetreeview-${this.processId}`;this._fileService.getEventOrginator()===j&&(this.updateFileTreeAsync(A),this._fileService.removeEventOriginator())}),this._goToDirectoryDataSub=this._fileService.goToDirectoryNotify.subscribe(A=>{const j=`filetreeview-1-${this.processId}`;this._fileService.getEventOrginator()===j&&(this.navigateToFolder(A),this._fileService.removeEventOriginator())}),this._maximizeWindowSub=this._runningProcessService.maximizeProcessWindowNotify.subscribe(()=>{this.maximizeWindow()}),this._minimizeWindowSub=this._runningProcessService.minimizeProcessWindowNotify.subscribe(A=>{this.minimizeWindow(A)}),this._sortByNotifySub=s.sortByNotify.subscribe(A=>{this.sortIcons(A)}),this._refreshNotifySub=s.refreshNotify.subscribe(()=>{this.refreshIcons()}),this._hideContextMenuSub=this._menuService.hideContextMenus.subscribe(()=>{this.hideIconContextMenu()})}ngOnInit(){if(this._fileInfo=this._triggerProcessService.getLastProcessTrigger(),this._fileInfo&&"fileexplorer"===this._fileInfo.getOpensWith&&!this._fileInfo.getIsFile){this.directory=this._fileInfo.getCurrentPath;const e=this._fileInfo.getFileName===this._consts.EMPTY_STRING?this._consts.NEW_FOLDER:this._fileInfo.getFileName;this.populateHopsList(),this.setNavPathIcon(e,this._fileInfo.getCurrentPath),this.storeAppState(this._fileInfo.getCurrentPath)}this.renameForm=this._formBuilder.nonNullable.group({renameInput:this._consts.EMPTY_STRING}),this.pathForm=this._formBuilder.nonNullable.group({pathInput:this._consts.EMPTY_STRING}),this.searchForm=this._formBuilder.nonNullable.group({searchInput:this._consts.EMPTY_STRING}),this.setNavButtonsColor(),this.getFileExplorerMenuData()}ngAfterViewInit(){var e=this;return Fe(function*(){e.setFileExplorerWindowToFocus(e.processId),e.hidePathTextBoxOnload(),e.changeFileExplorerLayoutCSS(e.currentViewOption),e.changeTabLayoutIconCntnrCSS(e.currentViewOptionId,!1),e.pathForm.setValue({pathInput:e.directory!==e._consts.ROOT?e.directory:e._consts.ROOT}),yield e.loadFileTreeAsync(),yield e.loadFilesInfoAsync().then(()=>{setTimeout(()=>{e.captureComponentImg()},e.SECONDS_DELAY[4])})})()}ngOnDestroy(){this._viewByNotifySub?.unsubscribe(),this._sortByNotifySub?.unsubscribe(),this._refreshNotifySub?.unsubscribe(),this._autoArrangeIconsNotifySub?.unsubscribe(),this._autoAlignIconsNotifyBySub?.unsubscribe(),this._dirFilesUpdatedSub?.unsubscribe(),this._hideContextMenuSub?.unsubscribe(),this._maximizeWindowSub?.unsubscribe(),this._minimizeWindowSub?.unsubscribe(),this._fetchDirectoryDataSub?.unsubscribe(),this._goToDirectoryDataSub?.unsubscribe()}captureComponentImg(){Ir(this.fileExplorerRootContainer.nativeElement).then(e=>{this._runningProcessService.addProcessImage(this.name,{pid:this.processId,imageData:e})})}colorTabLayoutContainer(){this.tabLayoutCntnrStyle={"background-color":"#403c3c"}}unColorTabLayoutContainer(){this.tabLayoutCntnrStyle={"background-color":this._consts.EMPTY_STRING}}onMouseEnterTabLayoutBtn(e,i){this.changeTabLayoutIconCntnrCSS(i,!0),this.changeFileExplorerLayoutCSS(e)}onMouseLeaveTabLayoutBtn(e){this.changeTabLayoutIconCntnrCSS(e,!1),this.changeFileExplorerLayoutCSS(this.defaultviewOption)}onClickTabLayoutBtn(e,i){this.currentViewOptionId=i,this.currentViewOption=e,this.defaultviewOption=e,this.changeTabLayoutIconCntnrCSS(i,!0);for(let r=1;r<=8;r++)r!=i&&this.changeTabLayoutIconCntnrCSS(r,!1)}changeFileExplorerLayoutCSS(e){(e==this.smallIconsView||e==this.mediumIconsView||e==this.largeIconsView||e==this.extraLargeIconsView)&&(this.currentViewOption=e,this.changeLayoutCss(e),this.changeOrderedlistStyle(e),this.changeButtonAndImageSize(e)),(e==this.listView||e==this.detailsView||e==this.tilesView||e==this.contentView)&&(this.currentViewOption=e,this.changeLayoutCss(e),this.changeOrderedlistStyle(e))}changeTabLayoutIconCntnrCSS(e,i){const r=document.getElementById(`tabLayoutIconCntnr-${this.processId}-${e}`);this.currentViewOptionId==e&&r&&(r.style.border="0.5px solid #ccc",r.style.backgroundColor=i?"#807c7c":"#605c5c"),this.currentViewOptionId!=e&&r&&(i?(r.style.backgroundColor="#403c3c",r.style.border="0.5px solid #ccc"):(r.style.backgroundColor=this._consts.EMPTY_STRING,r.style.border=this._consts.EMPTY_STRING,r.style.margin="0"))}changeLayoutCss(e){const r=["icon-view","list-view","details-view","tiles-view","content-view"],o=[this.smallIconsView,this.mediumIconsView,this.largeIconsView,this.extraLargeIconsView,this.listView,this.detailsView,this.tilesView,this.contentView].indexOf(e);o<=3?this.olClassName="ol-icon-size-view":o>=4&&(this.olClassName=`ol-${r[o-3]}`)}changeButtonAndImageSize(e){const r=["30px","45px","75px","90px"],o=[["90px","70px"],["110px","90px"]],s=[this.smallIconsView,this.mediumIconsView,this.largeIconsView,this.extraLargeIconsView].indexOf(e),c=s<=2?0:1;for(let h=0;h<this.fileExplrFiles.length;h++){const g=document.getElementById(`btnElmnt-${this.processId}-${h}`),y=document.getElementById(`imgElmnt-${this.processId}-${h}`);g&&(g.style.width=o[c][0],g.style.height=o[c][1]),y&&(y.style.width=r[s],y.style.height=r[s])}}changeOrderedlistStyle(e){const r=[["90px","70px"],["110px","90px"]],s=[this.smallIconsView,this.mediumIconsView,this.largeIconsView,this.extraLargeIconsView].indexOf(e)<=2?0:1,c=document.getElementById(`olElmnt-${this.processId}`);if(e==this.smallIconsView||e==this.mediumIconsView||e==this.largeIconsView||e==this.extraLargeIconsView)c&&(c.style.gridTemplateColumns=`repeat(auto-fill,${r[s][0]})`,c.style.gridTemplateRows=`repeat(auto-fill,${r[s][1]})`,c.style.rowGap="20px",c.style.columnGap="0px",c.style.padding="5px 0",c.style.gridAutoFlow="row");else if(e==this.contentView){const h=this.fileExplrCntntCntnr.nativeElement.getBoundingClientRect();c&&(c.style.gridTemplateColumns=`repeat(auto-fill, minmax(50px, ${h.width}px)`,c.style.gridTemplateRows="repeat(auto-fill, 43px)")}}setNavButtonsColor(){this.prevNavBtnStyle={fill:"#ccc"},this.nextNavBtnStyle={fill:"#ccc"},this.recentNavBtnStyle={fill:"#ccc"},this.upNavBtnStyle={fill:"#fff"},this.ribbonMenuBtnStyle={fill:"#fff"}}colorChevron(){this.recentNavBtnStyle={fill:"rgb(18, 107, 240)"}}unColorChevron(){this.recentNavBtnStyle={fill:"#ccc"}}uncolorUpNavBtn(){this.upNavBtnCntnrStyle={"background-color":this._consts.EMPTY_STRING}}colorUpNavBtn(){this.upNavBtnCntnrStyle=this.isUpBtnActive?{"background-color":"#3f3e3e",transition:"background-color 0.3s ease"}:{"background-color":this._consts.EMPTY_STRING}}goUpAlevel(){var e=this;return Fe(function*(){if(e.upPathEntries.length>0){const i=e.directory;e.isNavigatedBefore||(e.isNavigatedBefore=!0,e.prevPathEntries.push(i),e.isPrevBtnActive=!0,e.prevNavBtnStyle={fill:"#fff"});let r=e.upPathEntries.pop()??e._consts.EMPTY_STRING;i===r?(r=e.upPathEntries.pop()??e._consts.EMPTY_STRING,e.directory=r,e.prevPathEntries.push(r)):(e.directory=r,e.prevPathEntries.push(r));const o=(0,_t.basename)(e.directory);0==e.upPathEntries.length&&(e.isUpBtnActive=!1,e.upNavBtnStyle={fill:"#ccc"}),e.populateHopsList(),e.setNavPathIcon(o,e.directory),yield e.loadFilesInfoAsync()}})()}toggleRibbobMenu(){this.showRibbonMenu=!this.showRibbonMenu}colorRibbonMenuCntnr(){this.ribbonMenuCntnrStyle={"background-color":"#ccc"}}uncolorRibbonMenuCntnr(){this.ribbonMenuCntnrStyle={"background-color":"#080404"}}colorPrevNavBtn(){this.prevNavBtnStyle=this.isPrevBtnActive?{fill:"rgb(18, 107, 240)"}:{fill:"#ccc"}}uncolorPrevNavBtn(){this.prevNavBtnStyle={fill:"#ccc"}}goBackAlevel(){var e=this;return Fe(function*(){if(e.prevPathEntries.length>0){const i=e.directory;-1==e.recentPathEntries.indexOf(i)&&e.recentPathEntries.push(i);const r=e.upPathEntries.indexOf(i);-1!=r?e.upPathEntries.splice(r,1):e.upPathEntries.push(i),e.nextPathEntries.push(i),e.isNextBtnActive=!0,e.isUpBtnActive=!0,e.nextNavBtnStyle={fill:"#fff"},e.upNavBtnStyle={fill:"#fff"};let o=e.prevPathEntries.pop()??e._consts.EMPTY_STRING;i===o&&(o=e.prevPathEntries.pop()??e._consts.EMPTY_STRING),e.directory=o;const s=(0,_t.basename)(e.directory);0==e.prevPathEntries.length&&(e.isPrevBtnActive=!1,e.prevNavBtnStyle={fill:"#ccc"}),e.populateHopsList(),e.setNavPathIcon(s,e.directory),yield e.loadFilesInfoAsync()}})()}colorNextNavBtn(){this.nextNavBtnStyle=this.isNextBtnActive?{fill:"rgb(18, 107, 240)"}:{fill:"#ccc"}}uncolorNextNavBtn(){this.nextNavBtnStyle={fill:"#ccc"}}goForwardAlevel(){var e=this;return Fe(function*(){if(e.nextPathEntries.length>0){e.prevPathEntries.push(e.directory),e.isPrevBtnActive=!0,e.prevNavBtnStyle={fill:"#fff"};const r=e.directory=e.nextPathEntries.pop()??e._consts.EMPTY_STRING,o=e.upPathEntries.indexOf(r);-1!==o?e.upPathEntries.splice(o,1):e.upPathEntries.push(r),0==e.upPathEntries.length&&(e.isUpBtnActive=!1,e.upNavBtnStyle={fill:"#ccc"});const s=(0,_t.basename)(e.directory);0==e.nextPathEntries.length&&(e.isNextBtnActive=!1,e.nextNavBtnStyle={fill:"#ccc"}),e.populateHopsList(),e.setNavPathIcon(s,e.directory),yield e.loadFilesInfoAsync()}})()}onNavPaneBtnClick(){this.showNavigationPane=!this.showNavigationPane}onNavPaneBtnEnter(){const e=document.getElementById(`navPaneIconCntnr-${this.processId}`);e&&(e.style.borderColor="#ccc",e.style.backgroundColor="#807c7c")}onNavPaneBtnLeave(){const e=document.getElementById(`navPaneIconCntnr-${this.processId}`);e&&(e.style.backgroundColor="transparent",e.style.borderColor="transparent")}onPrevPaneBtnClick(){this.showPreviewPane=!this.showPreviewPane,this.showDetailsPane=!1,this.removePaneBtnStyle(`detailsPaneIconCntnr-${this.processId}`),this.setPaneBtnStyle(`prevPaneIconCntnr-${this.processId}`)}onPrevPaneBtnEnter(){const e=document.getElementById(`prevPaneIconCntnr-${this.processId}`);e&&(this.showPreviewPane?(e.style.borderColor="#ccc",e.style.backgroundColor="#807c7c"):(e.style.borderColor="#ccc",e.style.backgroundColor="#605c5c "))}onPrevPaneBtnLeave(){const e=document.getElementById(`prevPaneIconCntnr-${this.processId}`);e&&(this.showPreviewPane?(e.style.borderColor="#ccc",e.style.backgroundColor="#605c5c"):(e.style.backgroundColor="transparent",e.style.borderColor="transparent"))}onDetailPaneBtnClick(){this.showDetailsPane=!this.showDetailsPane,this.showPreviewPane=!1,this.removePaneBtnStyle(`prevPaneIconCntnr-${this.processId}`),this.setPaneBtnStyle(`detailsPaneIconCntnr-${this.processId}`)}onDetailPaneBtnEnter(){const e=document.getElementById(`detailsPaneIconCntnr-${this.processId}`);e&&(this.showDetailsPane?(e.style.borderColor="#ccc",e.style.backgroundColor="#807c7c"):(e.style.borderColor="#ccc",e.style.backgroundColor="#605c5c"))}onDetailPaneBtnLeave(){const e=document.getElementById(`detailsPaneIconCntnr-${this.processId}`);e&&(this.showDetailsPane?(e.style.borderColor="#ccc",e.style.backgroundColor="#605c5c"):(e.style.backgroundColor="transparent",e.style.borderColor="transparent"))}removePaneBtnStyle(e){const i=document.getElementById(e);i&&(i.style.backgroundColor="transparent",i.style.borderColor="transparent")}setPaneBtnStyle(e){const i=document.getElementById(e);i&&(i.style.borderColor="#ccc",i.style.backgroundColor="#807c7c")}showExpandTreeIconBtn(){this.showExpandTreeIcon=!0}hideExpandTreeIconBtn(){this.showExpandTreeIcon=!1}onDragOver(e){e.stopPropagation(),e.preventDefault()}onDrop(e){var i=this;return Fe(function*(){e.preventDefault();let r=[];e?.dataTransfer?.files&&(r=[...e?.dataTransfer?.files]),r.length>=1&&(yield i._fileService.writeFilesAsync(i.directory,r))&&(yield i.loadFilesInfoAsync())})()}loadFilesInfoAsync(e=!0){var i=this;return Fe(function*(){i.fileExplrFiles=[],i._fileService.resetDirectoryFiles();let r=yield i._fileService.getEntriesFromDirectoryAsync(i.directory);if(i.directory===i._consts.ROOT)if(e){const o=r.filter(s=>s.includes(i._consts.URL));r=o,i._directoryFilesEntires=i._fileService.getFileEntriesFromDirectory(o,i.directory)}else{const o=r.filter(s=>!s.includes(i._consts.URL));r=o,i._directoryFilesEntires=i._fileService.getFileEntriesFromDirectory(o,i.directory)}else i._directoryFilesEntires=i._fileService.getFileEntriesFromDirectory(r,i.directory);for(let o=0;o<r.length;o++){const s=i._directoryFilesEntires[o],c=yield i._fileService.getFileInfoAsync(s.getPath);i.fileExplrFiles.push(c)}})()}loadFileTreeAsync(){var e=this;return Fe(function*(){console.log("loadFileTreeAsync called");const i="/Users/";e.fileTreeNode=[],e._fileService.resetDirectoryFiles();const r=yield e._fileService.getEntriesFromDirectoryAsync(i),o={name:e._consts.OSDISK,path:e._consts.ROOT,isFolder:!0,children:[]};for(const s of r){const c=yield e._fileService.checkIfDirectory(i+s);e.fileTreeNode.push({name:s,path:`${i}${s}`,isFolder:c,children:[]})}e.fileTreeNode.push(o)})()}updateFileTreeAsync(e){var i=this;return Fe(function*(){if(console.log("updateFileTreeAsync called",e),!i.fileTreeHistory.includes(e)){const r=[];i._fileService.resetDirectoryFiles();const o=yield i._fileService.getEntriesFromDirectoryAsync(e);for(const c of o){const h=yield i._fileService.checkIfDirectory(`${e}/${c}`.replace(i._consts.DOUBLE_SLASH,i._consts.ROOT)),g={name:c,path:`${e}/${c}`.replace(i._consts.DOUBLE_SLASH,i._consts.ROOT),isFolder:h,children:[]};r.push(g)}const s=i.addChildrenToNode(i.fileTreeNode,e,r);i.fileTreeNode=s,i.fileTreeHistory.push(e)}})()}addChildrenToNode(e,i,r){const o=[];for(let s=0;s<e.length;s++){const c=e[s],h={name:c.name,path:c.path,isFolder:c.isFolder,children:c.children||[]};if(c.path===i)for(const g of r)h.children.push(g);c.children&&(h.children=this.addChildrenToNode(c.children,i,r)),o.push(h)}return o}runProcess(e){var i=this;return Fe(function*(){console.log("fileexplorer-runProcess:",e),i.showInformationTip=!1,"fileexplorer"===e.getOpensWith&&"fileexplorer"!==e.getFileName&&"folder"===e.getFileType?(i.isNavigatedBefore||(i.prevPathEntries.push(i.directory),i.upPathEntries.push(i.directory),i.isNavigatedBefore=!0),i.isPrevBtnActive=!0,i.directory=e.getCurrentPath.includes(i._consts.URL)?e.getContentPath:e.getCurrentPath,i.displayName=e.getFileName,i.icon=e.getIconPath,i.prevPathEntries.push(i.directory),i.upPathEntries.push(i.directory),-1==i.recentPathEntries.indexOf(i.directory)&&i.recentPathEntries.push(i.directory),i.populateHopsList(),i.setNavPathIcon(e.getFileName,e.getCurrentPath),i.storeAppState(e.getCurrentPath),yield i.loadFilesInfoAsync()):setTimeout(()=>{i._triggerProcessService.startApplication(e)},i.SECONDS_DELAY[4])})()}navigateToFolder(e){var i=this;return Fe(function*(){const r="This-PC",o=e[0],s=e[1];i.isNavigatedBefore||(i.prevPathEntries.push(i.directory),i.upPathEntries.push(i.directory),i.isNavigatedBefore=!0),i.isPrevBtnActive=!0,i.displayName=o,i.directory=s===r?i._consts.ROOT:s,i.icon=s===`/Users/${o}`?`${i._consts.IMAGE_BASE_PATH}${o.toLocaleLowerCase()}_folder.png`:`${i._consts.IMAGE_BASE_PATH}folder.png`,i.prevPathEntries.push(i.directory),i.upPathEntries.push(i.directory),-1==i.recentPathEntries.indexOf(i.directory)&&i.recentPathEntries.push(i.directory),i.populateHopsList(),i.setNavPathIcon(o,s),i.storeAppState(s),s===r||s!==i._consts.ROOT?yield i.loadFilesInfoAsync():s===i._consts.ROOT&&(yield i.loadFilesInfoAsync(!1))})()}setNavPathIcon(e,i){console.log(`fileexplorer - setNavPathIcon: fileName:${e} -----  directory:${i}`),this.navPathIcon=i===`/Users/${e}`?`${this._consts.IMAGE_BASE_PATH}${e.toLocaleLowerCase()}_folder_small.png`:"OSDisk (C:)"===e&&i===this._consts.ROOT?`${this._consts.IMAGE_BASE_PATH}os_disk.png`:"fileexplorer"===e&&i===this._consts.ROOT||e===this._consts.EMPTY_STRING&&i===this._consts.ROOT?`${this._consts.IMAGE_BASE_PATH}this_pc.png`:`${this._consts.IMAGE_BASE_PATH}folder_folder_small.png`}onTriggerRunProcess(){this.runProcess(this.selectedFile)}onBtnClick(e){this.doBtnClickThings(e),this.setBtnStyle(e,!0)}onShowIconContextMenu(e,i,r){this._menuService.hideContextMenus.next(),this.iconCntxtCntr++;const s=this.fileExplrCntntCntnr.nativeElement.getBoundingClientRect(),c=this.checkAndHandleMenuBounds(s,e,213);this._runningProcessService.addEventOriginator(`${this.name}-${this.processId}`),this.adjustContextMenuData(i),this.selectedFile=i,this.propertiesViewFile=i,this.isIconInFocusDueToPriorAction=!1,this.showInformationTip=!1,this.showIconCntxtMenu||(this.showIconCntxtMenu=!this.showIconCntxtMenu),this.doBtnClickThings(r),this.setBtnStyle(r,!0),this.fileExplrCntxtMenuStyle={position:"absolute",transform:`translate(${String(c.xAxis)}px, ${String(c.yAxis)}px)`,"z-index":2},e.preventDefault()}adjustContextMenuData(e){if(this.menuData=[],e.getIsFile)if(["3D-Objects.url","Desktop.url","Documents.url","Downloads.url","Games.url","Music.url","Pictures.url","Videos.url"].includes(e.getCurrentPath.replace("/",this._consts.EMPTY_STRING))){this.menuOrder=this._consts.FILE_EXPLORER_UNIQUE_MENU_ORDER;for(const r of this.sourceData)"Cut"===r.label||"Delete"===r.label||"Rename"===r.label||this.menuData.push(r)}else{this.menuOrder=this._consts.FILE_EXPLORER_FILE_MENU_ORDER;for(const r of this.sourceData)"Open in Terminal"===r.label||"Pin to Quick access"===r.label||"Open in new window"===r.label||"Pin to Start"===r.label||this.menuData.push(r)}else this.menuOrder=this._consts.FILE_EXPLORER_FOLDER_MENU_ORDER,this.menuData=this.sourceData}onShowFileExplorerContextMenu(e){if(this.showExpandTreeIcon=!1,this.fileExplrCntxtCntr++,this.iconCntxtCntr>=this.fileExplrCntxtCntr)return;this._menuService.hideContextMenus.next();const r=this.fileExplrCntntCntnr.nativeElement.getBoundingClientRect(),o=this.checkAndHandleMenuBounds(r,e,230);this._runningProcessService.addEventOriginator(`${this.name}-${this.processId}`),this.showFileExplrCntxtMenu||(this.showFileExplrCntxtMenu=!this.showFileExplrCntxtMenu),this.fileExplrCntxtMenuStyle={position:"absolute",transform:`translate(${String(o.xAxis)}px, ${String(o.yAxis)}px)`,"z-index":2},e.preventDefault()}showPropertiesWindow(){this._menuService.showPropertiesView.next(this.propertiesViewFile)}hideIconContextMenu(e){this.showIconCntxtMenu=!1,this.showFileExplrCntxtMenu=!1,this.isShiftSubMenuLeft=!1,this.iconCntxtCntr=0,this.fileExplrCntxtCntr=0,this.showExpandTreeIcon=!1,void 0!==e&&e===this.name&&this._menuService.hideContextMenus.next()}handleIconHighLightState(){this.isBtnClickEvt&&this.btnClickCnt>=1&&!this.isHideCntxtMenuEvt&&0==this.hideCntxtMenuEvtCnt?(this.isRenameActive&&this.isFormDirty(),this.isIconInFocusDueToPriorAction&&this.hideCntxtMenuEvtCnt>=0&&this.setBtnStyle(this.selectedElementId,!1),this.isRenameActive||(this.isBtnClickEvt=!1,this.btnClickCnt=0)):(this.hideCntxtMenuEvtCnt++,this.isHideCntxtMenuEvt=!0,this.isHideCntxtMenuEvt&&this.hideCntxtMenuEvtCnt>=1&&!this.isBtnClickEvt&&0==this.btnClickCnt&&(this.isIconInFocusDueToCurrentAction=!1,this.btnStyleAndValuesChange()))}doBtnClickThings(e){this.isIconInFocusDueToCurrentAction=!0,this.isIconInFocusDueToPriorAction=!1,this.prevSelectedElementId=this.selectedElementId,this.selectedElementId=e,this.isBtnClickEvt=!0,this.btnClickCnt++,this.isHideCntxtMenuEvt=!1,this.hideCntxtMenuEvtCnt=0,this.prevSelectedElementId!=e&&this.removeBtnStyle(this.prevSelectedElementId)}onMouseEnter(e,i,r){this.showInformationTip=!0,this.setBtnStyle(r,!0),this.displayInformationTip(e,i)}onMouseLeave(e){this.showInformationTip=!1,e!=this.selectedElementId?this.removeBtnStyle(e):e==this.selectedElementId&&this.isIconInFocusDueToPriorAction&&this.setBtnStyle(e,!1)}setBtnStyle(e,i){const r=document.getElementById(`btnElmnt-${this.processId}-${e}`);r&&(r.style.backgroundColor="#4c4c4c",r.style.border="1px solid #3c3c3c",this.selectedElementId==e&&(i&&this.isIconInFocusDueToCurrentAction&&(r.style.backgroundColor="#787474"),!i&&this.isIconInFocusDueToCurrentAction&&(r.style.backgroundColor="#787474"),i&&this.isIconInFocusDueToPriorAction&&(r.style.backgroundColor="#4c4c4c"),!i&&this.isIconInFocusDueToPriorAction&&(r.style.backgroundColor="transparent",r.style.border="0.5px solid white")))}btnStyleAndValuesReset(){this.isBtnClickEvt=!1,this.btnClickCnt=0,this.removeBtnStyle(this.selectedElementId),this.removeBtnStyle(this.prevSelectedElementId),this.selectedElementId=-1,this.prevSelectedElementId=-1,this.btnClickCnt=0,this.isIconInFocusDueToPriorAction=!1}btnStyleAndValuesChange(){this.isBtnClickEvt=!1,this.btnClickCnt=0,this.prevSelectedElementId=this.selectedElementId,this.isIconInFocusDueToPriorAction=!0,this.isIconInFocusDueToCurrentAction=!1,this.setBtnStyle(this.selectedElementId,!1)}removeBtnStyle(e){const i=document.getElementById(`btnElmnt-${this.processId}-${e}`);i&&(i.style.backgroundColor="transparent",i.style.border="none")}doNothing(){}onCopy(){this._menuService.storeData.next([this.selectedFile.getCurrentPath,"copy"])}onCut(){this._menuService.storeData.next([this.selectedFile.getCurrentPath,"cut"])}checkAndHandleMenuBounds(e,i,r){let o=0,s=0;const g=e.right-i.clientX,y=e.bottom-i.clientY;let C=!1,A=!1;return g<210&&(C=!0,this.isShiftSubMenuLeft=!0,o=i.clientX-e.left-(210-g)),y>=40&&y<=r&&(A=!0,s=i.clientY-e.top-(r-y)),o=C?o:i.clientX-e.left,s=A?s:i.clientY-e.top,{xAxis:o,yAxis:s}}shiftViewSubMenu(){this.shiftNestedMenuPosition(0)}shiftSortBySubMenu(){this.shiftNestedMenuPosition(1)}shiftNewSubMenu(){this.shiftNestedMenuPosition(6)}shiftNestedMenuPosition(e){const i=document.getElementById(`dmNestedMenu-${e}`);i&&this.isShiftSubMenuLeft&&(i.style.left="-98%")}onDragStart(e){}onDragEnd(e){}setFileExplorerWindowToFocus(e){this._runningProcessService.focusOnCurrentProcessNotify.next(e)}sortIcons(e){"Size"===e?this.fileExplrFiles=this.fileExplrFiles.sort((i,r)=>r.getSize-i.getSize):"Date Modified"===e?this.fileExplrFiles=this.fileExplrFiles.sort((i,r)=>r.getDateModified.getTime()-i.getDateModified.getTime()):"Name"===e?this.fileExplrFiles=this.fileExplrFiles.sort((i,r)=>i.getFileName<r.getFileName?-1:1):"Item Type"===e&&(this.fileExplrFiles=this.fileExplrFiles.sort((i,r)=>i.getFileType<r.getFileType?-1:1))}displayInformationTip(e,i){const r=this.fileExplrCntntCntnr.nativeElement.getBoundingClientRect(),o=e.clientX-r.left-15,s=e.clientY-r.top+10;setTimeout(()=>{const c=document.getElementById(`fx-information-tip-${this.processId}`);c&&setTimeout(()=>{c.style.display="block",c.style.transform=`translate(${String(o)}px, ${String(s)}px)`,c.style.position="absolute",c.style.zIndex="3",this.setInformationTipInfo(i)},this.SECONDS_DELAY[1])},this.SECONDS_DELAY[0])}setInformationTipInfo(e){const i=["Author:","Item type:","Date created:","Date modified:","Dimesions:","General","Size:","Type:"],o=e.getFileType,s=e.getDateModifiedUS,c=`${String(e.getSize1)}  ${e.getFileSizeUnit}`,h=e.getFileName;if(this.fileInfoTipData=[],this._consts.IMAGE_FILE_EXTENSIONS.includes(e.getFileType)){const g=new Image;g.src=e.getIconPath;const y=g?.naturalWidth,C=g?.naturalHeight,A=`${y} x ${C}`;this.fileInfoTipData.push({label:i[1],data:`${e.getFileType.replace(".",this._consts.EMPTY_STRING).toLocaleUpperCase()} File`}),this.fileInfoTipData.push({label:i[4],data:A}),this.fileInfoTipData.push({label:i[6],data:c})}".txt"===o&&(this.fileInfoTipData.push({label:i[7],data:"Text Document"}),this.fileInfoTipData.push({label:i[3],data:s}),this.fileInfoTipData.push({label:i[6],data:c})),"folder"===o&&("Desktop"===h||"Documents"===h||"Downloads"===h?this.fileInfoTipData.push({label:i[2],data:s}):"Music"===h?this.fileInfoTipData.push({label:this._consts.EMPTY_STRING,data:"Contains music and other audio files"}):"Videos"===h?this.fileInfoTipData.push({label:this._consts.EMPTY_STRING,data:"Contains movies and other video files"}):"Pictures"===h?this.fileInfoTipData.push({label:this._consts.EMPTY_STRING,data:"Contains digital photos, images and graphic files"}):(this.fileInfoTipData.push({label:i[7],data:o}),this.fileInfoTipData.push({label:i[2],data:s})))}refreshIcons(){var e=this;return Fe(function*(){e.isIconInFocusDueToPriorAction=!1,yield e.loadFilesInfoAsync()})()}onDeleteFile(){var e=this;return Fe(function*(){let i=!1;i=e.selectedFile.getIsFile?yield e._fileService.deleteFileAsync(e.selectedFile.getCurrentPath):yield e._fileService.deleteFolderAsync(e.selectedFile.getCurrentPath),i&&(yield e.loadFilesInfoAsync())})()}onKeyPress(e){const r=new RegExp("^[a-zA-Z0-9_]+$").test(e.key);return r?(this.hideInvalidCharsToolTip(),r):(this.showInvalidCharsToolTip(),setTimeout(()=>{this.hideInvalidCharsToolTip()},this.SECONDS_DELAY[2]),r)}onInputChange(){const i=document.getElementById(`searchTxtBox-${this.processId}`).value.length;i>0?this.isSearchBoxNotEmpty=!0:i<=0&&(this.isSearchBoxNotEmpty=!1),this.resetSearchIconHiglight(),this.resetClearSearchIconHiglight()}onClearSearchTextBox(){document.getElementById(`searchTxtBox-${this.processId}`).value=this._consts.EMPTY_STRING,this.isSearchBoxNotEmpty=!1,this.resetSearchIconHiglight(),this.resetClearSearchIconHiglight()}handleClearSearchIconHighlights(){this.onClearSearchIconHover=!this.onClearSearchIconHover,this.isSearchBoxNotEmpty&&(this.onClearSearchIconHover?this.clearSearchStyle={"background-color":"#3f3e3e",transition:"background-color 0.3s ease"}:this.onClearSearchIconHover||(this.clearSearchStyle={"background-color":"#191919"}))}resetClearSearchIconHiglight(){this.clearSearchStyle={"background-color":"#191919"},this.isSearchBoxNotEmpty||(this.onClearSearchIconHover=!1)}handleSearchIconHighlights(){this.onSearchIconHover=!this.onSearchIconHover,this.isSearchBoxNotEmpty&&(this.onSearchIconHover?this.searchStyle={"background-color":"rgb(18, 107, 240)",transition:"background-color 0.3s ease"}:this.onSearchIconHover||(this.searchStyle={"background-color":"blue"}))}resetSearchIconHiglight(){this.isSearchBoxNotEmpty?this.searchStyle={"background-color":"blue"}:(this.searchStyle={"background-color":"#191919"},this.onSearchIconHover=!1)}onSearch(){}showPathTextBox(){const e=document.getElementById(`pathTxtBoxCntr-${this.processId}`),i=document.getElementById(`pathTxtBox-${this.processId}`),r=document.getElementById(`pathIconBox-${this.processId}`);e&&(e.style.display="flex"),i&&(i.style.display="block",this.showPathHistory?this.directory===this._consts.ROOT&&this.pathForm.setValue({pathInput:this._consts.ROOT}):this.pathForm.setValue({pathInput:this.directory}),i?.focus(),i?.select()),r&&(r.style.display="none")}hidePathTextBox(){const e=document.getElementById(`pathTxtBoxCntr-${this.processId}`),i=document.getElementById(`pathTxtBox-${this.processId}`),r=document.getElementById(`pathIconBox-${this.processId}`);i&&(i.style.display="none"),e&&(e.style.display="none"),r&&(r.style.display="flex")}hidePathTextBoxOnload(){const e=document.getElementById(`pathTxtBoxCntr-${this.processId}`),i=document.getElementById(`pathTxtBox-${this.processId}`);i&&(i.style.display="none"),e&&(e.style.display="none")}populateHopsList(){const e=this.directory.split(this._consts.ROOT).filter(i=>i!==this._consts.EMPTY_STRING);0===e.length?e[0]=this._consts.THISPC:e.unshift(this._consts.THISPC),this.directory.includes("/Users")||(e[1]=this._consts.OSDISK),this._directoryHops=e,console.log("this._directoryHops:",this._directoryHops)}showInvalidCharsToolTip(){const e=document.getElementById(`invalidChars-${this.processId}`),i=document.getElementById(`renameContainer-${this.processId}-${this.selectedElementId}`),r=this.fileExplrCntntCntnr.nativeElement.getBoundingClientRect(),o=i.getBoundingClientRect();e&&(e.style.transform=`translate(${o.left-r.left+2}px, ${o.top-r.top+2}px)`,e.style.zIndex="2",e.style.opacity="1",e.style.transition="opacity 0.5s ease")}hideInvalidCharsToolTip(){const e=document.getElementById(`invalidChars-${this.processId}`);e&&(e.style.transform="translate(-100000px, 100000px)",e.style.zIndex="-1",e.style.opacity="0",e.style.transition="opacity 0.5s ease 1")}isFormDirty(){1==this.renameForm.dirty?this.onRenameFileTxtBoxDataSave():0==this.renameForm.dirty&&(this.renameFileTriggerCnt++,this.renameFileTriggerCnt>1&&(this.onRenameFileTxtBoxHide(),this.renameFileTriggerCnt=0))}onRenameFileTxtBoxShow(){this.isRenameActive=!this.isRenameActive;const e=document.getElementById(`figCapElmnt-${this.processId}-${this.selectedElementId}`),i=document.getElementById(`renameContainer-${this.processId}-${this.selectedElementId}`),r=document.getElementById(`renameTxtBox-${this.processId}-${this.selectedElementId}`);e&&(e.style.display="none"),i&&(i.style.display="block",this.currentIconName=this.selectedFile.getFileName,this.renameForm.setValue({renameInput:this.currentIconName}),r?.focus(),r?.select())}onRenameFileTxtBoxDataSave(){var e=this;return Fe(function*(){e.isRenameActive=!e.isRenameActive;const i=document.getElementById(`figCapElmnt-${e.processId}-${e.selectedElementId}`),r=document.getElementById(`renameContainer-${e.processId}-${e.selectedElementId}`),o=e.renameForm.value.renameInput;if(o!==e._consts.EMPTY_STRING&&0!==o.length&&o!==e.currentIconName){if(yield e._fileService.renameAsync(e.selectedFile.getCurrentPath,o,e.selectedFile.getIsFile)){const c=e.fileExplrFiles.findIndex(h=>h.getCurrentPath==e.selectedFile.getContentPath&&h.getFileName==e.selectedFile.getFileName);e.selectedFile.setFileName=o,e.selectedFile.setDateModified=Date.now(),e.fileExplrFiles[c]=e.selectedFile,e.renameForm.reset(),yield e.loadFilesInfoAsync()}}else e.renameForm.reset();e.setBtnStyle(e.selectedElementId,!1),e.renameFileTriggerCnt=0,i&&(i.style.display="block"),r&&(r.style.display="none")})()}onRenameFileTxtBoxHide(){this.isRenameActive=!this.isRenameActive;const e=document.getElementById(`figCapElmnt-${this.processId}-${this.selectedElementId}`),i=document.getElementById(`renameContainer-${this.processId}-${this.selectedElementId}`);e&&(e.style.display="block"),i&&(i.style.display="none"),this.isIconInFocusDueToPriorAction=!0,this.isIconInFocusDueToCurrentAction=!1}showSearchHistory(){const e=document.getElementById(`searchHistory-${this.processId}`);e&&this.searchHistory.length>0&&(e.style.display="block")}hideSearchHistory(){document.getElementById(`searchHistory-${this.processId}`).style.display="none"}hideshowPathHistory(){const e=document.getElementById(`pathHistory-${this.processId}`),r=document.getElementById(`hdrNavPathCntnr-${this.processId}`).offsetWidth-25;this.showPathHistory=!this.showPathHistory,this.showPathHistory?e&&this.pathHistory.length>0&&(e.style.display="block",e.style.width=`${r}px`):this.showPathHistory||(e.style.display="none")}hidePathHistory(){document.getElementById(`pathHistory-${this.processId}`).style.display="none",this.showPathHistory=!1}storeAppState(e){const i=`${this.name}-${this.processId}`;this._appState={pid:this.processId,app_data:e,app_name:this.name,unique_id:i},this._stateManagmentService.addState(i,this._appState,Jt.App)}retrievePastSessionData(){const e=this._sessionManagmentService._pickUpKey;if(this._sessionManagmentService.hasTempSession(e)){const i=this._sessionManagmentService.getTempSession(e)||this._consts.EMPTY_STRING,r=this._sessionManagmentService.getSession(i);if(void 0!==r){const o=r[0];void 0!==o&&o.app_data!=this._consts.EMPTY_STRING&&(this.directory=o.app_data)}}}maximizeWindow(){if(`${this.name}-${this.processId}`===this._runningProcessService.getEventOrginator()){this._runningProcessService.removeEventOriginator();const r=document.getElementById("vanta"),o=246.5;this.fileExplrMainCntnr.nativeElement.style.height=(r?.offsetHeight||0)-o+"px",this.fileExplrCntntCntnr.nativeElement.style.height=(r?.offsetHeight||0)-o+"px",this.navExplorerCntnr.nativeElement.style.height=(r?.offsetHeight||0)-o+"px"}}minimizeWindow(e){if(`${this.name}-${this.processId}`===this._runningProcessService.getEventOrginator()){this._runningProcessService.removeEventOriginator();const c=e[1]-176.5;this.fileExplrMainCntnr.nativeElement.style.height=`${c}px`,this.fileExplrCntntCntnr.nativeElement.style.height=`${c}px`,this.navExplorerCntnr.nativeElement.style.height=`${c}px`}}sortByNameM(){this.sortBy(this.sortByName)}sortBySizeM(){this.sortBy(this.sortBySize)}sortByItemTypeM(){this.sortBy(this.sortByItemType)}sortByDateModifiedM(){this.sortBy(this.sortByDateModified)}sortBy(e){e===ji.DATE_MODIFIED&&(this.isSortByDateModified=!0,this.isSortByItemType=!1,this.isSortByName=!1,this.isSortBySize=!1),e===ji.ITEM_TYPE&&(this.isSortByItemType=!0,this.isSortByDateModified=!1,this.isSortByName=!1,this.isSortBySize=!1),e===ji.SIZE&&(this.isSortBySize=!0,this.isSortByItemType=!1,this.isSortByName=!1,this.isSortByDateModified=!1),e===ji.NAME&&(this.isSortByName=!0,this.isSortByItemType=!1,this.isSortByDateModified=!1,this.isSortBySize=!1),this.getFileExplorerMenuData()}buildViewMenu(){return[{icon:`${this._consts.IMAGE_BASE_PATH}circle.png`,label:"Extra Large icons",action:()=>this.isExtraLargeIcon=!this.isExtraLargeIcon,variables:this.isExtraLargeIcon,emptyline:!1,styleOption:"A"},{icon:`${this._consts.IMAGE_BASE_PATH}circle.png`,label:"Large icons",action:()=>this.isLargeIcon=!this.isLargeIcon,variables:this.isMediumIcon,emptyline:!1,styleOption:"A"},{icon:`${this._consts.IMAGE_BASE_PATH}circle.png`,label:"Medium icons",action:()=>this.isMediumIcon=!this.isMediumIcon,variables:this.isLargeIcon,emptyline:!1,styleOption:"A"},{icon:`${this._consts.IMAGE_BASE_PATH}circle.png`,label:"Small icons",action:()=>this.isSmallIcon=!this.isSmallIcon,variables:this.isLargeIcon,emptyline:!1,styleOption:"A"},{icon:`${this._consts.IMAGE_BASE_PATH}circle.png`,label:"List icons",action:()=>this.isListIcon=!this.isListIcon,variables:this.isListIcon,emptyline:!1,styleOption:"A"},{icon:`${this._consts.IMAGE_BASE_PATH}circle.png`,label:"Details icons",action:()=>this.isDetailsIcon=!this.isDetailsIcon,variables:this.isDetailsIcon,emptyline:!1,styleOption:"A"},{icon:`${this._consts.IMAGE_BASE_PATH}circle.png`,label:"Titles icons",action:()=>this.isTitleIcon=!this.isTitleIcon,variables:this.isTitleIcon,emptyline:!1,styleOption:"A"}]}buildSortByMenu(){return[{icon:`${this._consts.IMAGE_BASE_PATH}circle.png`,label:"Name",action:this.sortByNameM.bind(this),variables:this.isSortByName,emptyline:!1,styleOption:"A"},{icon:`${this._consts.IMAGE_BASE_PATH}circle.png`,label:"Size",action:this.sortBySizeM.bind(this),variables:this.isSortBySize,emptyline:!1,styleOption:"A"},{icon:`${this._consts.IMAGE_BASE_PATH}circle.png`,label:"Item type",action:this.sortByItemTypeM.bind(this),variables:this.isSortByItemType,emptyline:!1,styleOption:"A"},{icon:`${this._consts.IMAGE_BASE_PATH}circle.png`,label:"Date modified",action:this.sortByDateModifiedM.bind(this),variables:this.isSortByDateModified,emptyline:!1,styleOption:"A"}]}buildNewMenu(){return[{icon:`${this._consts.IMAGE_BASE_PATH}empty_folder.png`,label:"Folder",action:()=>console.log(),variables:!0,emptyline:!1,styleOption:"C"},{icon:`${this._consts.IMAGE_BASE_PATH}text_editor.png`,label:"Rich Text",action:()=>console.log(),variables:!0,emptyline:!1,styleOption:"C"}]}getFileExplorerMenuData(){this.fileExplrMenu=[{icon1:this._consts.EMPTY_STRING,icon2:`${this._consts.IMAGE_BASE_PATH}arrow_next_1.png`,label:"View",nest:this.buildViewMenu(),action:()=>this._consts.EMPTY_STRING,action1:this.shiftViewSubMenu.bind(this),emptyline:!1},{icon1:this._consts.EMPTY_STRING,icon2:`${this._consts.IMAGE_BASE_PATH}arrow_next_1.png`,label:"Sort by",nest:this.buildSortByMenu(),action:()=>this._consts.EMPTY_STRING,action1:this.shiftSortBySubMenu.bind(this),emptyline:!1},{icon1:this._consts.EMPTY_STRING,icon2:this._consts.EMPTY_STRING,label:"Refresh",nest:[],action:()=>console.log("Refresh"),action1:()=>this._consts.EMPTY_STRING,emptyline:!0},{icon1:this._consts.EMPTY_STRING,icon2:this._consts.EMPTY_STRING,label:"Paste",nest:[],action:()=>console.log("Paste!! Paste!!"),action1:()=>this._consts.EMPTY_STRING,emptyline:!1},{icon1:`${this._consts.IMAGE_BASE_PATH}terminal.png`,icon2:this._consts.EMPTY_STRING,label:"Open in Terminal",nest:[],action:()=>console.log("Open Terminal"),action1:()=>this._consts.EMPTY_STRING,emptyline:!1},{icon1:`${this._consts.IMAGE_BASE_PATH}vs_code.png`,icon2:this._consts.EMPTY_STRING,label:"Open with Code",nest:[],action:()=>console.log("Open CodeEditor"),action1:()=>this._consts.EMPTY_STRING,emptyline:!0},{icon1:this._consts.EMPTY_STRING,icon2:`${this._consts.IMAGE_BASE_PATH}arrow_next_1.png`,label:"New",nest:this.buildNewMenu(),action:()=>this._consts.EMPTY_STRING,action1:this.shiftNewSubMenu.bind(this),emptyline:!0},{icon1:this._consts.EMPTY_STRING,icon2:this._consts.EMPTY_STRING,label:"Properties",nest:[],action:()=>console.log("Properties"),action1:()=>this._consts.EMPTY_STRING,emptyline:!1}]}createShortCut(){var e=this;return Fe(function*(){const i=e.selectedFile,r=new Fo;let o="";"/"!==e._consts.ROOT?(i.getIsFile&&(o=`[InternetShortcut]\nFileName=${i.getFileName} - ${e._consts.SHORTCUT}\nIconPath=${i.getIconPath}\nFileType=${i.getFileType}\nContentPath=${i.getContentPath}\nOpensWith=${i.getOpensWith}\n`),r.setContentPath=o,r.setFileName=`${i.getFileName} - ${e._consts.SHORTCUT}${e._consts.URL}`,(yield e._fileService.writeFileAsync(e.directory,r))&&(yield e.loadFilesInfoAsync())):e._notificationService.warningNotify.next("Cheetah can't create a shortcut here.\nDo you want the shortcut to be placed on the desktop instead?")})()}getComponentDetail(){return new vi(this.processId,this.name,this.icon,this.hasWindow,this.type)}static \u0275fac=function(i){return new(i||t)(te(wi),te(Yn),te(Lo),te(hr),te(Nw),te(S0),te(to),te(eo),te(fa),te(gg))};static \u0275cmp=a({type:t,selectors:[["cos-fileexplorer"]],viewQuery:function(i,r){if(1&i&&(Wt(z9,7),Wt(j9,7),Wt(H9,7),Wt($9,7)),2&i){let o;Gt(o=Yt())&&(r.fileExplrMainCntnr=o.first),Gt(o=Yt())&&(r.fileExplorerRootContainer=o.first),Gt(o=Yt())&&(r.fileExplrCntntCntnr=o.first),Gt(o=Yt())&&(r.navExplorerCntnr=o.first)}},decls:114,vars:76,consts:[["fileExplorerRootContainer",""],["fileExplorerMainContainer",""],["fileExplorerContentContainer",""],["iconsView",""],["listView0",""],["detailsView0",""],["contentView0",""],["tilesView0",""],["navExplorerContainer",""],["elseBlock",""],[3,"click","runningProcessID","processAppIcon","processAppName"],[1,"fileexp-header-tab-container"],[1,"fileexp-header-tabs"],[1,"fileexp-tab","highlight-default"],[1,"fileexp-tab"],[1,"fileexp-tab","active"],[1,"figure-header-toggle",3,"click","mouseenter","mouseleave"],[1,"figure-header-tab"],[1,"img-header-tab"],["xmlns","http://www.w3.org/2000/svg","height","10","width","10","viewBox","0 0 512 512",3,"style",4,"ngIf"],[4,"ngIf"],[1,"header-empty-line-container"],[1,"fileexp-header-container"],[1,"header-nav-btn-container"],[1,"figure-alt"],[1,"img-alt-left-right"],["xmlns","http://www.w3.org/2000/svg","height","16","width","16","viewBox","0 0 512 512",3,"click","mouseenter","mouseleave"],["d","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"],["d","M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"],[1,"figure-alt-chevron"],[1,"img-alt-chevron"],["xmlns","http://www.w3.org/2000/svg","height","9","width","9","viewBox","0 200 512 512",3,"mouseenter","mouseleave"],["d","M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"],[1,"figure-alt-up",3,"click","mouseenter","mouseleave"],[1,"img-alt-up"],["xmlns","http://www.w3.org/2000/svg","height","16","width","16","viewBox","0 0 512 512"],["d","M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 141.2V448c0 17.7 14.3 32 32 32s32-14.3 32-32V141.2L329.4 246.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"],[1,"header-nav-path-container",3,"id"],[3,"ngSubmit","formGroup"],[1,"nav-path-container",3,"click","focusout"],[1,"span","head-nav-path-cntnr"],[1,"figure-nav-path-cntnr"],[1,"img-nav-path-cntnr",3,"src"],[1,"nav-path-gen-main-container",3,"id"],[1,"span","head-nav-path-gen-cntnr0"],[1,"figure-nav-path-gen-cntnr"],[1,"img-nav-path-gen-cntnr",3,"src"],["class","nav-path-gen-container",4,"ngFor","ngForOf"],["type","text","formControlName","pathInput","autofocus","","spellcheck","false",1,"path-input",3,"placeholder","id"],[1,"span","head-nav-path-cntnr1",3,"click"],[1,"figure-nav-path-cntnr1"],[1,"img-nav-path-cntnr1",3,"src"],[1,"span","head-nav-path-cntnr2",3,"click"],[1,"figure-nav-path-cntnr2"],[1,"img-nav-path-cntnr2",3,"src"],[1,"nav-path-containter1",3,"id"],["class","nav-path-entry-containter",4,"ngFor","ngForOf"],[1,"header-nav-search-container"],[1,"search-container"],[1,"span","head-search-cntnr"],[1,"figure-search-cntnr"],[1,"img-search-cntnr",3,"src"],["type","text","placeholder","Search OSDisk(C:)","formControlName","searchInput","spellcheck","false",1,"search-input",3,"focus","focusout","input","id"],[1,"span","head-search-cntnr1",3,"click","mouseenter","mouseleave"],["class","img-search-cntnr",3,"src",4,"ngIf"],[1,"span","head-search-cntnr2",3,"click","mouseenter","mouseleave"],[1,"search-history-containter",3,"id"],["class","search-entry-containter",4,"ngFor","ngForOf"],[1,"header-empty-line-container2"],[1,"fileexp-main-container"],[1,"fileexp-content-container"],[1,"file-content-container"],[3,"dragover","drop","click","contextmenu","ngClass","id"],[3,"ngTemplateOutlet"],[1,"tool-tip-container",3,"id"],[1,"tool-tip-arrow"],[1,"tool-tip-base"],[3,"generalMenu","style","menuType","menuOrder",4,"ngIf"],[3,"nestedMenu","style","menuType",4,"ngIf"],["class","fx-information-tip-container",3,"id",4,"ngIf"],[1,"fileexp-footer-container"],[1,"span-footer"],["xmlns","http://www.w3.org/2000/svg","height","10","width","10","viewBox","0 0 512 512"],["d","M278.6 233.4c-12.5-12.5-32.8-12.5-45.3 0l-192 192c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L256 300.3l169.4 169.4c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-192-192z"],[1,"fileexp-header-tab-content-container"],[1,"fileexp-tab-pane"],[1,"fileexp-tab-pane","active"],[1,"view-tab-pane-container"],[1,"tab-empty-line-container"],[1,"view-tab-pane-top-cntnr"],[1,"view-tab-pane-top1",3,"click","mouseenter","mouseleave","id"],[1,"tab-empty-space"],[1,"figure-tab-view-pane"],[1,"img-tab-view-pane",3,"src"],[1,"span-tab-view-pane"],[1,"span-tab-view-pane1"],[1,"view-tab-pane-top2"],[1,"tab-pane-top2-1",3,"click","mouseenter","mouseleave","id"],[1,"span-tab-pane-cntnr"],[1,"figure-tab-view-pane1"],[1,"img-tab-view-pane1",3,"src"],[1,"div-tab-view-pane"],[1,"span-tab-view-pane-cntnt"],[1,"tab-empty-space1"],[1,"tab-pane-top2-2",3,"click","mouseenter","mouseleave","id"],[1,"view-tab-pane-bottom"],[1,"view-tab-layout-container"],[1,"view-tab-layout-top-cntnr"],[1,"view-tab-layout-top1",3,"mouseenter","mouseleave"],[1,"view-tab-layout-content"],[1,"span-tab-layout-cntnr",3,"mouseenter","mouseleave","click","id"],[1,"figure-tab-view-layout"],[1,"img-tab-view-layout",3,"src"],[1,"div-tab-view-layout"],[1,"view-tab-layout-content1"],[1,"view-tab-layout-content2"],[1,"view-tab-layout-top2"],[1,"view-tab-layout-bottom"],[1,"view-tab-current-view-container"],[1,"nav-path-gen-container"],["class","span head-nav-path-gen-cntnr",4,"ngIf"],[1,"span","mid-nav-path-gen-cntnr"],[1,"span","head-nav-path-gen-cntnr"],[1,"nav-path-entry-containter"],[1,"span"],[1,"figure-nav-path-entry"],[1,"img-nav-path-entry",3,"src"],[1,"span","mid-nav-path-entry"],[1,"search-entry-containter"],[1,"figure-search-entry"],[1,"img-search-entry",3,"src"],[1,"span","mid-search-entry"],[1,"navigation-content-container",3,"mouseenter","mouseleave"],[2,"height","10px","width","100%"],[3,"pid","isHoverActive","treeData"],["class","li-icon-size-view",3,"id",4,"ngFor","ngForOf"],[1,"li-icon-size-view",3,"id"],["tabindex","0",1,"button-icon-size-view",3,"dblclick","mouseenter","mouseleave","contextmenu","click","id"],[1,"figure-icon-size-view",3,"id"],[1,"img-icon-size-view",3,"src","alt","id"],[1,"figcaption-icon-size-view",3,"id"],[1,"rename-textbox",3,"id"],["type","text","formControlName","renameInput","autofocus","","spellcheck","false",3,"keypress","id"],["class","li-list-view",3,"id",4,"ngFor","ngForOf"],[1,"li-list-view",3,"id"],["tabindex","0",1,"button-list-view",3,"dblclick","mouseenter","mouseleave","contextmenu","click","id"],[1,"span-list-view"],[1,"figure-list-view"],[1,"img-list-view",3,"src","alt","id"],[1,"figcaption-list-view",3,"id"],["class","li-content-view",4,"ngFor","ngForOf"],[1,"li-content-view"],["tabindex","0",1,"button-content-view",3,"dblclick","mouseenter","mouseleave","contextmenu","click","id"],[1,"span-content-view"],[1,"figure-content-view",3,"id"],[1,"img-content-view",3,"src","alt","id"],[1,"div-content-view"],[1,"figcaption-content-view",3,"id"],["class","div-extra-info-cntnr",4,"ngIf","ngIfElse"],[1,"line-container"],[1,"line"],[1,"div-extra-info-cntnr"],[1,"div-extra-info-content"],["class","li-tiles-view",4,"ngFor","ngForOf"],[1,"li-tiles-view"],["tabindex","0",1,"button-tiles-view",3,"dblclick","mouseenter","mouseleave","contextmenu","click","id"],[1,"span-tiles-view"],[1,"figure-tiles-view"],[1,"img-tiles-view",3,"src","alt","id"],["class","figcaption-tiles-view",3,"id",4,"ngIf","ngIfElse"],[1,"figcaption-tiles-view",3,"id"],[1,"figcaption-title-view-cntnr"],[1,"div-figcaption-tiles-view-cntnr"],[1,"div-figcaption-tiles-view",3,"id"],[1,"div-figcaption-tiles-view"],[3,"generalMenu","menuType","menuOrder"],[3,"nestedMenu","menuType"],[1,"fx-information-tip-container",3,"id"],["class","fx-information-tip-item-container",4,"ngFor","ngForOf"],[1,"fx-information-tip-item-container"],[1,"fx-information-tip-item"],[1,"previewOrdetails-content-container"]],template:function(i,r){if(1&i){const o=Tt();I(0,"cos-window",10),de("click",function(){return G(o),Y(r.setFileExplorerWindowToFocus(r.processId))}),I(1,"div",null,0)(3,"div",11)(4,"div",12)(5,"div",13),se(6,"File"),P(),I(7,"div",14),se(8,"Home"),P(),I(9,"div",15),se(10,"View"),P(),I(11,"div",16),de("click",function(){return G(o),Y(r.toggleRibbobMenu())})("mouseenter",function(){return G(o),Y(r.colorRibbonMenuCntnr())})("mouseleave",function(){return G(o),Y(r.uncolorRibbonMenuCntnr())}),I(12,"figure",17)(13,"div",18),Le(14,W9,2,2,"svg",19)(15,G9,2,2,"svg",19),P()()()(),Le(16,Y9,97,57,"ng-container",20),P(),re(17,"div",21),I(18,"div",22)(19,"div",23)(20,"figure",24)(21,"div",25),Ii(),I(22,"svg",26),de("click",function(){return G(o),Y(r.goBackAlevel())})("mouseenter",function(){return G(o),Y(r.colorPrevNavBtn())})("mouseleave",function(){return G(o),Y(r.uncolorPrevNavBtn())}),re(23,"path",27),P()()(),vr(),I(24,"figure",24)(25,"div",25),Ii(),I(26,"svg",26),de("click",function(){return G(o),Y(r.goForwardAlevel())})("mouseenter",function(){return G(o),Y(r.colorNextNavBtn())})("mouseleave",function(){return G(o),Y(r.uncolorNextNavBtn())}),re(27,"path",28),P()()(),vr(),I(28,"figure",29)(29,"div",30),Ii(),I(30,"svg",31),de("mouseenter",function(){return G(o),Y(r.colorChevron())})("mouseleave",function(){return G(o),Y(r.unColorChevron())}),re(31,"path",32),P()()(),vr(),I(32,"figure",33),de("click",function(){return G(o),Y(r.goUpAlevel())})("mouseenter",function(){return G(o),Y(r.colorUpNavBtn())})("mouseleave",function(){return G(o),Y(r.uncolorUpNavBtn())}),I(33,"div",34),Ii(),I(34,"svg",35),re(35,"path",36),P()()()(),vr(),I(36,"div",37)(37,"form",38),de("ngSubmit",function(){return G(o),Y(r.isFormDirty())}),I(38,"div",39),de("click",function(){return G(o),Y(r.showPathTextBox())})("focusout",function(){return G(o),Y(r.hidePathTextBox())}),I(39,"span",40)(40,"figure",41),re(41,"img",42),pn(42,"safeResourceUrl"),P()(),I(43,"div",43)(44,"span",44)(45,"figure",45),re(46,"img",46),pn(47,"safeResourceUrl"),P()(),Le(48,q9,4,2,"div",47),P(),I(49,"div",43),re(50,"input",48),P(),I(51,"span",49),de("click",function(){return G(o),Y(r.hideshowPathHistory())}),I(52,"figure",50),re(53,"img",51),pn(54,"safeResourceUrl"),P()(),I(55,"span",52),de("click",function(){return G(o),Y(r.refreshIcons())}),I(56,"figure",53),re(57,"img",54),pn(58,"safeResourceUrl"),P()()()(),I(59,"div",55),Le(60,K9,7,4,"div",56),P()(),I(61,"div",57)(62,"form",38),de("ngSubmit",function(){return G(o),Y(r.isFormDirty())}),I(63,"div",58)(64,"span",59)(65,"figure",60),re(66,"img",61),pn(67,"safeResourceUrl"),P()(),I(68,"input",62),de("focus",function(){return G(o),Y(r.showSearchHistory())})("focusout",function(){return G(o),Y(r.hideSearchHistory())})("input",function(){return G(o),Y(r.onInputChange())}),P(),I(69,"span",63),de("click",function(){return G(o),Y(r.onClearSearchTextBox())})("mouseenter",function(){return G(o),Y(r.handleClearSearchIconHighlights())})("mouseleave",function(){return G(o),Y(r.handleClearSearchIconHighlights())}),I(70,"figure",60),Le(71,Q9,2,3,"img",64),P()(),I(72,"span",65),de("click",function(){return G(o),Y(r.onSearch())})("mouseenter",function(){return G(o),Y(r.handleSearchIconHighlights())})("mouseleave",function(){return G(o),Y(r.handleSearchIconHighlights())}),I(73,"figure",60),Le(74,X9,2,3,"img",64),P()()()(),I(75,"div",66),Le(76,J9,7,4,"div",67),P()()(),re(77,"div",68),I(78,"div",69,1)(80,"div",70),Le(81,e$,5,3,"ng-container",20),I(82,"div",71,2)(84,"ol",72),de("dragover",function(c){return G(o),Y(r.onDragOver(c))})("drop",function(c){return G(o),Y(r.onDrop(c))})("click",function(){return G(o),Y(r.hideIconContextMenu(r.name))})("click",function(){return G(o),Y(r.handleIconHighLightState())})("contextmenu",function(c){return G(o),Y(r.onShowFileExplorerContextMenu(c))}),xc(85,73),Le(86,n$,1,1,"ng-template",null,3,ki)(88,r$,1,1,"ng-template",null,4,ki)(90,o$,2,0,"ng-template",null,5,ki)(92,c$,1,1,"ng-template",null,6,ki)(94,h$,1,1,"ng-template",null,7,ki),I(96,"div",74),re(97,"div",75),I(98,"div",76),se(99," A file name can't contain any of the following characters: "),re(100,"br")(101,"br"),se(102,' \\ / : * ? " < > | '),P()(),Le(103,p$,1,5,"cos-menu",77)(104,g$,1,4,"cos-menu",78)(105,_$,2,3,"div",79),P()(),Le(106,y$,4,0,"ng-container",20)(107,v$,4,0,"ng-container",20),P()(),I(108,"div",80),re(109,"span",81),I(110,"span",81),se(111),P(),I(112,"span",81),se(113,"|"),P()()()()}if(2&i){const o=qn(87),s=qn(89),c=qn(91),h=qn(93),g=qn(95);H("runningProcessID",r.processId)("processAppIcon",r.icon)("processAppName",r.displayName),T(11),St(r.ribbonMenuCntnrStyle),T(3),H("ngIf",r.showRibbonMenu),T(),H("ngIf",!r.showRibbonMenu),T(),H("ngIf",r.showRibbonMenu),T(6),St(r.prevNavBtnStyle),T(4),St(r.nextNavBtnStyle),T(4),St(r.recentNavBtnStyle),T(2),St(r.upNavBtnCntnrStyle),T(2),St(r.upNavBtnStyle),T(2),lt("id","hdrNavPathCntnr-",r.processId,""),T(),H("formGroup",r.pathForm),T(4),H("src",gn(42,66,r.navPathIcon),$e),T(2),lt("id","pathIconBox-",r.processId,""),T(3),H("src",gn(47,68,"osdrive/Cheetah/System/Imageres/grey_nav_forward_32.png"),$e),T(2),H("ngForOf",r._directoryHops),T(),lt("id","pathTxtBoxCntr-",r.processId,""),T(),Jh("placeholder",r.directory),lt("id","pathTxtBox-",r.processId,""),T(),ni("active",r.showPathHistory),T(2),H("src",gn(54,70,"osdrive/Cheetah/System/Imageres/grey_nav_expand_32.png"),$e),T(4),H("src",gn(58,72,"osdrive/Cheetah/System/Imageres/grey_nav_refresh_32.png"),$e),T(2),lt("id","pathHistory-",r.processId,""),T(),H("ngForOf",r.pathHistory),T(2),H("formGroup",r.searchForm),T(4),H("src",gn(67,74,"osdrive/Cheetah/System/Imageres/search_32.png"),$e),T(2),lt("id","searchTxtBox-",r.processId,""),T(),St(r.clearSearchStyle),T(2),H("ngIf",r.isSearchBoxNotEmpty),T(),St(r.searchStyle),ni("active",r.isSearchBoxNotEmpty),T(2),H("ngIf",r.isSearchBoxNotEmpty),T(),lt("id","searchHistory-",r.processId,""),T(),H("ngForOf",r.searchHistory),T(5),H("ngIf",r.showNavigationPane),T(3),lt("id","olElmnt-",r.processId,""),H("ngClass",r.olClassName),T(),H("ngTemplateOutlet",r.currentViewOption===r.smallIconsView||r.currentViewOption===r.mediumIconsView||r.currentViewOption===r.largeIconsView||r.currentViewOption===r.extraLargeIconsView?o:r.currentViewOption===r.listView?s:r.currentViewOption===r.detailsView?c:r.currentViewOption===r.contentView?h:g),T(11),lt("id","invalidChars-",r.processId,""),T(7),H("ngIf",r.showIconCntxtMenu),T(),H("ngIf",r.showFileExplrCntxtMenu),T(),H("ngIf",r.showInformationTip),T(),H("ngIf",r.showPreviewPane),T(),H("ngIf",r.showDetailsPane),T(4),qt("",r.fileExplrFiles.length," items")}},dependencies:[Ed,Mo,is,Sd,Zp,Fc,xd,Bp,Bc,Nd,no,Fw,V9,qP,U9],styles:['.fileexp-main-container{width:100%;height:100%}.fileexp-content-container{width:100%;display:flex;background-color:#202020}.fileexp-footer-container{width:100%;height:24px;display:inline-flex;background-color:#303438}.span-footer{color:#fff;font-size:11px;font-weight:400;margin:5px 4px}.fileexp-header-tab-container{width:100%;min-width:700px}.fileexp-header-tabs{display:flex;background-color:#080404}.fileexp-tab{width:55px;padding:4px 8px;margin:0 4px;font-weight:400;font-size:11px;text-align:center;cursor:default;background-color:#000;color:#fff;transition:background-color .3s}.fileexp-tab.highlight-default{margin:0;background-color:#0464ac;color:#fff}.fileexp-tab.active{border:.3px solid #2d2d2d;border-bottom:none;background-color:#202020;color:#fff}.fileexp-header-tab-content-container{width:100%;height:100%}.fileexp-tab-pane{display:none}.fileexp-tab-pane.active{display:flex}.figure-header-toggle{position:fixed;right:2%}.figure-header-tab{position:relative;width:15px;height:21.5px;place-items:center}.img-header-tab{padding-left:2.5px;height:10px;width:10px}.view-tab-pane-container{width:-moz-fit-content;width:fit-content;height:94px;background-color:#191919;border-bottom:1px solid #2d2d2d;border-top:1px solid #2d2d2d}.tab-empty-line-container{height:2.5px;background-color:#191919}.tab-empty-space{height:5px}.tab-empty-space1{height:10px}.view-tab-pane-top-cntnr{display:flex;width:100%;border-right:.5px solid #9d9d9d}.view-tab-pane-top1{padding-left:4.5px;border:.5px solid transparent}.figure-tab-view-pane{position:relative;min-width:8px;place-items:center}.img-tab-view-pane{height:25px;width:25px}.span-tab-view-pane{position:relative;text-align:center;color:#fff;font-size:11px;font-weight:400;top:-3px}.span-tab-view-pane1{position:relative;text-align:center;color:#fff;font-size:11px;font-weight:400;top:-10px}.view-tab-pane-top2{display:block;padding-right:2px}.tab-pane-top2-1,.tab-pane-top2-2{position:relative;width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;top:1.5px;border:.5px solid transparent}.tab-pane-top2-2{top:0}.span-tab-pane-cntnr{display:flex;padding:2px}.figure-tab-view-pane1{position:relative;height:16px;width:17px;place-items:center}.img-tab-view-pane1{height:16px;width:16px;margin:0 1px}.div-tab-view-pane{display:flex;width:71px;margin:0 1px}.span-tab-view-pane-cntnt{position:relative;text-align:center;color:#fff;font-size:11px;font-weight:400;top:1px}.view-tab-pane-bottom{position:relative;font-size:11px;color:#fff;font-weight:400;text-align:center;top:1px}.view-tab-layout-container{width:-moz-fit-content;width:fit-content;height:94px;background-color:#191919;border-bottom:1px solid #2d2d2d;border-top:1px solid #2d2d2d;padding-left:4px;padding-right:4px}.view-tab-layout-top-cntnr{display:flex;width:100%}.view-tab-layout-top1{margin-top:4px;width:345px;height:68px;background-color:#302c2c;border:1px solid #2d2d2d}.view-tab-layout-top2{width:4px;height:72px;border-right:.5px solid #9d9d9d}.view-tab-layout-content,.view-tab-layout-content1,.view-tab-layout-content2{display:flex;padding:1px 2px;width:100%}.view-tab-layout-content1,.view-tab-layout-content2{padding:0 2px}.figure-tab-view-layout{position:relative;height:16px;width:20px;place-items:center}.img-tab-view-layout{height:16px;width:16px;margin:0 1px}.span-tab-layout-cntnr{display:flex;border:.5px solid transparent;padding:2px 0}.div-tab-view-layout{display:flex;width:90px;align-items:center;vertical-align:top;text-align:left;color:#fff;font-size:11px;font-weight:400;margin:0 1px}.view-tab-layout-bottom{position:relative;font-size:11px;color:#fff;font-weight:400;text-align:center;top:1px;margin-bottom:4px}.view-tab-current-view-container{display:flex;width:100%;height:94px;background-color:#191919;border-bottom:1px solid #2d2d2d;border-top:1px solid #2d2d2d}.fileexp-header-container{width:100%;display:flex;background-color:#191919}.header-empty-line-container{height:6px;background-color:#191919}.header-empty-line-container2{height:7px;background-color:#191919}.header-nav-btn-container{left:0;height:24px;width:-moz-fit-content;width:fit-content;display:flex}.img-alt-left-right{height:16px;width:16px;top:5px;position:relative}.figure-alt{position:relative;align-items:center;width:-moz-fit-content;width:fit-content;margin:0 10px}.img-alt-chevron{height:9px;width:9px;position:relative;top:5px}.figure-alt-chevron{position:relative;align-items:center;width:-moz-fit-content;width:fit-content;margin:0 1px}.figure-alt-up{position:relative;align-items:center;width:-moz-fit-content;width:fit-content;padding:0 0 0 5px}.img-alt-up{height:16px;width:16px;top:6px;position:relative}.header-nav-path-container{width:100%;padding:0 0 0 2px}.nav-path-container{display:flex;width:100%}.figure-nav-path-cntnr{position:relative;min-width:18px}.img-nav-path-cntnr{height:18px;width:15px;margin:0 3px;position:relative}span.head-nav-path-cntnr{align-items:center;display:inline-flex;border:.5px solid #9d9d9d;border-right:none}.nav-path-gen-main-container{display:flex;height:24px;width:450px;width:100%;border:.5px solid #9d9d9d;border-left:none;border-right:none}.nav-path-gen-container{display:inline-flex;width:-moz-fit-content;width:fit-content}.nav-path-gen-container:hover{display:inline-flex;width:-moz-fit-content;width:fit-content;background-color:#3f3e3e}span.head-nav-path-gen-cntnr0{align-items:center;display:inline-flex}span.head-nav-path-gen-cntnr0:hover{align-items:center;display:inline-flex;background-color:#3f3e3e}span.head-nav-path-gen-cntnr{align-items:center;display:inline-flex}span.head-nav-path-gen-cntnr.active{align-items:center;display:inline-flex;border:.5px solid #9d9d9d}.nav-path-gen-container:hover span.head-nav-path-gen-cntnr{align-items:center;display:inline-flex;border-right:.5px solid #191919}span.mid-nav-path-gen-cntnr{display:flex;align-items:center;margin:0 4px;color:#ccc;text-align:left;font-size:11px;font-weight:400}.figure-nav-path-gen-cntnr{position:relative;min-width:14px}.img-nav-path-gen-cntnr{height:11px;width:11px;position:relative}.figure-nav-path-cntnr1{position:relative;min-width:18px}.img-nav-path-cntnr1{height:10px;width:10px;margin:0 6px;position:relative}span.head-nav-path-cntnr1{align-items:center;display:inline-flex;border:.5px solid #9d9d9d;border-left:none;border-right:none}span.head-nav-path-cntnr1.active{align-items:center;display:inline-flex;border:.5px solid #9d9d9d;background-color:#3f3e3e}span.head-nav-path-cntnr1:hover{align-items:center;display:inline-flex;border:.5px solid rgb(18,107,240);transition:border-color .3s ease}.figure-nav-path-cntnr2{position:relative;min-width:20px}.img-nav-path-cntnr2{height:12px;width:12px;margin:0 6px;position:relative}span.head-nav-path-cntnr2{align-items:center;display:inline-flex;border:.5px solid #9d9d9d}span.head-nav-path-cntnr2.active{align-items:center;display:inline-flex;border:.5px solid #9d9d9d;background-color:#3f3e3e}span.head-nav-path-cntnr2:hover{align-items:center;display:inline-flex;border:.5px solid rgb(18,107,240);transition:border-color .3s ease}.path-input{position:relative;width:350px;width:100%;height:24px;border:.5px solid #9d9d9d;border-left:none;border-right:none;color:whitefff;background-color:#191919;display:none}.nav-path-containter1{position:absolute;width:405px;border:1px solid #9d9d9d;margin-right:10px;max-height:180px;overflow-y:auto;background-color:#191919;z-index:2;display:none}.nav-path-entry-containter{display:inline-flex;width:100%;margin:8px 8px 8px 0;overflow-y:hidden}.figure-nav-path-entry{position:relative;align-items:center;min-width:8px}.img-nav-path-entry{height:12px;width:12px;top:0;margin:0 8px;position:relative}span.mid-nav-path-entry{padding:0 2px;color:#fff;text-align:left;font-size:10px;font-weight:400;white-space:nowrap;overflow:hidden;display:inline-flex;align-items:center}.header-nav-search-container{width:-moz-fit-content;width:fit-content;right:0;margin:0 10px}.search-input{position:relative;min-width:105px;max-width:100%;height:24px;border:.5px solid #9d9d9d;border-left:none;border-right:none;color:#ccc;background-color:#191919}.search-container{display:flex;width:100%}.figure-search-cntnr{position:relative;min-width:28px}.img-search-cntnr{height:12px;width:12px;margin:0 8px;position:relative}span.head-search-cntnr{align-items:center;display:inline-flex;border:.5px solid #9d9d9d;border-right:none}span.head-search-cntnr1{align-items:center;display:inline-flex;border:.5px solid #9d9d9d;border-left:none;border-right:none}span.head-search-cntnr2{align-items:center;display:inline-flex;border:.5px solid #9d9d9d;border-left:none}span.head-search-cntnr2.active{align-items:center;display:inline-flex;border:.5px solid #9d9d9d;background-color:#00f}.search-history-containter{position:absolute;width:inherit;border:1px solid #9d9d9d;margin-right:10px;max-height:180px;overflow-y:hidden;background-color:#191919;z-index:2;display:none}.search-entry-containter{display:inline-flex;width:100%;margin:8px 8px 8px 0;overflow-y:hidden}.figure-search-entry{position:relative;align-items:center;min-width:8px}.img-search-entry{height:12px;width:12px;top:0;margin:0 8px;position:relative}span.mid-search-entry{padding:0 2px;color:#fff;text-align:left;font-size:10px;font-weight:400;white-space:nowrap;overflow:hidden;display:inline-flex;align-items:center}.navigation-content-container{min-width:160px;background-color:#191919;overflow-y:auto;height:350px}.file-content-container{border-left:.5px solid #5a5a5a;min-width:100px;width:100%;overflow-y:auto;height:350px}.previewOrdetails-content-container{min-width:200px;border-left:.5px solid #5a5a5a;background-color:#202020}.ol-icon-size-view{display:grid;grid-auto-flow:row;grid-template-columns:repeat(auto-fill,90px);grid-template-rows:repeat(auto-fill,70px);height:calc(100% - 40px);width:100%;padding:5px 0;row-gap:20px}.li-icon-size-view{display:flex;justify-content:center;padding:2px;height:min-content;z-index:1}.figure-icon-size-view{display:flex;flex-direction:column;margin-bottom:-2px;place-items:center}.figcaption-icon-size-view{-webkit-box-orient:vertical;color:#fff;display:-webkit-box;font-size:12px;letter-spacing:.1px;-webkit-line-clamp:2;position:relative;padding:2px 0;top:-1px;line-height:13px;overflow:hidden;word-break:break-all}.img-icon-size-view{height:45px;width:45px}.button-icon-size-view{background-color:transparent;width:90px;height:70px}.ol-list-view{display:grid;grid-auto-flow:column!important;grid-template-columns:repeat(auto-fill,250px)!important;grid-template-rows:repeat(auto-fill,20px)!important;height:calc(100% - 40px);width:100%;padding:5px 0;row-gap:20px!important;column-gap:2px!important}.li-list-view{display:flex;justify-content:left;padding:2px 2px 2px 15px;height:min-content;z-index:1}.span-list-view{display:flex}.figure-list-view{display:flex;position:relative;place-items:center}.img-list-view{height:18px;width:18px;margin:0 1px}.figcaption-list-view{display:flex;position:relative;width:100%;align-items:center;text-align:left;color:#fff;padding-left:4px;font-size:12px;font-weight:300;margin:0 1px;top:-1px;line-height:13px}.button-list-view{max-width:250px;height:20px}.ol-tiles-view{display:grid;grid-auto-flow:column!important;grid-template-columns:repeat(auto-fill,250px)!important;grid-template-rows:repeat(auto-fill,50px)!important;height:calc(100% - 40px);width:100%;padding:2px 0;row-gap:0px!important;column-gap:10px!important}.li-tiles-view{display:flex;justify-content:left;padding:2px 2px 2px 15px;height:min-content;z-index:1}.span-tiles-view{display:flex}.figure-tiles-view{display:flex;position:relative;place-items:center}.img-tiles-view{height:45px;width:45px;margin:0 1px}.figcaption-tiles-view{display:flex;position:relative;width:100%;align-items:center;text-align:left;color:#fff;font-size:12px;font-weight:300;margin:0 1px;padding-left:3px;top:-8px;line-height:13px}.figcaption-title-view-cntnr{width:100%;height:45px;padding-left:3px}.div-figcaption-tiles-view-cntnr{position:relative;left:-1%}.div-figcaption-tiles-view{align-items:center;text-align:left;color:#fff;font-size:12px;font-weight:300;margin:0 1px;line-height:13px;padding:1px 0}.button-tiles-view{width:250px;height:45px}.ol-content-view{display:grid;height:calc(100% - 40px);width:100%;padding:0!important;row-gap:0px!important;column-gap:0px!important;grid-auto-flow:row!important}.li-content-view{display:flex;justify-content:left;padding:2px 2px 2px 15px;height:min-content;z-index:1}.span-content-view{position:relative;display:flex;padding:2px;height:43px}.div-content-view{display:flex;width:100%;height:40px}.figure-content-view{display:flex;position:relative;place-items:center;height:43px}.img-content-view{height:39px;width:39px;margin:0 1px}.figcaption-content-view{display:flex;position:relative;width:70%;align-items:center;text-align:left;color:#fff;font-size:12px;font-weight:300;margin:0 1px;top:-10px;line-height:13px}.div-extra-info-cntnr{position:relative;width:30%;right:20%;top:4px}.div-extra-info-content{position:relative;width:220px;text-align:left;color:#fff;font-size:11px;font-weight:200;text-overflow:clip;padding:1px 0}.button-content-view{width:100%;height:43px}.line-container{height:.5px;background-color:#202020}.line{border:.2px solid white}.rename-textbox{position:relative;display:none;top:2px;margin-bottom:2px;max-width:75px;max-height:16px;border:1px solid #ccc;overflow:hidden;z-index:2}input{text-align:calc(75px / 2 px);font-size:11.5px;padding-left:4px}input::selection{background-color:#0056b3;color:#fff}.tool-tip-container{position:absolute;width:-moz-fit-content;width:fit-content;border-bottom:1px solid black;box-shadow:0 1px #0000004d;border-bottom-right-radius:5px;border-bottom-left-radius:5px;z-index:-1;opacity:0;transform:translate(-100000px,100000px)}.tool-tip-base{width:-moz-fit-content;width:fit-content;height:40px;line-height:5px;padding:10px;font-size:10px;font-weight:400;text-align:center;color:#000;background:#fff;border:4px solid rgb(255,255,255);border-radius:5px}.tool-tip-arrow{content:"";position:relative;width:0;height:0;border-width:10px;border-style:solid;border-color:#FFFFFF transparent transparent transparent;left:20px;transform:rotate(180deg)}.fx-information-tip-container{display:none;position:absolute;z-index:2;width:-moz-fit-content;width:fit-content;border:1px solid #5a5a5a;background-color:#202020}.fx-information-tip-item-container{z-index:2;width:100%;height:100%}.fx-information-tip-item{z-index:2;padding:2px;height:-moz-fit-content;height:fit-content;width:-moz-fit-content;width:fit-content;font-size:11px;font-weight:400;text-align:center;color:#fff}\n'],encapsulation:2})}return t})();class E$ extends U{constructor(n,e){super()}schedule(n,e=0){return this}}const mg={setInterval(t,n,...e){const{delegate:i}=mg;return i?.setInterval?i.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){const{delegate:n}=mg;return(n?.clearInterval||clearInterval)(t)},delegate:void 0},KP={now:()=>(KP.delegate||Date).now(),delegate:void 0};class zd{constructor(n,e=zd.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,i){return new this.schedulerActionCtor(this,n).schedule(i,e)}}zd.now=KP.now;const Rw=new class b$ extends zd{constructor(n,e=zd.now){super(n,e),this.actions=[],this._active=!1}flush(n){const{actions:e}=this;if(this._active)return void e.push(n);let i;this._active=!0;do{if(i=n.execute(n.state,n.delay))break}while(n=e.shift());if(this._active=!1,i){for(;n=e.shift();)n.unsubscribe();throw i}}}(class S$ extends E${constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){var i;if(this.closed)return this;this.state=n;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,e),this}requestAsyncId(n,e,i=0){return mg.setInterval(n.flush.bind(n,this),i)}recycleAsyncId(n,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&mg.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(n,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let r,i=!1;try{this.work(n)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:n,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,ii(i,this),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}}),C$=Rw;function _g(t=0,n,e=C$){let i=-1;return null!=n&&(zM(n)?e=n:i=n),new Qt(r=>{let o=function I$(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;o<0&&(o=0);let s=0;return e.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function QP(t=0,n=Rw){return t<0&&(t=0),_g(t,t,n)}function XP(t,n){return Ht((e,i)=>{let r=null,o=0,s=!1;const c=()=>s&&!r&&i.complete();e.subscribe(wn(i,h=>{r?.unsubscribe();let g=0;const y=o++;Ms(t(h,y)).subscribe(r=wn(i,C=>i.next(n?n(h,C,y,g++):C),()=>{r=null,c()}))},()=>{s=!0,c()}))})}var yg=function(t){return t[t.HIGH=3]="HIGH",t[t.NORMAL=2]="NORMAL",t[t.LOW=1]="LOW",t[t.PAUSED=0]="PAUSED",t}(yg||{}),zc=function(t){return t[t.HIGH=1e3]="HIGH",t[t.NOMRAL=2e3]="NOMRAL",t[t.LOW=4e3]="LOW",t[t.PAUSED=36e6]="PAUSED",t}(zc||{}),xt=function(t){return t.NAME="Name",t.STATUS="Status",t.CPU="CPU",t.MEMORY="Memory",t.GPU="GPU",t.DISK="Disk",t.NETWORK="Network",t.PID="PID",t.POWER_USAGE="Power usage",t.PROCESS_NAME="Process name",t.TYPE="Type",t}(xt||{}),vg=function(t){return t.DETAILED_VIEW="Detailed View",t.MINI_VIEW="Mini View",t}(vg||{});let x$=(()=>{class t{el;renderer;startX;isResizing=!1;initialWidth;columnIndex;table=null;constructor(e,i){this.el=e,this.renderer=i}onMouseDown(e){e.preventDefault(),this.startX=e.pageX,this.isResizing=!0,this.initialWidth=this.el.nativeElement.offsetWidth;const r=Array.from(this.el.nativeElement.parentElement.children);if(this.columnIndex=r.indexOf(this.el.nativeElement),this.renderer.addClass(this.el.nativeElement,"resizing"),this.renderer.addClass(document.body,"resizing"),this.table=this.findParentTable(this.el.nativeElement),this.table){const o=this.table.querySelectorAll("th"),s=h=>{if(this.isResizing){const y=this.initialWidth+(h.pageX-this.startX);this.renderer.setStyle(this.el.nativeElement,"min-width",y+"px"),this.renderer.setStyle(this.el.nativeElement,"width",y+"px"),o[this.columnIndex].style.minWidth=`${y}px`,o[this.columnIndex].style.width=`${y}px`;const C=this.table?.querySelectorAll("tr");console.log("row count:",C),C?.forEach(A=>{const O=A.querySelectorAll("td");O[this.columnIndex]&&(O[this.columnIndex].style.width=`${y}px`)})}},c=()=>{this.isResizing=!1,this.renderer.removeClass(this.el.nativeElement,"resizing"),this.renderer.removeClass(document.body,"resizing"),document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",c)};document.addEventListener("mousemove",s),document.addEventListener("mouseup",c)}}findParentTable(e){for(;e;){if("TABLE"===e.tagName)return e;e?.parentElement&&(e=e.parentElement)}return null}static \u0275fac=function(i){return new(i||t)(te(li),te(qr))};static \u0275dir=_({type:t,selectors:[["","columnResize",""]],hostBindings:function(i,r){1&i&&de("mousedown",function(s){return r.onMouseDown(s)})}})}return t})();const D$=["tskManagerRootContainer"],M$=["tskMgrTable"],T$=["tskmgrTblCntnr"];function P$(t,n){1&t&&re(0,"img",49),2&t&&H("src","osdrive/Cheetah/System/Imageres/circle.png",$e)}function A$(t,n){1&t&&re(0,"img",49),2&t&&H("src","osdrive/Cheetah/System/Imageres/circle.png",$e)}function k$(t,n){1&t&&re(0,"img",49),2&t&&H("src","osdrive/Cheetah/System/Imageres/circle.png",$e)}function O$(t,n){1&t&&re(0,"img",49),2&t&&H("src","osdrive/Cheetah/System/Imageres/circle.png",$e)}function N$(t,n){1&t&&(I(0,"span",84),se(1,"v"),P())}function F$(t,n){1&t&&(I(0,"span",84),se(1,"\u1d27"),P())}function R$(t,n){1&t&&(I(0,"span"),se(1,"v"),P())}function L$(t,n){1&t&&(I(0,"span"),se(1,"\u1d27"),P())}function B$(t,n){1&t&&(I(0,"span"),se(1,"v"),P())}function V$(t,n){1&t&&(I(0,"span"),se(1,"\u1d27"),P())}function U$(t,n){1&t&&(I(0,"span"),se(1,"v"),P())}function z$(t,n){1&t&&(I(0,"span"),se(1,"\u1d27"),P())}function j$(t,n){1&t&&(I(0,"span"),se(1,"v"),P())}function H$(t,n){1&t&&(I(0,"span"),se(1,"\u1d27"),P())}function $$(t,n){1&t&&(I(0,"span",85),se(1,"v"),P())}function W$(t,n){1&t&&(I(0,"span",85),se(1,"\u1d27"),P())}function G$(t,n){1&t&&(I(0,"span",85),se(1,"v"),P())}function Y$(t,n){1&t&&(I(0,"span",85),se(1,"\u1d27"),P())}function Z$(t,n){1&t&&(I(0,"span",85),se(1,"v"),P())}function q$(t,n){1&t&&(I(0,"span",85),se(1,"\u1d27"),P())}function K$(t,n){1&t&&(I(0,"span",85),se(1,"v"),P())}function Q$(t,n){1&t&&(I(0,"span",85),se(1,"\u1d27"),P())}function X$(t,n){1&t&&(I(0,"span",85),se(1,"v"),P())}function J$(t,n){1&t&&(I(0,"span",85),se(1,"\u1d27"),P())}function eW(t,n){1&t&&(I(0,"span"),se(1,"v"),P())}function tW(t,n){1&t&&(I(0,"span"),se(1,"\u1d27"),P())}function nW(t,n){1&t&&re(0,"img",86),2&t&&H("src","osdrive/Cheetah/System/Imageres/chkmark32.png",$e)}function iW(t,n){1&t&&re(0,"img",86),2&t&&H("src","osdrive/Cheetah/System/Imageres/chkmark32.png",$e)}function rW(t,n){1&t&&re(0,"img",86),2&t&&H("src","osdrive/Cheetah/System/Imageres/chkmark32.png",$e)}function oW(t,n){1&t&&re(0,"img",86),2&t&&H("src","osdrive/Cheetah/System/Imageres/chkmark32.png",$e)}function sW(t,n){1&t&&re(0,"img",86),2&t&&H("src","osdrive/Cheetah/System/Imageres/chkmark32.png",$e)}function aW(t,n){1&t&&re(0,"img",86),2&t&&H("src","osdrive/Cheetah/System/Imageres/chkmark32.png",$e)}function lW(t,n){1&t&&re(0,"img",86),2&t&&H("src","osdrive/Cheetah/System/Imageres/chkmark32.png",$e)}function cW(t,n){1&t&&re(0,"img",86),2&t&&H("src","osdrive/Cheetah/System/Imageres/chkmark32.png",$e)}function uW(t,n){1&t&&re(0,"img",86),2&t&&H("src","osdrive/Cheetah/System/Imageres/chkmark32.png",$e)}function dW(t,n){1&t&&re(0,"img",86),2&t&&H("src","osdrive/Cheetah/System/Imageres/chkmark32.png",$e)}function fW(t,n){1&t&&(I(0,"figure",93),re(1,"img",94),P()),2&t&&(T(),H("src","osdrive/Cheetah/System/Imageres/econo.png",$e))}function hW(t,n){if(1&t){const e=Tt();I(0,"tr",64),de("click",function(){const r=G(e),o=r.$implicit,s=r.index;return Y(z(3).onProcessSelected(s,o.getProcessId))}),I(1,"td",87)(2,"figure",88),re(3,"img",44),I(4,"figcaption",89),se(5),P()()(),I(6,"td"),se(7),P(),I(8,"td"),Le(9,fW,2,1,"figure",90),P(),I(10,"td",91),se(11),P(),I(12,"td"),se(13),P(),I(14,"td",92),se(15),P(),I(16,"td",null,6),se(18),P(),I(19,"td",null,7),se(21),P(),I(22,"td",null,8),se(24),P(),I(25,"td",null,9),se(27),P(),I(28,"td",null,10),se(30),P()()}if(2&t){const e=n.$implicit,i=n.index,r=z(3);ni("active",i===r.selectedRow),Xt("id","trElmnt-",r.processId,"-",i,""),T(3),H("src",e.getIcon,$e),T(2),ln(e.getProcessName),T(2),ln(e.getType),T(2),H("ngIf","Suspended"===e.getProcessStatus),T(2),ln(e.getProcessId),T(2),ln(e.getProcessName),T(),St(r.setUtilColoumnColors(e.getCpuUsage)),Xt("id","tdCpuElmnt-",r.processId,"-",i,""),T(),qt("",e.getCpuUsage,"%"),T(),St(r.setUtilColoumnColors(e.getMemoryUsage)),T(2),qt("",e.getMemoryUsage," MB"),T(),St(r.setUtilColoumnColors(e.getDiskUsage)),T(2),qt("",e.getDiskUsage," MB/s"),T(),St(r.setUtilColoumnColors(e.getNetworkUsage)),T(2),qt("",e.getNetworkUsage," Mbps"),T(),St(r.setUtilColoumnColors(e.getGpuUsage)),T(2),qt("",e.getGpuUsage,"%"),T(),St(r.setUtilColoumnColors(e.getPowerUsage)),T(2),qt(" ",e.getPowerUsage,"")}}function pW(t,n){if(1&t){const e=Tt();I(0,"table",50,4)(2,"thead"),re(3,"div",51),I(4,"tr",52),de("contextmenu",function(r){return G(e),Y(z(2).showContextMenu(r))})("click",function(){return G(e),Y(z(2).hideContextMenu())}),I(5,"th",53),de("click",function(){return G(e),Y(z(2).sortTable("Name",!0))}),I(6,"div",54),Le(7,N$,2,0,"span",55)(8,F$,2,0,"span",55),P(),I(9,"div",56)(10,"span",57),se(11," Name "),P()()(),I(12,"th",58),de("click",function(){return G(e),Y(z(2).sortTable("Type",!0))}),I(13,"div",54),Le(14,R$,2,0,"span",59)(15,L$,2,0,"span",59),P(),I(16,"div",56)(17,"span",57),se(18," Type "),P()()(),I(19,"th",60)(20,"div",54),Le(21,B$,2,0,"span",59)(22,V$,2,0,"span",59),P(),I(23,"div",56)(24,"span",57),se(25," Status "),P()()(),I(26,"th",61),de("click",function(){return G(e),Y(z(2).sortTable("PID",!0))}),I(27,"div",54),Le(28,U$,2,0,"span",59)(29,z$,2,0,"span",59),P(),I(30,"div",62)(31,"span",57),se(32," PID "),P()()(),I(33,"th",63),de("click",function(){return G(e),Y(z(2).sortTable("Process name",!0))}),I(34,"div",54),Le(35,j$,2,0,"span",59)(36,H$,2,0,"span",59),P(),I(37,"div",62)(38,"span",57),se(39," Process name "),P()()(),I(40,"th",64),de("click",function(){return G(e),Y(z(2).sortTable("CPU",!0))}),I(41,"div",65)(42,"div",66),Le(43,$$,2,0,"span",67)(44,W$,2,0,"span",67),P(),I(45,"div",68)(46,"div",69),se(47),P(),I(48,"div",70),se(49," %"),P()()(),I(50,"div",71)(51,"span",72),se(52," CPU"),P()()(),I(53,"th",64),de("click",function(){return G(e),Y(z(2).sortTable("Memory",!0))}),I(54,"div",65)(55,"div",66),Le(56,G$,2,0,"span",67)(57,Y$,2,0,"span",67),P(),I(58,"div",68)(59,"div",69),se(60),P(),I(61,"div",70),se(62," %"),P()()(),I(63,"div",71)(64,"span",73),se(65," Memory"),P()()(),I(66,"th",64),de("click",function(){return G(e),Y(z(2).sortTable("Disk",!0))}),I(67,"div",65)(68,"div",66),Le(69,Z$,2,0,"span",67)(70,q$,2,0,"span",67),P(),I(71,"div",74)(72,"div",69),se(73),P(),I(74,"div",70),se(75," %"),P()()(),I(76,"div",71)(77,"span",73),se(78," Disk"),P()()(),I(79,"th",64),de("click",function(){return G(e),Y(z(2).sortTable("Network",!0))}),I(80,"div",65)(81,"div",66),Le(82,K$,2,0,"span",67)(83,Q$,2,0,"span",67),P(),I(84,"div",74)(85,"div",69),se(86),P(),I(87,"div",70),se(88," %"),P()()(),I(89,"div",71)(90,"span",73),se(91," Network"),P()()(),I(92,"th",64),de("click",function(){return G(e),Y(z(2).sortTable("GPU",!0))}),I(93,"div",65)(94,"div",66),Le(95,X$,2,0,"span",67)(96,J$,2,0,"span",67),P(),I(97,"div",74)(98,"div",69),se(99),P(),I(100,"div",70),se(101," %"),P()()(),I(102,"div",71)(103,"span",73),se(104," GPU"),P()()(),I(105,"th",75),de("click",function(){return G(e),Y(z(2).sortTable("Power usage",!0))}),I(106,"div",54),Le(107,eW,2,0,"span",59)(108,tW,2,0,"span",59),P(),I(109,"div",56)(110,"span",57),se(111," Power usage"),P()()()(),I(112,"div",76,5)(114,"div",77),de("click",function(){return G(e),Y(z(2).toggleColumnVisibility("Type"))}),I(115,"span",78)(116,"figure",79),Le(117,nW,1,1,"img",80),P()(),I(118,"span",81),se(119,"Type"),P(),I(120,"span",82),re(121,"figure"),P()(),I(122,"div",77),de("click",function(){return G(e),Y(z(2).toggleColumnVisibility("Status"))}),I(123,"span",78)(124,"figure",79),Le(125,iW,1,1,"img",80),P()(),I(126,"span",81),se(127,"Status"),P(),I(128,"span",82),re(129,"figure"),P()(),I(130,"div",77),de("click",function(){return G(e),Y(z(2).toggleColumnVisibility("PID"))}),I(131,"span",78)(132,"figure",79),Le(133,rW,1,1,"img",80),P()(),I(134,"span",81),se(135,"PID"),P(),I(136,"span",82),re(137,"figure"),P()(),I(138,"div",77),de("click",function(){return G(e),Y(z(2).toggleColumnVisibility("Process name"))}),I(139,"span",78)(140,"figure",79),Le(141,oW,1,1,"img",80),P()(),I(142,"span",81),se(143,"Process name"),P(),I(144,"span",82),re(145,"figure"),P()(),I(146,"div",77),de("click",function(){return G(e),Y(z(2).toggleColumnVisibility("CPU"))}),I(147,"span",78)(148,"figure",79),Le(149,sW,1,1,"img",80),P()(),I(150,"span",81),se(151,"CPU"),P(),I(152,"span",82),re(153,"figure"),P()(),I(154,"div",77),de("click",function(){return G(e),Y(z(2).toggleColumnVisibility("Memory"))}),I(155,"span",78)(156,"figure",79),Le(157,aW,1,1,"img",80),P()(),I(158,"span",81),se(159,"Memory"),P(),I(160,"span",82),re(161,"figure"),P()(),I(162,"div",77),de("click",function(){return G(e),Y(z(2).toggleColumnVisibility("Disk"))}),I(163,"span",78)(164,"figure",79),Le(165,lW,1,1,"img",80),P()(),I(166,"span",81),se(167,"Disk"),P(),I(168,"span",82),re(169,"figure"),P()(),I(170,"div",77),de("click",function(){return G(e),Y(z(2).toggleColumnVisibility("Network"))}),I(171,"span",78)(172,"figure",79),Le(173,cW,1,1,"img",80),P()(),I(174,"span",81),se(175,"Network"),P(),I(176,"span",82),re(177,"figure"),P()(),I(178,"div",77),de("click",function(){return G(e),Y(z(2).toggleColumnVisibility("GPU"))}),I(179,"span",78)(180,"figure",79),Le(181,uW,1,1,"img",80),P()(),I(182,"span",81),se(183,"GPU"),P(),I(184,"span",82),re(185,"figure"),P()(),I(186,"div",77),de("click",function(){return G(e),Y(z(2).toggleColumnVisibility("Power usage"))}),I(187,"span",78)(188,"figure",79),Le(189,dW,1,1,"img",80),P()(),I(190,"span",81),se(191,"Power usage"),P(),I(192,"span",82),re(193,"figure"),P()()()(),I(194,"tbody"),Le(195,hW,31,32,"tr",83),P()()}if(2&t){const e=z(2);T(5),St(e.thStyle),T(2),H("ngIf",e.isDescSorting("Name")),T(),H("ngIf",e.isAscSorting("Name")),T(4),St(e.thStyle1),T(2),H("ngIf",e.isDescSorting("Type")),T(),H("ngIf",e.isAscSorting("Type")),T(6),H("ngIf",e.isDescSorting("Status")),T(),H("ngIf",e.isAscSorting("Status")),T(4),St(e.thStyle2),T(2),H("ngIf",e.isDescSorting("PID")),T(),H("ngIf",e.isAscSorting("PID")),T(4),St(e.thStyle3),T(2),H("ngIf",e.isDescSorting("Process name")),T(),H("ngIf",e.isAscSorting("Process name")),T(4),St(e.setThHeaderContainerColor(e.cpuUtil,"CPU")),lt("id","cpuTh-",e.processId,""),T(),lt("id","cpuDiv-",e.processId,""),T(2),H("ngIf",e.isDescSorting("CPU")),T(),H("ngIf",e.isAscSorting("CPU")),T(),lt("id","cpuDiv-",e.processId,""),T(),lt("id","cpuUtilDiv-",e.processId,""),T(),qt(" ",e.cpuUtil,""),T(3),lt("id","cpuDiv1-",e.processId,""),T(),lt("id","cpuDiv1-",e.processId,""),T(2),St(e.setThHeaderContainerColor(e.memUtil,"Memory")),lt("id","memoryTh-",e.processId,""),T(),lt("id","memoryDiv-",e.processId,""),T(2),H("ngIf",e.isDescSorting("Memory")),T(),H("ngIf",e.isAscSorting("Memory")),T(),lt("id","memoryDiv-",e.processId,""),T(),lt("id","memoryUtilDiv-",e.processId,""),T(),qt(" ",e.memUtil,""),T(3),lt("id","memoryDiv1-",e.processId,""),T(3),St(e.setThHeaderContainerColor(e.diskUtil,"Disk")),lt("id","diskTh-",e.processId,""),T(),lt("id","diskDiv-",e.processId,""),T(2),H("ngIf",e.isDescSorting("Disk")),T(),H("ngIf",e.isAscSorting("Disk")),T(2),lt("id","diskUtilDiv-",e.processId,""),T(),qt(" ",e.diskUtil,""),T(3),lt("id","diskDiv1-",e.processId,""),T(3),St(e.setThHeaderContainerColor(e.networkUtil,"Network")),lt("id","networkTh-",e.processId,""),T(),lt("id","networkDiv-",e.processId,""),T(2),H("ngIf",e.isDescSorting("Network")),T(),H("ngIf",e.isAscSorting("Network")),T(2),lt("id","networkUtilDiv-",e.processId,""),T(),qt(" ",e.networkUtil,""),T(3),lt("id","networkDiv1-",e.processId,""),T(3),St(e.setThHeaderContainerColor(e.gpuUtil,"GPU")),lt("id","gpuTh-",e.processId,""),T(),lt("id","gpuDiv-",e.processId,""),T(2),H("ngIf",e.isDescSorting("GPU")),T(),H("ngIf",e.isAscSorting("GPU")),T(2),lt("id","gpuUtilDiv-",e.processId,""),T(),qt(" ",e.gpuUtil,""),T(3),lt("id","gpuDiv1-",e.processId,""),T(3),St(e.thStyle4),T(2),H("ngIf",e.isDescSorting("Power usage")),T(),H("ngIf",e.isAscSorting("Power usage")),T(4),St(e.cntxtMenuStyle),T(3),ni("active",e.typeColumnVisible),T(2),H("ngIf",e.typeColumnVisible),T(6),ni("active",e.statusColumnVisible),T(2),H("ngIf",e.statusColumnVisible),T(6),ni("active",e.pidColumnVisible),T(2),H("ngIf",e.pidColumnVisible),T(6),ni("active",e.processNameColumnVisible),T(2),H("ngIf",e.processNameColumnVisible),T(6),ni("active",e.cpuColumnVisible),T(2),H("ngIf",e.cpuColumnVisible),T(6),ni("active",e.memoryColumnVisible),T(2),H("ngIf",e.memoryColumnVisible),T(6),ni("active",e.diskColumnVisible),T(2),H("ngIf",e.diskColumnVisible),T(6),ni("active",e.networkColumnVisible),T(2),H("ngIf",e.networkColumnVisible),T(6),ni("active",e.gpuColumnVisible),T(2),H("ngIf",e.gpuColumnVisible),T(6),ni("active",e.powerColumnVisible),T(2),H("ngIf",e.powerColumnVisible),T(6),H("ngForOf",e.processes)}}function gW(t,n){if(1&t){const e=Tt();I(0,"div",null,2)(2,"div",13)(3,"div",14),de("click",function(){return G(e),Y(z().hideShowNavMenu("tskmgr-nav-file-menu"))})("mouseenter",function(){return G(e),Y(z().hideShowNavMenu1("tskmgr-nav-file-menu","enter"))}),I(4,"span",15),se(5,"File"),P(),I(6,"div",16)(7,"div",17)(8,"span",18),se(9,"Run new task"),P()(),I(10,"div",19),de("click",function(){return G(e),Y(z().onExitBtnClick())}),I(11,"span",18),se(12,"Exit"),P()()()(),I(13,"div",20)(14,"span",15),se(15,"Options"),P()(),I(16,"div",14),de("click",function(){return G(e),Y(z().hideShowNavMenu("tskmgr-nav-view-menu"))})("mouseenter",function(){return G(e),Y(z().hideShowNavMenu1("tskmgr-nav-view-menu","enter"))}),I(17,"span",15),se(18,"View"),P(),I(19,"div",21)(20,"div",17)(21,"span",22),de("click",function(){return G(e),Y(z().generateLies())}),se(22,"Refresh now"),P()(),I(23,"div",17)(24,"span",18),se(25,"Update speed"),P(),I(26,"div",23)(27,"figure",24),re(28,"img",25),P()(),I(29,"div",26)(30,"div",19),de("click",function(){return G(e),Y(z().refreshRate(3))}),I(31,"div",27)(32,"figure",28),Le(33,P$,1,1,"img",29),P()(),I(34,"span",18),se(35,"High"),P()(),I(36,"div",19),de("click",function(){return G(e),Y(z().refreshRate(2))}),I(37,"div",27)(38,"figure",28),Le(39,A$,1,1,"img",29),P()(),I(40,"span",18),se(41,"Normal"),P()(),I(42,"div",19),de("click",function(){return G(e),Y(z().refreshRate(1))}),I(43,"div",27)(44,"figure",28),Le(45,k$,1,1,"img",29),P()(),I(46,"span",18),se(47,"Low"),P()(),I(48,"div",19),de("click",function(){return G(e),Y(z().refreshRate(0))}),I(49,"div",27)(50,"figure",28),Le(51,O$,1,1,"img",29),P()(),I(52,"span",18),se(53,"Paused"),P()()()()()()(),I(54,"div",30),de("click",function(){return G(e),Y(z().hideShowNavMenu(""))}),re(55,"span",31),I(56,"div",32)(57,"div",33),se(58,"Processes"),P(),I(59,"div",34),se(60,"Performance"),P(),I(61,"div",34),se(62,"App history"),P(),I(63,"div",34),se(64,"Services"),P()(),I(65,"div",35)(66,"div",36)(67,"div",37)(68,"div",38)(69,"div",39,3),Le(71,pW,196,126,"table",40),P()(),I(72,"div",41)(73,"div",42)(74,"figure",43),de("click",function(){return G(e),Y(z().onFewerDetailsBtnClick())}),re(75,"img",44),I(76,"figcaption",45),se(77,"Fewer details"),P()()(),I(78,"div",46)(79,"button",47),de("click",function(){return G(e),Y(z().onEndTaskBtnClick())}),se(80," End task "),P()()()()(),I(81,"div",48)(82,"p"),se(83," Somethings is coming"),P()(),I(84,"div",48)(85,"p"),se(86," Somethings is coming"),P()(),I(87,"div",48)(88,"p"),se(89," Somethings is coming"),P()()()()()}if(2&t){const e=z();T(6),lt("id","tskmgr-nav-file-menu-",e.processId,""),T(13),lt("id","tskmgr-nav-view-menu-",e.processId,""),T(9),H("src","osdrive/Cheetah/System/Imageres/arrow_next.png",$e),T(3),ni("active",3===e.selectedRefreshRate),T(2),H("ngIf",3===e.selectedRefreshRate),T(4),ni("active",2===e.selectedRefreshRate),T(2),H("ngIf",2===e.selectedRefreshRate),T(4),ni("active",1===e.selectedRefreshRate),T(2),H("ngIf",1===e.selectedRefreshRate),T(4),ni("active",0===e.selectedRefreshRate),T(2),H("ngIf",0===e.selectedRefreshRate),T(20),H("ngIf",e.processes.length>0),T(4),H("src","osdrive/Cheetah/System/Imageres/arrow_up.png",$e),T(4),H("ngClass",e.activeFocus())}}function mW(t,n){if(1&t){const e=Tt();I(0,"tr",64),de("click",function(){const r=G(e),o=r.$implicit,s=r.index;return Y(z(3).onProcessSelected(s,o.getProcessId))}),I(1,"td",99)(2,"figure",88),re(3,"img",44),I(4,"figcaption",89),se(5),P()()()()}if(2&t){const e=n.$implicit,i=n.index,r=z(3);ni("active",i===r.selectedRow),Xt("id","trElmnt-",r.processId,"-",i,""),T(3),H("src",e.getIcon,$e),T(2),ln(e.getProcessName)}}function _W(t,n){if(1&t&&(I(0,"table",98)(1,"tbody"),Le(2,mW,6,7,"tr",83),P()()),2&t){const e=z(2);T(2),H("ngForOf",e.processes)}}function yW(t,n){if(1&t){const e=Tt();I(0,"div",37)(1,"div",38)(2,"div",95),Le(3,_W,3,1,"table",96),P()(),I(4,"div",41)(5,"div",42)(6,"figure",43),de("click",function(){return G(e),Y(z().onMoreDetailsBtnClick())}),re(7,"img",44),I(8,"figcaption",45),se(9,"More details"),P()()(),I(10,"div",46)(11,"button",97),de("click",function(){return G(e),Y(z().onEndTaskBtnClick())}),se(12," End task "),P()()()()}if(2&t){const e=z();T(3),H("ngIf",e.processes.length>0),T(4),H("src","osdrive/Cheetah/System/Imageres/arrow_down.png",$e),T(4),H("ngClass",e.activeFocus())}}let vW=(()=>{class t{tskManagerRootContainer;tskMgrTable;tskmgrTblCntnr;_maximizeWindowSub;_processIdService;_runningProcessService;_notificationService;_renderer;_consts=new Kn;_processListChangeSub;_taskmgrRefreshIntervalSub;_chnageTaskmgrRefreshIntervalSub;_currentSortingOrder;_sorting={column:"",order:"asc"};sleepNumber=0;sleepCounter=0;processNumberToSuspend=0;refreshRateInterval=0;processIdToClose=0;statusColumnVisible=!0;cpuColumnVisible=!0;memoryColumnVisible=!0;diskColumnVisible=!0;networkColumnVisible=!0;pidColumnVisible=!1;gpuColumnVisible=!0;powerColumnVisible=!0;processNameColumnVisible=!1;typeColumnVisible=!1;cntxtMenuStyle={};thStyle={};thStyle1={};thStyle2={};thStyle3={};thStyle4={};isActive=!1;isFocus=!1;selectedRow=-1;showBtnNavMenu=!1;detailedView=vg.DETAILED_VIEW;viewOptions="";SECONDS_DELAY=250;processes=[];closingNotAllowed=["system","desktop","filemanager","taskbar","startbutton","clock","taskbarentry","startmenu"];groupedData={};selectedRefreshRate=0;cpuUtil=0;memUtil=0;diskUtil=0;networkUtil=0;gpuUtil=0;powerUtil="Very low";hasWindow=!0;icon=`${this._consts.IMAGE_BASE_PATH}taskmanager.png`;name="taskmanager";processId=0;type=on.System;displayName="Task Manager";constructor(e,i,r,o){this._processIdService=e,this._runningProcessService=i,this._notificationService=r,this._renderer=o,this.processId=this._processIdService.getNewProcessId(),this._runningProcessService.addProcess(this.getComponentDetail()),this._processListChangeSub=this._runningProcessService.processListChangeNotify.subscribe(()=>{this.updateRunningProcess()}),this._maximizeWindowSub=this._runningProcessService.maximizeProcessWindowNotify.subscribe(()=>{this.maximizeWindow()}),this._currentSortingOrder=this._sorting.order,this._chnageTaskmgrRefreshIntervalSub=new Pe,this.refreshRateInterval=zc.NOMRAL,this.selectedRefreshRate=yg.NORMAL,this.viewOptions=this.detailedView}ngOnInit(){this.processes=this._runningProcessService.getProcesses()}ngOnDestroy(){this._processListChangeSub?.unsubscribe(),this._taskmgrRefreshIntervalSub?.unsubscribe(),this._chnageTaskmgrRefreshIntervalSub?.unsubscribe(),this._maximizeWindowSub?.unsubscribe(),this.sleepCounter=0,this.processNumberToSuspend=0,this.sleepNumber=0}ngAfterViewInit(){this.setTaskMangrWindowToFocus(this.processId),this.hideContextMenu(),this.applyDefaultColumnStyle(),this._taskmgrRefreshIntervalSub=QP(this.refreshRateInterval).subscribe(()=>{this.generateLies(),this.sortTable(this._sorting.column,!1)}),this._chnageTaskmgrRefreshIntervalSub.pipe(XP(e=>(this._taskmgrRefreshIntervalSub?.unsubscribe(),QP(e)))).subscribe(()=>{this.generateLies(),this.sortTable(this._sorting.column,!1)}),setTimeout(()=>{this.captureComponentImg()},this.SECONDS_DELAY)}captureComponentImg(){Ir(this.tskManagerRootContainer.nativeElement).then(e=>{this._runningProcessService.addProcessImage(this.name,{pid:this.processId,imageData:e})})}isDescSorting(e){return this._sorting.column===e&&"desc"===this._sorting.order}isAscSorting(e){return this._sorting.column===e&&"asc"===this._sorting.order}setTaskMangrWindowToFocus(e){this._runningProcessService.focusOnCurrentProcessNotify.next(e),this.hideContextMenu()}closeHeaderList(){this.hideContextMenu()}updateRunningProcess(){this.processes=this._runningProcessService.getProcesses(),setTimeout(()=>{this.applyDefaultColumnStyle()},10)}refreshRate(e){e>=yg.PAUSED&&e<=yg.HIGH&&(this.refreshRateInterval=[zc.PAUSED,zc.LOW,zc.NOMRAL,zc.HIGH][e],this.selectedRefreshRate=e,this._chnageTaskmgrRefreshIntervalSub.next(this.refreshRateInterval))}sortTable(e,i){i&&(this._currentSortingOrder=this.isDescSorting(e)?"asc":"desc",this._sorting={column:e,order:this._currentSortingOrder},this.thStyle={"background-color":"#ffffff"},this.thStyle1={"background-color":"#ffffff"},this.thStyle2={"background-color":"#ffffff"},this.thStyle3={"background-color":"#ffffff"},this.thStyle4={"background-color":"#ffffff"}),e==xt.CPU||e==xt.GPU?this.processes="asc"==this._currentSortingOrder?this.processes.sort((r,o)=>o.getCpuUsage-r.getCpuUsage):this.processes.sort((r,o)=>o.getCpuUsage-r.getCpuUsage).reverse():e==xt.MEMORY?this.processes="asc"==this._currentSortingOrder?this.processes.sort((r,o)=>o.getMemoryUsage-r.getMemoryUsage):this.processes.sort((r,o)=>o.getMemoryUsage-r.getMemoryUsage).reverse():e==xt.DISK?this.processes="asc"==this._currentSortingOrder?this.processes.sort((r,o)=>o.getDiskUsage-r.getDiskUsage):this.processes.sort((r,o)=>o.getDiskUsage-r.getDiskUsage).reverse():e==xt.NETWORK?this.processes="asc"==this._currentSortingOrder?this.processes.sort((r,o)=>o.getNetworkUsage-r.getNetworkUsage):this.processes.sort((r,o)=>o.getNetworkUsage-r.getNetworkUsage).reverse():e==xt.PID?(this.thStyle2={"background-color":"#d0ecfc"},this.processes="asc"==this._currentSortingOrder?this.processes.sort((r,o)=>o.getProcessId-r.getProcessId):this.processes.sort((r,o)=>o.getProcessId-r.getProcessId).reverse()):e==xt.NAME?(this.thStyle={"background-color":"#d0ecfc"},this.processes="asc"==this._currentSortingOrder?this.processes.sort((r,o)=>r.getProcessName<o.getProcessName?-1:1):this.processes.sort((r,o)=>r.getProcessName<o.getProcessName?-1:1).reverse()):e==xt.PROCESS_NAME?(this.thStyle3={"background-color":"#d0ecfc"},this.processes="asc"==this._currentSortingOrder?this.processes.sort((r,o)=>r.getProcessName<o.getProcessName?-1:1):this.processes.sort((r,o)=>r.getProcessName<o.getProcessName?-1:1).reverse()):e==xt.POWER_USAGE?(this.thStyle4={"background-color":"#d0ecfc"},this.processes="asc"==this._currentSortingOrder?this.processes.sort((r,o)=>r.getPowerUsage<o.getPowerUsage?-1:1):this.processes.sort((r,o)=>r.getPowerUsage<o.getPowerUsage?-1:1).reverse()):e==xt.TYPE&&(this.thStyle1={"background-color":"#d0ecfc"},this.processes="asc"==this._currentSortingOrder?this.processes.sort((r,o)=>r.getType<o.getType?-1:1):this.processes.sort((r,o)=>r.getType<o.getType?-1:1).reverse())}showContextMenu(e){const i=this.tskMgrTable.nativeElement.getBoundingClientRect(),r=e.clientX-i.left,o=e.clientY-i.top;this._runningProcessService.addEventOriginator(`${this.name}-${this.processId}`),this.cntxtMenuStyle={display:"block",width:"180px",transform:`translate(${r}px, ${o-65}px)`,"z-index":2,opacity:1},e.preventDefault()}hideContextMenu(){this.cntxtMenuStyle={display:"none"}}hideShowNavMenu(e){let i;this.showBtnNavMenu=!this.showBtnNavMenu,""==e?(i=document.getElementById(`tskmgr-nav-file-menu-${this.processId}`),i&&(i.style.display="none"),i=document.getElementById(`tskmgr-nav-view-menu-${this.processId}`),i&&(i.style.display="none")):""!=e&&("tskmgr-nav-file-menu"==e&&this.showBtnNavMenu?(i=document.getElementById(`tskmgr-nav-file-menu-${this.processId}`),i.style.display="block",i.style.left="2px",i.style.top="20px"):"tskmgr-nav-file-menu"==e&&!this.showBtnNavMenu&&(i=document.getElementById(`tskmgr-nav-file-menu-${this.processId}`),i.style.display="none"),"tskmgr-nav-view-menu"==e&&this.showBtnNavMenu?(i=document.getElementById(`tskmgr-nav-view-menu-${this.processId}`),i.style.display="block",i.style.left="85px",i.style.top="20px"):"tskmgr-nav-view-menu"==e&&!this.showBtnNavMenu&&(i=document.getElementById(`tskmgr-nav-view-menu-${this.processId}`),i.style.display="none"))}hideShowNavMenu1(e,i){let r;"enter"===i&&("tskmgr-nav-file-menu"==e&&this.showBtnNavMenu&&(r=document.getElementById(`tskmgr-nav-file-menu-${this.processId}`),r.style.display="block",r.style.left="2px",r.style.top="20px",r=document.getElementById(`tskmgr-nav-view-menu-${this.processId}`),r.style.display="none"),"tskmgr-nav-view-menu"==e&&this.showBtnNavMenu&&(r=document.getElementById(`tskmgr-nav-view-menu-${this.processId}`),r.style.display="block",r.style.left="85px",r.style.top="20px",r=document.getElementById(`tskmgr-nav-file-menu-${this.processId}`),r.style.display="none"))}generateLies(){const e=this._runningProcessService.getProcesses(),i=["Very low","Low","Moderate","High","Very high"],r=100,s=10;0==this.sleepNumber&&(this.sleepNumber=this.getRandomNums(1,200)),0==this.processNumberToSuspend&&(this.processNumberToSuspend=e[this.getRandomNums(0,e.length-1)].getProcessId);for(let g=0;g<e.length;g++){const y=e[g];y.setProcessStatus="",y.setPowerUsage=i[0],y.getProcessId==this.processNumberToSuspend?this.sleepCounter<=this.sleepNumber?(y.setProcessStatus="Suspended",y.setCpuUsage=0,y.setDiskUsage=0,y.setMemoryUsage=0,y.setNetworkUsage=0,y.setGpuUsage=0,y.setPowerUsage=i[0],this.sleepCounter++):(this.sleepCounter=0,this.processNumberToSuspend=0,this.sleepNumber=0,y.setProcessStatus="",y.setPowerUsage=i[0]):(this.getRandomNums(1,s)>5&&(y.setCpuUsage=this.addTrailingZeros(this.getRandomFloatingNums(0,r))),this.getRandomNums(1,s)<=1&&(y.setDiskUsage=this.addTrailingZeros(this.getRandomFloatingNums(0,r))),this.getRandomNums(1,s)>7&&(y.setMemoryUsage=this.addTrailingZeros(this.getRandomFloatingNums(0,r))),this.getRandomNums(1,s)<=2&&(y.setNetworkUsage=this.addTrailingZeros(this.getRandomFloatingNums(0,r))),this.getRandomNums(1,s)<=1&&(y.setGpuUsage=this.addTrailingZeros(this.getRandomFloatingNums(0,r))),this.getRandomNums(1,s)<=1&&(y.setPowerUsage=i[this.getRandomNums(0,4)]))}this.processes=e,this.sumRowValues(e)}sumRowValues(e){this.cpuUtil=Math.round(e.reduce((i,{getCpuUsage:r})=>i+r,0)),this.memUtil=Math.round(e.reduce((i,{getMemoryUsage:r})=>i+r,0)),this.diskUtil=Math.round(e.reduce((i,{getDiskUsage:r})=>i+r,0)),this.networkUtil=Math.round(e.reduce((i,{getNetworkUsage:r})=>i+r,0)),this.gpuUtil=Math.round(e.reduce((i,{getGpuUsage:r})=>i+r,0))}getRandomFloatingNums(e,i){return e=Math.floor(e),i=Math.ceil(i),Math.floor(Math.random()*(i-e)+10)/10}getRandomNums(e,i){return Math.floor(Math.random()*(i-e+1)+e)}addTrailingZeros(e){const r=String(e);return 0!=e&&1==r.length?parseFloat(r.padEnd(3,".1")):e}groupTableBy(){const e={};for(const i of this.processes)i.getType==on.System?(e[on.System]||(e[on.System]=[]),e[on.System].push(i)):i.getType==on.User&&(e[on.User]||(e[on.User]=[]),e[on.User].push(i));return e}onFewerDetailsBtnClick(){this.viewOptions=vg.MINI_VIEW}onMoreDetailsBtnClick(){this.viewOptions=vg.DETAILED_VIEW}onExitBtnClick(){this.processIdToClose=this.processId,this.onEndTaskBtnClick()}onEndTaskBtnClick(){const e=this._runningProcessService.getProcess(this.processIdToClose);this.closingNotAllowed.includes(e.getProcessName)?this._notificationService.InfoNotify.next(`The app:${e.getProcessName} is not allowed to be closed`):this._runningProcessService.closeProcessNotify.next(e)}onProcessSelected(e,i){this.selectedRow=e,this.processIdToClose=i,-1!=this.selectedRow&&(this.isActive=!0,this.isFocus=!0)}toggleColumnVisibility(e){e===xt.TYPE?this.typeColumnVisible=!this.typeColumnVisible:e===xt.STATUS?this.statusColumnVisible=!this.statusColumnVisible:e===xt.PID?this.pidColumnVisible=!this.pidColumnVisible:e===xt.PROCESS_NAME?this.processNameColumnVisible=!this.processNameColumnVisible:e===xt.CPU?this.cpuColumnVisible=!this.cpuColumnVisible:e===xt.MEMORY?this.memoryColumnVisible=!this.memoryColumnVisible:e===xt.DISK?this.diskColumnVisible=!this.diskColumnVisible:e===xt.NETWORK?this.networkColumnVisible=!this.networkColumnVisible:e===xt.GPU?this.gpuColumnVisible=!this.gpuColumnVisible:e===xt.POWER_USAGE&&(this.powerColumnVisible=!this.powerColumnVisible),this.applyColumnStyles(e)}applyDefaultColumnStyle(){const e=[xt.NAME,xt.TYPE,xt.STATUS,xt.PID,xt.PROCESS_NAME,xt.CPU,xt.MEMORY,xt.DISK,xt.NETWORK,xt.GPU,xt.POWER_USAGE];for(let i=0;i<e.length;i++)this.applyColumnStyles(e[i])}applyColumnStyles(e){const i=this.tskMgrTable.nativeElement,o=[xt.NAME,xt.TYPE,xt.STATUS,xt.PID,xt.PROCESS_NAME,xt.CPU,xt.MEMORY,xt.DISK,xt.NETWORK,xt.GPU,xt.POWER_USAGE].indexOf(e);for(let s=0;s<=this.processes.length;s++)e===xt.TYPE&&(this.typeColumnVisible?this._renderer.removeStyle(i.rows[s].cells[o],"display"):this._renderer.setStyle(i.rows[s].cells[o],"display","none")),e===xt.STATUS&&(this.statusColumnVisible?this._renderer.removeStyle(i.rows[s].cells[o],"display"):this._renderer.setStyle(i.rows[s].cells[o],"display","none")),e===xt.PID&&(this.pidColumnVisible?this._renderer.removeStyle(i.rows[s].cells[o],"display"):this._renderer.setStyle(i.rows[s].cells[o],"display","none")),e===xt.PROCESS_NAME&&(this.processNameColumnVisible?this._renderer.removeStyle(i.rows[s].cells[o],"display"):this._renderer.setStyle(i.rows[s].cells[o],"display","none")),e===xt.CPU&&(this.cpuColumnVisible?this._renderer.removeStyle(i.rows[s].cells[o],"display"):this._renderer.setStyle(i.rows[s].cells[o],"display","none")),e===xt.MEMORY&&(this.memoryColumnVisible?this._renderer.removeStyle(i.rows[s].cells[o],"display"):this._renderer.setStyle(i.rows[s].cells[o],"display","none")),e===xt.DISK&&(this.diskColumnVisible?this._renderer.removeStyle(i.rows[s].cells[o],"display"):this._renderer.setStyle(i.rows[s].cells[o],"display","none")),e===xt.NETWORK&&(this.networkColumnVisible?this._renderer.removeStyle(i.rows[s].cells[o],"display"):this._renderer.setStyle(i.rows[s].cells[o],"display","none")),e===xt.GPU&&(this.gpuColumnVisible?this._renderer.removeStyle(i.rows[s].cells[o],"display"):this._renderer.setStyle(i.rows[s].cells[o],"display","none")),e===xt.POWER_USAGE&&(this.powerColumnVisible?this._renderer.removeStyle(i.rows[s].cells[o],"display"):this._renderer.setStyle(i.rows[s].cells[o],"display","none"))}activeFocus(){return{active:this.isActive?"active":"",focus:this.isFocus?"focus":""}}setUtilColoumnColors(e){if("number"==typeof e){if(e<=2.5)return{"text-align":"right","background-color":"#fff4c4"};if(e>2.5&&e<=5)return{"text-align":"right","background-color":"#ffecac"};if(e>5&&e<=7.5)return{"text-align":"right","background-color":"#ffa41c"};if(e>7.5)return{"text-align":"right","background-color":"#fc6c30"}}else if("string"==typeof e){if("Very low"==e)return{"background-color":"#fff4c4"};if("Low"==e)return{"background-color":"#ffecac"};if("Moderate"==e)return{"background-color":"#ffd464"};if("High"==e)return{"background-color":"#ffa41c"};if("Very high"==e)return{"background-color":"#fc6c30"}}return{}}setThHeaderContainerColor(e,i){if(i==this._sorting.column){const o=document.getElementById(`${i.toLowerCase()}Div-${this.processId}`),s=document.getElementById(`${i.toLowerCase()}Div1-${this.processId}`),c=document.getElementById(`${i.toLowerCase()}UtilDiv-${this.processId}`);e<10?(o.style.backgroundColor="#d0ecfc",s.style.backgroundColor="#d0ecfc",c.style.right="-40%"):e>=10&&(o.style.backgroundColor=e>=90?"#fcc4ac":"#d0ecfc",s.style.backgroundColor=e>=90?"#fcc4ac":"#d0ecfc",o.style.borderLeft=e>=90?"#fcc4ac":"",s.style.borderLeft=e>=90?"#fcc4ac":"",o.style.borderRight=e>=90?"#fcc4ac":"",s.style.borderRight=e>=90?"#fcc4ac":"",c.style.right=e>=100?"-5%":"-20%")}else{const o=document.getElementById(`${i.toLowerCase()}Div-${this.processId}`),s=document.getElementById(`${i.toLowerCase()}Div1-${this.processId}`),c=document.getElementById(`${i.toLowerCase()}UtilDiv-${this.processId}`);o&&s&&c&&(e<10?c.style.right="-40%":e>=10&&(o.style.backgroundColor=e>=90?"#fcc4ac":"#ffffff",s.style.backgroundColor=e>=90?"#fcc4ac":"#ffffff",o.style.borderLeft=e>=90?"#fcc4ac":"",s.style.borderLeft=e>=90?"#fcc4ac":"",o.style.borderRight=e>=90?"#fcc4ac":"",s.style.borderRight=e>=90?"#fcc4ac":"",c.style.right=e>=100?"-5%":"-20%"))}}maximizeWindow(){if(`${this.name}-${this.processId}`===this._runningProcessService.getEventOrginator()){this._runningProcessService.removeEventOriginator();const r=document.getElementById("vanta"),o=158;this.tskmgrTblCntnr.nativeElement.style.height=(r?.offsetHeight||0)-o+"px",this.tskmgrTblCntnr.nativeElement.style.width=`${r?.offsetWidth}px`,this.tskMgrTable.nativeElement.style.width=`${r?.offsetWidth}px`}}getComponentDetail(){return new vi(this.processId,this.name,this.icon,this.hasWindow,this.type)}static \u0275fac=function(i){return new(i||t)(te(wi),te(Yn),te(gg),te(qr))};static \u0275cmp=a({type:t,selectors:[["cos-taskmanager"]],viewQuery:function(i,r){if(1&i&&(Wt(D$,5),Wt(M$,5),Wt(T$,5)),2&i){let o;Gt(o=Yt())&&(r.tskManagerRootContainer=o.first),Gt(o=Yt())&&(r.tskMgrTable=o.first),Gt(o=Yt())&&(r.tskmgrTblCntnr=o.first)}},decls:6,vars:4,consts:[["detailedView0",""],["miniView0",""],["tskManagerRootContainer",""],["tskmgrTblCntnr",""],["tskMgrTable",""],["tsmgrCntxtMenu",""],["memoryId",""],["diskId",""],["networkId",""],["gpuId",""],["pwruseId",""],[3,"click","focusout","runningProcessID","processAppIcon","processAppName"],[3,"ngTemplateOutlet"],[1,"tskmgr-nav-btn-cntnr"],[1,"tskmgr-nav-btn",3,"click","mouseenter"],[1,"tskmgr-btn-span"],[1,"tskmgr-nav-menu-cntnr",3,"id"],[1,"tskmgr-nav-menu-item"],[1,"tskmgr-item-span"],[1,"tskmgr-nav-menu-item",3,"click"],[1,"tskmgr-nav-btn"],[1,"tskmgr-nav-menu-cntnr1",3,"id"],[1,"tskmgr-item-span",3,"click"],[1,"tskmgr-nav-div"],[1,"tskmgr-nav-figure"],[1,"tskmgr-nav-img",3,"src"],[1,"tskmgr-nav-sub-menu-cntnr"],[1,"tskmgr-nav-sub-menu-div","head"],[1,"tskmgr-nav-sub-menu-figure"],["class","tskmgr-nav-sub-menu-img",3,"src",4,"ngIf"],[1,"tskmgr-tabbed-window",3,"click"],[2,"height","3px","background-color","#ffffff","border-top","none"],[1,"tskmgr-tabs"],[1,"tskmgr-tab","active"],[1,"tskmgr-tab"],[1,"tskmgr-tab-content"],[1,"tskmgr-tab-pane","active"],[1,"card"],[1,"card-body"],[1,"tskmgr-table-cntnr"],["class","tskmgr-table",4,"ngIf"],[1,"tsksmgr-footer-div-cntnr"],[1,"tsksmgr-footer-div-cntnt"],[1,"tskmgr-figure0",2,"position","relative","left","5px",3,"click"],[1,"tskmgr-img0",3,"src"],[1,"tskmgr-figcaption0","just-for-one-span"],[1,"tsksmgr-footer-div-cntnt1"],[1,"btn","btn-primary",3,"click","ngClass"],[1,"tskmgr-tab-pane"],[1,"tskmgr-nav-sub-menu-img",3,"src"],[1,"tskmgr-table"],[2,"height","10px","border-top","none"],[3,"contextmenu","click"],["columnResize","","id","th-1",3,"click"],[1,"tskmgr-sort-icon-cntnr-basic"],["class","tskmgr-sort-icon",4,"ngIf"],[1,"tskmgr-th-div-name-cntnr-l"],[1,"tskmgr-th-span-name"],["columnResize","","id","th-2",3,"click"],[4,"ngIf"],["columnResize","","id","th-3"],["columnResize","","id","th-4",3,"click"],[1,"tskmgr-th-div-name-cntnr-r"],["columnResize","","id","th-5",3,"click"],[3,"click","id"],[1,"tskmgr-numeric-th-div-cntnr",3,"id"],[1,"tskmgr-sort-icon-cntnr"],["class","tskmgr-sort-icon1",4,"ngIf"],[1,"tskmgr-th-div-number-cntnr",3,"id"],[1,"tskmgr-th-div-number",3,"id"],[1,"tskmgr-th-div-symbol"],[1,"tskmgr-numeric-th-name-cntnr",3,"id"],[1,"tskmgr-th-span-name1",3,"id"],[1,"tskmgr-th-span-name1"],[1,"tskmgr-th-div-number-cntnr"],["columnResize","",3,"click"],[1,"tskmgr-vertical-menu"],[1,"tskmgr-vertical-menu-item",3,"click"],[1,"tskmgr-span","head"],[1,"tskmgr-figure"],["class","tskmgr-img",3,"src",4,"ngIf"],[1,"tskmgr-span","mid"],[1,"tskmgr-span","tail"],[3,"active","id","click",4,"ngFor","ngForOf"],[1,"tskmgr-sort-icon"],[1,"tskmgr-sort-icon1"],[1,"tskmgr-img",3,"src"],[2,"min-width","20%","padding-left","16px"],[1,"tskmgr-figure0"],[1,"tskmgr-figcaption0"],["class","tskmgr-figcaption0","style","top: 1px; position: relative; right: -75% ;",4,"ngIf"],[2,"text-align","right"],[3,"id"],[1,"tskmgr-figcaption0",2,"top","1px","position","relative","right","-75%"],[1,"tskmgr-img0",2,"height","14px","width","14px",3,"src"],[1,"taskmgr-table-cntnr"],["class","taskmgr-table mini",4,"ngIf"],[1,"btn","btn-primary-b",3,"click","ngClass"],[1,"taskmgr-table","mini"],[2,"width","55%"]],template:function(i,r){if(1&i){const o=Tt();I(0,"cos-window",11),de("click",function(){return G(o),Y(r.setTaskMangrWindowToFocus(r.processId))})("focusout",function(){return G(o),Y(r.hideShowNavMenu(""))}),xc(1,12),Le(2,gW,90,20,"ng-template",null,0,ki)(4,yW,13,3,"ng-template",null,1,ki),P()}if(2&i){const o=qn(3),s=qn(5);H("runningProcessID",r.processId)("processAppIcon",r.icon)("processAppName",r.name),T(),H("ngTemplateOutlet",r.viewOptions===r.detailedView?o:s)}},dependencies:[Ed,Mo,is,Sd,no,x$],styles:['.card[_ngcontent-%COMP%]{width:100%;height:100%;border:1px solid #ccc}.card-body[_ngcontent-%COMP%]{width:100%;height:100%;padding:0;background-color:#fff;color:#000;border-top:none;margin-bottom:43px}.card-body[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.card-body[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.row[_ngcontent-%COMP%]{margin:10px 0;min-height:10px;min-width:10px}.col[_ngcontent-%COMP%]{padding:10px;background-color:#fff;border:1px solid #cccccc;color:#000}.col[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#007bff}.col[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.tskmgr-table-cntnr[_ngcontent-%COMP%]{width:680px;height:260px;overflow:auto;border-top:none}.tskmgr-table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%;margin:1px 0;font-family:Arial,sans-serif;table-layout:auto}.taskmgr-table.mini[_ngcontent-%COMP%]{border-collapse:collapse;min-width:100%;margin:1px 0;font-family:Arial,sans-serif;table-layout:auto}.tskmgr-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#fff;color:#333;padding:0;text-align:left;font-weight:lighter;height:40px;min-width:80px;border:1px solid #ccc;border-top:none;vertical-align:middle}tbody[_ngcontent-%COMP%]{border-left:0;border-right:0}.tskmgr-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#fff}.tskmgr-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#fff}.tskmgr-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:3px 5px;min-width:80px;margin-left:5px;margin-right:5px;font-size:12px;font-weight:lighter;text-align:left;border:1px solid #ccc;border-top:none;border-bottom:none}.tskmgr-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child   td[_ngcontent-%COMP%]:last-child{border-left:0;border-right:0}.tskmgr-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e8f4fc}.tskmgr-table[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#d0ecfc!important}th[columnResize][_ngcontent-%COMP%], td[columnResize][_ngcontent-%COMP%]{position:relative}th[columnResize][_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;right:0;width:1px;height:100%;cursor:col-resize;background-color:#f0f0f0}span[_ngcontent-%COMP%]{display:block}.tskmgr-th-div-name-cntnr-l[_ngcontent-%COMP%]{display:flex;padding-left:5px;height:50%}.tskmgr-th-div-name-cntnr-r[_ngcontent-%COMP%]{display:flex;padding-right:5px;height:50%}.tskmgr-sort-icon-cntnr-basic[_ngcontent-%COMP%]{height:50%;margin-left:50%}.tskmgr-sort-icon[_ngcontent-%COMP%]{font-size:13px}.tskmgr-th-span-name[_ngcontent-%COMP%]{position:relative;font-size:12px;font-weight:400;color:#043e7c;text-overflow:ellipsis;top:18%}.tskmgr-numeric-th-div-cntnr[_ngcontent-%COMP%]{display:flex;width:80px;height:50%}.tskmgr-sort-icon-cntnr[_ngcontent-%COMP%]{display:flex;width:40%;height:100%}.tskmgr-sort-icon1[_ngcontent-%COMP%]{font-size:13px;position:relative;right:-20%;top:0%}.tskmgr-th-div-number-cntnr[_ngcontent-%COMP%]{display:flex;height:100%;width:60%}.tskmgr-th-div-number[_ngcontent-%COMP%]{font-size:medium;position:relative;font-weight:400;width:58%;top:0%}.tskmgr-th-div-symbol[_ngcontent-%COMP%]{font-size:medium;position:relative;font-weight:400;width:42%;top:0%}.tskmgr-numeric-th-name-cntnr[_ngcontent-%COMP%]{position:relative;height:50%;width:80px;font-size:14px}.tskmgr-th-span-name1[_ngcontent-%COMP%]{position:relative;font-size:12px;font-weight:400;color:#043e7c;text-overflow:ellipsis;text-align:right;padding-right:5px;top:18%}.taskmgr-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-left:0;border-right:0}.tskmgr-figure0[_ngcontent-%COMP%]{align-items:center;display:inline-flex;width:-moz-fit-content;width:fit-content}.tskmgr-figcaption0[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:12px;font-weight:400}.tskmgr-img0[_ngcontent-%COMP%]{height:18px;width:18px;position:relative;margin:0 4px 0 0}.tskmgr-tabbed-window[_ngcontent-%COMP%]{min-width:150px;border:1px solid #ccc}.tskmgr-tabbed-window[_ngcontent-%COMP%]:first-child   .tskmgr-tabbed-window[_ngcontent-%COMP%]:last-child{border-left:0;border-right:0}.tskmgr-tabs[_ngcontent-%COMP%]{display:flex;background-color:#fff;color:#000;border-bottom:none}.tskmgr-tab[_ngcontent-%COMP%]{flex:1;padding:2px 5px;background-color:#f2f2f2;text-align:center;cursor:pointer;transition:background-color .3s;font-weight:400;font-size:12px;border-left:1px solid #ccc;border-right:1px solid #ccc;border-top:1px solid #ccc;max-width:-moz-fit-content;max-width:fit-content;max-height:-moz-fit-content;max-height:fit-content}.tskmgr-tab.active[_ngcontent-%COMP%]{background-color:#fff;border-left:0;border-right:0;border-top:1px solid #ccc;color:#000}.tskmgr-tab-content[_ngcontent-%COMP%]{padding:0;border-top:none}.tskmgr-tab-pane[_ngcontent-%COMP%]{display:none}.tskmgr-tab-pane.active[_ngcontent-%COMP%]{display:block}.just-for-one-span[_ngcontent-%COMP%]{color:#000;font-weight:400;padding-left:2px}.just-for-one-span[_ngcontent-%COMP%]:first-letter{text-decoration:underline}.tsksmgr-footer-div-cntnr[_ngcontent-%COMP%]{display:flex;position:fixed;bottom:0;left:0%;width:100%;height:45px;font-size:small;font-weight:lighter;border-top:1px solid #ccc;background-color:#fff}.tsksmgr-footer-div-cntnt[_ngcontent-%COMP%]{display:flex;position:relative;width:50%;left:0%}.tsksmgr-footer-div-cntnt1[_ngcontent-%COMP%]{display:flex;position:relative;padding-left:5%;width:50%;right:0%}.btn.btn-primary[_ngcontent-%COMP%]{position:relative;background-color:#d0cccc;color:#75787c;border:1px solid #bcbcbc;padding:2px 20px;font-size:12px;font-weight:400;height:22px;right:-68%;top:25%}.btn.btn-primary-b[_ngcontent-%COMP%]{position:relative;background-color:#d0cccc;color:#75787c;border:1px solid #bcbcbc;padding:2px 20px;font-size:12px;font-weight:400;height:22px;right:-25%;top:25%}.btn.btn-primary[_ngcontent-%COMP%]:first-letter   .btn.btn-primary-b[_ngcontent-%COMP%]:first-letter{text-decoration:underline}.btn.btn-primary[_ngcontent-%COMP%]:hover   .btn.btn-primary-b[_ngcontent-%COMP%]:hover{background-color:#84b3e4;border:1px solid #0056b3;color:#000}.btn.btn-primary.active[_ngcontent-%COMP%], .btn.btn-primary.focus[_ngcontent-%COMP%]   .btn.btn-primary-b.active[_ngcontent-%COMP%], .btn.btn-primary-b.focus[_ngcontent-%COMP%]{background-color:#e4e4e1;border:1px solid #ccc;color:#000}.btn.btn-primary.head[_ngcontent-%COMP%]:active, .btn.btn-primary.head[_ngcontent-%COMP%]:focus{background-color:#0056b3;border:1px solid #0056b3;color:#fff}.tskmgr-nav-btn-cntnr[_ngcontent-%COMP%]{background-color:#fff;display:flex;position:relative}.tskmgr-nav-btn[_ngcontent-%COMP%]{display:inline-flex;border:1px transparent;padding:1px 5px;height:20px}.tskmgr-btn-span[_ngcontent-%COMP%]{position:relative;font-size:12px;font-weight:400;text-align:left;top:14%}.tskmgr-nav-btn[_ngcontent-%COMP%]:hover{background-color:#98ccf4;border-color:#8cc8f6}.tskmgr-nav-menu-cntnr[_ngcontent-%COMP%], .tskmgr-nav-menu-cntnr1[_ngcontent-%COMP%]{display:none;position:absolute;background-color:#fff;padding:3px;box-shadow:2px 2px #0000004d;z-index:1}.tskmgr-nav-menu-item[_ngcontent-%COMP%]{display:flex;position:relative;background-color:#fff;width:140px;padding:4px 0}.tskmgr-nav-sub-menu-cntnr[_ngcontent-%COMP%]{display:none;position:absolute;background-color:#fff;padding:3px;box-shadow:2px 2px #0000004d;left:95%;top:-2px;z-index:1}.tskmgr-nav-menu-item[_ngcontent-%COMP%]:hover{background-color:#8cc8f6}.tskmgr-nav-menu-item[_ngcontent-%COMP%]:hover   .tskmgr-nav-sub-menu-cntnr[_ngcontent-%COMP%]{display:block}.tskmgr-nav-sub-menu-cntnr[_ngcontent-%COMP%]   .tskmgr-nav-menu-item[_ngcontent-%COMP%]{padding:1px 0}.tskmgr-item-span[_ngcontent-%COMP%]{display:inline-flex;align-items:center;position:relative;padding-left:10px;font-size:12px;font-weight:400;text-align:left}.tskmgr-nav-div[_ngcontent-%COMP%]{padding-left:22px;height:14px}.tskmgr-nav-figure[_ngcontent-%COMP%]{position:relative;align-items:center;place-content:center;display:inline-flex;width:14px;height:14px;top:-2px}.tskmgr-nav-img[_ngcontent-%COMP%]{height:12px;width:12px;position:relative}.tskmgr-nav-sub-menu-div[_ngcontent-%COMP%]{display:block;width:19px;height:19px}.tskmgr-nav-sub-menu-div.active[_ngcontent-%COMP%]{background-color:#98ccf4}.tskmgr-nav-sub-menu-figure[_ngcontent-%COMP%]{position:relative;display:inline-flex;width:18px;height:18px;top:-2px;left:5px}.tskmgr-nav-sub-menu-img[_ngcontent-%COMP%]{height:8px;width:8px;position:relative}.tskmgr-vertical-menu[_ngcontent-%COMP%]{position:absolute;width:180px;box-shadow:2px 2px #0000004d;border:1px solid #9c9898;z-index:2}.tskmgr-vertical-menu-item[_ngcontent-%COMP%]{height:24px;background-color:#eee;display:inline-flex;width:100%;z-index:2}.tskmgr-vertical-menu-item[_ngcontent-%COMP%]:hover{background-color:#98ccf4;text-decoration:none}.tskmgr-span[_ngcontent-%COMP%]{display:block}.tskmgr-span.head[_ngcontent-%COMP%]{max-width:25%;padding-left:4px}.tskmgr-span.head.active[_ngcontent-%COMP%]{max-width:25%;padding-left:4px;background-color:#98ccf4}.tskmgr-span.mid[_ngcontent-%COMP%]{min-width:50%;padding:0 4px;color:#000;text-align:left;font-size:12px;font-weight:400}.tskmgr-span.tail[_ngcontent-%COMP%]{max-width:25%;padding-left:68px}.tskmgr-img[_ngcontent-%COMP%]{height:16px;width:16px;position:relative}.tskmgr-figure[_ngcontent-%COMP%]{position:relative;align-items:center;display:inline-flex;min-width:18px;top:0;left:15%}']})}return t})(),ll=(()=>{class t{scripts={};loadScript(e,i){var r=this;return Fe(function*(){return r.scripts[e]?Promise.resolve():(r.scripts[e]={name:e,src:i},yield r.loadExternalScript(r.scripts[e]))})()}loadScripts(e,i){var r=this;return Fe(function*(){const o=[];for(let s=0;s<=e.length-1;s++)if(!r.scripts[e[s]]){r.scripts[e[s]]={name:e[s],src:i[s]};const c=yield r.loadExternalScript(r.scripts[e[s]]);o.push(c)}return Promise.resolve()})()}loadExternalScript(e){return Fe(function*(){return new Promise((i,r)=>{const o=document.createElement("script");o.type="text/javascript",o.src=e.src,o.async=!0,o.onload=()=>{i()},o.onerror=s=>{r(s)},document.getElementsByTagName("head")[0].appendChild(o)})})()}static \u0275fac=function(i){return new(i||t)};static \u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const wW=["doswindow"];let EW=(()=>{class t{dosWindow;_fileService;_processIdService;_runningProcessService;_triggerProcessService;_stateManagmentService;_sessionManagmentService;_scriptService;_consts=new Kn;_ci;_fileInfo;_appState;gameSrc="";SECONDS_DELAY=250;name="jsdos";hasWindow=!0;icon=`${this._consts.IMAGE_BASE_PATH}js-dos_emulator.png`;isMaximizable=!1;processId=0;type=on.User;displayName="JS-Dos";dosOptions={style:"none",noSideBar:!0,noFullscreen:!0,noSocialLinks:!0};constructor(e,i,r,o,s,c,h){this._fileService=e,this._processIdService=i,this._triggerProcessService=o,this._stateManagmentService=s,this._sessionManagmentService=c,this._scriptService=h,this.processId=this._processIdService.getNewProcessId(),this.retrievePastSessionData(),this._runningProcessService=r,this._runningProcessService.addProcess(this.getComponentDetail())}ngOnInit(){this._fileInfo=this._triggerProcessService.getLastProcessTrigger()}ngOnDestroy(){this.dosOptions&&null!=this._ci&&this._ci.exit()}ngAfterViewInit(){var e=this;return Fe(function*(){e.setJSDosWindowToFocus(e.processId),e.gameSrc=""!==e.gameSrc?e.gameSrc:e.getGamesSrc(e._fileInfo.getContentPath,e._fileInfo.getCurrentPath),e._scriptService.loadScript("js-dos","osdrive/Program-Files/JS-DOS/js-dos.js").then(Fe(function*(){emulators.pathPrefix="/";const i=yield e._fileService.getFileBlobAsync(e.gameSrc);e._ci=yield Dos(e.dosWindow.nativeElement,e.dosOptions).run(i),e.storeAppState(e.gameSrc),URL.revokeObjectURL(e.gameSrc),e.displayName=e._fileInfo.getFileName})),setTimeout(()=>{e.captureComponentImg()},e.SECONDS_DELAY)})()}captureComponentImg(){Ir(this.dosWindow.nativeElement).then(e=>{this._runningProcessService.addProcessImage(this.name,{pid:this.processId,imageData:e})})}setJSDosWindowToFocus(e){this._runningProcessService.focusOnCurrentProcessNotify.next(e)}getGamesSrc(e,i){let r="";return r=this.checkForExt(e,i)?"/"+this._fileInfo.getContentPath:this._fileInfo.getCurrentPath,r}checkForExt(e,i){const r=(0,_t.extname)(e),o=(0,_t.extname)(i),s=".jsdos";let c=!1;return""!=r&&r==s?c=!0:o==s&&(c=!1),c}storeAppState(e){const i=`${this.name}-${this.processId}`;this._appState={pid:this.processId,app_data:e,app_name:this.name,unique_id:i},this._stateManagmentService.addState(i,this._appState,Jt.App)}retrievePastSessionData(){const e=this._sessionManagmentService._pickUpKey;if(this._sessionManagmentService.hasTempSession(e)){const i=this._sessionManagmentService.getTempSession(e)||"",r=this._sessionManagmentService.getSession(i);if(void 0!==r){const o=r[0];void 0!==o&&""!=o.app_data&&(this.gameSrc=o.app_data)}}}getComponentDetail(){return new vi(this.processId,this.name,this.icon,this.hasWindow,this.type,this._triggerProcessService.getLastProcessTrigger)}static \u0275fac=function(i){return new(i||t)(te(Lo),te(wi),te(Yn),te(hr),te(to),te(eo),te(ll))};static \u0275cmp=a({type:t,selectors:[["cos-jsdos"]],viewQuery:function(i,r){if(1&i&&Wt(wW,5),2&i){let o;Gt(o=Yt())&&(r.dosWindow=o.first)}},decls:3,vars:4,consts:[["doswindow",""],[3,"click","runningProcessID","processAppIcon","processAppName","isMaximizable"],[1,"canvas",2,"height","600px","width","800px","position","relative"]],template:function(i,r){if(1&i){const o=Tt();I(0,"cos-window",1),de("click",function(){return G(o),Y(r.setJSDosWindowToFocus(r.processId))}),re(1,"div",2,0),P()}2&i&&H("runningProcessID",r.processId)("processAppIcon",r.icon)("processAppName",r.name)("isMaximizable",r.isMaximizable)},dependencies:[no],styles:[".canvas[_ngcontent-%COMP%]{height:100%;image-rendering:pixelated;top:0!important;width:100%}.emulator-root[_ngcontent-%COMP%]{background:#000;overflow:hidden;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none;touch-action:none}.emulator-canvas[_ngcontent-%COMP%], .emulator-video[_ngcontent-%COMP%]{image-rendering:-moz-crisp-edges;image-rendering:crisp-edges;image-rendering:pixelated;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none;touch-action:none}.emulator-video[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;height:100%;display:none}.emulator-loading[_ngcontent-%COMP%]{position:absolute;inset:0;background:#000;color:#fff;font-weight:700}.emulator-loading-inner[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;height:100%;width:100%;margin:0;padding:0}.emulator-loading-pre-1[_ngcontent-%COMP%]{font-size:2vw;margin:0 0 1em}.emulator-loading-pre-2[_ngcontent-%COMP%]{margin:1em 0;font-size:2vw;font-family:monospace;font-weight:100;text-transform:uppercase}.emulator-loader[_ngcontent-%COMP%]{background:gray;background-size:cover;width:50px;height:50px}.emulator-control-exit-fullscreen-icon[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3C!-- Generator: Adobe Illustrator 17.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E%3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 16 16' enable-background='new 0 0 16 16' xml:space='preserve'%3E%3Cg id='minimize_1_' fill='%23FFFFFF'%3E%3Cg%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M15.99,0.99c0-0.55-0.45-1-1-1c-0.28,0-0.53,0.11-0.71,0.29l-3.29,3.29V1.99 c0-0.55-0.45-1-1-1s-1,0.45-1,1v4c0,0.55,0.45,1,1,1h4c0.55,0,1-0.45,1-1s-0.45-1-1-1h-1.59L15.7,1.7 C15.88,1.52,15.99,1.27,15.99,0.99z M5.99,8.99h-4c-0.55,0-1,0.45-1,1s0.45,1,1,1h1.59l-3.29,3.29c-0.18,0.18-0.29,0.43-0.29,0.71 c0,0.55,0.45,1,1,1c0.28,0,0.53-0.11,0.71-0.29l3.29-3.29v1.59c0,0.55,0.45,1,1,1s1-0.45,1-1v-4C6.99,9.44,6.54,8.99,5.99,8.99z' /%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")!important}.emulator-control-close-icon[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3C!-- Generator: Adobe Illustrator 18.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 20 20' enable-background='new 0 0 20 20' fill='%23FFF' xml:space='preserve'%3E%3Cg id='cross_mark_6_'%3E%3Cg%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M11.41,10l4.29-4.29C15.89,5.53,16,5.28,16,5c0-0.55-0.45-1-1-1 c-0.28,0-0.53,0.11-0.71,0.29L10,8.59L5.71,4.29C5.53,4.11,5.28,4,5,4C4.45,4,4,4.45,4,5c0,0.28,0.11,0.53,0.29,0.71L8.59,10 l-4.29,4.29C4.11,14.47,4,14.72,4,15c0,0.55,0.45,1,1,1c0.28,0,0.53-0.11,0.71-0.29L10,11.41l4.29,4.29 C14.47,15.89,14.72,16,15,16c0.55,0,1-0.45,1-1c0-0.28-0.11-0.53-0.29-0.71L11.41,10z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")!important}.emulator-mouse-overlay[_ngcontent-%COMP%]{position:absolute;inset:0}.emulator-click-to-start-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;flex-direction:column;display:none}.emulator-click-to-start-text[_ngcontent-%COMP%]{color:#fff;font-size:2em;margin:0 0 1em;font-family:monospace;text-transform:uppercase;font-weight:400}.emulator-click-to-start-icon[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 20 20' enable-background='new 0 0 20 20' xml:space='preserve'%3E%3Cg id='play_1_'%3E%3Cg%3E%3Cpath fill='%23FFF' fill-rule='evenodd' clip-rule='evenodd' d='M16,10c0-0.36-0.2-0.67-0.49-0.84l0.01-0.01l-10-6L5.51,3.16 C5.36,3.07,5.19,3,5,3C4.45,3,4,3.45,4,4v12c0,0.55,0.45,1,1,1c0.19,0,0.36-0.07,0.51-0.16l0.01,0.01l10-6l-0.01-0.01 C15.8,10.67,16,10.36,16,10z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");width:64px;height:64px}.emulator-fullscreen-workaround[_ngcontent-%COMP%]{position:fixed!important;inset:0;background:#000;z-index:999}.emulator-button-touch-zone[_ngcontent-%COMP%], .emulator-button[_ngcontent-%COMP%]{cursor:pointer;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none;touch-action:none;overflow:hidden;background:none;color:#fff;border-radius:50%;filter:opacity(.8)}.emulator-button-touch-zone[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;border-color:#ffffff80;border-style:solid;box-shadow:0 0 2px 2px #ffffff80,inset 0 0 2px 2px #ffffff80}.emulator-button[_ngcontent-%COMP%]{position:absolute;background-color:#80808080;background-size:50%;background-repeat:no-repeat;background-position:center;border:1px solid rgb(255,255,255);text-shadow:-1px -1px 0 rgb(0,0,0),1px -1px 0 rgb(0,0,0),-1px 1px 0 rgb(0,0,0),1px 1px 0 rgb(0,0,0);text-align:center;box-shadow:0 0 0 1px #000}.emulator-control-select[_ngcontent-%COMP%]:hover, .emulator-button-touch-zone[_ngcontent-%COMP%]:hover{filter:opacity(1) hue-rotate(-70deg) saturate(5) sepia(1)}.emulator-button-touch-zone.emulator-button-control[_ngcontent-%COMP%]{filter:opacity(1)!important;background-color:gray!important;z-index:999}.emulator-button-highlight[_ngcontent-%COMP%], .emulator-button-control[_ngcontent-%COMP%]:hover{filter:opacity(1) hue-rotate(-70deg) saturate(5) sepia(1)!important}.emulator-control-select[_ngcontent-%COMP%]{overflow:hidden;background:none;color:#fff;border-radius:10%;border:1px solid rgb(255,255,255);box-shadow:0 0 0 1px #000;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none;touch-action:none;filter:opacity(.7)}.emulator-options[_ngcontent-%COMP%]{justify-content:flex-end;flex-wrap:wrap-reverse;display:flex;flex-direction:row;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none;touch-action:none}.emulator-keyboard[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;z-index:999;color:#000;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none;touch-action:none}@keyframes _ngcontent-%COMP%_notyf-fadeinup{0%{opacity:0;transform:translateY(25%)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_notyf-fadeinleft{0%{opacity:0;transform:translate(25%)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_notyf-fadeoutright{0%{opacity:1;transform:translate(0)}to{opacity:0;transform:translate(25%)}}@keyframes _ngcontent-%COMP%_notyf-fadeoutdown{0%{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(25%)}}@keyframes _ngcontent-%COMP%_ripple{0%{transform:scale(0) translateY(-45%) translate(13%)}to{transform:scale(1) translateY(-45%) translate(13%)}}.notyf[_ngcontent-%COMP%]{position:fixed;top:0;left:0;height:100%;width:100%;color:#fff;z-index:9999;display:flex;flex-direction:column;align-items:flex-end;justify-content:flex-end;pointer-events:none;box-sizing:border-box;padding:20px}.notyf__icon--error[_ngcontent-%COMP%], .notyf__icon--success[_ngcontent-%COMP%]{height:21px;width:21px;background:#fff;border-radius:50%;display:block;margin:0 auto;position:relative}.notyf__icon--error[_ngcontent-%COMP%]:after, .notyf__icon--error[_ngcontent-%COMP%]:before{content:\"\";background:currentColor;display:block;position:absolute;width:3px;border-radius:3px;left:9px;height:12px;top:5px}.notyf__icon--error[_ngcontent-%COMP%]:after{transform:rotate(-45deg)}.notyf__icon--error[_ngcontent-%COMP%]:before{transform:rotate(45deg)}.notyf__icon--success[_ngcontent-%COMP%]:after, .notyf__icon--success[_ngcontent-%COMP%]:before{content:\"\";background:currentColor;display:block;position:absolute;width:3px;border-radius:3px}.notyf__icon--success[_ngcontent-%COMP%]:after{height:6px;transform:rotate(-45deg);top:9px;left:6px}.notyf__icon--success[_ngcontent-%COMP%]:before{height:11px;transform:rotate(45deg);top:5px;left:10px}.notyf__toast[_ngcontent-%COMP%]{display:block;overflow:hidden;pointer-events:auto;animation:_ngcontent-%COMP%_notyf-fadeinup .3s ease-in forwards;box-shadow:0 3px 7px #00000040;position:relative;padding:0 15px;border-radius:2px;max-width:300px;transform:translateY(25%);box-sizing:border-box;flex-shrink:0}.notyf__toast--disappear[_ngcontent-%COMP%]{transform:translateY(0);animation:_ngcontent-%COMP%_notyf-fadeoutdown .3s forwards;animation-delay:.25s}.notyf__toast--disappear[_ngcontent-%COMP%]   .notyf__icon[_ngcontent-%COMP%], .notyf__toast--disappear[_ngcontent-%COMP%]   .notyf__message[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_notyf-fadeoutdown .3s forwards;opacity:1;transform:translateY(0)}.notyf__toast--disappear[_ngcontent-%COMP%]   .notyf__dismiss[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_notyf-fadeoutright .3s forwards;opacity:1;transform:translate(0)}.notyf__toast--disappear[_ngcontent-%COMP%]   .notyf__message[_ngcontent-%COMP%]{animation-delay:.05s}.notyf__toast--upper[_ngcontent-%COMP%]{margin-bottom:20px}.notyf__toast--lower[_ngcontent-%COMP%]{margin-top:20px}.notyf__toast--dismissible[_ngcontent-%COMP%]   .notyf__wrapper[_ngcontent-%COMP%]{padding-right:30px}.notyf__ripple[_ngcontent-%COMP%]{height:400px;width:400px;position:absolute;transform-origin:bottom right;right:0;top:0;border-radius:50%;transform:scale(0) translateY(-51%) translate(13%);z-index:5;animation:_ngcontent-%COMP%_ripple .4s ease-out forwards}.notyf__wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:17px;padding-bottom:17px;padding-right:15px;border-radius:3px;position:relative;z-index:10}.notyf__icon[_ngcontent-%COMP%]{width:22px;text-align:center;font-size:1.3em;opacity:0;animation:_ngcontent-%COMP%_notyf-fadeinup .3s forwards;animation-delay:.3s;margin-right:13px}.notyf__dismiss[_ngcontent-%COMP%]{position:absolute;top:0;right:0;height:100%;width:26px;margin-right:-15px;animation:_ngcontent-%COMP%_notyf-fadeinleft .3s forwards;animation-delay:.35s;opacity:0}.notyf__dismiss-btn[_ngcontent-%COMP%]{background-color:#00000040;border:none;cursor:pointer;transition:opacity .2s ease,background-color .2s ease;outline:none;opacity:.35;height:100%;width:100%}.notyf__dismiss-btn[_ngcontent-%COMP%]:after, .notyf__dismiss-btn[_ngcontent-%COMP%]:before{content:\"\";background:#fff;height:12px;width:2px;border-radius:3px;position:absolute;left:calc(50% - 1px);top:calc(50% - 5px)}.notyf__dismiss-btn[_ngcontent-%COMP%]:after{transform:rotate(-45deg)}.notyf__dismiss-btn[_ngcontent-%COMP%]:before{transform:rotate(45deg)}.notyf__dismiss-btn[_ngcontent-%COMP%]:hover{opacity:.7;background-color:#00000026}.notyf__dismiss-btn[_ngcontent-%COMP%]:active{opacity:.8}.notyf__message[_ngcontent-%COMP%]{vertical-align:middle;position:relative;opacity:0;animation:_ngcontent-%COMP%_notyf-fadeinup .3s forwards;animation-delay:.25s;line-height:1.5em}@media only screen and (max-width:480px){.notyf[_ngcontent-%COMP%]{padding:0}.notyf__ripple[_ngcontent-%COMP%]{height:600px;width:600px;animation-duration:.5s}.notyf__toast[_ngcontent-%COMP%]{max-width:none;border-radius:0;box-shadow:0 -2px 7px #00000021;width:100%}.notyf__dismiss[_ngcontent-%COMP%]{width:56px}}.hg-theme-default[_ngcontent-%COMP%]{width:100%;-webkit-user-select:none;user-select:none;box-sizing:border-box;overflow:hidden;touch-action:manipulation}.hg-theme-default[_ngcontent-%COMP%]   .hg-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{pointer-events:none}.hg-theme-default[_ngcontent-%COMP%]   button.hg-button[_ngcontent-%COMP%]{border-width:0;outline:0;font-size:inherit}.hg-theme-default[_ngcontent-%COMP%]{font-family:HelveticaNeue-Light,Helvetica Neue Light,Helvetica Neue,Helvetica,Arial,Lucida Grande,sans-serif;background-color:#ececec;padding:5px;border-radius:5px}.hg-theme-default[_ngcontent-%COMP%]   .hg-button[_ngcontent-%COMP%]{display:inline-block;flex-grow:1}.hg-theme-default[_ngcontent-%COMP%]   .hg-row[_ngcontent-%COMP%]{display:flex}.hg-theme-default[_ngcontent-%COMP%]   .hg-row[_ngcontent-%COMP%]:not(:last-child){margin-bottom:5px}.hg-theme-default[_ngcontent-%COMP%]   .hg-row[_ngcontent-%COMP%]   .hg-button-container[_ngcontent-%COMP%], .hg-theme-default[_ngcontent-%COMP%]   .hg-row[_ngcontent-%COMP%]   .hg-button[_ngcontent-%COMP%]:not(:last-child){margin-right:5px}.hg-theme-default[_ngcontent-%COMP%]   .hg-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{margin-right:0}.hg-theme-default[_ngcontent-%COMP%]   .hg-row[_ngcontent-%COMP%]   .hg-button-container[_ngcontent-%COMP%]{display:flex}.hg-theme-default[_ngcontent-%COMP%]   .hg-button[_ngcontent-%COMP%]{box-shadow:0 0 3px -1px #0000004d;height:40px;border-radius:5px;box-sizing:border-box;padding:5px;background:#fff;border-bottom:1px solid #b5b5b5;cursor:pointer;display:flex;align-items:center;justify-content:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.hg-theme-default[_ngcontent-%COMP%]   .hg-button.hg-activeButton[_ngcontent-%COMP%]{background:#efefef}.hg-theme-default.hg-layout-numeric[_ngcontent-%COMP%]   .hg-button[_ngcontent-%COMP%]{width:33.3%;height:60px;align-items:center;display:flex;justify-content:center}.hg-theme-default[_ngcontent-%COMP%]   .hg-button.hg-button-numpadadd[_ngcontent-%COMP%], .hg-theme-default[_ngcontent-%COMP%]   .hg-button.hg-button-numpadenter[_ngcontent-%COMP%]{height:85px}.hg-theme-default[_ngcontent-%COMP%]   .hg-button.hg-button-numpad0[_ngcontent-%COMP%]{width:105px}.hg-theme-default[_ngcontent-%COMP%]   .hg-button.hg-button-com[_ngcontent-%COMP%]{max-width:85px}.hg-theme-default[_ngcontent-%COMP%]   .hg-button.hg-standardBtn.hg-button-at[_ngcontent-%COMP%]{max-width:45px}.hg-theme-default[_ngcontent-%COMP%]   .hg-button.hg-selectedButton[_ngcontent-%COMP%]{background:#05194687;color:#fff}.hg-theme-default[_ngcontent-%COMP%]   .hg-button.hg-standardBtn[data-skbtn=\".com\"][_ngcontent-%COMP%]{max-width:82px}.hg-theme-default[_ngcontent-%COMP%]   .hg-button.hg-standardBtn[data-skbtn=\"@\"][_ngcontent-%COMP%]{max-width:60px}\n\n*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:before, [_ngcontent-%COMP%]:after{box-sizing:border-box}html[_ngcontent-%COMP%]{tab-size:4}html[_ngcontent-%COMP%]{line-height:1.15;-webkit-text-size-adjust:100%}body[_ngcontent-%COMP%]{margin:0}body[_ngcontent-%COMP%]{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"}hr[_ngcontent-%COMP%]{height:0;color:inherit}abbr[title][_ngcontent-%COMP%]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%], pre[_ngcontent-%COMP%]{font-family:ui-monospace,SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:1em}small[_ngcontent-%COMP%]{font-size:80%}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}table[_ngcontent-%COMP%]{text-indent:0;border-color:inherit}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}button[_ngcontent-%COMP%], [type=button][_ngcontent-%COMP%]{-webkit-appearance:button}[_ngcontent-%COMP%]::-moz-focus-inner{border-style:none;padding:0}legend[_ngcontent-%COMP%]{padding:0}progress[_ngcontent-%COMP%]{vertical-align:baseline}[_ngcontent-%COMP%]::-webkit-inner-spin-button, [_ngcontent-%COMP%]::-webkit-outer-spin-button{height:auto}[_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary[_ngcontent-%COMP%]{display:list-item}blockquote[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], dd[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], hr[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%]{margin:0}button[_ngcontent-%COMP%]{background-color:transparent;background-image:none}fieldset[_ngcontent-%COMP%]{margin:0;padding:0}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}html[_ngcontent-%COMP%]{font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\",Segoe UI Symbol,\"Noto Color Emoji\";line-height:1.5}body[_ngcontent-%COMP%]{font-family:inherit;line-height:inherit}*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:before, [_ngcontent-%COMP%]:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:currentColor}hr[_ngcontent-%COMP%]{border-top-width:1px}img[_ngcontent-%COMP%]{border-style:solid}textarea[_ngcontent-%COMP%]{resize:vertical}input[_ngcontent-%COMP%]::placeholder, textarea[_ngcontent-%COMP%]::placeholder{opacity:1;color:#9ca3af}button[_ngcontent-%COMP%]{cursor:pointer}table[_ngcontent-%COMP%]{border-collapse:collapse}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-size:inherit;font-weight:inherit}a[_ngcontent-%COMP%]{color:inherit;text-decoration:inherit}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{padding:0;line-height:inherit;color:inherit}pre[_ngcontent-%COMP%], code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%]{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}img[_ngcontent-%COMP%], svg[_ngcontent-%COMP%], video[_ngcontent-%COMP%], canvas[_ngcontent-%COMP%], audio[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], embed[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{display:block;vertical-align:middle}img[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{max-width:100%;height:auto}[hidden][_ngcontent-%COMP%]{display:none}*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:before, [_ngcontent-%COMP%]:after{--tw-border-opacity: 1;border-color:rgba(229,231,235,var(--tw-border-opacity))}.pointer-events-none[_ngcontent-%COMP%]{pointer-events:none}.absolute[_ngcontent-%COMP%]{position:absolute}.relative[_ngcontent-%COMP%]{position:relative}.top-0[_ngcontent-%COMP%]{top:0}.top-2[_ngcontent-%COMP%]{top:.5rem}.top-1\\/2[_ngcontent-%COMP%]{top:50%}.right-0[_ngcontent-%COMP%]{right:0}.right-2[_ngcontent-%COMP%]{right:.5rem}.bottom-0[_ngcontent-%COMP%]{bottom:0}.left-0[_ngcontent-%COMP%]{left:0}.left-2[_ngcontent-%COMP%]{left:.5rem}.left-10[_ngcontent-%COMP%]{left:2.5rem}.z-50[_ngcontent-%COMP%]{z-index:50}.col-span-2[_ngcontent-%COMP%]{grid-column:span 2 / span 2}.mx-1[_ngcontent-%COMP%]{margin-left:.25rem;margin-right:.25rem}.mx-2[_ngcontent-%COMP%]{margin-left:.5rem;margin-right:.5rem}.-mx-6[_ngcontent-%COMP%]{margin-left:-1.5rem;margin-right:-1.5rem}.my-2[_ngcontent-%COMP%]{margin-top:.5rem;margin-bottom:.5rem}.my-4[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:1rem}.mt-0[_ngcontent-%COMP%]{margin-top:0}.mt-1[_ngcontent-%COMP%]{margin-top:.25rem}.mt-2[_ngcontent-%COMP%]{margin-top:.5rem}.mt-4[_ngcontent-%COMP%]{margin-top:1rem}.mt-8[_ngcontent-%COMP%]{margin-top:2rem}.mt-0\\.5[_ngcontent-%COMP%]{margin-top:.125rem}.-mt-1[_ngcontent-%COMP%]{margin-top:-.25rem}.-mt-3[_ngcontent-%COMP%]{margin-top:-.75rem}.-mt-6[_ngcontent-%COMP%]{margin-top:-1.5rem}.-mt-7[_ngcontent-%COMP%]{margin-top:-1.75rem}.mr-2[_ngcontent-%COMP%]{margin-right:.5rem}.mb-2[_ngcontent-%COMP%]{margin-bottom:.5rem}.ml-2[_ngcontent-%COMP%]{margin-left:.5rem}.-ml-2[_ngcontent-%COMP%]{margin-left:-.5rem}.inline-block[_ngcontent-%COMP%]{display:inline-block}.inline[_ngcontent-%COMP%]{display:inline}.flex[_ngcontent-%COMP%]{display:flex}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.table[_ngcontent-%COMP%]{display:table}.grid[_ngcontent-%COMP%]{display:grid}.hidden[_ngcontent-%COMP%]{display:none}.h-2[_ngcontent-%COMP%]{height:.5rem}.h-4[_ngcontent-%COMP%]{height:1rem}.h-5[_ngcontent-%COMP%]{height:1.25rem}.h-6[_ngcontent-%COMP%]{height:1.5rem}.h-8[_ngcontent-%COMP%]{height:2rem}.h-12[_ngcontent-%COMP%]{height:3rem}.h-full[_ngcontent-%COMP%]{height:100%}.max-h-72[_ngcontent-%COMP%]{max-height:18rem}.w-2[_ngcontent-%COMP%]{width:.5rem}.w-4[_ngcontent-%COMP%]{width:1rem}.w-5[_ngcontent-%COMP%]{width:1.25rem}.w-6[_ngcontent-%COMP%]{width:1.5rem}.w-8[_ngcontent-%COMP%]{width:2rem}.w-10[_ngcontent-%COMP%]{width:2.5rem}.w-14[_ngcontent-%COMP%]{width:3.5rem}.w-20[_ngcontent-%COMP%]{width:5rem}.w-24[_ngcontent-%COMP%]{width:6rem}.w-3\\/4[_ngcontent-%COMP%]{width:75%}.w-full[_ngcontent-%COMP%]{width:100%}.flex-shrink-0[_ngcontent-%COMP%]{flex-shrink:0}.flex-shrink[_ngcontent-%COMP%]{flex-shrink:1}.flex-grow-0[_ngcontent-%COMP%]{flex-grow:0}.flex-grow[_ngcontent-%COMP%]{flex-grow:1}.transform[_ngcontent-%COMP%]{--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;transform:translate(var(--tw-translate-x)) translateY(var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\\:scale-125[_ngcontent-%COMP%]:hover{--tw-scale-x: 1.25;--tw-scale-y: 1.25}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_ping{75%,to{transform:scale(2);opacity:0}}@keyframes _ngcontent-%COMP%_pulse{50%{opacity:.5}}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(-25%);animation-timing-function:cubic-bezier(.8,0,1,1)}50%{transform:none;animation-timing-function:cubic-bezier(0,0,.2,1)}}@keyframes _ngcontent-%COMP%_reverse-spin{0%{transform:rotate(360deg)}}.animate-ping[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_ping 1s cubic-bezier(0,0,.2,1) infinite}.animate-pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s cubic-bezier(.4,0,.6,1) infinite}.animate-reverse-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_reverse-spin 1s linear infinite}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.grid-cols-2[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))}.flex-row[_ngcontent-%COMP%]{flex-direction:row}.flex-col[_ngcontent-%COMP%]{flex-direction:column}.flex-wrap[_ngcontent-%COMP%]{flex-wrap:wrap}.items-center[_ngcontent-%COMP%]{align-items:center}.justify-center[_ngcontent-%COMP%]{justify-content:center}.justify-between[_ngcontent-%COMP%]{justify-content:space-between}.justify-around[_ngcontent-%COMP%]{justify-content:space-around}.justify-evenly[_ngcontent-%COMP%]{justify-content:space-evenly}.gap-4[_ngcontent-%COMP%]{gap:1rem}.self-start[_ngcontent-%COMP%]{align-self:flex-start}.overflow-auto[_ngcontent-%COMP%]{overflow:auto}.overflow-hidden[_ngcontent-%COMP%]{overflow:hidden}.overflow-y-auto[_ngcontent-%COMP%]{overflow-y:auto}.overflow-x-hidden[_ngcontent-%COMP%]{overflow-x:hidden}.overflow-ellipsis[_ngcontent-%COMP%]{text-overflow:ellipsis}.whitespace-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.break-words[_ngcontent-%COMP%]{overflow-wrap:break-word}.break-all[_ngcontent-%COMP%]{word-break:break-all}.rounded[_ngcontent-%COMP%]{border-radius:.25rem}.rounded-2xl[_ngcontent-%COMP%]{border-radius:1rem}.rounded-full[_ngcontent-%COMP%]{border-radius:9999px}.rounded-r-md[_ngcontent-%COMP%]{border-top-right-radius:.375rem;border-bottom-right-radius:.375rem}.rounded-l-lg[_ngcontent-%COMP%]{border-top-left-radius:.5rem;border-bottom-left-radius:.5rem}.rounded-br-md[_ngcontent-%COMP%]{border-bottom-right-radius:.375rem}.border-2[_ngcontent-%COMP%]{border-width:2px}.border[_ngcontent-%COMP%]{border-width:1px}.border-t-2[_ngcontent-%COMP%]{border-top-width:2px}.border-b-2[_ngcontent-%COMP%]{border-bottom-width:2px}.border-b[_ngcontent-%COMP%]{border-bottom-width:1px}.border-gray-400[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgba(156,163,175,var(--tw-border-opacity))}.border-gray-800[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgba(31,41,55,var(--tw-border-opacity))}.border-red-600[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgba(220,38,38,var(--tw-border-opacity))}.border-green-200[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgba(167,243,208,var(--tw-border-opacity))}.border-blue-400[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgba(96,165,250,var(--tw-border-opacity))}.bg-white[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgba(255,255,255,var(--tw-bg-opacity))}.bg-gray-200[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgba(229,231,235,var(--tw-bg-opacity))}.bg-gray-300[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgba(209,213,219,var(--tw-bg-opacity))}.bg-gray-400[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgba(156,163,175,var(--tw-bg-opacity))}.bg-gray-500[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgba(107,114,128,var(--tw-bg-opacity))}.bg-gray-600[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgba(75,85,99,var(--tw-bg-opacity))}.bg-gray-800[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgba(31,41,55,var(--tw-bg-opacity))}.bg-red-200[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgba(254,202,202,var(--tw-bg-opacity))}.bg-red-400[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgba(248,113,113,var(--tw-bg-opacity))}.bg-green-100[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgba(209,250,229,var(--tw-bg-opacity))}.bg-green-200[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgba(167,243,208,var(--tw-bg-opacity))}.bg-opacity-80[_ngcontent-%COMP%]{--tw-bg-opacity: .8}.p-2[_ngcontent-%COMP%]{padding:.5rem}.px-2[_ngcontent-%COMP%]{padding-left:.5rem;padding-right:.5rem}.px-4[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem}.px-8[_ngcontent-%COMP%]{padding-left:2rem;padding-right:2rem}.py-0[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}.py-1[_ngcontent-%COMP%]{padding-top:.25rem;padding-bottom:.25rem}.py-2[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.5rem}.py-4[_ngcontent-%COMP%]{padding-top:1rem;padding-bottom:1rem}.pt-2[_ngcontent-%COMP%]{padding-top:.5rem}.pt-6[_ngcontent-%COMP%]{padding-top:1.5rem}.pb-2[_ngcontent-%COMP%]{padding-bottom:.5rem}.pb-4[_ngcontent-%COMP%]{padding-bottom:1rem}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.font-mono[_ngcontent-%COMP%]{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}.text-xs[_ngcontent-%COMP%]{font-size:.75rem;line-height:1rem}.text-sm[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem}.text-lg[_ngcontent-%COMP%]{font-size:1.125rem;line-height:1.75rem}.text-2xl[_ngcontent-%COMP%]{font-size:1.5rem;line-height:2rem}.font-bold[_ngcontent-%COMP%]{font-weight:700}.uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-black[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgba(0,0,0,var(--tw-text-opacity))}.text-gray-400[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgba(156,163,175,var(--tw-text-opacity))}.text-gray-600[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgba(75,85,99,var(--tw-text-opacity))}.text-red-400[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgba(248,113,113,var(--tw-text-opacity))}.text-red-500[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgba(239,68,68,var(--tw-text-opacity))}.text-red-800[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgba(153,27,27,var(--tw-text-opacity))}.text-green-400[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgba(52,211,153,var(--tw-text-opacity))}.text-green-600[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgba(5,150,105,var(--tw-text-opacity))}.text-blue-400[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgba(96,165,250,var(--tw-text-opacity))}.text-blue-900[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgba(30,58,138,var(--tw-text-opacity))}.text-purple-400[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgba(167,139,250,var(--tw-text-opacity))}.text-purple-600[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgba(124,58,237,var(--tw-text-opacity))}.text-pink-400[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgba(244,114,182,var(--tw-text-opacity))}.hover\\:text-gray-800[_ngcontent-%COMP%]:hover{--tw-text-opacity: 1;color:rgba(31,41,55,var(--tw-text-opacity))}.hover\\:text-green-600[_ngcontent-%COMP%]:hover{--tw-text-opacity: 1;color:rgba(5,150,105,var(--tw-text-opacity))}.underline[_ngcontent-%COMP%]{text-decoration:underline}.opacity-0[_ngcontent-%COMP%]{opacity:0}.opacity-75[_ngcontent-%COMP%]{opacity:.75}.opacity-80[_ngcontent-%COMP%]{opacity:.8}.opacity-95[_ngcontent-%COMP%]{opacity:.95}*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:before, [_ngcontent-%COMP%]:after{--tw-shadow: 0 0 #0000}.shadow[_ngcontent-%COMP%]{--tw-shadow: 0 1px 3px 0 rgba(0, 0, 0, .1), 0 1px 2px 0 rgba(0, 0, 0, .06);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg[_ngcontent-%COMP%]{--tw-shadow: 0 10px 15px -3px rgba(0, 0, 0, .1), 0 4px 6px -2px rgba(0, 0, 0, .05);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:before, [_ngcontent-%COMP%]:after{--tw-ring-inset: var(--tw-empty, );--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgba(59, 130, 246, .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000}.filter[_ngcontent-%COMP%]{--tw-blur: var(--tw-empty, );--tw-brightness: var(--tw-empty, );--tw-contrast: var(--tw-empty, );--tw-grayscale: var(--tw-empty, );--tw-hue-rotate: var(--tw-empty, );--tw-invert: var(--tw-empty, );--tw-saturate: var(--tw-empty, );--tw-sepia: var(--tw-empty, );--tw-drop-shadow: var(--tw-empty, );filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow-lg[_ngcontent-%COMP%]{--tw-drop-shadow: drop-shadow(0 10px 8px rgba(0, 0, 0, .04)) drop-shadow(0 4px 3px rgba(0, 0, 0, .1))}.transition-opacity[_ngcontent-%COMP%]{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-1000[_ngcontent-%COMP%]{transition-duration:1s}.sidebar-header[_ngcontent-%COMP%]{margin-bottom:.5rem;border-bottom-width:2px;--tw-border-opacity: 1;border-color:rgba(167,243,208,var(--tw-border-opacity));padding-bottom:.5rem;text-align:center;text-transform:uppercase;--tw-text-opacity: 1;color:rgba(75,85,99,var(--tw-text-opacity))}input[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px}select[_ngcontent-%COMP%]{border-radius:.25rem;border-width:1px;--tw-border-opacity: 1;border-color:rgba(167,243,208,var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgba(255,255,255,var(--tw-bg-opacity));padding-left:.5rem;padding-right:.5rem}select[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px}@media (min-width: 640px){.sm\\:w-80[_ngcontent-%COMP%]{width:20rem}.sm\\:w-1\\/2[_ngcontent-%COMP%]{width:50%}}"]})}return t})();const SW=["videowindow"],bW=["mainVideoCntnr"],CW=["videoCntnr"];let IW=(()=>{class t{videowindow;mainVideoCntnr;videoCntnr;_maximizeWindowSub;_minimizeWindowSub;_processIdService;_runningProcessService;_triggerProcessService;_stateManagmentService;_sessionManagmentService;_scriptService;_fileInfo;player;_consts=new Kn;_appState;videoSrc="";fileType="";recents=[];SECONDS_DELAY=250;name="videoplayer";hasWindow=!0;icon=`${this._consts.IMAGE_BASE_PATH}videoplayer.png`;processId=0;type=on.System;displayName="Video-js";showTopMenu=!1;constructor(e,i,r,o,s,c){this._processIdService=e,this._triggerProcessService=r,this._stateManagmentService=o,this._runningProcessService=i,this._sessionManagmentService=s,this._scriptService=c,this.processId=this._processIdService.getNewProcessId(),this.retrievePastSessionData(),this._maximizeWindowSub=this._runningProcessService.maximizeProcessWindowNotify.subscribe(()=>{this.maximizeWindow()}),this._minimizeWindowSub=this._runningProcessService.minimizeProcessWindowNotify.subscribe(h=>{this.minmizeWindow(h)}),this._runningProcessService.addProcess(this.getComponentDetail())}ngOnInit(){this._fileInfo=this._triggerProcessService.getLastProcessTrigger()}showMenu(){this.showTopMenu=!0,console.log("show menu")}openFileExplorer(){this.showTopMenu=!1}playPrevious(){this.showTopMenu=!1}ngAfterViewInit(){var e=this;return Fe(function*(){e.setVideoWindowToFocus(e.processId),e.fileType=""!==e.fileType?e.fileType:"video/"+e._fileInfo.getFileType.replace(".",""),e.videoSrc=""!==e.videoSrc?e.videoSrc:e.getVideoSrc(e._fileInfo.getContentPath,e._fileInfo.getCurrentPath);const i={fluid:!0,responsive:!0,autoplay:!0,controls:!0,aspectRatio:"16:9",controlBar:{fullscreenToggle:!1,skipButtons:{backward:10,forward:10}},sources:[{src:e.videoSrc,type:e.fileType}]};e.storeAppState([e.fileType,e.videoSrc]),e._scriptService.loadScript("videojs","osdrive/Program-Files/Videojs/video.min.js").then(()=>{e.player=videojs(e.videowindow.nativeElement,i,function(){console.log("onPlayerReady:","player is read")})}),setTimeout(()=>{e.captureComponentImg()},e.SECONDS_DELAY)})()}ngOnDestroy(){this.player&&(this.player.off("fullscreenchange",this.onFullscreenChange),this.player.dispose()),this._maximizeWindowSub?.unsubscribe(),this._minimizeWindowSub?.unsubscribe()}captureComponentImg(){Ir(this.videowindow.nativeElement).then(e=>{this._runningProcessService.addProcessImage(this.name,{pid:this.processId,imageData:e})})}onFullscreenChange=()=>{const e=this.player.isFullscreen();console.log("Fullscreen changed:",e),e&&this.player.exitFullscreen()};addToRecentsList(e){this.recents.includes(e)||this.recents.push(e)}setVideoWindowToFocus(e){this._runningProcessService.focusOnCurrentProcessNotify.next(e)}getVideoSrc(e,i){let r="";return e.includes("blob:http")?e:(r=this.checkForExt(e,i)?"/"+this._fileInfo.getContentPath:this._fileInfo.getCurrentPath,r)}checkForExt(e,i){const r=(0,_t.extname)(e),o=(0,_t.extname)(i);let s=!1;return this._consts.VIDEO_FILE_EXTENSIONS.includes(r)?s=!0:this._consts.VIDEO_FILE_EXTENSIONS.includes(o)&&(s=!1),s}storeAppState(e){const i=`${this.name}-${this.processId}`;this._appState={pid:this.processId,app_data:e,app_name:this.name,unique_id:i},this._stateManagmentService.addState(i,this._appState,Jt.App)}retrievePastSessionData(){const e=this._sessionManagmentService._pickUpKey;if(this._sessionManagmentService.hasTempSession(e)){const i=this._sessionManagmentService.getTempSession(e)||"",r=this._sessionManagmentService.getSession(i);if(void 0!==r){const o=r[0];if(void 0!==o&&""!=o.app_data){const s=o.app_data;this.fileType=s[0],this.videoSrc=s[1]}}}}maximizeWindow(){if(`${this.name}-${this.processId}`===this._runningProcessService.getEventOrginator()){this._runningProcessService.removeEventOriginator();const r=document.getElementById("vanta"),o=70;this.videoCntnr.nativeElement.style.width=`${r?.offsetWidth}px`,this.videoCntnr.nativeElement.style.height=(r?.offsetHeight||0)-o+"px"}}minmizeWindow(e){`${this.name}-${this.processId}`===this._runningProcessService.getEventOrginator()&&(this._runningProcessService.removeEventOriginator(),this.videoCntnr.nativeElement.style.width=`${e[0]}px`,this.videoCntnr.nativeElement.style.height=`${e[1]}px`)}getComponentDetail(){return new vi(this.processId,this.name,this.icon,this.hasWindow,this.type,this._triggerProcessService.getLastProcessTrigger)}static \u0275fac=function(i){return new(i||t)(te(wi),te(Yn),te(hr),te(to),te(eo),te(ll))};static \u0275cmp=a({type:t,selectors:[["cos-videoplayer"]],viewQuery:function(i,r){if(1&i&&(Wt(SW,7),Wt(bW,7),Wt(CW,7)),2&i){let o;Gt(o=Yt())&&(r.videowindow=o.first),Gt(o=Yt())&&(r.mainVideoCntnr=o.first),Gt(o=Yt())&&(r.videoCntnr=o.first)}},decls:7,vars:3,consts:[["mainVideoCntnr",""],["videoCntnr",""],["videowindow",""],[3,"click","runningProcessID","processAppIcon","processAppName"],[1,"my-video-main-container"],[1,"my-video-container"],["controls","","muted","","playsinline","","preload","none","width","640","height","360",1,"video-js"]],template:function(i,r){if(1&i){const o=Tt();I(0,"cos-window",3),de("click",function(){return G(o),Y(r.setVideoWindowToFocus(r.processId))}),I(1,"div",4,0)(3,"div",5,1),re(5,"video",6,2),P()()()}2&i&&H("runningProcessID",r.processId)("processAppIcon",r.icon)("processAppName",r.name)},dependencies:[no],styles:[".my-video-main-container[_ngcontent-%COMP%]{display:flex;height:100%;width:100%}.video-top-menu-bar[_ngcontent-%COMP%]{display:flex;width:100%;height:25px;left:0%;background-color:#fff;color:#000}.video-top-menu[_ngcontent-%COMP%]{display:block;position:absolute;width:120px;left:0%;background-color:#ccc;color:#000;font-size:small;font-weight:400;text-align:left;padding:2px 4px;top:55px;z-index:2}.video-top-menu-bar-content[_ngcontent-%COMP%]{position:relative}.my-video-container[_ngcontent-%COMP%]{display:flex;position:relative;min-width:640px;min-height:360px;color:#000}span[_ngcontent-%COMP%]{display:block;padding:4px 0}.btn.btn-primary.head[_ngcontent-%COMP%]{background-color:#fff;color:#333;border:1px solid #ffffff;padding:0 4px;font-size:13px}.btn.btn-primary.head[_ngcontent-%COMP%]:active, .btn.btn-primary.head[_ngcontent-%COMP%]:focus{background-color:#0056b3;border:1px solid #0056b3;color:#fff}.btn.btn-primary.head[_ngcontent-%COMP%]:hover{background-color:#98ccf4;border:1px solid #0056b3}"]})}return t})();const JP=new Qt(t=>t.complete());function Lw(t,n){return Ht((e,i)=>{let r=0;e.subscribe(wn(i,o=>t.call(n,o,r++)&&i.next(o)))})}let PW=(()=>{class t{el;eventSubscribe;threshold=500;mouseLongPress=new Tn;constructor(e){this.el=e;const i=Oi(e.nativeElement,"mousedown").pipe(Lw(o=>0==o.button),Hn(o=>!0)),r=Oi(e.nativeElement,"mouseup").pipe(Lw(o=>0==o.button),Hn(()=>!1));this.eventSubscribe=function MW(...t){const n=jM(t),e=function y8(t,n){return"number"==typeof Jv(t)?t.pop():n}(t,1/0),i=t;return i.length?1===i.length?Ms(i[0]):function xW(t=1/0){return b0(qe,t)}(e)(Xv(i,n)):JP}(i,r).pipe(XP(o=>o?_g(this.threshold,100):function TW(...t){return Xv(t,jM(t))}(null))).subscribe(()=>this.mouseLongPress.emit())}ngOnDestroy(){this.eventSubscribe&&this.eventSubscribe.unsubscribe()}static \u0275fac=function(i){return new(i||t)(te(li))};static \u0275dir=_({type:t,selectors:[["","longPress",""]],outputs:{mouseLongPress:"mouseLongPress"}})}return t})();const AW=["waveForm"],kW=["audioContainer"],OW=["playBtn"],NW=["pauseBtn"],FW=["prevBtn"],RW=["nextBtn"],LW=["playlistBtn"],BW=["progress"],VW=["bar"],UW=["loading"],zW=["volumeBtn"],jW=["volumeSlider"],HW=["barFull"],$W=["barEmpty"],WW=["sliderBtn"];let GW=(()=>{class t{waveForm;audioContainer;playBtn;pauseBtn;prevBtn;nextBtn;playlistBtn;progress;bar;loading;volumeBtn;volumeSlider;barFull;barEmpty;sliderBtn;_maximizeWindowSub;_minimizeWindowSub;_processIdService;_runningProcessService;_triggerProcessService;_stateManagmentService;_sessionManagmentService;_scriptService;_fileInfo;_consts=new Kn;_appState;SECONDS_DELAY=250;audioSrc="";audioPlayer;siriWave;isSliderDown=!1;playList=[];recents=[];name="audioplayer";hasWindow=!0;icon=`${this._consts.IMAGE_BASE_PATH}audioplayer.png`;processId=0;type=on.User;displayName="Howlerjs";showTopMenu=!1;track="N/A";timer="0:00";duration="0:00";constructor(e,i,r,o,s,c){this._processIdService=e,this._triggerProcessService=r,this._stateManagmentService=o,this._sessionManagmentService=s,this._scriptService=c,this.processId=this._processIdService.getNewProcessId(),this.retrievePastSessionData(),this._runningProcessService=i,this._maximizeWindowSub=this._runningProcessService.maximizeProcessWindowNotify.subscribe(()=>{this.maximizeWindow()}),this._minimizeWindowSub=this._runningProcessService.minimizeProcessWindowNotify.subscribe(h=>{this.minimizeWindow(h)}),this._runningProcessService.addProcess(this.getComponentDetail())}ngOnInit(){this._fileInfo=this._triggerProcessService.getLastProcessTrigger()}ngAfterViewInit(){this.setAudioWindowToFocus(this.processId),this.audioSrc=""!==this.audioSrc?this.audioSrc:this.getAudioSrc(this._fileInfo.getContentPath,this._fileInfo.getCurrentPath),this._scriptService.loadScript("howler","osdrive/Program-Files/Howler/howler.min.js").then(()=>{this._scriptService.loadScript("siriwave","osdrive/Program-Files/Howler/siriwave.umd.min.js").then(()=>{this.siriWave=new SiriWave({container:this.waveForm.nativeElement,width:640,height:480,autostart:!1,cover:!0,speed:.03,amplitude:.7,frequency:2}),0==this.playList.length&&(this.loadHowlSingleTrackObjectAsync().then(e=>{this.audioPlayer=e}).catch(e=>{console.error("Error loading track:",e)}),this.storeAppState(this.audioSrc))})}),setTimeout(()=>{this.captureComponentImg()},this.SECONDS_DELAY)}captureComponentImg(){Ir(this.audioContainer.nativeElement).then(e=>{this._runningProcessService.addProcessImage(this.name,{pid:this.processId,imageData:e})})}ngOnDestroy(){this.audioPlayer?.unload(),this._maximizeWindowSub?.unsubscribe(),this._minimizeWindowSub?.unsubscribe()}showMenu(){this.showTopMenu=!0}openFileExplorer(){this.showTopMenu=!1}playPrevious(){this.showTopMenu=!1}onPlayBtnClicked(){this.bar.nativeElement.style.display="none",this.waveForm.nativeElement.style.display="block",this.pauseBtn.nativeElement.style.display="block",this.playBtn.nativeElement.style.display="none",this.siriWave.start(),this.audioPlayer.play(),requestAnimationFrame(this.updatePlayBackPosition.bind(this))}onPauseBtnClicked(){this.bar.nativeElement.style.display="block",this.waveForm.nativeElement.style.display="none",this.pauseBtn.nativeElement.style.display="none",this.playBtn.nativeElement.style.display="block",this.siriWave.stop(),this.audioPlayer.pause()}onPrevBtnClicked(){this.playList.length>0&&this.audioPlayer.play()}onRewind(){let i=this.audioPlayer.seek()-10;i=i<=0?0:i,this.audioPlayer.seek(i)}onNextBtnClicked(){this.playList.length>0&&this.audioPlayer.play()}onFastForward(){const i=this.audioPlayer.seek()+10;i>=this.audioPlayer.duration()?this.audioPlayer.stop():this.audioPlayer.seek(i)}onWaveFormClicked(e){const i=this.audioContainer.nativeElement.getBoundingClientRect();this.onSeek((e.clientX-i.left)/this.waveForm.nativeElement.offsetWidth)}onVolumeBtnClicked(){const e="block"===this.volumeSlider.nativeElement.style.display?"none":"block";setTimeout(()=>{this.volumeSlider.nativeElement.style.display=e},"block"===e?0:500),this.volumeSlider.nativeElement.className="block"===e?"fadein":"fadeout"}onVolumeSliderBtnClicked(){const e="block"===this.volumeSlider.nativeElement.style.display?"none":"block";setTimeout(()=>{this.volumeSlider.nativeElement.style.display=e},"block"===e?0:500),this.volumeSlider.nativeElement.className="block"===e?"fadein":"fadeout"}changeVolume(e){const i=this.audioContainer.nativeElement.getBoundingClientRect();this.audioPlayer.volume(e);const r=90*e/100;this.barFull.nativeElement.style.width=100*r+"%",this.sliderBtn.nativeElement.style.left=i.width*r+.05*i.width-25+"px"}onBarEmptyClick(e){const r=e.offsetX/parseFloat(this.barEmpty.nativeElement.scrollWidth);this.changeVolume(r)}onMousDownSliderBtn(){this.isSliderDown=!0}onVolumeMouseUp(){this.isSliderDown=!1}onVolumeMouseMove(e){if(this.isSliderDown){const i=this.audioContainer.nativeElement.getBoundingClientRect(),o=e.clientX-i.left,s=.05*parseInt(i.width),h=Math.min(1,Math.max(0,(o-s)/parseFloat(this.barEmpty.nativeElement.scrollWidth)));this.changeVolume(h)}}formatTime(e){const i=Math.floor(e/60)||0,r=Math.floor(e-60*i)||0;return i+":"+(r<10?"0":"")+r}addToRecentsList(e){this.recents.includes(e)||this.recents.push(e)}setAudioWindowToFocus(e){this._runningProcessService.focusOnCurrentProcessNotify.next(e)}resizeSiriWave(){const e=this.audioContainer.nativeElement.getBoundingClientRect(),i=.3*e.height,r=e.width;if(this.siriWave.height=i,this.siriWave.height_2=i/2,this.siriWave.MAX=this.siriWave.height_2-4,this.siriWave.width=r,this.siriWave.width_2=r/2,this.siriWave.width_4=r/4,this.siriWave.canvas.height=i,this.siriWave.canvas.width=r,this.siriWave.container.style.margin=-i/2+"px auto",this.audioPlayer){const s=.9*this.audioPlayer.volume();this.sliderBtn.nativeElement.style.left=e.width*s+.05*e.width-25+"px"}}updatePlayBackPosition(){const e=this.audioPlayer.seek()||0;this.timer=this.formatTime(Math.round(e)),this.progress.nativeElement.style.width=(e/this.audioPlayer.duration()*100||0)+"%",this.audioPlayer.playing()&&requestAnimationFrame(this.updatePlayBackPosition.bind(this))}onSeek(e){this.audioPlayer.playing()&&this.audioPlayer.seek(this.audioPlayer.duration()*e)}loadHowlSingleTrackObjectAsync(){var e=this;return Fe(function*(){return new Promise((i,r)=>{const o=e.getExt(e._fileInfo.getContentPath,e._fileInfo.getCurrentPath),s=new Howl({src:[e.audioSrc],format:[o.replace(".","")],autoplay:!1,loop:!1,volume:.5,preload:!0,onend:()=>{e.bar.nativeElement.style.display="block",e.waveForm.nativeElement.style.display="none",e.pauseBtn.nativeElement.style.display="none",e.playBtn.nativeElement.style.display="block",e.siriWave.stop()},onload:()=>{const c=s.duration();e.duration=e.formatTime(c),e.track=e._fileInfo.getFileName,i(s)},onseek:()=>{requestAnimationFrame(e.updatePlayBackPosition.bind(e))},onloaderror:c=>{r(c)}})})})()}loadHowlPlayListObjectAsync(){return new Promise((e,i)=>{this.track=this._fileInfo.getFileName;const r=(0,_t.extname)(this.audioSrc),o=new Howl({src:[this.audioSrc],format:[r],autoplay:!1,loop:!1,volume:.5,preload:!1,autoSuspend:!1,onend:()=>{this.siriWave.canvas.style.opacity=0,this.bar.nativeElement.style.display="block",this.pauseBtn.nativeElement.style.display="none",this.playBtn.nativeElement.style.display="block",this.siriWave.stop()},onload:()=>{const s=o.duration();this.duration=this.formatTime(s),e(o)},onseek:()=>{requestAnimationFrame(this.updatePlayBackPosition.bind(this))},onloaderror:s=>{console.log("there are problem:",s),i(s)}})})}maximizeWindow(){if(`${this.name}-${this.processId}`===this._runningProcessService.getEventOrginator()){this._runningProcessService.removeEventOriginator();const r=document.getElementById("vanta"),o=70;this.audioContainer.nativeElement.style.width=`${r?.offsetWidth}px`,this.audioContainer.nativeElement.style.height=(r?.offsetHeight||0)-o+"px"}}minimizeWindow(e){`${this.name}-${this.processId}`===this._runningProcessService.getEventOrginator()&&(this._runningProcessService.removeEventOriginator(),this.audioContainer.nativeElement.style.width=`${e[0]}px`,this.audioContainer.nativeElement.style.height=`${e[1]}px`)}getAudioSrc(e,i){let r="";return e.includes("blob:http")?e:(r=this.checkForExt(e,i)?"/"+this._fileInfo.getContentPath:this._fileInfo.getCurrentPath,r)}checkForExt(e,i){const r=(0,_t.extname)(e),o=(0,_t.extname)(i);let s=!1;return this._consts.AUDIO_FILE_EXTENSIONS.includes(r)?s=!0:this._consts.AUDIO_FILE_EXTENSIONS.includes(o)&&(s=!1),s}getExt(e,i){const r=(0,_t.extname)(e),o=(0,_t.extname)(i);let s="";return this._consts.AUDIO_FILE_EXTENSIONS.includes(r)?s=r:this._consts.AUDIO_FILE_EXTENSIONS.includes(o)&&(s=o),s}storeAppState(e){const i=`${this.name}-${this.processId}`;this._appState={pid:this.processId,app_data:e,app_name:this.name,unique_id:i},this._stateManagmentService.addState(i,this._appState,Jt.App)}retrievePastSessionData(){const e=this._sessionManagmentService._pickUpKey;if(this._sessionManagmentService.hasTempSession(e)){const i=this._sessionManagmentService.getTempSession(e)||"",r=this._sessionManagmentService.getSession(i);if(void 0!==r){const o=r[0];void 0!==o&&""!=o.app_data&&(this.audioSrc=o.app_data)}}}getComponentDetail(){return new vi(this.processId,this.name,this.icon,this.hasWindow,this.type,this._triggerProcessService.getLastProcessTrigger)}static \u0275fac=function(i){return new(i||t)(te(wi),te(Yn),te(hr),te(to),te(eo),te(ll))};static \u0275cmp=a({type:t,selectors:[["cos-audioplayer"]],viewQuery:function(i,r){if(1&i&&(Wt(AW,7),Wt(kW,7),Wt(OW,7),Wt(NW,7),Wt(FW,7),Wt(RW,7),Wt(LW,7),Wt(BW,7),Wt(VW,7),Wt(UW,7),Wt(zW,7),Wt(jW,7),Wt(HW,7),Wt($W,7),Wt(WW,7)),2&i){let o;Gt(o=Yt())&&(r.waveForm=o.first),Gt(o=Yt())&&(r.audioContainer=o.first),Gt(o=Yt())&&(r.playBtn=o.first),Gt(o=Yt())&&(r.pauseBtn=o.first),Gt(o=Yt())&&(r.prevBtn=o.first),Gt(o=Yt())&&(r.nextBtn=o.first),Gt(o=Yt())&&(r.playlistBtn=o.first),Gt(o=Yt())&&(r.progress=o.first),Gt(o=Yt())&&(r.bar=o.first),Gt(o=Yt())&&(r.loading=o.first),Gt(o=Yt())&&(r.volumeBtn=o.first),Gt(o=Yt())&&(r.volumeSlider=o.first),Gt(o=Yt())&&(r.barFull=o.first),Gt(o=Yt())&&(r.barEmpty=o.first),Gt(o=Yt())&&(r.sliderBtn=o.first)}},decls:42,vars:6,consts:[["audioContainer",""],["loading",""],["playBtn",""],["pauseBtn",""],["prevBtn",""],["nextBtn",""],["playlistBtn",""],["volumeBtn",""],["waveForm",""],["bar",""],["progress",""],["volumeSlider",""],["barFull",""],["barEmpty",""],["sliderBtn",""],[3,"click","runningProcessID","processAppIcon","processAppName"],[1,"audio-container-main"],[1,"basic-info-container"],[1,"timer"],[1,"track"],[1,"duration"],[1,"controlsOuter"],[1,"controlsInner"],[1,"loading"],[1,"btn","playBtn",3,"click"],[1,"btn","pauseBtn",3,"click"],["longPress","",1,"btn","prevBtn",3,"click","mouseLongPress"],["longPress","",1,"btn","nextBtn",3,"click","mouseLongPress"],[1,"btn","playlistBtn"],[1,"btn","volumeBtn",3,"click"],[1,"waveform",3,"click"],[1,"pause-bar"],[1,"progress"],["id","playlist"],["id","list"],[1,"volume","fadeout",3,"mousemove","mouseup"],[1,"volume-bar","barFull"],[1,"volume-bar","barEmpty",3,"click"],[1,"sliderBtn",3,"mousedown"]],template:function(i,r){if(1&i){const o=Tt();I(0,"cos-window",15),de("click",function(){return G(o),Y(r.setAudioWindowToFocus(r.processId))}),I(1,"div",16,0)(3,"div",17)(4,"div",18),se(5),P(),I(6,"div",19),se(7),P(),I(8,"div",20),se(9),P()(),I(10,"div",21)(11,"div",22),re(12,"div",23,1),I(14,"div",24,2),de("click",function(){return G(o),Y(r.onPlayBtnClicked())}),P(),I(16,"div",25,3),de("click",function(){return G(o),Y(r.onPauseBtnClicked())}),P(),I(18,"div",26,4),de("click",function(){return G(o),Y(r.onPrevBtnClicked())})("mouseLongPress",function(){return G(o),Y(r.onRewind())}),P(),I(20,"div",27,5),de("click",function(){return G(o),Y(r.onNextBtnClicked())})("mouseLongPress",function(){return G(o),Y(r.onFastForward())}),P()(),re(22,"div",28,6),I(24,"div",29,7),de("click",function(){return G(o),Y(r.onVolumeBtnClicked())}),P()(),I(26,"div",30,8),de("click",function(c){return G(o),Y(r.onWaveFormClicked(c))}),P(),re(28,"div",31,9)(30,"div",32,10),I(32,"div",33),re(33,"div",34),P(),I(34,"div",35,11),de("mousemove",function(c){return G(o),Y(r.onVolumeMouseMove(c))})("mouseup",function(){return G(o),Y(r.onVolumeMouseUp())}),re(36,"div",36,12),I(38,"div",37,13),de("click",function(c){return G(o),Y(r.onBarEmptyClick(c))}),P(),I(40,"div",38,14),de("mousedown",function(){return G(o),Y(r.onMousDownSliderBtn())}),P()()()()}2&i&&(H("runningProcessID",r.processId)("processAppIcon",r.icon)("processAppName",r.name),T(5),ln(r.timer),T(2),ln(r.track),T(2),ln(r.duration))},dependencies:[no,PW],styles:['.audio-container-main[_ngcontent-%COMP%]{min-width:640px;height:510px;width:100%;padding-top:0;margin:0;overflow:hidden;background:#7b69f0;background:linear-gradient(135deg,#7b69f0 0% 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#7b69f0",endColorstr="#3d4d91",GradientType=1);font-family:Helvetica Neue,Futura,Trebuchet MS,Arial;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:rgba(255,255,255,0)}.basic-info-container[_ngcontent-%COMP%]{position:relative;width:100%;min-height:40px;display:flex}.timer[_ngcontent-%COMP%]{position:relative;width:20%;min-height:30px;padding-left:3%;padding-top:15px;text-align:left;font-size:26px;opacity:.9;font-weight:300;color:#fff;text-shadow:1px 1px 2px rgba(0,0,0,.33)}.track[_ngcontent-%COMP%]{position:relative;width:60%;min-height:30px;padding-top:15px;text-align:center;font-size:30px;opacity:.9;font-weight:300;color:#fff;text-shadow:1px 1px 2px rgba(0,0,0,.33)}.duration[_ngcontent-%COMP%]{position:relative;width:20%;min-height:30px;padding-top:15px;padding-right:3%;text-align:right;font-size:26px;opacity:.5;font-weight:300;color:#fff;text-shadow:1px 1px 2px rgba(0,0,0,.33)}.controlsOuter[_ngcontent-%COMP%]{position:absolute;width:100%;height:70px;bottom:3%;z-index:1}.controlsInner[_ngcontent-%COMP%]{position:absolute;width:340px;height:70px;left:50%;margin:0 -170px;z-index:1}.btn[_ngcontent-%COMP%]{position:absolute;cursor:pointer;opacity:.9;filter:drop-shadow(1px 1px 2px rgba(0,0,0,.33));-webkit-user-select:none;user-select:none}.btn[_ngcontent-%COMP%]:hover{opacity:1}.playBtn[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEUAAABGCAYAAACaGVmHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QThERThENUFDNkJEMTFFNTk2RTBDMTRBMkYyNjVGMzQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QThERThENUJDNkJEMTFFNTk2RTBDMTRBMkYyNjVGMzQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBOERFOEQ1OEM2QkQxMUU1OTZFMEMxNEEyRjI2NUYzNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBOERFOEQ1OUM2QkQxMUU1OTZFMEMxNEEyRjI2NUYzNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PnFM7yIAAAFWSURBVHja7NRJDoMwDEDRcPL2ZoVeLEUtCyoCZPBsf8mS10+Wp5zzK6X0XGdJ0bdpRcnbPgfOESUFzjmKe5wrFLc4NSjucFpQ3OD0oJjHGUExiwOBYg4HEsUMDgaKehxMFLU4FCjqcChR1OBwoIjH4UQRiyMBRRyOJBQxOBJR2HEko7DhaEAhx9GEQoajEQUdRzMKGo4FFHAcSyhgOBZRhnEso3TjeEBpxvGEUo3jEeUWxzPKKU6gFHACpYATKMfegbLDWOcRl/Jr2X7JHI+2gOEZ5RTDI8othieUagwPKM0YllG6MSyiDGNYQgHDsIACjqEZBQ1DIwo6hiYUMgwNKOQYklHYMCSisGNIQhGDIQFFHAYnilgMDhTxGJQoajAoUNRhYKKoxcBAUY8BiWIGAwLFHMYIilmMHhTzGC0objBqUNxhXKG4xSihuMfYo8yB8d9HgAEATyefBJWpw70AAAAASUVORK5CYII=);width:69px;height:70px;left:50%;margin:auto -34.5px}.pauseBtn[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEUAAABGCAYAAACaGVmHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MDE4MjkzRjNDNzI0MTFFNTk2RTBDMTRBMkYyNjVGMzQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MDE4MjkzRjRDNzI0MTFFNTk2RTBDMTRBMkYyNjVGMzQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBOERFOEQ1Q0M2QkQxMUU1OTZFMEMxNEEyRjI2NUYzNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowMTgyOTNGMkM3MjQxMUU1OTZFMEMxNEEyRjI2NUYzNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pne5d1AAAAB8SURBVHja7NCxCQAwAALBuP/QZoEUlinua0G4tD1j83Asv/4GChQoUKBAgQIFChQoUKBAgQIFChQoUKBAgQIFChQoUKBAgQIFChQoUKBAgQIFChQoUKBAgQIFChQoUKBAgQIFChQoUKBAgQIFChQoUKBAgQIFCpRXV4ABAOgpXYTDYwEwAAAAAElFTkSuQmCC);width:69px;height:70px;left:50%;margin:auto -34.5px;display:none}.prevBtn[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAYAAAAe2bNZAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MDE4MjkzRkJDNzI0MTFFNTk2RTBDMTRBMkYyNjVGMzQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MDE4MjkzRkNDNzI0MTFFNTk2RTBDMTRBMkYyNjVGMzQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowMTgyOTNGOUM3MjQxMUU1OTZFMEMxNEEyRjI2NUYzNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowMTgyOTNGQUM3MjQxMUU1OTZFMEMxNEEyRjI2NUYzNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PndeAH8AAACtSURBVHja7NXJCcAgEAVQEevK0lk6M1aW6CGQQBBn+ephBv7F0wNn8Vd7OWCWnOjd2FpzYk7K2cJAxFEA78cwA6I3porohWlCoDEkBArDQmhjRAgtjApCilFFcDEQBAcTUYinKLcJCqFinGEMYxjDgDFpJkzZwDsSRf2mE4ni9gwEJW1gVZTWNKmgtEdbhELtGRYKvfRIqF4buAnV+xxUUaNu0y9q9KH8oG4BBgDjdpk0jMoz1gAAAABJRU5ErkJggg==);width:35px;height:35px;left:0;top:50%;margin:-17.5px auto}.nextBtn[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAYAAAAe2bNZAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MDE4MjkzRjdDNzI0MTFFNTk2RTBDMTRBMkYyNjVGMzQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MDE4MjkzRjhDNzI0MTFFNTk2RTBDMTRBMkYyNjVGMzQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowMTgyOTNGNUM3MjQxMUU1OTZFMEMxNEEyRjI2NUYzNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowMTgyOTNGNkM3MjQxMUU1OTZFMEMxNEEyRjI2NUYzNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PiFbkXsAAACvSURBVHja7NZBDoAgDARA9GPiz/yZ8DKsxgMHY1rYBQ5sshdCwiQcWpdSOqWb1BGrSn6RiTJjmKhiDANVjUGiYBgECo6pQdEwJSg6xoJqhtGgVFkeETZBekhjdqZ6g4H5QnXH5Cg/CkadiZmYiZkYdtYGb8QRMDdi144C1jfFd0AG69RG7jNB6nsvV3+IZhgNgo6xIGiYEgQcU4OAYRCIagwSUYxhIMwYJsKEuQQYABTs+qTMuF1rAAAAAElFTkSuQmCC);width:35px;height:35px;right:0;top:50%;margin:-17.5px auto}.playlistBtn[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAYAAAAe2bNZAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MUVBQzMwNzRDNzI0MTFFNTk2RTBDMTRBMkYyNjVGMzQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MUVBQzMwNzVDNzI0MTFFNTk2RTBDMTRBMkYyNjVGMzQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxRUFDMzA3MkM3MjQxMUU1OTZFMEMxNEEyRjI2NUYzNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoxRUFDMzA3M0M3MjQxMUU1OTZFMEMxNEEyRjI2NUYzNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PnWBPa0AAADGSURBVHjaYvz//z/DYAFMDIMIjDpm1DHDwjH/0fDugXAMCxK7AojPAnEHmpo0IFaisTsqIEECLPT+Q4ALlL0bihmQ+LQGYLsYoSXwf2iovAdiYyjbdaCiaQ+S2FkopjtgHK2bCESTC5r4+4GIKuQEjAz2DGQCHhTlDAtaLtoDjSJkoATN7iMzmjrRxO+NljODsZzpwBJNs0bLGShwhToCvWHVQYes7YruGJiFgljKmpEbTa5YKsrRcmbUMaOOGXUMNQBAgAEAm2XFJrn+jrsAAAAASUVORK5CYII=);width:35px;height:35px;top:50%;left:3%;margin:-17.5px auto}.volumeBtn[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAYAAAAe2bNZAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MUVBQzMwNzBDNzI0MTFFNTk2RTBDMTRBMkYyNjVGMzQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MUVBQzMwNzFDNzI0MTFFNTk2RTBDMTRBMkYyNjVGMzQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxRUFDMzA2RUM3MjQxMUU1OTZFMEMxNEEyRjI2NUYzNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoxRUFDMzA2RkM3MjQxMUU1OTZFMEMxNEEyRjI2NUYzNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PtAZ+FgAAAHRSURBVHja7FjRbYMwEIWqC7CCO4IzgjMCHYEV6AjuCHSEMAKMkIwAI5ARXFt9rox1phDA5KMnPSGwOZ4fx/mOVCmVPIu9JE9ke5GRGpejyeQanUapkXlj5lzEIMM1GqjRAyG1eNCLCeAVyDQq9WOdRoHrDeDP7YCM8reGiNQYQER6D6DIGHDc02xFJsfqjF00GDEnRCaBegp+RmMp8oyYERcmAAvMvWl8aLSBuQ2O58D4Ff7eqJiZa4MTF1OYUsZAwF9BKaOw0tsf6pjx+wwVXWU41Pwk1DF2opQRK7+skDIyECMlrv8GfoztwMaW9K7XTqKMujeZV8SQma31eO0iNpkW8L/a3t02Yu7aITL8CDL2S2VE/jqsnnHJ3I8urnpKldhkOEFmdB6TTO7kFveVRScjoExLqBWVTIbsax765RFh7n74GoFMiQefCLXcbWFEhs/MFfeFZGon9fsx1I78PVDPyA3qmXyqnhEzV1lgRT124/rBSq+Dj/Pa7sDUPVesrEGRvUSZMlQ/rSmgCqc7qBZ0B7aQ37RVsb2QJOIp1DcNUDXbg4wFw2qV06j5ZCqQYSE/yYZ1LxVPvjJ86v50p/8ztr96X3JT+v+zKGDfAgwAZkMcn0x+AsMAAAAASUVORK5CYII=);width:35px;height:35px;top:50%;right:3%;margin:-17.5px auto}.waveform[_ngcontent-%COMP%]{width:100%;height:30%;position:absolute;left:0;top:55%;margin:-15% auto;display:none;cursor:pointer;opacity:.8;-webkit-user-select:none;user-select:none;z-index:1}.waveform[_ngcontent-%COMP%]:hover{opacity:1}.pause-bar[_ngcontent-%COMP%]{position:absolute;top:50%;width:100%;height:2px;background-color:#ffffffe6;box-shadow:1px 1px 2px #00000054;opacity:.9}.progress[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:0%;height:100%;background-color:#0000001a;z-index:0}.loading[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;margin:-35px;width:70px;height:70px;background-color:#fff;border-radius:100%;animation:_ngcontent-%COMP%_sk-scaleout 1s infinite ease-in-out;display:none}@keyframes _ngcontent-%COMP%_sk-scaleout{0%{transform:scale(0)}to{transform:scale(1);opacity:0}}#playlist[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0;background-color:#00000080;display:none}#list[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0;display:flex;flex-direction:column;justify-content:center;align-items:center}.list-song[_ngcontent-%COMP%]{width:100%;height:120px;font-size:50px;line-height:120px;text-align:center;font-weight:700;color:#fff;text-shadow:1px 1px 2px rgba(0,0,0,.33)}.list-song[_ngcontent-%COMP%]:hover{background-color:#ffffff1a;cursor:pointer}.volume[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0;background-color:#00000080;touch-action:none;-webkit-user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:none;z-index:1}.volume-bar[_ngcontent-%COMP%]{position:absolute;top:50%;left:5%;margin:-5px auto;height:10px;background-color:#ffffffe6;box-shadow:1px 1px 2px #00000054;z-index:2}.barEmpty[_ngcontent-%COMP%]{width:90%;opacity:.5;box-shadow:none;cursor:pointer}.barFull[_ngcontent-%COMP%]{width:90%}.sliderBtn[_ngcontent-%COMP%]{width:50px;height:50px;position:absolute;top:50%;left:93.25%;margin:-25px auto;background-color:#fffc;box-shadow:1px 1px 5px #00000054;border-radius:25px;cursor:pointer;z-index:2}.fadeout[_ngcontent-%COMP%]{webkit-animation:fadeout .5s;animation:_ngcontent-%COMP%_fadeout .5s}.fadein[_ngcontent-%COMP%]{webkit-animation:fadein .5s;animation:_ngcontent-%COMP%_fadein .5s}@keyframes _ngcontent-%COMP%_fadein{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_fadeout{0%{opacity:1}to{opacity:0}}']})}return t})();class ha{_command;_responseCode;_commandOutput;constructor(n,e=0,i){this._command=n,this._responseCode=e,this._commandOutput=i}get getCommand(){return this._command}set setCommand(n){this._command=n}get getResponseCode(){return this._responseCode}set setResponseCode(n){this._responseCode=n}get getCommandOutput(){return this._commandOutput}set setCommandOutput(n){this._commandOutput=n}}class YW{_triggerProcessService;_runningProcessService;_fileService;_directoryFilesEntries;_appDirctory=new Q0;_consts=new Kn;permissionChart;closingNotAllowed=["system","desktop","filemanager","taskbar","startbutton","clock","taskbarentry","startmenu"];files=[];defaultDirectoryPath=this._consts.ROOT;currentDirectoryPath=this._consts.ROOT;fallBackDirPath="";constructor(){this._triggerProcessService=hr.instance,this._runningProcessService=Yn.instance,this._fileService=Lo.instace,this.permissionChart=new Map,this.genPermissionsRepresentation()}help(n,e,i){const r=[...n,...e];if(null==i||0==i.length){const s=["Available commands:"];for(let c=0;c<=r.length-1;c+=10){const h=r.slice(c,c+10);s.push(...h),s.push("\n")}return s.join(" ")}return"-verbose"==i?"\nterminal <command>\n\nUsage:\n\nhelp                            get a list of available commands\nhelp -verbose                   get a detailed list of commands \nopen --app  <foo>               opens app <foo>\nclose --app <pid>               closes app <pid>\nclear                           clears the terminal output and all previous command\ncurl                            query Api's, and transfer data to and from servers\ndownload <uri> <name>           download from the internet by providing a urls\nls                              list files and folder in the present directory\ncd                              change directory\ncp  -<option> <path> <path>     copy from source to destination folder\nmv  <path> <path>               move from source to destination folder\ncat <file>                      open the contents \ntocuh <file>                    create an empty files\nlist --apps -i                  get a list of all installed apps\nlist --apps -a                  get a list of all running apps\n\nAll commands:\n    clear, close, curl, cd, download, date, ls, list, help, hostname, open, pwd, version, weather\n    whoami\n        ":`unkown command:${i}`}clear(n){}date(){return(new Date).toLocaleDateString()}download(n,e){const i=document.createElement("a");i.download=e,i.href=n,i.click(),i.remove()}hostname(){return window.location.hostname}weather(n){return Fe(function*(){const e=n;return null==e||""==e||0==e.length?"Usage: weather [city]. Example: weather Indianapolis":(yield fetch(`https://wttr.in/${e}?ATm`)).text()})()}whoami(){return"guest"}version(n){return`Terminal version: ${n}`}list(n,e){const i=this._runningProcessService.getProcesses();if(null==n||null==e||0==n.length||0==e.length)return"incomplete command, list --apps -i  or list --apps -a";if("--apps"!==n)return`unkown command: ${n}`;if("-i"==e)return`Installed Apps: ${this._appDirctory.getAppList().join(", ")}`;if("-a"==e){const r=[];r.push("\n+-----------------------+-----------------------+-----------------------+\n|      Process Name     |      Process Type     |      Process ID       |\n+-----------------------+-----------------------+-----------------------+\n            ");const s="\n+-----------------------+-----------------------+-----------------------+";for(let c=0;c<=i.length-1;c++){const h=i[c],g=`\n| ${this.addspaces(h.getProcessName)} | ${this.addspaces(h.getType)} | ${this.addspaces(h.getProcessId.toString())} |\n            `;r.push(g)}return r.push(s),r.join("")}return""}open(n,e){if(null==n||0==n.length)return"incomplete command, open --app <foo>";if("--app"!==n)return`unkown command: ${n}`;if(null==e||0==e.length)return"incomplete command: open --app <foo>, <foo> must be provided";if(this._appDirctory.appExist(e)){const i=new Fo;return i.setOpensWith=e,this._triggerProcessService&&this._triggerProcessService.startApplication(i),`opening app ${e}`}return`${e}: No matching application found.`}close(n,e){if(null==n||0==n.length)return"incomplete command, close --app <pid>";if("--app"!==n)return`unkown command: ${n}`;if(null==e||0==e.length)return"incomplete command: close --app <pid>, <pid> must be provided";const i=Number(e),r=this._runningProcessService.getProcess(i);return r?this.closingNotAllowed.includes(r.getProcessName)?`The app: ${r.getProcessName} is not allowed to be closed`:(this._runningProcessService.closeProcessNotify.next(r),`closing app, app name: ${r.getProcessName}  app id: ${r.getProcessId}`):`${e}: No active process with pid:${e} found.`}exit(n){const i=this._runningProcessService.getProcess(n);i&&this._runningProcessService.closeProcessNotify.next(i)}curl(n){return Fe(function*(){if(0===n.length||void 0===n[1]||0===n[1].length)return"curl: no URL provided";let e=n[1];e.includes("https://")||(e=`https://${e}`);try{return yield(yield fetch(e)).text()}catch(i){return`curl: could not fetch URL ${e}. Details: ${i}`}})()}addspaces(n,e=21){const o=e-n.length,s=n.split("");let c=0;for(;c<o;)s.push(" "),c++;return s.join("")}pwd(){return this.currentDirectoryPath}genPermissionsRepresentation(){this.permissionChart.set(7,{symbolic:"rwx",binary:111,permission:"Read + Write + Execute"}),this.permissionChart.set(6,{symbolic:"rw-",binary:110,permission:"Read + Write"}),this.permissionChart.set(5,{symbolic:"r-x",binary:101,permission:"Read + Execute"}),this.permissionChart.set(4,{symbolic:"r--",binary:100,permission:"Read"}),this.permissionChart.set(3,{symbolic:"-wx",binary:3,permission:"Write + Execute"}),this.permissionChart.set(2,{symbolic:"-w-",binary:2,permission:"Write"}),this.permissionChart.set(1,{symbolic:"--x",binary:1,permission:"Execute"}),this.permissionChart.set(0,{symbolic:"---",binary:0,permission:"None"})}getPermission(n){let e="";const i=n.split("");return i.shift(),i.forEach(r=>{const o=this.permissionChart.get(Number(r));e+=o?.symbolic}),e}ls(n){var e=this;return Fe(function*(){return yield e.loadFilesInfoAsync(e.currentDirectoryPath).then(()=>{if(null==n||""==n){const o=[];return e.files.forEach(s=>{o.push(s.getFileName)}),{type:"string[]",result:o}}if(["-l","-r","-t","-lr","-rl","-lt","-tl","-lrt","-ltr","-rtl","-rlt","-tlr","-trl"].includes(n)){const o=n.replace("-","").split("").sort().reverse();console.log("splitOptions:",o);const s=[];return o.forEach(c=>{"t"===c?e.files=e.files.sort((h,g)=>g.getDateModified.getTime()-h.getDateModified.getTime()):"r"===c?e.files.reverse():e.files.forEach(h=>{const g=e.getPermission(h.getMode),y=`\n${h.getIsFile?"-":"d"}${e.addspaces(g,10)} ${e.addspaces("Terminal",8)} ${e.addspaces("staff",6)} ${e.addspaces(String(h.getSize),6)}  ${e.addspaces(h.getDateTimeModifiedUS,12)} ${e.addspaces(h.getFileName,11)}\n                        `;s.push(y)})}),{type:"string",result:s.join("")}}return{type:"",result:""}})})()}cd(n,e=""){var i=this;return Fe(function*(){console.log("ARG0:",n);let r="",o=0;if(void 0===n)return{type:"",result:"",depth:o};if(/^(\.\.\/)+([a-zA-Z0-9_-]+\/?)*$|^(\.\/|\/)([a-zA-Z0-9_-]+\/?)+$|^\.\.$|^\.\.\/$/.test(n)){const g=n.split(i._consts.ROOT),y=g.length>1?g.filter(O=>".."==O):[".."],C=i.cdMoveUp(y);i.fallBackDirPath=C,r=`${C}/${".."!==n?n.split("../").splice(-1)[0]:""}`.replace(i._consts.DOUBLE_SLASH,i._consts.ROOT)}else r=`${i.currentDirectoryPath}/${n}`.replace(i._consts.DOUBLE_SLASH,i._consts.ROOT),i.fallBackDirPath=i.getFallBackPath(r);const c=yield i._fileService.checkIfExistsAsync(r);let h=!1;return c||(h=yield i._fileService.checkIfExistsAsync(i.fallBackDirPath),h&&(r=i.fallBackDirPath)),c||h?(console.log("key:",e),"Enter"==e&&(i.currentDirectoryPath=r),o=i.getFolderDepth(r),yield i.loadFilesInfoAsync(r).then(()=>{const y=[];return i.files.forEach(C=>{y.push("folder"===C.getFileType?`${C.getFileName}/`:C.getFileName)}),{type:"string[]",result:y,depth:o}})):{type:"string",result:"No such file or directory",depth:o}})()}cdMoveUp(n){let e="",i="",r=0;const o=this.currentDirectoryPath.split(this._consts.ROOT);o.shift();const s=o.filter(c=>""!==c);if(0==s.length)return this._consts.ROOT;if(1==s.length)return e=s[0],`/${e}`;if(s.length>1){s.pop(),r=s.length-1;for(const h of n){if(r<=0)return e=s[0],`/${e}`;e=s[r],r--}const c=[];for(const h of s){if(h===e){c.push(`/${e}`);break}c.push(`/${h}`)}i=c.join("")}return i.replace(",","")}getFolderDepth(n){const e=n.match(/\//g);return e?e.length:0}getFallBackPath(n){const e=n.split(this._consts.ROOT),i=[];let r="";e.shift();const o=e.filter(c=>""!==c);return o.pop(),o.forEach(c=>{i.push(`/${c}`)}),i.push(this._consts.ROOT),r=i.join(""),r.replace(",","")}mkdir(n,e){var i=this;return Fe(function*(){if(!n||["\\","/",":","*","?",' "',"<",">","|"].includes(n))return"\nusage: mkdir direcotry_name [-v]\n                        ";{const o=n;if(yield i._fileService.createFolderAsync(i.currentDirectoryPath,o)){if(e&&"-v"==e)return`folder: ${n} successfully created`;i.sendDirectoryUpdateNotification(i.currentDirectoryPath)}}return""})()}mv(n,e){var i=this;return Fe(function*(){console.log(`sourceArg:${n}`),console.log(`destinationArg:${e}`);const r=[];return void 0===n||0===n.length?"source path required":void 0===e||0===e.length?"destination path required":(r.push(n),(yield i._fileService.movehandler(e,r))&&""===(yield i.rm("-rf",n))&&(e.includes("/Users/Desktop")?(i.sendDirectoryUpdateNotification(n),i.sendDirectoryUpdateNotification(e)):i.sendDirectoryUpdateNotification(n)),"")})()}cp(n,e,i){var r=this;return Fe(function*(){console.log(`copy-source ${n}`),console.log(`copy-destination ${e}`);const o=[];void 0===i&&("."===(i=e)&&(i=r.currentDirectoryPath),e=n,n=void 0),"."===i&&(i=r.currentDirectoryPath);let c="";if(n){if(c=["-f","--force","-R","-r","--recursive","-v","--verbose","--help"].includes(n)?n:"",""===c)return`cp: invalid option ${n}`;if("--help"===c)return"\nUsage cp [option] ....SOURCE DEST\nCopy SOURCE to DEST.\n\nMandatory argument to long options are mandotory for short options too.\n\n   -f, --force             copy file by force\n   -r, -R, -- recursive    copy folder recurively.\n   -v, --verbose           explain what is being done.\n       --help              display the help and exit.\n\n                "}if(void 0===e||0===e.length)return"source path required";if(void 0===i||0===i.length)return"destination path required";if(yield r._fileService.checkIfDirectory(e)){if(""===c||"-f"===c||"--force"===c||"--verbose"===c)return`cp: omitting directory ${e}`;("-r"===c||"-R"===c||"--recursive"===c)&&(o.push(e),(yield r._fileService.copyHandler(n,e,i))&&r.sendDirectoryUpdateNotification(i))}else(yield r._fileService.copyHandler(n,e,i))&&r.sendDirectoryUpdateNotification(i);return""})()}rm(n,e){var i=this;return Fe(function*(){console.log(`source ${n}`),console.log(`source ${e}`);const r=[];void 0===e&&(e=n,n=void 0);let s="";if(n){if(s=["-rf"].includes(n)?n:"",""===s)return`rm: invalid option ${n}`;if("--help"===s)return"\nUsage rm [option] ....SOURCE\nDelete SOURCE.\n\nMandatory argument to long options are mandotory for short options too.\n\n   -rf                     delete folder recurively.\n   -v, --verbose           explain what is being done.\n       --help              display the help and exit.\n\n                "}if(void 0===e||0===e.length)return"source path required";if(yield i._fileService.checkIfDirectory(e)){if(""===s)return`rm: omitting directory ${e}`;if("-rf"===s&&(r.push(e),yield i._fileService.removeHandler(n,e)))return i.sendDirectoryUpdateNotification(e),""}else if(yield i._fileService.removeHandler(e,e))return i.sendDirectoryUpdateNotification(e),"";return"error"})()}sendDirectoryUpdateNotification(n){n.includes("/Users/Desktop")?this._fileService.addEventOriginator("filemanager"):this._fileService.addEventOriginator("fileexplorer"),this._fileService.dirFilesUpdateNotify.next()}loadFilesInfoAsync(n){var e=this;return Fe(function*(){e.files=[],e._fileService.resetDirectoryFiles();const i=yield e._fileService.getEntriesFromDirectoryAsync(n);e._directoryFilesEntries=e._fileService.getFileEntriesFromDirectory(i,n);for(let r=0;r<i.length;r++){const o=e._directoryFilesEntries[r],s=yield e._fileService.getFileInfoAsync(o.getPath);e.files.push(s)}})()}}let KW=(()=>{class t{el;keyDblPressed=new Tn;keyPressSubscription;constructor(e){this.el=e}ngOnInit(){const e=Oi(this.el.nativeElement,"keydown");this.keyPressSubscription=e.pipe(function ZW(t){return Ht((n,e)=>{let i=[];return n.subscribe(wn(e,r=>i.push(r),()=>{e.next(i),e.complete()})),t.subscribe(wn(e,()=>{const r=i;i=[],e.next(r)},ve)),()=>{i=null}})}(e.pipe(function qW(t,n=Rw){return Ht((e,i)=>{let r=null,o=null,s=null;const c=()=>{if(r){r.unsubscribe(),r=null;const g=o;o=null,i.next(g)}};function h(){const g=s+t,y=n.now();if(y<g)return r=this.schedule(void 0,g-y),void i.add(r);c()}e.subscribe(wn(i,g=>{o=g,s=n.now(),r||(r=n.schedule(h,t),i.add(r))},()=>{c(),i.complete()},void 0,()=>{o=r=null}))})}(300))),Lw(i=>2===i.length)).subscribe(i=>{i[0].key===i[1].key&&this.keyDblPressed.emit(i[0])})}ngOnDestroy(){this.keyPressSubscription&&this.keyPressSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||t)(te(li))};static \u0275dir=_({type:t,selectors:[["","appKeyPressCapture",""]],outputs:{keyDblPressed:"keyDblPressed"}})}return t})();const QW=["terminalCntnr"],XW=["terminalOutputCntnr"],JW=["terminalHistoryOutput"];function e7(t,n){if(1&t&&(xn(0),I(1,"div",14)(2,"div",15),se(3),P()(),Dn()),2&t){const e=z();T(3),qt(" ",e.banner," ")}}function t7(t,n){if(1&t&&(xn(0),I(1,"div",16)(2,"div",17),se(3),P()(),Dn()),2&t){const e=z();T(3),qt(" ",e.welcomeMessage," ")}}function n7(t,n){if(1&t&&(xn(0),I(1,"div",19)(2,"span",20),se(3),P(),I(4,"div",21),se(5),P()(),Dn()),2&t){const e=z().$implicit,i=z();T(3),ta("",i.terminalPrompt,":",e.getCommand.trim(),""),T(2),ln(e.getCommandOutput.trim())}}function i7(t,n){if(1&t&&(xn(0),I(1,"div",19)(2,"span",20),se(3),P(),I(4,"div",22),se(5),P()(),Dn()),2&t){const e=z().$implicit,i=z();T(3),ta("",i.terminalPrompt,":",e.getCommand.trim(),""),T(2),ln(e.getCommandOutput.trim())}}function r7(t,n){if(1&t&&(xn(0),I(1,"div",19)(2,"span",20),se(3),P(),I(4,"div",23),se(5),P()(),Dn()),2&t){const e=z().$implicit,i=z();T(3),ta("",i.terminalPrompt,":",e.getCommand.trim(),""),T(2),ln(e.getCommandOutput.trim())}}function o7(t,n){if(1&t&&(xn(0),I(1,"div",18),Le(2,n7,6,3,"ng-container",6)(3,i7,6,3,"ng-container",6)(4,r7,6,3,"ng-container",6),P(),Dn()),2&t){const e=n.$implicit,i=z();T(2),H("ngIf",e.getResponseCode===i.Success||e.getResponseCode===i.Options),T(),H("ngIf",e.getResponseCode===i.Fail),T(),H("ngIf",e.getResponseCode===i.Warning)}}let s7=(()=>{class t{terminalCntnr;terminalOutputCntnr;terminalHistoryOutput;_processIdService;_runningProcessService;_maximizeWindowSub;_minimizeWindowSub;_formBuilder;_terminaCommandsProc;_stateManagmentService;_sessionManagmentService;_appState;_consts=new Kn;msgPosCounter=0;scrollCounter=0;prevPtrIndex=0;versionNum="1.0.4";SECONDS_DELAY=[120,250];doesDirExist=!0;isInLoopState=!1;isWhiteSpaceAtTheEnd=!1;Success=1;Fail=2;Warning=3;Options=4;isBannerVisible=!0;isWelcomeVisible=!0;banner="";welcomeMessage="";terminalPrompt=">";commandHistory=[];echoCommands=["close","curl","date","echo","help","hostname","list","open","version","whoami","weather","pwd"];utilityCommands=["all","cat","cd","clear","cp","dir","download","exit","ls","mkdir","mv","rm","touch"];fetchedDirectoryList=[];generatedArguments=[];allCommands=[];haveISeenThisRootArg="";haveISeenThisAutoCmplt="";terminalForm;numCntr=0;traversalDepth=0;hasWindow=!0;icon=`${this._consts.IMAGE_BASE_PATH}terminal.png`;name="terminal";processId=0;type=on.System;displayName="Terminal";constructor(e,i,r,o,s){this._processIdService=e,this._runningProcessService=i,this._formBuilder=r,this._stateManagmentService=o,this._sessionManagmentService=s,this._terminaCommandsProc=new YW,this.retrievePastSessionData(),this.processId=this._processIdService.getNewProcessId(),this._runningProcessService.addProcess(this.getComponentDetail()),this._maximizeWindowSub=this._runningProcessService.maximizeProcessWindowNotify.subscribe(()=>{this.maximizeWindow()}),this._minimizeWindowSub=this._runningProcessService.minimizeProcessWindowNotify.subscribe(c=>{this.minimizeWindow(c)})}ngOnInit(){this.terminalForm=this._formBuilder.nonNullable.group({terminalCmd:""}),this.banner=this.getTerminalBanner(),this.allCommands=[...this.echoCommands,...this.utilityCommands]}ngAfterViewInit(){this.setTerminalWindowToFocus(this.processId),this.populateWelecomeMessageField(),setTimeout(()=>{this.captureComponentImg()},this.SECONDS_DELAY[1])}ngOnDestroy(){this._maximizeWindowSub?.unsubscribe(),this._minimizeWindowSub?.unsubscribe()}captureComponentImg(){Ir(this.terminalCntnr.nativeElement).then(e=>{this._runningProcessService.addProcessImage(this.name,{pid:this.processId,imageData:e})})}getYear(){return(new Date).getFullYear()}getTerminalBanner(){return`Simple Terminal, CheetahOS [Version ${this.versionNum}] \xa9 ${this.getYear()}`}populateWelecomeMessageField(){const i="Type 'help', or 'help -verbose' to view a list of available commands.".split(" "),r=setInterval(o=>{let s=0;for(let c=0;c<o.length;c++)s<1&&(this.welcomeMessage+=0==this.msgPosCounter?o[this.msgPosCounter]:" "+o[this.msgPosCounter],s++);this.msgPosCounter==o.length-1&&clearInterval(r),this.msgPosCounter++},this.SECONDS_DELAY[0],i)}onKeyDownOnWindow(e){this.focusOnInput(),"Tab"===e.key&&e.preventDefault()}focusOnInput(){const e=document.getElementById("cmdTxtBox");e&&e?.focus()}scrollToBottom(){const e=setInterval(()=>{try{this.scrollCounter<2&&(this.terminalOutputCntnr.nativeElement.scrollTop=this.terminalOutputCntnr.nativeElement.scrollHeight,this.scrollCounter++)}catch(i){console.error("Error scrolling to bottom:",i)}2==this.scrollCounter&&(clearInterval(e),this.scrollCounter=0)},this.SECONDS_DELAY[1])}onKeyDoublePressed(e){return Fe(function*(){console.log(`${e.key} Key pressed  rapidly.`)})()}onKeyDownInInputBox(e){var i=this;return Fe(function*(){if("Enter"==e.key){i.numCntr=0;const r=i.terminalForm.value.terminalCmd,o=new ha(r,0,"");""!==r&&(i.processCommand(o,"Enter"),i.commandHistory.push(o),i.prevPtrIndex=i.commandHistory.length,i.terminalForm.reset()),e.preventDefault()}else if("ArrowUp"==e.key)i.getCommandHistory("backward"),e.preventDefault();else if("ArrowDown"==e.key)i.getCommandHistory("forward"),e.preventDefault();else if("Tab"==e.key){const r=i.terminalForm.value.terminalCmd,o=void 0===r?"":r.split(" "),s=o[0];let c="";if(void 0!==s&&s.length>0&&!s.includes(" ")&&!i.allCommands.includes(s)){const h=i.getAutoCompelete(s,i.allCommands);if(1===h.length&&i.terminalForm.setValue({terminalCmd:h[0]}),h.length>1){const g=new ha(r,0," ");g.setResponseCode=i.Options,g.setCommandOutput=h.join(" "),i.commandHistory.push(g)}}if("cd"==s||"rm"==s)c=o[1],i.isWhiteSpaceAtTheEnd=i.checkForWhitSpaceAtTheEnd(r),console.log("Has-White-Space-At-The- sEnd:",i.isWhiteSpaceAtTheEnd),void 0===c&&i.terminalForm.setValue({terminalCmd:`${s}  `}),yield i.handleChangeDirectoryRequest(r,s,c);else if("cp"!=s&&"mv"!=s&&!i.generatedArguments.includes(c)){const h=i.getAutoCompelete(c,i.generatedArguments);if(1===h.length)i.terminalForm.setValue({terminalCmd:`${s} ${h[0]}`});else{const g=new ha(r,0," ");g.setResponseCode=i.Options,g.setCommandOutput=h.join(" "),i.commandHistory.push(g)}}e.preventDefault()}else i.isInLoopState=!1})()}handleChangeDirectoryRequest(e,i,r){var o=this;return Fe(function*(){if(void 0!==r&&r.length>0&&!r.includes(" ")){const s=o.getLastSegment(r);if(console.log("alteredRootArg:",s),o.isInLoopState)console.log("i am now here 1"),o.loopThroughDirectory(i,r,s),console.log("this.numCntr++:",o.numCntr);else if(console.log("i am now here"),o.fetchedDirectoryList.includes(s))console.log("fetchedDirectoryList does have:",s),o.evaluateChangeDirectoryRequest(e,i,r,s),o.isInLoopState=!0;else{console.log("fetchedDirectoryList does not have:",s);const c=new ha(e,0," ");yield o.processCommand(c).then(()=>{o.evaluateChangeDirectoryRequest(e,i,r,s),o.isInLoopState=!0,o.numCntr=0})}}else if(0==o.fetchedDirectoryList.length){console.log("i am now here 2");const s=new ha(e,0," ");yield o.processCommand(s).then(()=>{o.evaluateChangeDirectoryRequest(e,i,r,""),o.isInLoopState=!0})}else o.isInLoopState?(console.log("i am now here 4"),r.includes("/")?o.terminalForm.setValue({terminalCmd:`${i} ${o.removeCurrentDir(r)}${o.fetchedDirectoryList[0]}`}):o.terminalForm.setValue({terminalCmd:`${i} ${o.fetchedDirectoryList[0]}`}),o.numCntr++):(console.log("i am now here 5"),o.loopThroughDirectory(i,r,""))})()}loopThroughDirectory(e,i,r){console.log(`loopThroughDirectory:rootArg:${i}`),console.log(`loopThroughDirectory:alteredRootArg:${r}`),console.log("traversalDepth:",this.traversalDepth);const o=this.numCntr++;this.traversalDepth>1?(console.log("11111111"),this.terminalForm.setValue({terminalCmd:`${e} ${this.removeCurrentDir(i)}${this.fetchedDirectoryList[o]}`})):this.traversalDepth>=0&&this.traversalDepth<=1&&(console.log("22222222"),this.terminalForm.setValue({terminalCmd:`${e} ${this.fetchedDirectoryList[o]}`})),this.numCntr>this.fetchedDirectoryList.length-1&&(this.numCntr=0)}evaluateChangeDirectoryRequest(e,i,r,o){console.log("ecdr-cmdString:",e),console.log("ecdr-rootCmd:",i),console.log("ecdr-rootArg:",r),console.log("ecdr-alteredRootArg:",o);const s=this.getAutoCompelete(o,this.fetchedDirectoryList);let c=!1;if(1===s.length)r.includes("/")&&r!==this.haveISeenThisRootArg&&this.haveISeenThisAutoCmplt!==s[0]?(console.log("1- I AM STILL NEEDED 001"),this.terminalForm.setValue({terminalCmd:`${i} ${this.removeCurrentDir(r)}${s[0]}`}),this.haveISeenThisRootArg=`${this.removeCurrentDir(r)}${s[0]}`,this.haveISeenThisAutoCmplt=s[0]):r.includes("/")||(console.log("2 - I AM STILL NEEDED 0002"),this.haveISeenThisAutoCmplt=s[0],this.terminalForm.setValue({terminalCmd:`${i} ${s[0]}`})),c=!0;else if(s.length>1){console.log("3 - I AM STILL NEEDED 00003");const h=new ha(e,0," ");h.setResponseCode=this.Options,h.setCommandOutput=s.join(" "),this.commandHistory.push(h),c=!0}else{const h=new ha(e,0," ");h.setResponseCode=this.Options,h.setCommandOutput=this.fetchedDirectoryList.join(" "),this.commandHistory.push(h),c=!0}return c}removeCurrentDir(e){let i="";if(this.isWhiteSpaceAtTheEnd)return e;if(e.includes("/")){const r=e.split("/").filter(s=>""!==s),o=[];if(1===r.length)return`${r[0]}/`;r.pop();for(let s=0;s<=r.length-1;s++)o.push(`${r[s]}/`);i=o.join("")}return i.replace(",","")}getLastSegment(e){const i=e.split("/");let r="";return 1===i.length?r=i[0]:i.length>1&&(r=""!==i.slice(-1)[0]?i.slice(-1)[0]:i.slice(-2)[0]),r}checkForWhitSpaceAtTheEnd(e){return[" ","\t","\n"].some(r=>e.slice(-1).includes(r))}countSlashes(e){const i=e.match(/\//g);return i?i.length:0}shiftRight(...e){const i=e.filter(g=>void 0!==g);let o,s,c,h;console.log(`params:${i}`),i.shift();for(const g of i)this.isOption(g)?o||s?o&&!s&&(s=g):o=g:c||h?c&&!h&&(h=g):c=g;console.log(`After --- optA:${o} optB:${s} src:${c} dest:${h}`)}isOption(e){return"-"===e[0]}getCommandHistory(e){let i=0;this.commandHistory.length>0&&("backward"===e?i=0===this.prevPtrIndex?0:this.prevPtrIndex-1:"forward"===e&&(i=this.prevPtrIndex===this.commandHistory.length?this.commandHistory.length:this.prevPtrIndex+1),this.prevPtrIndex=i,this.terminalForm.setValue(i===this.commandHistory.length?{terminalCmd:""}:{terminalCmd:this.commandHistory[i].getCommand}))}isInAllCommands(e){return!!this.allCommands.includes(e)}isValidCommand(e){return this.isInAllCommands(e)}processCommand(e,i=""){var r=this;return Fe(function*(){const o=e.getCommand.split(" "),s=o[0].toLowerCase();if(r.isValidCommand(s)){if("clear"==s&&(r.commandHistory=[],r.isBannerVisible=!1,r.isWelcomeVisible=!1),"curl"==s){const c=yield r._terminaCommandsProc.curl(o);e.setResponseCode=r.Success,e.setCommandOutput=c}if("close"==s){const c=r._terminaCommandsProc.close(o[1],o[2]);e.setResponseCode=r.Success,e.setCommandOutput=c}if("date"==s){const c=r._terminaCommandsProc.date();e.setResponseCode=r.Success,e.setCommandOutput=c}if("download"==s&&(r._terminaCommandsProc.download(o[1],o[2]),e.setResponseCode=r.Success,e.setCommandOutput="downloading .."),"exit"==s&&r._terminaCommandsProc.exit(r.processId),"help"==s){const c=r._terminaCommandsProc.help(r.echoCommands,r.utilityCommands,o[1]);e.setResponseCode=r.Success,e.setCommandOutput=c}if("open"==s){const c=r._terminaCommandsProc.open(o[1],o[2]);e.setResponseCode=r.Success,e.setCommandOutput=c}if("version"==s){const c=r._terminaCommandsProc.version(r.versionNum);e.setResponseCode=r.Success,e.setCommandOutput=c}if("whoami"==s){const c=r._terminaCommandsProc.whoami();e.setResponseCode=r.Success,e.setCommandOutput=c}if("weather"==s){const c=yield r._terminaCommandsProc.weather(o[1]);e.setResponseCode=r.Success,e.setCommandOutput=c}if("list"==s){const c=r._terminaCommandsProc.list(o[1],o[2]);e.setResponseCode=r.Success,e.setCommandOutput=c}if("pwd"==s){const c=r._terminaCommandsProc.pwd();e.setResponseCode=r.Success,e.setCommandOutput=c}if("cd"==s){const c="string",h="string[]",g=yield r._terminaCommandsProc.cd(o[1],i);(g.type===c||g.type===h)&&(e.setResponseCode=r.Success),g.type===c?(e.setCommandOutput=g.result,r.doesDirExist=!1,r.traversalDepth=g.depth):g.type===h&&(r.fetchedDirectoryList=[],r.fetchedDirectoryList=[...g.result],r.doesDirExist=!0,r.traversalDepth=g.depth)}if("ls"==s){const c="string",h="string[]",g=yield r._terminaCommandsProc.ls(o[1]);e.setResponseCode=r.Success,g.type===c?(e.setCommandOutput=g.result,r.doesDirExist=!1):g.type===h&&(console.log("ls result:",g),e.setCommandOutput=g.result.join(" "),r.fetchedDirectoryList=[],r.fetchedDirectoryList=[...g.result])}if("mkdir"==s){const c=yield r._terminaCommandsProc.mkdir(o[1],o[2]);e.setResponseCode=r.Success,e.setCommandOutput=c}if("rm"==s){const c=yield r._terminaCommandsProc.rm(o[1],o[2]);e.setResponseCode=r.Success,e.setCommandOutput=c}if("mv"==s){const c=yield r._terminaCommandsProc.mv(o[1],o[2]);e.setResponseCode=r.Success,e.setCommandOutput=c}if("cp"==s){const c=o[1],h=o[2],g=o[3],y=yield r._terminaCommandsProc.cp(c,h,g);e.setResponseCode=r.Success,e.setCommandOutput=y}}else e.setResponseCode=r.Fail,e.setCommandOutput=`${e.getCommand}: command not found. Type 'help', or 'help -verbose' to view a list of available commands.`;r.scrollToBottom(),r.storeAppState()})()}getAutoCompelete(e,i){let r=i.filter(o=>o.startsWith(e.trim()));return r.length>0?r:[]}maximizeWindow(){if(`${this.name}-${this.processId}`===this._runningProcessService.getEventOrginator()){this._runningProcessService.removeEventOriginator();const r=document.getElementById("vanta");let o=95;this.terminalOutputCntnr.nativeElement.style.width=`${r?.offsetWidth}px`,this.terminalOutputCntnr.nativeElement.style.height=(r?.offsetHeight||0)-o+"px",this.isBannerVisible&&this.isWelcomeVisible&&(o+=55),this.terminalHistoryOutput.nativeElement.style.width=`${r?.offsetWidth}px`,this.terminalHistoryOutput.nativeElement.style.height=(r?.offsetHeight||0)-o+"px"}}minimizeWindow(e){`${this.name}-${this.processId}`===this._runningProcessService.getEventOrginator()&&(this._runningProcessService.removeEventOriginator(),this.terminalOutputCntnr.nativeElement.style.width=`${e[0]}px`,this.terminalOutputCntnr.nativeElement.style.height=`${e[1]}px`,this.terminalHistoryOutput.nativeElement.style.width=`${e[0]}px`,this.terminalHistoryOutput.nativeElement.style.height=`${e[1]}px`)}setTerminalWindowToFocus(e){this._runningProcessService.focusOnCurrentProcessNotify.next(e)}storeAppState(){const e=this.commandHistory,i=[],r=`${this.name}-${this.processId}`;for(let o=0;o<e.length;o++)i.push(e[o].getCommand);this._appState={pid:this.processId,app_data:i,app_name:this.name,unique_id:r},this._stateManagmentService.addState(r,this._appState,Jt.App)}retrievePastSessionData(){const e=this._sessionManagmentService._pickUpKey;if(this._sessionManagmentService.hasTempSession(e)){const i=this._sessionManagmentService.getTempSession(e)||"",r=this._sessionManagmentService.getSession(i);if(void 0!==r){const o=r[0];if(void 0!==o&&""!=o.app_data){const s=o.app_data;for(let c=0;c<s.length;c++){const h=new ha(s[c],0,"");this.commandHistory.push(h)}}}}}getComponentDetail(){return new vi(this.processId,this.name,this.icon,this.hasWindow,this.type)}static \u0275fac=function(i){return new(i||t)(te(wi),te(Yn),te(S0),te(to),te(eo))};static \u0275cmp=a({type:t,selectors:[["cos-terminal"]],viewQuery:function(i,r){if(1&i&&(Wt(QW,7),Wt(XW,7),Wt(JW,7)),2&i){let o;Gt(o=Yt())&&(r.terminalCntnr=o.first),Gt(o=Yt())&&(r.terminalOutputCntnr=o.first),Gt(o=Yt())&&(r.terminalHistoryOutput=o.first)}},decls:16,vars:8,consts:[["terminalCntnr",""],["terminalOutputCntnr",""],["terminalHistoryOutput",""],[3,"click","runningProcessID","processAppIcon","processAppName"],["tabIndex","-1",1,"terminal-container",3,"keydown","click"],[1,"terminal-output-section"],[4,"ngIf"],[1,"terminal-command-output-container-main"],[4,"ngFor","ngForOf"],[1,"terminal-input-section"],[1,"terminal-input-area"],[1,"terminal-form",3,"formGroup"],[1,"terminal-prompt"],["appKeyPressCapture","","formControlName","terminalCmd","autofocus","false","spellcheck","false","autocomplete","off","autocapitalize","off","id","cmdTxtBox",1,"terminal-input",3,"keydown","keyDblPressed"],[1,"terminal-banner-container"],[1,"terminal-banner-content"],[1,"terminal-welcome-message-container"],[1,"terminal-welcome-message-content"],[1,"terminal-command-output-container"],[1,"terminal-command-output"],[1,"prev-terminal-prompt","terminal-prior"],[1,"prev-terminal-output"],[1,"prev-terminal-output","terminal-error"],[1,"prev-terminal-output","terminal-warning"]],template:function(i,r){if(1&i){const o=Tt();I(0,"cos-window",3),de("click",function(){return G(o),Y(r.setTerminalWindowToFocus(r.processId))}),I(1,"div",4,0),de("keydown",function(c){return G(o),Y(r.onKeyDownOnWindow(c))})("click",function(){return G(o),Y(r.focusOnInput())}),I(3,"div",5,1),Le(5,e7,4,1,"ng-container",6)(6,t7,4,1,"ng-container",6),I(7,"div",7,2),Le(9,o7,5,3,"ng-container",8),P()(),I(10,"div",9)(11,"div",10)(12,"form",11)(13,"span",12),se(14),P(),I(15,"input",13),de("keydown",function(c){return G(o),Y(r.onKeyDownInInputBox(c))})("keyDblPressed",function(c){return G(o),Y(r.onKeyDoublePressed(c))}),P()()()()()()}2&i&&(H("runningProcessID",r.processId)("processAppIcon",r.icon)("processAppName",r.name),T(5),H("ngIf",r.isBannerVisible),T(),H("ngIf",r.isWelcomeVisible),T(3),H("ngForOf",r.commandHistory),T(3),H("formGroup",r.terminalForm),T(2),ln(r.terminalPrompt))},dependencies:[Mo,is,Zp,Fc,xd,Bp,Bc,Nd,no,KW],styles:['.terminal-container[_ngcontent-%COMP%]{width:880px;height:382px;background-color:#171717}.terminal-output-section[_ngcontent-%COMP%]{width:100%;height:357px;overflow:auto;background-color:#171717;padding:5px;font-size:11.5px;line-height:10px;white-space:pre-wrap;font-family:monospace;display:flex;flex-direction:column}.terminal-input-section[_ngcontent-%COMP%]{position:fixed;width:100%;height:25px;background-color:#252424;bottom:0}.terminal-banner-container[_ngcontent-%COMP%]{display:flex;width:100%}.terminal-banner-content[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;width:-moz-fit-content;width:fit-content;color:#ccc;line-height:normal;font-weight:700;font-family:monospace;font-size:12px;margin-bottom:10px;margin-top:4px;text-align:left;white-space:pre}.terminal-welcome-message-container[_ngcontent-%COMP%]{display:flex;width:100%}.terminal-welcome-message-content[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;width:-moz-fit-content;width:fit-content;color:#ccc;line-height:normal;font-weight:400;font-family:monospace;font-size:11.5px;margin-bottom:10px;margin-top:4px;text-align:left;white-space:pre}.terminal-command-output-container-main[_ngcontent-%COMP%]{height:100%;width:100%}.terminal-command-output-container[_ngcontent-%COMP%]{display:flex}.terminal-command-output[_ngcontent-%COMP%]{padding:8px 4px 8px 8px;width:800px;color:#ccc;line-height:normal;font-weight:400;font-family:monospace;font-size:11.5px;text-align:left;white-space:pre}.terminal-command-output[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%]{margin-inline-start:20px}.terminal-command-output[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%]:not(:last-child){margin-block-end:.3em}.terminal-command-output[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%]:before{content:"- "}.terminal-command-output[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-top:0}.terminal-command-record[_ngcontent-%COMP%]{scroll-margin:15px}.terminal-form[_ngcontent-%COMP%]{display:flex;width:90%}.terminal-input-area[_ngcontent-%COMP%]{bottom:0;left:4px;padding-top:4px;position:fixed;display:inline-flex;width:100%;align-items:center}.terminal-prompt[_ngcontent-%COMP%]{position:relative;color:#ccc;font-family:monospace;font-weight:700;display:flex;top:-2px;left:.75%}.prev-terminal-prompt[_ngcontent-%COMP%]{position:relative;color:#ccc;font-family:monospace;font-weight:700;margin-bottom:3px}.prev-terminal-output[_ngcontent-%COMP%]{margin-top:3px;position:relative;display:flex;width:100%;height:100%;color:#ccc;font-family:monospace;font-weight:700;white-space:pre}.terminal-heading[_ngcontent-%COMP%]:before{margin-right:5px;content:"-- "}.terminal-input[_ngcontent-%COMP%]{position:relative;left:1.5%;font-family:monospace;font-weight:400;font-size:normal;color:#ccc;background:transparent;border:0px;outline:none;width:100%;margin-bottom:4px}.terminal-error-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.terminal-error[_ngcontent-%COMP%]{color:red}.terminal-warning[_ngcontent-%COMP%]{color:#ff0}.terminal-prior[_ngcontent-%COMP%]{color:green}']})}return t})();const a7=["ruffleContainer"];let l7=(()=>{class t{rufflePlayer;ruffleContainer;_processIdService;_runningProcessService;_triggerProcessService;_stateManagmentService;_sessionManagmentService;_scriptService;_consts=new Kn;_fileInfo;_appState;gameSrc="";SECONDS_DELAY=250;name="ruffle";hasWindow=!0;icon=`${this._consts.IMAGE_BASE_PATH}ruffle.png`;isMaximizable=!1;processId=0;type=on.User;displayName="Ruffle-EM";constructor(e,i,r,o,s,c){this._processIdService=e,this._triggerProcessService=r,this._stateManagmentService=o,this._sessionManagmentService=s,this._scriptService=c,this.processId=this._processIdService.getNewProcessId(),this.retrievePastSessionData(),this._runningProcessService=i,this._runningProcessService.addProcess(this.getComponentDetail())}ngOnInit(){this._fileInfo=this._triggerProcessService.getLastProcessTrigger()}ngAfterViewInit(){var e=this;return Fe(function*(){e.setRuffleWindowToFocus(e.processId),e.gameSrc=""!==e.gameSrc?e.gameSrc:e.getGamesSrc(e._fileInfo.getContentPath,e._fileInfo.getCurrentPath),e._scriptService.loadScript("ruffle","osdrive/Program-Files/Ruffle/ruffle.js").then(()=>{e.rufflePlayer=window.RufflePlayer.newest(),e.loadSWF("ruffleWindow",e.gameSrc),e.storeAppState(e.gameSrc)}),setTimeout(()=>{e.captureComponentImg()},e.SECONDS_DELAY)})()}loadSWF(e,i){if(!this.rufflePlayer)return void console.error("Ruffle is not loaded");const r=this.rufflePlayer.createPlayer();this.ruffleContainer.nativeElement.appendChild(r),r.load(i)}setRuffleWindowToFocus(e){this._runningProcessService.focusOnCurrentProcessNotify.next(e)}captureComponentImg(){Ir(this.ruffleContainer.nativeElement).then(e=>{this._runningProcessService.addProcessImage(this.name,{pid:this.processId,imageData:e})})}getGamesSrc(e,i){let r="";return r=this.checkForExt(e,i)?"/"+this._fileInfo.getContentPath:"osdrive"+this._fileInfo.getCurrentPath,r}checkForExt(e,i){const r=(0,_t.extname)(e),o=(0,_t.extname)(i),s=".swf";let c=!1;return""!=r&&r==s?c=!0:o==s&&(c=!1),c}storeAppState(e){const i=`${this.name}-${this.processId}`;this._appState={pid:this.processId,app_data:e,app_name:this.name,unique_id:i},this._stateManagmentService.addState(i,this._appState,Jt.App)}retrievePastSessionData(){const e=this._sessionManagmentService._pickUpKey;if(this._sessionManagmentService.hasTempSession(e)){const i=this._sessionManagmentService.getTempSession(e)||"",r=this._sessionManagmentService.getSession(i);if(void 0!==r){const o=r[0];void 0!==o&&""!=o.app_data&&(this.gameSrc=o.app_data)}}}getComponentDetail(){return new vi(this.processId,this.name,this.icon,this.hasWindow,this.type,this._triggerProcessService.getLastProcessTrigger)}static \u0275fac=function(i){return new(i||t)(te(wi),te(Yn),te(hr),te(to),te(eo),te(ll))};static \u0275cmp=a({type:t,selectors:[["cos-ruffle"]],viewQuery:function(i,r){if(1&i&&Wt(a7,7),2&i){let o;Gt(o=Yt())&&(r.ruffleContainer=o.first)}},decls:3,vars:4,consts:[["ruffleContainer",""],[3,"click","runningProcessID","processAppIcon","processAppName","isMaximizable"],[2,"height","400px","width","600px","position","relative"]],template:function(i,r){if(1&i){const o=Tt();I(0,"cos-window",1),de("click",function(){return G(o),Y(r.setRuffleWindowToFocus(r.processId))}),re(1,"div",2,0),P()}2&i&&H("runningProcessID",r.processId)("processAppIcon",r.icon)("processAppName",r.name)("isMaximizable",r.isMaximizable)},dependencies:[no]})}return t})();const c7=["photoContainer"];function u7(t,n){if(1&t){const e=Tt();I(0,"div",8),de("click",function(){const r=G(e).index;return Y(z().onClick(r))}),I(1,"div",9),re(2,"img",5),P()()}if(2&t){const e=n.$implicit;T(2),H("src",e,$e)}}let d7=(()=>{class t{changeDetectorRef;photoContainer;_fileService;_processIdService;_runningProcessService;_triggerProcessService;_stateManagmentService;_sessionManagmentService;_fileInfo;_appState;picSrc="";_consts=new Kn;SECONDS_DELAY=250;name="photoviewer";hasWindow=!0;icon=`${this._consts.IMAGE_BASE_PATH}photoviewer.png`;isMaximizable=!1;processId=0;type=on.System;displayName="PhotoViewer";defaultImg="/osdrive/Pictures/Samples/no_img.jpeg";tst_imageList=[`${this._consts.IMAGE_BASE_PATH}Chill on the Moon.jpg`,`${this._consts.IMAGE_BASE_PATH}Mystical.jpg`,`${this._consts.IMAGE_BASE_PATH}Sparkling Water.jpg`];imageList=[];currentImg="";currentImgIndex=0;constructor(e,i,r,o,s,c,h){this.changeDetectorRef=h,this._fileService=e,this._processIdService=i,this._triggerProcessService=o,this._stateManagmentService=s,this._sessionManagmentService=c,this.processId=this._processIdService.getNewProcessId(),this.retrievePastSessionData(),this._runningProcessService=r,this._runningProcessService.addProcess(this.getComponentDetail())}ngOnInit(){this._fileInfo=this._triggerProcessService.getLastProcessTrigger(),this.currentImg=this.imageList.length>0?this.imageList[0]:this.defaultImg}ngOnDestroy(){}ngAfterViewInit(){var e=this;return Fe(function*(){e.setImageViewerWindowToFocus(e.processId),e.picSrc=""!==e.picSrc?e.picSrc:e.getPictureSrc(e._fileInfo.getContentPath,e._fileInfo.getCurrentPath),yield e.getCurrentPicturePathAndSearchForOthers(),e.currentImg=e.imageList.length>0?e.imageList[0]:e.picSrc||e.defaultImg,e.storeAppState(e.imageList.length>0?e.imageList:e.picSrc),e.changeDetectorRef.detectChanges(),setTimeout(()=>{e.captureComponentImg()},e.SECONDS_DELAY)})()}captureComponentImg(){Ir(this.photoContainer.nativeElement).then(e=>{this._runningProcessService.addProcessImage(this.name,{pid:this.processId,imageData:e})})}onKeyDown(e){"ArrowLeft"==e.key&&this.currentImgIndex>=0&&(this.currentImg=this.imageList[this.currentImgIndex--],this.currentImgIndex<0&&(this.currentImgIndex=this.imageList.length-1)),"ArrowRight"==e.key&&this.currentImgIndex<=this.imageList.length-1&&(this.currentImg=this.imageList[this.currentImgIndex++],this.currentImgIndex>this.imageList.length-1&&(this.currentImgIndex=0))}onClick(e){void 0!==e?(this.currentImg=this.imageList[e],this.currentImgIndex=e):(this.currentImgIndex=this.currentImgIndex+1,this.currentImgIndex<=this.imageList.length-1&&(this.currentImg=this.imageList[this.currentImgIndex]))}focusOnInput(){const e=document.getElementById("photoCntnr");e&&e?.focus()}getCurrentPicturePathAndSearchForOthers(){var e=this;return Fe(function*(){if(0==e.imageList.length&&!e.picSrc.includes("blob:http")){const i=(0,_t.dirname)(e.picSrc),r=yield e._fileService.getEntriesFromDirectoryAsync(i);for(let o=0;o<=r.length-1;o++)e._consts.IMAGE_FILE_EXTENSIONS.includes((0,_t.extname)(r[o]))&&e.imageList.push(`${i}/${r[o]}`)}})()}setImageViewerWindowToFocus(e){this._runningProcessService.focusOnCurrentProcessNotify.next(e)}getPictureSrc(e,i){let r="";return e.includes("blob:http")?e:(r=this.checkForExt(e,i)?"/"+this._fileInfo.getContentPath:this._fileInfo.getCurrentPath,r)}checkForExt(e,i){const r=(0,_t.extname)(e),o=(0,_t.extname)(i);let s=!1;return this._consts.IMAGE_FILE_EXTENSIONS.includes(r)?s=!0:this._consts.IMAGE_FILE_EXTENSIONS.includes(o)&&(s=!1),s}storeAppState(e){const i=`${this.name}-${this.processId}`;this._appState={pid:this.processId,app_data:e,app_name:this.name,unique_id:i},this._stateManagmentService.addState(i,this._appState,Jt.App)}retrievePastSessionData(){const e=this._sessionManagmentService._pickUpKey;if(this._sessionManagmentService.hasTempSession(e)){const i=this._sessionManagmentService.getTempSession(e)||"",r=this._sessionManagmentService.getSession(i);if(void 0!==r){const o=r[0];void 0!==o&&""!=o.app_data&&("string"==typeof o.app_data?this.picSrc=o.app_data:this.imageList=o.app_data)}}}maximizeWindow(){`${this.name}-${this.processId}`===this._runningProcessService.getEventOrginator()&&(this._runningProcessService.removeEventOriginator(),document.getElementById("vanta"))}getComponentDetail(){return new vi(this.processId,this.name,this.icon,this.hasWindow,this.type,this._triggerProcessService.getLastProcessTrigger)}static \u0275fac=function(i){return new(i||t)(te(Lo),te(wi),te(Yn),te(hr),te(to),te(eo),te(kc))};static \u0275cmp=a({type:t,selectors:[["cos-photoviewer"]],viewQuery:function(i,r){if(1&i&&Wt(c7,7),2&i){let o;Gt(o=Yt())&&(r.photoContainer=o.first)}},decls:8,vars:5,consts:[["photoContainer",""],[3,"click","runningProcessID","processAppIcon","processAppName"],[1,"main-container",3,"click"],[1,"photo-viewer-container"],["tabindex","0","id","photoCntnr",1,"photo-viewer",3,"keydown","click"],[3,"src"],[1,"photo-slider"],["class","photo-storage",3,"click",4,"ngFor","ngForOf"],[1,"photo-storage",3,"click"],[1,"photo-slider-img"]],template:function(i,r){if(1&i){const o=Tt();I(0,"cos-window",1),de("click",function(){return G(o),Y(r.setImageViewerWindowToFocus(r.processId))}),I(1,"div",2,0),de("click",function(){return G(o),Y(r.focusOnInput())}),I(3,"div",3)(4,"div",4),de("keydown",function(c){return G(o),Y(r.onKeyDown(c))})("click",function(){return G(o),Y(r.onClick())}),re(5,"img",5),P()(),I(6,"div",6),Le(7,u7,3,1,"div",7),P()()()}2&i&&(H("runningProcessID",r.processId)("processAppIcon",r.icon)("processAppName",r.name),T(5),H("src",r.currentImg,$e),T(2),H("ngForOf",r.imageList))},dependencies:[Mo,no],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}.main-container[_ngcontent-%COMP%]{width:max-content;background:linear-gradient(to right,#29323c,#485563)}.photo-viewer-container[_ngcontent-%COMP%]{min-width:1103px;width:100%;height:100%;text-align:center}.photo-viewer-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.photo-viewer[_ngcontent-%COMP%]{width:52em;height:38em;padding:4em 0;margin:auto;overflow:hidden}.photo-viewer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:4px solid white;box-shadow:8px 2px 30px #000}.photo-slider[_ngcontent-%COMP%]{height:5.5em;margin:0 3em}.photo-slider-img[_ngcontent-%COMP%]{width:10.5em;height:6em;display:inline-flex}.photo-storage[_ngcontent-%COMP%]{display:inline-flex;width:-moz-fit-content;width:fit-content}.myslides[_ngcontent-%COMP%]{display:none}"]})}return t})();function f7(t,n){if(1&t){const e=Tt();I(0,"div",6)(1,"div",7)(2,"div",8,3)(4,"h1",9)(5,"figure",10)(6,"figcaption",11),se(7),P()()()(),I(8,"div",12)(9,"nav",13)(10,"button",14),de("click",function(){return G(e),Y(z().onCloseDialogBox())}),Ii(),I(11,"svg",15),re(12,"path",16),P()()()()(),vr(),I(13,"div",17)(14,"div",18)(15,"div",19)(16,"figure",20),re(17,"img",21),P()(),I(18,"div",22)(19,"span",23),se(20),P()()(),I(21,"div",24)(22,"span",25),se(23,"Application not found"),P()()(),I(24,"div",26)(25,"span",27)(26,"button",28),de("click",function(){return G(e),Y(z().onCloseDialogBox())}),se(27," OK "),P()()()()}if(2&t){const e=qn(3),i=z();H("handle",e),T(7),qt(" ",i.displayMgs," "),T(10),H("src","/osdrive/Cheetah/System/Imageres/red_x.png",$e),T(3),ln(i.displayMgs)}}function h7(t,n){if(1&t){const e=Tt();I(0,"div",29)(1,"div",30,4)(3,"div",31)(4,"div",32)(5,"figure",33),re(6,"img",34),P()(),I(7,"div",35)(8,"span",36),se(9),P()()()(),I(10,"div",37)(11,"span",27)(12,"button",28),de("click",function(){return G(e),Y(z().onCloseDialogBox())}),se(13," OK "),P()()()()}if(2&t){const e=qn(2),i=z();H("handle",e),T(6),H("src","/osdrive/Cheetah/System/Imageres/info.png",$e),T(3),ln(i.displayMgs)}}function p7(t,n){if(1&t){const e=Tt();I(0,"div",38)(1,"div",39)(2,"p"),se(3,"Shortcut"),P()(),I(4,"div",40,4)(6,"div",41)(7,"div",42)(8,"figure",43),re(9,"img",44),P()(),I(10,"div",45)(11,"span",46),se(12),P()()()(),I(13,"div",47)(14,"span",27)(15,"button",28),de("click",function(){return G(e),Y(z().onCloseDialogBox())}),se(16," Yes "),P(),re(17,"div",48),I(18,"button",49),de("click",function(){return G(e),Y(z().onCloseDialogBox())}),se(19," No "),P()()()()}if(2&t){const e=qn(5),i=z();H("handle",e),T(9),H("src","/osdrive/Cheetah/System/Imageres/warning.png",$e),T(3),ln(i.displayMgs)}}let g7=(()=>{class t{changeDetectorRef;inputMsg="";notificationType="";_notificationServices;notificationOption="";errorNotification=No.Error;warnNotification=No.Warning;infoNotification=No.Info;notificationId=0;type=on.System;displayMgs="";constructor(e,i){this.changeDetectorRef=e,this._notificationServices=i,this.notificationId=this.generateNotificationId()}ngOnChanges(e){this.displayMgs=this.inputMsg,this.notificationOption=this.notificationType}onCloseDialogBox(){this._notificationServices.closeDialogBoxNotify.next(this.notificationId)}generateNotificationId(){const e=Math.ceil(0),i=Math.floor(499);return Math.floor(Math.random()*(i-e+1))+e}static \u0275fac=function(i){return new(i||t)(te(kc),te(gg))};static \u0275cmp=a({type:t,selectors:[["cos-dialog"]],inputs:{inputMsg:"inputMsg",notificationType:"notificationType"},features:[Gi],decls:7,vars:1,consts:[["errorNotice",""],["infoNotice",""],["warningNotice",""],["leftHS1",""],["leftHS2",""],[3,"ngTemplateOutlet"],["ngDraggable","",1,"error-dialog-main-container",3,"handle"],["tabindex","0",1,"error-dialog-header-container"],[1,"error-dialog-left-header-section"],[1,"error-dialog-h1"],[1,"error-dialog-figure"],[1,"error-dialog-figcaption"],[1,"error-dialog-right-header-section"],[1,"error-dialog-nav"],["id","closeBtn","appHighlight","","title","Close",1,"error-dialog-button",3,"click"],["width","10","viewBox","0 0 10 10",1,"error-dialog-svg"],["d","M10.2.7L9.5 0 5.1 4.4.7 0 0 .7l4.4 4.4L0 9.5l.7.7 4.4-4.4 4.4 4.4.7-.7-4.4-4.4z","fill","#FFFFF"],[1,"error-dialog-mid-container"],[1,"error-dialog-mid-section1"],[1,"error-dialog-mid-img1"],[1,"error-dialog-figure1"],[1,"error-dialog-img1",3,"src"],[1,"error-dialog-mid-txt1"],[1,"error-dialog-mid-section1-msg"],[1,"error-dialog-mid-section2"],[1,"error-dialog-mid-section2-msg"],[1,"error-dialog-tail-container"],[2,"position","fixed","margin-top","10px","right","4%"],[1,"btn","btn-primary",3,"click"],["ngDraggable","",1,"info-dialog-main-container",3,"handle"],["tabindex","0",1,"info-dialog-mid-container"],[1,"info-dialog-mid-section1"],[1,"info-dialog-mid-img1"],[1,"info-dialog-figure1"],[1,"info-dialog-img1",3,"src"],[1,"info-dialog-mid-txt1"],[1,"info-dialog-mid-section1-msg"],[1,"info-dialog-tail-container"],["ngDraggable","",1,"warning-dialog-main-container",3,"handle"],[2,"position","absolute","left","5%"],["tabindex","0",1,"warning-dialog-mid-container"],[1,"warning-dialog-mid-section1"],[1,"warning-dialog-mid-img1"],[1,"warning-dialog-figure1"],[1,"warning-dialog-img1",3,"src"],[1,"warning-dialog-mid-txt1"],[1,"warning-dialog-mid-section1-msg"],[1,"warning-dialog-tail-container"],[2,"padding-left","5px","display","inline"],[1,"btn","btn-secondary",3,"click"]],template:function(i,r){if(1&i&&(xc(0,5),Le(1,f7,28,4,"ng-template",null,0,ki)(3,h7,14,3,"ng-template",null,1,ki)(5,p7,20,3,"ng-template",null,2,ki)),2&i){const o=qn(2),s=qn(4),c=qn(6);H("ngTemplateOutlet",r.notificationOption===r.errorNotification?o:r.notificationOption===r.warnNotification?c:s)}},dependencies:[Sd,qp,pg],styles:[".error-dialog-main-container[_ngcontent-%COMP%], .info-dialog-main-container[_ngcontent-%COMP%], .warning-dialog-main-container[_ngcontent-%COMP%]{font-size:1rem;text-align:center;background-color:#fff;box-shadow:0 0 20px #0000007f;position:absolute;top:25%;left:25%;transform:translate(-50%,-50%);outline:1px hsl(0deg 0% 20%/70%);z-index:2}.error-dialog-main-container[_ngcontent-%COMP%]{width:350px;height:170px}.error-dialog-header-container[_ngcontent-%COMP%]{width:100%;position:relative;display:flex}.error-dialog-left-header-section[_ngcontent-%COMP%]{width:calc(100% - 45px);height:30px;left:0}.error-dialog-right-header-section[_ngcontent-%COMP%]{height:30px;right:0}.error-dialog-h1[_ngcontent-%COMP%]{color:#fff;font-size:13px;font-weight:400;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;height:29px;border-bottom:1px transparent blue;width:-moz-fit-content;width:fit-content;flex-grow:1;display:flex;left:0}.error-dialog-img[_ngcontent-%COMP%]{height:18px;width:18px;margin:0 6px 0 8px}.error-dialog-figure[_ngcontent-%COMP%]{padding-left:6px;display:flex;align-items:center;height:30px}.error-dialog-figcaption[_ngcontent-%COMP%]{color:#000;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.error-dialog-button[_ngcontent-%COMP%]{border-left:1px transparent blue;box-sizing:content-box;color:#fff;display:flex;font-size:20px;width:45px;place-content:center;place-items:center}.error-dialog-svg[_ngcontent-%COMP%]{fill:#ababab;margin-bottom:2px}.error-dialog-nav[_ngcontent-%COMP%]{display:flex;position:absolute;width:-moz-fit-content;width:fit-content;right:0;height:30px}.error-dialog-mid-container[_ngcontent-%COMP%], .info-dialog-mid-container[_ngcontent-%COMP%], .warning-dialog-mid-container[_ngcontent-%COMP%]{display:block;width:100%;height:95px}.error-dialog-mid-section1[_ngcontent-%COMP%]{display:flex;height:52.5px;width:100%}.error-dialog-mid-section2[_ngcontent-%COMP%], .info-dialog-mid-section2[_ngcontent-%COMP%], .warning-dialog-mid-section2[_ngcontent-%COMP%]{height:42.5px;width:100%}.error-dialog-mid-section2-msg[_ngcontent-%COMP%], .info-dialog-mid-section2-msg[_ngcontent-%COMP%], .warning-dialog-mid-section2-msg[_ngcontent-%COMP%]{position:relative}.error-dialog-mid-img1[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;height:52.5px}.error-dialog-img1[_ngcontent-%COMP%]{position:relative;top:10px;height:38px;width:38px;margin:0 8px}.error-dialog-figure1[_ngcontent-%COMP%]{display:flex;align-items:center;height:38px}.error-dialog-figcaption1[_ngcontent-%COMP%]{color:#000;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.error-dialog-mid-txt1[_ngcontent-%COMP%]{width:calc(100% - 54px)}.error-dialog-mid-section1-msg[_ngcontent-%COMP%], .error-dialog-mid-section2-msg[_ngcontent-%COMP%]{position:relative;font-size:13px;width:100%;font-weight:400;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.error-dialog-mid-section1-msg[_ngcontent-%COMP%]{padding-left:21px;left:-52px;top:15px}.error-dialog-mid-section2-msg[_ngcontent-%COMP%]{top:0;left:-57px}.error-dialog-tail-container[_ngcontent-%COMP%]{display:flex;background-color:#e5e5e5;width:100%;height:45px}.btn.btn-primary[_ngcontent-%COMP%]{background-color:#e5e5e5;color:#000;border:2px solid #0265ce;padding:2px 20px;font-size:12px;font-weight:400;height:24px;width:65px}.btn.btn-secondary[_ngcontent-%COMP%]{background-color:#e5e5e5;color:#000;border:2px solid #ccc;padding:2px 20px;font-size:12px;font-weight:400;height:24px;width:65px}.info-dialog-main-container[_ngcontent-%COMP%]{width:400px;height:130px}.info-dialog-mid-section1[_ngcontent-%COMP%]{display:flex;height:80px;width:100%}.info-dialog-mid-img1[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;height:80px}.info-dialog-img1[_ngcontent-%COMP%]{position:relative;top:25px;height:38px;width:38px;margin:0 14px}.info-dialog-figure1[_ngcontent-%COMP%]{display:flex;align-items:center;height:38px}.info-dialog-figcaption1[_ngcontent-%COMP%]{color:#000;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.info-dialog-mid-txt1[_ngcontent-%COMP%]{width:calc(100% - 54px)}.info-dialog-mid-section1-msg[_ngcontent-%COMP%]{padding-left:10px;left:-30px;top:34px;position:relative;font-size:13px;width:100%;font-weight:400;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.info-dialog-tail-container[_ngcontent-%COMP%]{display:flex;background-color:#e5e5e5;width:100%;height:45px}.warning-dialog-main-container[_ngcontent-%COMP%]{width:400px;height:130px}.warning-dialog-mid-section1[_ngcontent-%COMP%]{display:flex;height:80px;width:100%}.warning-dialog-mid-img1[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;height:80px}.warning-dialog-img1[_ngcontent-%COMP%]{position:relative;top:25px;height:38px;width:38px;margin:0 14px}.warning-dialog-figure1[_ngcontent-%COMP%]{display:flex;align-items:center;height:38px}.warning-dialog-figcaption1[_ngcontent-%COMP%]{color:#000;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.warning-dialog-mid-txt1[_ngcontent-%COMP%]{width:calc(100% - 54px)}.warning-dialog-mid-section1-msg[_ngcontent-%COMP%]{padding-left:10px;left:-30px;top:34px;position:relative;font-size:13px;width:100%;font-weight:400;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.warning-dialog-tail-container[_ngcontent-%COMP%]{display:flex;background-color:#e5e5e5;width:100%;height:45px}"]})}return t})();const m7=["editorContainer"];let _7=(()=>{class t{editorContainer;_processIdService;_runningProcessService;_stateManagmentService;_sessionManagmentService;_triggerProcessService;_scriptService;_fileService;_consts=new Kn;_fileInfo;_appState;_maximizeWindowSub;fileSrc="";quill;SECONDS_DELAY=250;hasWindow=!0;icon=`${this._consts.IMAGE_BASE_PATH}text-editor.png`;name="texteditor";processId=0;type=on.System;displayName="";constructor(e,i,r,o,s,c,h){this._processIdService=e,this.processId=this._processIdService.getNewProcessId(),this._runningProcessService=i,this._stateManagmentService=c,this._triggerProcessService=r,this._sessionManagmentService=s,this._scriptService=h,this._fileService=o,this._runningProcessService.addProcess(this.getComponentDetail())}ngOnInit(){this._fileInfo=this._triggerProcessService.getLastProcessTrigger()}ngAfterViewInit(){var e=this;this.setTextEditorWindowToFocus(this.processId),this.fileSrc=""!==this.fileSrc?this.fileSrc:this.getFileSrc(this._fileInfo.getContentPath,this._fileInfo.getCurrentPath);const i={debug:"info",modules:{toolbar:!0},placeholder:"Compose an epic...",theme:"snow"};this._scriptService.loadScript("quilljs","osdrive/Program-Files/Quill/quill.js").then(Fe(function*(){const r=yield e._fileService.getFileAsync(e.fileSrc);e.quill=new Quill(e.editorContainer.nativeElement,i),e.quill.insertText(0,r,{color:"#ffff00",italic:!1})})),setTimeout(()=>{this.captureComponentImg()},this.SECONDS_DELAY)}ngOnDestroy(){this._maximizeWindowSub?.unsubscribe()}captureComponentImg(){Ir(this.editorContainer.nativeElement).then(e=>{this._runningProcessService.addProcessImage(this.name,{pid:this.processId,imageData:e})})}maximizeWindow(){if(`${this.name}-${this.processId}`===this._runningProcessService.getEventOrginator()){this._runningProcessService.removeEventOriginator();const r=document.getElementById("vanta"),o=70;this.editorContainer.nativeElement.style.height=(r?.offsetHeight||0)-o+"px",this.editorContainer.nativeElement.style.width=`${r?.offsetWidth}px`}}setTextEditorWindowToFocus(e){this._runningProcessService.focusOnCurrentProcessNotify.next(e)}getFileSrc(e,i){let r="";return r=this.checkForExt(e,i)?"/"+this._fileInfo.getContentPath:this._fileInfo.getCurrentPath,r}checkForExt(e,i){const r=(0,_t.extname)(e),o=(0,_t.extname)(i),s=".txt";let c=!1;return""!=r&&r==s?c=!0:o==s&&(c=!1),c}storeAppState(e){const i=`${this.name}-${this.processId}`;this._appState={pid:this.processId,app_data:e,app_name:this.name,unique_id:i},this._stateManagmentService.addState(i,this._appState,Jt.App)}retrievePastSessionData(){const e=this._sessionManagmentService._pickUpKey;if(this._sessionManagmentService.hasTempSession(e)){const i=this._sessionManagmentService.getTempSession(e)||"",r=this._sessionManagmentService.getSession(i);if(void 0!==r){const o=r[0];void 0!==o&&""!=o.app_data&&(this.fileSrc=o.app_data)}}}getComponentDetail(){return new vi(this.processId,this.name,this.icon,this.hasWindow,this.type,this._triggerProcessService.getLastProcessTrigger)}static \u0275fac=function(i){return new(i||t)(te(wi),te(Yn),te(hr),te(Lo),te(eo),te(to),te(ll))};static \u0275cmp=a({type:t,selectors:[["cos-texteditor"]],viewQuery:function(i,r){if(1&i&&Wt(m7,7),2&i){let o;Gt(o=Yt())&&(r.editorContainer=o.first)}},decls:3,vars:3,consts:[["editorContainer",""],[3,"click","runningProcessID","processAppIcon","processAppName"],[1,"editor-main-container"]],template:function(i,r){if(1&i){const o=Tt();I(0,"cos-window",1),de("click",function(){return G(o),Y(r.setTextEditorWindowToFocus(r.processId))}),re(1,"div",2,0),P()}2&i&&H("runningProcessID",r.processId)("processAppIcon",r.icon)("processAppName",r.name)},dependencies:[no],styles:[".editor-main-container[_ngcontent-%COMP%]{min-width:800px;width:100%;min-height:600px}"]})}return t})();const y7=["monacoContent"];let v7=(()=>{class t{monacoContent;_processIdService;_runningProcessService;_stateManagmentService;_triggerProcessService;_consts=new Kn;_maximizeWindowSub;SECONDS_DELAY=250;editorOptions={language:"javascript",theme:"vs-dark",automaticLayout:!0};code=this.getCode();hasWindow=!0;icon=`${this._consts.IMAGE_BASE_PATH}vs_code.png`;name="codeeditor";processId=0;type=on.User;displayName="";constructor(e,i,r,o){this._processIdService=e,this.processId=this._processIdService.getNewProcessId(),this._runningProcessService=i,this._stateManagmentService=o,this._triggerProcessService=r,this._runningProcessService.addProcess(this.getComponentDetail())}ngOnInit(){}ngAfterViewInit(){this.setCodeEditorWindowToFocus(this.processId)}ngOnDestroy(){this._maximizeWindowSub?.unsubscribe()}captureComponentImg(){Ir(this.monacoContent.nativeElement).then(e=>{this._runningProcessService.addProcessImage(this.name,{pid:this.processId,imageData:e})})}maximizeWindow(){if(`${this.name}-${this.processId}`===this._runningProcessService.getEventOrginator()){this._runningProcessService.removeEventOriginator();const r=document.getElementById("vanta"),o=70;this.monacoContent.nativeElement.style.height=(r?.offsetHeight||0)-o+"px",this.monacoContent.nativeElement.style.width=`${r?.offsetWidth}px`}}getCode(){return'function x() {\nconsole.log("Hello world!");\n}'}setCodeEditorWindowToFocus(e){this._runningProcessService.focusOnCurrentProcessNotify.next(e)}getComponentDetail(){return new vi(this.processId,this.name,this.icon,this.hasWindow,this.type,this._triggerProcessService.getLastProcessTrigger)}static \u0275fac=function(i){return new(i||t)(te(wi),te(Yn),te(hr),te(to))};static \u0275cmp=a({type:t,selectors:[["cos-codeeditor"]],viewQuery:function(i,r){if(1&i&&Wt(y7,7),2&i){let o;Gt(o=Yt())&&(r.monacoContent=o.first)}},decls:3,vars:5,consts:[["monacoContent",""],[3,"click","runningProcessID","processAppIcon","processAppName"],[1,"my-code-editor",3,"ngModelChange","options","ngModel"]],template:function(i,r){if(1&i){const o=Tt();I(0,"cos-window",1),de("click",function(){return G(o),Y(r.setCodeEditorWindowToFocus(r.processId))}),I(1,"ngx-monaco-editor",2,0),Wy("ngModelChange",function(c){return G(o),function cx(t,n){const e=JC(t);return e&&t.set(n),e}(r.code,c)||(r.code=c),Y(c)}),P()()}2&i&&(H("runningProcessID",r.processId)("processAppIcon",r.icon)("processAppName",r.name),T(),H("options",r.editorOptions),$y("ngModel",r.code))},dependencies:[xd,g0,xH,no],styles:[".my-code-editor[_ngcontent-%COMP%]{min-width:800px;width:100%;min-height:600px;font-family:monospace;font-size:10pt;letter-spacing:normal;text-align:left}"]})}return t})();const w7=["markDownContent"];let E7=(()=>{class t{markDownContent;_processIdService;_runningProcessService;_stateManagmentService;_sessionManagmentService;_triggerProcessService;_scriptService;_fileService;_consts=new Kn;_sanitizer;_renderer;_fileInfo;_appState;_maximizeWindowSub;fileSrc="";mkdDwnHtml="";SECONDS_DELAY=250;hasWindow=!0;icon=`${this._consts.IMAGE_BASE_PATH}markdown.png`;name="markdownviewer";processId=0;type=on.System;displayName="";constructor(e,i,r,o,s,c,h,g,y){this._processIdService=e,this._runningProcessService=i,this._stateManagmentService=o,this._sessionManagmentService=h,this._triggerProcessService=r,this._scriptService=s,this._fileService=c,this._renderer=g,this._sanitizer=y,this.processId=this._processIdService.getNewProcessId(),this.retrievePastSessionData(),this._runningProcessService=i,this._runningProcessService.addProcess(this.getComponentDetail())}ngOnInit(){this._fileInfo=this._triggerProcessService.getLastProcessTrigger()}ngAfterViewInit(){var e=this;this.setMardkDownViewerWindowToFocus(this.processId),this.fileSrc=""!==this.fileSrc?this.fileSrc:this.getFileSrc(this._fileInfo.getContentPath,this._fileInfo.getCurrentPath),this._scriptService.loadScript("markedjs","osdrive/Program-Files/Marked/marked.min.js").then(Fe(function*(){const o=marked.setOptions({gfm:!0,breaks:!0})(yield e._fileService.getFileAsync(e.fileSrc)),s=e._sanitizer.bypassSecurityTrustHtml(o);e.mkdDwnHtml=s,e.storeAppState(e.fileSrc)})),setTimeout(()=>{this.captureComponentImg()},this.SECONDS_DELAY)}ngOnDestroy(){this._maximizeWindowSub?.unsubscribe()}captureComponentImg(){Ir(this.markDownContent.nativeElement).then(e=>{this._runningProcessService.addProcessImage(this.name,{pid:this.processId,imageData:e})})}maximizeWindow(){if(`${this.name}-${this.processId}`===this._runningProcessService.getEventOrginator()){this._runningProcessService.removeEventOriginator();const r=document.getElementById("vanta"),o=70;this.markDownContent.nativeElement.style.height=(r?.offsetHeight||0)-o+"px",this.markDownContent.nativeElement.style.width=`${r?.offsetWidth}px`}}setMardkDownViewerWindowToFocus(e){this._runningProcessService.focusOnCurrentProcessNotify.next(e)}getFileSrc(e,i){let r="";return r=this.checkForExt(e,i)?"/"+this._fileInfo.getContentPath:this._fileInfo.getCurrentPath,r}checkForExt(e,i){const r=(0,_t.extname)(e),o=(0,_t.extname)(i);let c=!1;return""!=r&&".md"==r?c=!0:".md"==o&&(c=!1),c}storeAppState(e){const i=`${this.name}-${this.processId}`;this._appState={pid:this.processId,app_data:e,app_name:this.name,unique_id:i},this._stateManagmentService.addState(i,this._appState,Jt.App)}retrievePastSessionData(){const e=this._sessionManagmentService._pickUpKey;if(this._sessionManagmentService.hasTempSession(e)){const i=this._sessionManagmentService.getTempSession(e)||"",r=this._sessionManagmentService.getSession(i);if(void 0!==r){const o=r[0];void 0!==o&&""!=o.app_data&&(this.fileSrc=o.app_data)}}}getComponentDetail(){return new vi(this.processId,this.name,this.icon,this.hasWindow,this.type,this._triggerProcessService.getLastProcessTrigger)}static \u0275fac=function(i){return new(i||t)(te(wi),te(Yn),te(hr),te(to),te(ll),te(Lo),te(eo),te(qr),te(Gv))};static \u0275cmp=a({type:t,selectors:[["cos-markdownviewer"]],viewQuery:function(i,r){if(1&i&&Wt(w7,7),2&i){let o;Gt(o=Yt())&&(r.markDownContent=o.first)}},decls:4,vars:4,consts:[["markDownContent",""],[3,"click","runningProcessID","processAppIcon","processAppName"],[1,"markdown-main-container"],[1,"markdown-content",3,"innerHTML"]],template:function(i,r){if(1&i){const o=Tt();I(0,"cos-window",1),de("click",function(){return G(o),Y(r.setMardkDownViewerWindowToFocus(r.processId))}),I(1,"div",2,0),re(3,"div",3),P()()}2&i&&(H("runningProcessID",r.processId)("processAppIcon",r.icon)("processAppName",r.name),T(3),H("innerHTML",r.mkdDwnHtml,pb))},dependencies:[no],styles:[".markdown-main-container[_ngcontent-%COMP%]{width:100%;height:100%}.markdown-content[_ngcontent-%COMP%]{width:800px;height:600px;color:#ccc;white-space:pre;text-align:left;overflow:auto;background-color:#f9f9f9;box-sizing:border-box;font-size:16px;line-height:1.5;padding:10px}.markdown-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;margin:5px 0}.markdown-content[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{background:#fff;border:1px solid #ddd;border-radius:3px;margin-right:10px}.markdown-content[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{font-size:14px;list-style-type:none;margin:5px 0;padding:0;position:sticky;top:5px}.markdown-content[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{min-width:125px;padding:0 15px}"]})}return t})();function S7(t,n){if(1&t&&(xn(0),I(1,"div",39)(2,"div",24)(3,"p",33),se(4," Opens with:"),P()(),re(5,"div",27),I(6,"div",28)(7,"div",40)(8,"div",41)(9,"figure",42),re(10,"img",43),P()(),re(11,"div",44),I(12,"div",45)(13,"p",33),se(14),P()()()()(),Dn()),2&t){const e=z();T(10),H("src",e.icon,$e),T(4),qt(" ",e.fileInput.getOpensWith,"")}}function b7(t,n){1&t&&(xn(0),I(1,"div",39)(2,"div",24)(3,"p",33),se(4," Description:"),P()(),re(5,"div",27),I(6,"div",28)(7,"p",33),se(8," camera "),P()()(),Dn())}let C7=(()=>{class t{fileInput;_fileService;_menuService;_consts=new Kn;URL=this._consts.URL;propertyId=0;type=on.System;displayMgs="";name="";location="";icon="";constructor(e,i){this._fileService=e,this._menuService=i,this.propertyId=this.generatePropertyId()}ngOnChanges(e){this.displayMgs=`${this.fileInput.getFileName} Properties`,this.name=this.fileInput.getFileName,this.location=(0,_t.dirname)(this.fileInput.getCurrentPath),this.icon=this._fileService.getAppAssociaton(this.fileInput.getOpensWith)}onClosePropertyView(){this._menuService.closePropertiesView.next(this.propertyId)}generatePropertyId(){const e=Math.ceil(500),i=Math.floor(999);return Math.floor(Math.random()*(i-e+1))+e}static \u0275fac=function(i){return new(i||t)(te(Lo),te(fa))};static \u0275cmp=a({type:t,selectors:[["cos-properties"]],inputs:{fileInput:"fileInput"},features:[Gi],decls:108,vars:10,consts:[["leftHS1",""],["ngDraggable","",1,"properties-main-container",3,"handle"],["tabindex","0",1,"properties-header-container"],[1,"properties-left-header-section"],[1,"properties-h1"],[1,"properties-figure"],[1,"properties-img",3,"src","alt"],[1,"properties-figcaption"],[1,"properties-right-header-section"],[1,"properties-nav"],["id","closeBtn","appHighlight","","title","Close",1,"properties-button",3,"click"],["width","10","viewBox","0 0 10 10",1,"properties-svg"],["d","M10.2.7L9.5 0 5.1 4.4.7 0 0 .7l4.4 4.4L0 9.5l.7.7 4.4-4.4 4.4 4.4.7-.7-4.4-4.4z","fill","#FFFFF"],[1,"properties-body-container"],[2,"width","100%","height","10px","background-color","#f0f0f0"],[1,"properties-header-tab-container"],[1,"properties-header-tabs"],[1,"properties-tab","active"],[1,"properties-header-tab-content-container"],[1,"properties-tab-pane","active"],[1,"general-tab-containter"],[2,"width","100%","height","5px"],[1,"general-tab-section"],[1,"general-tab-content"],[1,"general-tab-head"],[1,"general-tab-figure"],[1,"general-tab-img",3,"src"],[1,"general-tab-mid"],[1,"general-tab-tail"],[1,"general-tab-p"],[1,"general-tab-line-container"],[1,"general-tab-line"],[1,"general-tab-section2"],[1,"general-tab-p1"],[4,"ngIf"],[2,"width","100%","height","60px"],[1,"properties-footer-container"],[2,"position","fixed","margin-top","6px","right","2%"],[1,"btn","btn-primary",3,"click"],[1,"general-tab-content",2,"height","13px"],[1,"openswith-container"],[1,"openswith-head"],[1,"openswith-tab-figure"],[1,"openswith-tab-img",3,"src"],[1,"openswith-mid"],[1,"openswith-tail"]],template:function(i,r){if(1&i){const o=Tt();I(0,"div",1)(1,"div",2)(2,"div",3,0)(4,"h1",4)(5,"figure",5),re(6,"img",6),I(7,"figcaption",7),se(8),P()()()(),I(9,"div",8)(10,"nav",9)(11,"button",10),de("click",function(){return G(o),Y(r.onClosePropertyView())}),Ii(),I(12,"svg",11),re(13,"path",12),P()()()()(),vr(),I(14,"div",13),re(15,"div",14),I(16,"div",15)(17,"div",16)(18,"div",17),se(19,"General"),P()(),I(20,"div",18)(21,"div",19)(22,"div",20),re(23,"div",21),I(24,"div",22)(25,"div",23)(26,"div",24)(27,"figure",25),re(28,"img",26),P()(),re(29,"div",27),I(30,"div",28)(31,"p",29),se(32),P()()()(),I(33,"div",30),re(34,"div",31),P(),I(35,"div",32)(36,"div",23)(37,"div",24)(38,"p",33),se(39," Type of file:"),P()(),re(40,"div",27),I(41,"div",28)(42,"p",33),se(43),P()()(),Le(44,S7,15,2,"ng-container",34)(45,b7,9,0,"ng-container",34),P(),I(46,"div",30),re(47,"div",31),P(),I(48,"div",32)(49,"div",23)(50,"div",24)(51,"p",33),se(52," Location:"),P()(),re(53,"div",27),I(54,"div",28)(55,"p",33),se(56),P()()(),I(57,"div",23)(58,"div",24)(59,"p",33),se(60," Size:"),P()(),re(61,"div",27),I(62,"div",28)(63,"p",33),se(64," 1.44 KB(1,482 bytes)"),P()()(),I(65,"div",23)(66,"div",24)(67,"p",33),se(68," Size on disk:"),P()(),re(69,"div",27),I(70,"div",28)(71,"p",33),se(72," 4.00 KB (4,096 bytes) "),P()()()(),I(73,"div",30),re(74,"div",31),P(),I(75,"div",32)(76,"div",23)(77,"div",24)(78,"p",33),se(79,"Created:"),P()(),re(80,"div",27),I(81,"div",28)(82,"p",33),se(83,"Thur, Sep 19,2024, 9:22.26 PM"),P()()(),I(84,"div",23)(85,"div",24)(86,"p",33),se(87,"Modified:"),P()(),re(88,"div",27),I(89,"div",28)(90,"p",33),se(91,"Thur, Sep 19,2024, 9:22.26 PM"),P()()(),I(92,"div",23)(93,"div",24)(94,"p",33),se(95," Accessed:"),P()(),re(96,"div",27),I(97,"div",28)(98,"p",33),se(99," Thur, Sep 19,2024, 9:22.26 PM "),P()()()(),I(100,"div",30),re(101,"div",31),P(),I(102,"div",32),re(103,"div",35),P()()()()()(),I(104,"div",36)(105,"span",37)(106,"button",38),de("click",function(){return G(o),Y(r.onClosePropertyView())}),se(107," OK "),P()()()()}2&i&&(H("handle",qn(3)),T(6),H("src",r.fileInput.getIconPath,$e)("alt",""),T(2),qt(" ",r.displayMgs," "),T(20),H("src",r.fileInput.getIconPath,$e),T(4),ln(r.name),T(11),qt(" ",r.fileInput.getFileExtension,""),T(),H("ngIf",r.fileInput.getFileExtension===r.URL),T(),H("ngIf",r.fileInput.getFileExtension!==r.URL),T(11),qt(" ",r.location,""))},dependencies:[is,qp,pg],styles:[".properties-main-container[_ngcontent-%COMP%]{font-size:1rem;text-align:center;background-color:#fff;box-shadow:0 0 20px #0000007f;position:absolute;top:25%;left:25%;transform:translate(431px,-914px);outline:1px hsl(0deg 0% 20%/70%);z-index:2;width:325px;height:455px}.properties-header-container[_ngcontent-%COMP%]{width:100%;position:relative;display:flex}.properties-left-header-section[_ngcontent-%COMP%]{width:calc(100% - 45px);height:30px;left:0}.properties-right-header-section[_ngcontent-%COMP%]{height:30px;right:0}.properties-h1[_ngcontent-%COMP%]{color:#fff;font-size:13px;font-weight:400;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;height:29px;border-bottom:1px transparent blue;width:-moz-fit-content;width:fit-content;flex-grow:1;display:flex;left:0}.properties-img[_ngcontent-%COMP%]{height:18px;width:18px;position:relative;left:-5px;margin:0 6px 0 8px}.properties-figure[_ngcontent-%COMP%]{padding-left:6px;display:flex;align-items:center;height:30px}.properties-figcaption[_ngcontent-%COMP%]{color:#000;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.properties-button[_ngcontent-%COMP%]{border-left:1px transparent blue;box-sizing:content-box;color:#fff;display:flex;font-size:20px;width:45px;place-content:center;place-items:center}.properties-svg[_ngcontent-%COMP%]{fill:#ababab;margin-bottom:2px}.properties-nav[_ngcontent-%COMP%]{display:flex;position:absolute;width:-moz-fit-content;width:fit-content;right:0;height:30px}.properties-body-container[_ngcontent-%COMP%]{width:100%;background-color:#f0f0f0;padding:0 7px}.properties-header-tab-container[_ngcontent-%COMP%]{width:100%;display:block;background-color:#fff}.properties-header-tabs[_ngcontent-%COMP%]{display:flex;background-color:#f0f0f0}.properties-tab[_ngcontent-%COMP%]{width:100px;padding:4px 0;font-weight:400;font-size:11px;text-align:center;cursor:default;background-color:#f0f0f0;border:.3px solid #2d2d2d;color:#000;transition:background-color .3s}.properties-tab.active[_ngcontent-%COMP%]{border:.3px solid #2d2d2d;border-bottom:none;background-color:#fff;color:#000}.properties-header-tab-content-container[_ngcontent-%COMP%]{width:100%;height:100%;border:.3px solid #2d2d2d}.properties-tab-pane[_ngcontent-%COMP%]{display:none}.properties-tab-pane.active[_ngcontent-%COMP%]{display:flex}.figure-header-toggle[_ngcontent-%COMP%]{position:fixed;right:2%}.figure-header-tab[_ngcontent-%COMP%]{position:relative;width:15px;height:21.5px;place-items:center}.general-tab-containter[_ngcontent-%COMP%]{width:100%;display:block}.general-tab-section[_ngcontent-%COMP%]{width:100%;padding:10px 5px}.general-tab-section2[_ngcontent-%COMP%]{width:100%;padding:10px 9px}.general-tab-content[_ngcontent-%COMP%]{display:inline-flex;width:100%}.general-tab-line-container[_ngcontent-%COMP%]{position:relative;bottom:0;max-height:.5px;background-color:#fff}.general-tab-line[_ngcontent-%COMP%]{border:.5px solid #9c9898;margin:0 8px}.general-tab-head[_ngcontent-%COMP%]{width:26%}.general-tab-mid[_ngcontent-%COMP%]{min-width:5%;padding:0 4px}.general-tab-tail[_ngcontent-%COMP%]{width:69%;padding-right:4px}.general-tab-p[_ngcontent-%COMP%]{position:relative;top:30%;font-size:11px;font-weight:400;text-align:left;padding:3px 0;border:.5px solid #000}.general-tab-p1[_ngcontent-%COMP%]{position:relative;top:0%;font-size:11px;font-weight:400;text-align:left}.general-tab-figure[_ngcontent-%COMP%]{align-items:center;display:inline-flex;width:36px;height:36px}.general-tab-img[_ngcontent-%COMP%]{height:36px;width:36px;position:relative;margin:0;left:-12px}.openswith-tab-figure[_ngcontent-%COMP%]{align-items:center;display:inline-flex;width:12px;height:12px}.openswith-tab-img[_ngcontent-%COMP%]{height:12px;width:12px;position:relative;margin:0;left:-2px;top:-3px}.properties-footer-container[_ngcontent-%COMP%]{width:100%;height:35px;background-color:#f0f0f0}.openswith-container[_ngcontent-%COMP%]{display:inline-flex;width:100%;height:13px}.openswith-head[_ngcontent-%COMP%]{width:9%}.openswith-mid[_ngcontent-%COMP%]{width:1%}.openswith-tail[_ngcontent-%COMP%]{width:75%}.btn.btn-primary[_ngcontent-%COMP%]{background-color:#e5e5e5;color:#000;border:2px solid #0265ce;padding:2px 20px;font-size:12px;font-weight:400;height:24px;width:65px}"]})}return t})(),I7=(()=>{class t{_componentsReferences;constructor(){this._componentsReferences=new Map}addComponentReference(e,i){this._componentsReferences.set(e,i)}getComponentReference(e){return this._componentsReferences.get(e)}removeComponentReference(e){this._componentsReferences.delete(e)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class x7{changeHue(n,e){if(!/^#(?:[0-9a-fA-F]{3}){1,2}$/.test(n))return console.error("Invalid hexadecimal color code"),null;const r=n.substring(1),o=parseInt(r,16),g=this.rgbToHsl(o>>16&255,o>>8&255,255&o);g.h+=e,g.h=(g.h+360)%360;const y=this.hslToRgb(g.h,g.s,g.l);return`#${this.rgbToHex(y.r,y.g,y.b)}`}rgbToHsl(n,e,i){n/=255,e/=255,i/=255;const r=Math.max(n,e,i),o=Math.min(n,e,i);let s,c,h=(r+o)/2;if(r===o)s=c=0;else{const g=r-o;switch(c=h>.5?g/(2-r-o):g/(r+o),r){case n:s=(e-i)/g+(e<i?6:0);break;case e:s=(i-n)/g+2;break;case i:s=(n-e)/g+4}s&&(s/=6)}return{h:s||360,s:100*c,l:100*h}}hslToRgb(n,e,i){let r,o,s;if(n/=360,i/=100,0==(e/=100))r=o=s=i;else{const c=(y,C,A)=>(A<0&&(A+=1),A>1&&(A-=1),A<.16666666666666666?y+6*(C-y)*A:A<.5?C:A<.6666666666666666?y+(C-y)*(.6666666666666666-A)*6:y),h=i<.5?i*(1+e):i+e-i*e,g=2*i-h;r=c(g,h,n+1/3),o=c(g,h,n),s=c(g,h,n-1/3)}return{r:255*r,g:255*o,b:255*s}}rgbToHex(n,e,i){const r=o=>{const s=Math.round(o).toString(16);return 1===s.length?"0"+s:s};return r(n)+r(e)+r(i)}}var D7=ae(47);function M7(t,n){if(1&t){const e=Tt();I(0,"li",19)(1,"button",20),de("click",function(){const r=G(e).$implicit;return Y(z().runProcess(r))}),I(2,"div",21)(3,"figure",22),re(4,"img",23),P()(),I(5,"div",24)(6,"p",25),se(7),P()(),I(8,"div",26),re(9,"figure",22),P()()()}if(2&t){const e=n.$implicit;lt("id","start-menu-list-li-",n.index,""),T(4),H("src",e.getIconPath,$e),T(3),ln(e.getFileName)}}let T7=(()=>{class t{_processIdService;_runningProcessService;_triggerProcessService;_fileService;_elRef;_consts=new Kn;txtOverlayMenuStyle={};SECONDS_DELAY=250;Documents="Documents";Pictures="Pictures";Music="Music";delayStartMenuOverlayHideTimeoutId;delayStartMenuOverlayShowTimeoutId;startMenuFiles=[];_startMenuDirectoryFilesEntries;directory="/AppData/StartMenu";hasWindow=!1;icon=`${this._consts.IMAGE_BASE_PATH}generic_program.png`;name="startmenu";processId=0;type=on.System;displayName="";constructor(e,i,r,o,s){this._processIdService=e,this._runningProcessService=i,this._elRef=o,this._fileService=s,this._triggerProcessService=r,this.processId=this._processIdService.getNewProcessId(),-1===this._runningProcessService.getProcesses().findIndex(c=>c.getProcessName===this.name)&&this._runningProcessService.addProcess(this.getComponentDetail())}ngOnInit(){}ngAfterViewInit(){var e=this;return Fe(function*(){setTimeout(Fe(function*(){yield e.loadFilesInfoAsync()}),e.SECONDS_DELAY),e.removeVantaJSSideEffect()})()}removeVantaJSSideEffect(){setTimeout(()=>{const e=this._elRef.nativeElement;e&&(e.style.position="",e.style.zIndex="")},this.SECONDS_DELAY)}startMenuOverlaySlideOut(){clearTimeout(this.delayStartMenuOverlayHideTimeoutId);const e=document.getElementById("sm-IconText-Overlay-Cntnr");clearTimeout(this.delayStartMenuOverlayShowTimeoutId),this.delayStartMenuOverlayShowTimeoutId=setTimeout(()=>{e&&(e.style.width="48px",e.style.transition="width 0.3s ease",e.style.width="248px",e.style.transitionDelay="0.75s",e.addEventListener("transitionend",()=>{e.style.boxShadow="0px 2px 4px rgba(0, 0, 0, 0.6)",this.txtOverlayMenuStyle={display:"flex"}},{once:!0}))},500)}startMenuOverlaySlideIn(){clearTimeout(this.delayStartMenuOverlayShowTimeoutId);const e=document.getElementById("sm-IconText-Overlay-Cntnr");clearTimeout(this.delayStartMenuOverlayHideTimeoutId),this.delayStartMenuOverlayHideTimeoutId=setTimeout(()=>{e&&(e.style.transition="width 0.3s ease",e.style.width="48px",e.style.boxShadow="none",e.addEventListener("transitionstart",()=>{this.txtOverlayMenuStyle={display:"none"}},{once:!0}))},250)}onBtnHover(){(0,D7.applyEffect)(".start-menu-list-ol",{clickEffect:!0,lightColor:"rgba(255,255,255,0.1)",gradientSize:35,isContainer:!0,children:{borderSelector:".start-menu-list-li",elementSelector:".start-menu-list-btn",lightColor:"rgba(255,255,255,0.3)",gradientSize:150}})}loadFilesInfoAsync(){var e=this;return Fe(function*(){e.startMenuFiles=[],e._fileService.resetDirectoryFiles();const i=yield e._fileService.getEntriesFromDirectoryAsync(e.directory);e._startMenuDirectoryFilesEntries=e._fileService.getFileEntriesFromDirectory(i,e.directory);for(let r=0;r<i.length;r++){const o=e._startMenuDirectoryFilesEntries[r],s=yield e._fileService.getFileInfoAsync(o.getPath);e.startMenuFiles.push(s)}})()}runProcess(e){console.log("startmanager-runProcess:",e),this._triggerProcessService.startApplication(e)}openFolderPath(e){const i=`/Users/${e}`,r=new Fo;r.setFileName=e,r.setOpensWith="fileexplorer",r.setIsFile=!1,r.setCurrentPath=i,this.runProcess(r)}power(){location.reload()}getComponentDetail(){return new vi(this.processId,this.name,this.icon,this.hasWindow,this.type)}static \u0275fac=function(i){return new(i||t)(te(wi),te(Yn),te(hr),te(li),te(Lo))};static \u0275cmp=a({type:t,selectors:[["cos-startmenu"]],decls:47,vars:21,consts:[[1,"start-menu-main-container"],[1,"start-menu-main-overlay-container"],[1,"start-menu-main-overlay-content"],["id","sm-IconText-Overlay-Cntnr",1,"start-menu-main-overlay-icon-text-container"],[1,"start-menu-main-overlay-icon-text-content",3,"mouseenter","mouseleave"],[1,"start-menu-overlay-icon"],[1,"start-menu-overlay-figure"],[1,"start-menu-overlay-img",3,"src"],[1,"start-menu-overlay-text"],[1,"start-menu-overlay-text-p",2,"font-weight","bold"],[2,"height","280px"],[1,"start-menu-main-overlay-icon-text-content",3,"click","mouseenter","mouseleave"],[1,"start-menu-overlay-text-p"],[1,"start-menu-main-content-container"],[1,"start-menu-main-content-empty"],[1,"start-menu-main-content-list-container"],[1,"start-menu-main-content-list-content"],[1,"start-menu-list-ol",3,"mouseenter"],["class","start-menu-list-li",3,"id",4,"ngFor","ngForOf"],[1,"start-menu-list-li",3,"id"],[1,"start-menu-list-btn",3,"click"],[1,"start-menu-list-head"],[1,"start-menu-list-fig"],[1,"start-menu-list-img",3,"src"],[1,"start-menu-list-mid"],[1,"start-menu-list-p"],[1,"start-menu-list-tail"]],template:function(i,r){1&i&&(I(0,"div")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),de("mouseenter",function(){return r.startMenuOverlaySlideOut()})("mouseleave",function(){return r.startMenuOverlaySlideIn()}),I(6,"div",5)(7,"figure",6),re(8,"img",7),P()(),I(9,"div",8)(10,"p",9),se(11,"START"),P()()(),re(12,"div",10),I(13,"div",11),de("click",function(){return r.openFolderPath(r.Documents)})("mouseenter",function(){return r.startMenuOverlaySlideOut()})("mouseleave",function(){return r.startMenuOverlaySlideIn()}),I(14,"div",5)(15,"figure",6),re(16,"img",7),P()(),I(17,"div",8)(18,"p",12),se(19),P()()(),I(20,"div",11),de("click",function(){return r.openFolderPath(r.Pictures)})("mouseenter",function(){return r.startMenuOverlaySlideOut()})("mouseleave",function(){return r.startMenuOverlaySlideIn()}),I(21,"div",5)(22,"figure",6),re(23,"img",7),P()(),I(24,"div",8)(25,"p",12),se(26),P()()(),I(27,"div",11),de("click",function(){return r.openFolderPath(r.Music)})("mouseenter",function(){return r.startMenuOverlaySlideOut()})("mouseleave",function(){return r.startMenuOverlaySlideIn()}),I(28,"div",5)(29,"figure",6),re(30,"img",7),P()(),I(31,"div",8)(32,"p",12),se(33),P()()(),I(34,"div",11),de("click",function(){return r.power()})("mouseenter",function(){return r.startMenuOverlaySlideOut()})("mouseleave",function(){return r.startMenuOverlaySlideIn()}),I(35,"div",5)(36,"figure",6),re(37,"img",7),P()(),I(38,"div",8)(39,"p",12),se(40,"Power"),P()()()()()(),I(41,"div",13),re(42,"div",14),I(43,"div",15)(44,"div",16)(45,"ol",17),de("mouseenter",function(){return r.onBtnHover()}),Le(46,M7,10,4,"li",18),P()()()()()()),2&i&&(H("@slideUpToggle",void 0),T(8),H("src","osdrive/Cheetah/System/Imageres/sm_hamburger_menu.png",$e),T(),St(r.txtOverlayMenuStyle),T(7),H("src","osdrive/Cheetah/System/Imageres/sm_file.png",$e),T(),St(r.txtOverlayMenuStyle),T(2),ln(r.Documents),T(4),H("src","osdrive/Cheetah/System/Imageres/sm_picture.png",$e),T(),St(r.txtOverlayMenuStyle),T(2),ln(r.Pictures),T(4),H("src","osdrive/Cheetah/System/Imageres/sm_music.png",$e),T(),St(r.txtOverlayMenuStyle),T(2),ln(r.Music),T(4),H("src","osdrive/Cheetah/System/Imageres/sm_power.png",$e),T(),St(r.txtOverlayMenuStyle),T(5),H("@slideUpToggle",void 0),T(3),H("ngForOf",r.startMenuFiles))},dependencies:[Mo],styles:[".start-menu-main-container[_ngcontent-%COMP%], .start-menu-main-overlay-container[_ngcontent-%COMP%]{position:absolute;z-index:2;bottom:40px;left:0}.start-menu-main-overlay-container[_ngcontent-%COMP%]{bottom:0%}.start-menu-main-overlay-content[_ngcontent-%COMP%]{display:flex;width:-moz-fit-content;width:fit-content;height:500px}.start-menu-main-overlay-icon-text-container[_ngcontent-%COMP%]{width:48px;display:block;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.start-menu-main-overlay-icon-text-content[_ngcontent-%COMP%]{width:100%;height:44px;display:flex}.start-menu-overlay-icon[_ngcontent-%COMP%]{width:48px;padding:12px;border:2px solid transparent}.start-menu-overlay-figure[_ngcontent-%COMP%]{display:flex;align-items:center;height:16px}.start-menu-overlay-img[_ngcontent-%COMP%]{position:relative;height:16px;width:16px}.start-menu-overlay-text[_ngcontent-%COMP%]{display:none;width:200px;padding:12px 0;border:2px solid transparent}.start-menu-overlay-text-p[_ngcontent-%COMP%]{position:relative;color:#fff;font-size:14px;font-weight:300;top:0}.start-menu-main-content-container[_ngcontent-%COMP%]{display:flex;width:300px;height:500px;background-color:#292929bf;-webkit-backdrop-filter:blur(30px);backdrop-filter:blur(30px)}.start-menu-main-content-empty[_ngcontent-%COMP%]{width:16%}.start-menu-main-content-list-container[_ngcontent-%COMP%]{width:84%}.start-menu-main-content-list-content[_ngcontent-%COMP%]{width:100%;height:500px;overflow-y:auto}.start-menu-list-ol[_ngcontent-%COMP%]{width:100%;padding:10px 0}.start-menu-list-li[_ngcontent-%COMP%]{display:flex;justify-content:center;border:2px solid transparent}.start-menu-list-btn[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Arial,sans-serif;color:#fff;border:0;transition:all .2s ease;display:flex;width:100%;height:32px}.start-menu-list-fig[_ngcontent-%COMP%]{position:relative;display:inline-flex;width:27px;height:27px;top:2.5px}.start-menu-list-img[_ngcontent-%COMP%]{height:27px;width:27px;position:relative}.start-menu-list-head[_ngcontent-%COMP%]{width:32px;height:32px}.start-menu-list-mid[_ngcontent-%COMP%]{width:175px;height:32px;padding-left:10px}.start-menu-list-p[_ngcontent-%COMP%]{position:relative;top:8px;font-size:12px;color:#fff;text-align:left;font-weight:400}.start-menu-list-tail[_ngcontent-%COMP%]{width:32px;height:32px}"],data:{animation:[Vc("slideUpToggle",[ko(":enter",[rn({transform:"translateY(-100%)"}),Ao("0.3s ease-out",rn({transform:"translateY(0%)"}))])])]}})}return t})();function P7(t,n){if(1&t){const e=Tt();I(0,"div",2)(1,"div",3)(2,"div",4)(3,"h1",5)(4,"figure",6),re(5,"img",7),I(6,"figcaption",8),se(7),P()()()(),I(8,"div",9)(9,"nav",10)(10,"button",11),de("click",function(){const r=G(e).$implicit;return Y(z().onClosePreviewWindow(r.pid))}),Ii(),I(11,"svg",12),re(12,"path",13),P()()()()(),vr(),I(13,"div",14),de("contextmenu",function(r){const o=G(e).$implicit;return Y(z().showTaskBarPreviewContextMenu(r,o.pid))})("mouseenter",function(){const r=G(e).$implicit;return Y(z().setWindowToFocus(r.pid))})("mouseleave",function(){const r=G(e).$implicit;return Y(z().restoreWindow(r.pid))})("click",function(){const r=G(e).$implicit;return Y(z().showWindow(r.pid))}),I(14,"figure",15),re(15,"img",16),P()()()}if(2&t){const e=n.$implicit,i=z();T(5),H("src",i.icon,$e),T(2),qt(" ",i.appInfo," "),T(8),H("ngClass",e.imageData?"taskbar-preview-img1-sec":"taskbar-preview-img1-pri")("src",e.imageData||i.icon,$e)}}let A7=(()=>{class t{_runningProcessService;name="";icon="";fadeState="";componentImages;appInfo="";SECONDS_DELAY=250;constructor(e){this._runningProcessService=e,this.fadeState="in"}ngOnChanges(e){}ngAfterViewInit(){setTimeout(()=>{this.componentImages=this._runningProcessService.getProcessImages(this.name),this.shortAppInfo()},this.SECONDS_DELAY)}shortAppInfo(){this.appInfo=this.name,this.appInfo=this.appInfo.length>26?this.appInfo.substring(0,26)+"...":this.appInfo}onClosePreviewWindow(e){const i=this._runningProcessService.getProcess(e);this._runningProcessService.closeProcessNotify.next(i)}keepTaskBarPreviewWindow(){this._runningProcessService.keepProcessPreviewWindowNotify.next()}hideTaskBarPreviewWindowAndRestoreDesktop(){this._runningProcessService.hideProcessPreviewWindowNotify.next(),this._runningProcessService.restoreProcessesWindowNotify.next()}showTaskBarPreviewContextMenu(e,i){console.log("I will implement the TaskBarPreview Context Window.........later")}setWindowToFocus(e){this._runningProcessService.showOnlyCurrentProcessWindowNotify.next(e)}restoreWindow(e){this._runningProcessService.restoreProcessWindowNotify.next(e)}showWindow(e){this._runningProcessService.restoreProcessWindowNotify.next(e)}static \u0275fac=function(i){return new(i||t)(te(Yn))};static \u0275cmp=a({type:t,selectors:[["cos-taskbarpreview"]],inputs:{name:"name",icon:"icon",fadeState:"fadeState"},features:[Gi],decls:2,vars:2,consts:[[1,"taskbar-preview-main-container",3,"mouseenter","mouseleave"],["class","taskbar-preview-content",4,"ngFor","ngForOf"],[1,"taskbar-preview-content"],["tabindex","0",1,"taskbar-preview-header-container"],[1,"taskbar-preview-left-header-section"],[1,"taskbar-preview-h1"],[1,"taskbar-preview-figure"],[1,"taskbar-preview-img",3,"src"],[1,"taskbar-preview-figcaption"],[1,"taskbar-preview-right-header-section"],[1,"taskbar-preview-nav"],["id","closeBtn","appHighlight","","title","Close",1,"taskbar-preview-button",3,"click"],["width","10","viewBox","0 0 10 10",1,"taskbar-preview-svg"],["d","M10.2.7L9.5 0 5.1 4.4.7 0 0 .7l4.4 4.4L0 9.5l.7.7 4.4-4.4 4.4 4.4.7-.7-4.4-4.4z","fill","#FFFFF"],[1,"taskbar-preview-image-container",3,"contextmenu","mouseenter","mouseleave","click"],[1,"taskbar-preview-figure1"],[3,"ngClass","src"]],template:function(i,r){1&i&&(I(0,"div",0),de("mouseenter",function(){return r.keepTaskBarPreviewWindow()})("mouseleave",function(){return r.hideTaskBarPreviewWindowAndRestoreDesktop()}),Le(1,P7,16,4,"div",1),P()),2&i&&(H("@fadeAnimation",r.fadeState),T(),H("ngForOf",r.componentImages))},dependencies:[Ed,Mo,pg],styles:[".taskbar-preview-main-container[_ngcontent-%COMP%]{background-color:#29292999;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);border:.2px solid rgba(41,41,41,.6);position:absolute;display:inline-flex;z-index:2}.taskbar-preview-ol[_ngcontent-%COMP%]{height:100%;position:absolute;display:flex;column-gap:1px;margin:0 1px;transition:all 75ms}.taskbar-preview-content[_ngcontent-%COMP%]{height:100%}.taskbar-preview-header-container[_ngcontent-%COMP%]{width:160px;height:25px;position:relative;display:flex}.taskbar-preview-left-header-section[_ngcontent-%COMP%]{width:calc(100% - 30px);height:25px;left:0}.taskbar-preview-right-header-section[_ngcontent-%COMP%]{height:25px;right:0}.taskbar-preview-h1[_ngcontent-%COMP%]{color:#fff;font-size:10.5px;font-weight:400;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;height:25px;border-bottom:1px transparent;width:-moz-fit-content;width:fit-content;flex-grow:1;display:flex;left:0}.taskbar-preview-figure[_ngcontent-%COMP%]{align-items:center;display:flex;min-width:0px;padding:4px}.taskbar-preview-img[_ngcontent-%COMP%]{height:14px;width:14px;position:relative;top:1px}.taskbar-preview-figcaption[_ngcontent-%COMP%]{padding-left:3px;color:#fff;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.taskbar-preview-button[_ngcontent-%COMP%]{border-left:1px transparent;box-sizing:content-box;color:#fff;display:flex;font-size:15px;width:30px;place-content:center;place-items:center}.taskbar-preview-svg[_ngcontent-%COMP%]{fill:transparent;margin-bottom:2px}.taskbar-preview-content[_ngcontent-%COMP%]:hover{background-color:#40404099}.taskbar-preview-content[_ngcontent-%COMP%]:hover   .taskbar-preview-svg[_ngcontent-%COMP%]{fill:#ababab}.taskbar-preview-nav[_ngcontent-%COMP%]{display:flex;position:absolute;width:-moz-fit-content;width:fit-content;right:0;height:25px}.taskbar-preview-image-container[_ngcontent-%COMP%]{width:160px;height:105px}.taskbar-preview-figure1[_ngcontent-%COMP%]{margin:1px 2px 6px;display:flex;height:98px;width:154px;align-items:center;background-color:#ababab}.taskbar-preview-img1-pri[_ngcontent-%COMP%]{height:48px;width:48px;position:relative;left:35%;top:1px}.taskbar-preview-img1-sec[_ngcontent-%COMP%]{height:98px;width:154px;position:relative;top:1px}"],data:{animation:[Vc("fadeAnimation",[rs("in",rn({opacity:1})),rs("out",rn({opacity:0})),ko("* => in",[Ao("0.30s ease-in")]),ko("in => out",[Ao("0.30s ease-out")])])]}})}return t})();const k7=["desktopContainer"],O7=["*"];function N7(t,n){if(1&t&&(I(0,"div",7),re(1,"img",8),P()),2&t){const e=z();H("@slideStatusAnimation",e.slideState),T(),H("src",e.dsktpPrevImg,$e)}}function F7(t,n){if(1&t&&re(0,"cos-menu",9),2&t){const e=z();St(e.dskTopCntxtMenuStyle),H("nestedMenu",e.deskTopMenu)("menuType",e.deskTopMenuOption)}}function R7(t,n){if(1&t&&re(0,"cos-taskbarpreview",10),2&t){const e=z();H("fadeState",e.tskBarPreviewWindowState)("name",e.appToPreview)("icon",e.appToPreviewIcon)("ngStyle",e.tskBarPrevWindowStyle)}}function L7(t,n){if(1&t&&re(0,"cos-menu",11),2&t){const e=z();St(e.tskBarCntxtMenuStyle),H("generalMenu",e.taskBarMenuData)("menuType",e.tskBarMenuOption)("menuOrder",e.menuOrder)}}function B7(t,n){1&t&&re(0,"cos-startmenu")}let V7=(()=>{class t{desktopContainer;_processIdService;_runningProcessService;_fileManagerServices;_fileService;_triggerProcessService;_scriptService;_menuService;_consts=new Kn;_timerSubscription;_showTaskBarMenuSub;_hideContextMenuSub;_showTaskBarPreviewWindowSub;_hideTaskBarPreviewWindowSub;_keepTaskBarPreviewWindowSub;_showStartMenuSub;_hideStartMenuSub;_vantaEffect;largeIcons=al.LARGE_ICONS;mediumIcons=al.MEDIUM_ICONS;smallIcons=al.SMALL_ICONS;isLargeIcon=!0;isMediumIcon=!1;isSmallIcon=!1;sortByName=ji.NAME;sortByItemType=ji.ITEM_TYPE;sortBySize=ji.SIZE;sortByDateModified=ji.DATE_MODIFIED;isSortByName=!1;isSortByItemType=!1;isSortBySize=!1;isSortByDateModified=!1;isShiftSubMenuLeft=!1;autoAlignIcons=!0;autoArrangeIcons=!0;showDesktopIcons=!0;showDesktopScreenShotPreview=!1;showStartMenu=!1;dsktpPrevImg="";slideState="slideIn";dskTopCntxtMenuStyle={};tskBarCntxtMenuStyle={};tskBarPrevWindowStyle={};deskTopMenuOption=this._consts.NESTED_MENU_OPTION;showDesktopCntxtMenu=!1;showTskBarCntxtMenu=!1;showTskBarPreviewWindow=!1;tskBarPreviewWindowState="in";tskBarMenuOption=this._consts.TASK_BAR_MENU_OPTION;menuOrder=this._consts.DEFAULT_MENU_ORDER;selectedFileFromTaskBar;appToPreview="";appToPreviewIcon="";previousDisplayedTaskbarPreview="";removeTskBarPrevWindowFromDOMTimeoutId;hideTskBarPrevWindowTimeoutId;directory="/Users/Desktop";terminalApp="terminal";textEditorApp="texteditor";codeEditorApp="codeeditor";markDownViewerApp="markdownviewer";waveBkgrnd={el:"#vanta"};ringsBkgrnd={el:"#vanta"};haloBkgrnd={el:"#vanta"};globeBkgrnd={el:"#vanta"};birdBkgrnd={el:"#vanta"};VANTAS=[this.waveBkgrnd,this.ringsBkgrnd,this.haloBkgrnd,this.globeBkgrnd,this.birdBkgrnd];MIN_NUMS_OF_DESKTOPS=0;MAX_NUMS_OF_DESKTOPS=this.VANTAS.length-1;CURRENT_DESTOP_NUM=0;MIN_DEG=0;MAX_DEG=360;CURRENT_DEG=0;defaultColor=10060;nextColor=new x7;animationId;taskBarMenuData=[{icon:"",label:"",action:this.openApplicationFromTaskBar.bind(this)},{icon:"",label:"",action:()=>console.log()}];deskTopMenu=[];hasWindow=!1;icon=`${this._consts.IMAGE_BASE_PATH}generic_program.png`;name="desktop";processId=0;type=on.System;displayName="";constructor(e,i,r,o,s,c,h){this._processIdService=e,this._runningProcessService=i,this._fileManagerServices=r,this._triggerProcessService=o,this._scriptService=s,this._menuService=c,this._fileService=h,this._showTaskBarMenuSub=this._menuService.showTaskBarMenu.subscribe(g=>{this.onShowTaskBarContextMenu(g)}),this._showTaskBarPreviewWindowSub=this._runningProcessService.showProcessPreviewWindowNotify.subscribe(g=>{this.showTaskBarPreviewWindow(g)}),this._hideContextMenuSub=this._menuService.hideContextMenus.subscribe(()=>{this.hideContextMenu()}),this._hideTaskBarPreviewWindowSub=this._runningProcessService.hideProcessPreviewWindowNotify.subscribe(()=>{this.hideTaskBarPreviewWindow()}),this._keepTaskBarPreviewWindowSub=this._runningProcessService.keepProcessPreviewWindowNotify.subscribe(()=>{this.keepTaskBarPreviewWindow()}),this._showStartMenuSub=this._runningProcessService.showProcessNotify.subscribe(()=>{this.showStartMenuM()}),this._hideStartMenuSub=this._runningProcessService.hideProcessNotify.subscribe(()=>{this.hideStartMenu()}),this.processId=this._processIdService.getNewProcessId(),this._runningProcessService.addProcess(this.getComponentDetail()),this.CURRENT_DEG=this.getRandomInt(0,360)}ngOnInit(){this._scriptService.loadScript("vanta-waves","osdrive/Program-Files/Backgrounds/vanta.waves.min.js").then(()=>{this._vantaEffect=VANTA.WAVES({el:"#vanta",color:this.defaultColor,waveHeight:20,shininess:50,waveSpeed:.2})}),this.getDesktopMenuData()}ngAfterViewInit(){this.hideContextMenu(),this.loadOtherBackgrounds()}loadOtherBackgrounds(){const e=["rings","halo","globe","birds"],i=["osdrive/Program-Files/Backgrounds/vanta.rings.min.js","osdrive/Program-Files/Backgrounds/vanta.halo.min.js","osdrive/Program-Files/Backgrounds/vanta.globe.min.js","osdrive/Program-Files/Backgrounds/vanta.birds.min.js"];for(let r=0;r<=i.length-1;r++)this._scriptService.loadScript(e[r],i[r])}changeAnimationColor(){this.CURRENT_DEG=this.CURRENT_DEG>this.MAX_DEG?this.MIN_DEG:this.CURRENT_DEG+1,console.log("nextColor:",Number(this.nextColor.changeHue("#4f32c2",this.CURRENT_DEG)?.replace("#","0x"))),this._vantaEffect.setOptions({color:Number(this.nextColor.changeHue("#4f32c2",this.CURRENT_DEG)?.replace("#","0x"))})}ngOnDestroy(){this._timerSubscription?.unsubscribe(),this._showTaskBarMenuSub?.unsubscribe(),this._hideContextMenuSub?.unsubscribe(),this._showTaskBarPreviewWindowSub?.unsubscribe(),this._hideTaskBarPreviewWindowSub?.unsubscribe(),this._keepTaskBarPreviewWindowSub?.unsubscribe(),this._showStartMenuSub?.unsubscribe(),this._hideStartMenuSub?.unsubscribe(),cancelAnimationFrame(this.animationId),this._vantaEffect?.destroy()}getRandomInt(e,i){return e=Math.ceil(e),i=Math.floor(i),Math.floor(Math.random()*(i-e)+e)}showDesktopContextMenu(e){if(""==this._runningProcessService.getEventOrginator()){this._menuService.hideContextMenus.next(),this.showDesktopCntxtMenu=!0;const o=this.checkAndHandleMenuBounds(e,281);this.dskTopCntxtMenuStyle={position:"absolute",width:"210px",transform:`translate(${String(o.xAxis+2)}px, ${String(o.yAxis)}px)`,"z-index":2,opacity:1},e.preventDefault()}else this._runningProcessService.removeEventOriginator()}shiftViewSubMenu(){this.shiftNestedMenuPosition(0)}shiftSortBySubMenu(){this.shiftNestedMenuPosition(1)}shiftNewSubMenu(){this.shiftNestedMenuPosition(8)}shiftNestedMenuPosition(e){const i=document.getElementById(`dmNestedMenu-${e}`);i&&(i.style.left=this.isShiftSubMenuLeft?"-98%":"98%")}checkAndHandleMenuBounds(e,i){let r=0,o=0;const g=document.getElementById("vanta"),A=(g?.offsetWidth||0)-e.clientX,O=(g?.offsetHeight||0)-e.clientY;let j=!1,ne=!1;return A<210&&(j=!0,r=e.clientX-(210-A)),A<415&&(this.isShiftSubMenuLeft=!0),O>=40&&O<=i&&(ne=!0,o=e.clientY-(i-O)-40),r=j?r:e.clientX,o=ne?o:e.clientY,{xAxis:r,yAxis:o}}showStartMenuM(){setTimeout(()=>{this.showStartMenu=!0},150)}hideStartMenu(){this.showStartMenu=!1}captureComponentImg(){const e="/Users/Documents/Screen-Shots";Ir(this.desktopContainer.nativeElement).then(i=>{const r=new Fo;r.setFileName="screen_shot.png",r.setCurrentPath=`${e}/screen_shot.png`,r.setContentPath=i,r.setIconPath=i,this.showDesktopScreenShotPreview=!0,this.slideState="slideIn",this.dsktpPrevImg=i,setTimeout(()=>{this.slideState="slideOut",this._fileService.writeFileAsync(e,r),this._fileService.addEventOriginator("fileexplorer"),this._fileService.dirFilesUpdateNotify.next()},4e3),setTimeout(()=>{this.showDesktopScreenShotPreview=!1},6e3)})}createFolder(){var e=this;return Fe(function*(){const i=e._consts.NEW_FOLDER;(yield e._fileService.createFolderAsync(e.directory,i))&&(e._fileService.addEventOriginator("filemanager"),e._fileService.dirFilesUpdateNotify.next())})()}hideContextMenu(e){this.showDesktopCntxtMenu=!1,this.showTskBarCntxtMenu=!1,this.isShiftSubMenuLeft=!1,this.showStartMenu=!1,void 0!==e&&e===this.name&&this._menuService.hideContextMenus.next()}viewByLargeIcon(){this.viewBy(this.largeIcons)}viewByMediumIcon(){this.viewBy(this.mediumIcons)}viewBySmallIcon(){this.viewBy(this.smallIcons)}viewBy(e){e===al.LARGE_ICONS&&(this.isLargeIcon=!0,this.isMediumIcon=!1,this.isSmallIcon=!1),e===al.MEDIUM_ICONS&&(this.isMediumIcon=!0,this.isLargeIcon=!1,this.isSmallIcon=!1),e===al.SMALL_ICONS&&(this.isSmallIcon=!0,this.isMediumIcon=!1,this.isLargeIcon=!1),this._fileManagerServices.viewByNotify.next(e),this.getDesktopMenuData()}sortByNameM(){this.sortBy(this.sortByName)}sortBySizeM(){this.sortBy(this.sortBySize)}sortByItemTypeM(){this.sortBy(this.sortByItemType)}sortByDateModifiedM(){this.sortBy(this.sortByDateModified)}sortBy(e){e===ji.DATE_MODIFIED&&(this.isSortByDateModified=!0,this.isSortByItemType=!1,this.isSortByName=!1,this.isSortBySize=!1),e===ji.ITEM_TYPE&&(this.isSortByItemType=!0,this.isSortByDateModified=!1,this.isSortByName=!1,this.isSortBySize=!1),e===ji.SIZE&&(this.isSortBySize=!0,this.isSortByItemType=!1,this.isSortByName=!1,this.isSortByDateModified=!1),e===ji.NAME&&(this.isSortByName=!0,this.isSortByItemType=!1,this.isSortByDateModified=!1,this.isSortBySize=!1),this._fileManagerServices.sortByNotify.next(e),this.getDesktopMenuData()}autoArrangeIcon(){this.autoArrangeIcons=!this.autoArrangeIcons,this._fileManagerServices.autoArrangeIconsNotify.next(this.autoArrangeIcons),this.getDesktopMenuData()}autoAlignIcon(){this.autoAlignIcons=!this.autoAlignIcons,this._fileManagerServices.alignIconsToGridNotify.next(this.autoAlignIcons),this.getDesktopMenuData()}refresh(){this._fileManagerServices.refreshNotify.next()}showDesktopIcon(){this.showDesktopIcons=!this.showDesktopIcons,this._fileManagerServices.showDesktopIconsNotify.next(this.showDesktopIcons),this.getDesktopMenuData()}previousBackground(){this.CURRENT_DESTOP_NUM>this.MIN_NUMS_OF_DESKTOPS&&(this.CURRENT_DESTOP_NUM--,this.buildVantaEffect(this.CURRENT_DESTOP_NUM)),this.hideContextMenu()}nextBackground(){this.CURRENT_DESTOP_NUM<this.MAX_NUMS_OF_DESKTOPS&&(this.CURRENT_DESTOP_NUM++,this.buildVantaEffect(this.CURRENT_DESTOP_NUM)),this.hideContextMenu()}openTerminal(){this.openApplication(this.terminalApp)}openTextEditor(){this.openApplication(this.textEditorApp)}openCodeEditor(){this.openApplication(this.codeEditorApp)}openMarkDownViewer(){this.openApplication(this.markDownViewerApp)}onPaste(){var e=this;return Fe(function*(){const i=e._menuService.getPath(),r=e._menuService.getActions();console.log(`path: ${i}`),console.log(`action: ${r}`),"copy"===r?(yield e._fileService.copyHandler("",i,e.directory))&&e.refresh():"cut"===r&&(yield e._fileService.movehandler(e.directory,[i]))&&e.refresh()})()}openApplication(e){const i=new Fo;i.setOpensWith=e,e==this.markDownViewerApp&&(i.setCurrentPath="/Users/Desktop",i.setContentPath="/Users/Documents/Credits.md"),this._triggerProcessService.startApplication(i)}buildViewByMenu(){return[{icon:`${this._consts.IMAGE_BASE_PATH}circle.png`,label:"Small icons",action:this.viewBySmallIcon.bind(this),variables:this.isSmallIcon,emptyline:!1,styleOption:"A"},{icon:`${this._consts.IMAGE_BASE_PATH}circle.png`,label:"Medium icons",action:this.viewByMediumIcon.bind(this),variables:this.isMediumIcon,emptyline:!1,styleOption:"A"},{icon:`${this._consts.IMAGE_BASE_PATH}circle.png`,label:"Large icons",action:this.viewByLargeIcon.bind(this),variables:this.isLargeIcon,emptyline:!0,styleOption:"A"},{icon:`${this._consts.IMAGE_BASE_PATH}chkmark32.png`,label:"Auto arrange icons",action:this.autoArrangeIcon.bind(this),variables:this.autoArrangeIcons,emptyline:!1,styleOption:"B"},{icon:`${this._consts.IMAGE_BASE_PATH}chkmark32.png`,label:"Align icons to grid",action:this.autoAlignIcon.bind(this),variables:this.autoAlignIcons,emptyline:!0,styleOption:"B"},{icon:`${this._consts.IMAGE_BASE_PATH}chkmark32.png`,label:"Show desktop icons",action:this.showDesktopIcon.bind(this),variables:this.showDesktopIcons,emptyline:!1,styleOption:"B"}]}buildSortByMenu(){return[{icon:`${this._consts.IMAGE_BASE_PATH}circle.png`,label:"Name",action:this.sortByNameM.bind(this),variables:this.isSortByName,emptyline:!1,styleOption:"A"},{icon:`${this._consts.IMAGE_BASE_PATH}circle.png`,label:"Size",action:this.sortBySizeM.bind(this),variables:this.isSortBySize,emptyline:!1,styleOption:"A"},{icon:`${this._consts.IMAGE_BASE_PATH}circle.png`,label:"Item type",action:this.sortByItemTypeM.bind(this),variables:this.isSortByItemType,emptyline:!1,styleOption:"A"},{icon:`${this._consts.IMAGE_BASE_PATH}circle.png`,label:"Date modified",action:this.sortByDateModifiedM.bind(this),variables:this.isSortByDateModified,emptyline:!1,styleOption:"A"}]}buildNewMenu(){return[{icon:`${this._consts.IMAGE_BASE_PATH}empty_folder.png`,label:"Folder",action:this.createFolder.bind(this),variables:!0,emptyline:!1,styleOption:"C"},{icon:`${this._consts.IMAGE_BASE_PATH}text_editor.png`,label:"Rich Text",action:this.openTextEditor.bind(this),variables:!0,emptyline:!1,styleOption:"C"},{icon:`${this._consts.IMAGE_BASE_PATH}vs_code.png`,label:"Code Editor",action:this.openCodeEditor.bind(this),variables:!0,emptyline:!1,styleOption:"C"}]}getDesktopMenuData(){this.deskTopMenu=[{icon1:"",icon2:`${this._consts.IMAGE_BASE_PATH}arrow_next_1.png`,label:"View",nest:this.buildViewByMenu(),action:()=>"",action1:this.shiftViewSubMenu.bind(this),emptyline:!1},{icon1:"",icon2:`${this._consts.IMAGE_BASE_PATH}arrow_next_1.png`,label:"Sort by",nest:this.buildSortByMenu(),action:()=>"",action1:this.shiftSortBySubMenu.bind(this),emptyline:!1},{icon1:"",icon2:"",label:"Refresh",nest:[],action:this.refresh.bind(this),action1:()=>"",emptyline:!0},{icon1:"",icon2:"",label:"Paste",nest:[],action:this.onPaste.bind(this),action1:()=>"",emptyline:!1},{icon1:`${this._consts.IMAGE_BASE_PATH}terminal.png`,icon2:"",label:"Open in Terminal",nest:[],action:this.openTerminal.bind(this),action1:()=>"",emptyline:!1},{icon1:`${this._consts.IMAGE_BASE_PATH}camera.png`,icon2:"",label:"Screen Shot",nest:[],action:this.captureComponentImg.bind(this),action1:()=>"",emptyline:!1},{icon1:"",icon2:"",label:"Next Background",nest:[],action:this.nextBackground.bind(this),action1:()=>"",emptyline:!1},{icon1:"",icon2:"",label:"Previous Background",nest:[],action:this.previousBackground.bind(this),action1:()=>"",emptyline:!0},{icon1:"",icon2:`${this._consts.IMAGE_BASE_PATH}arrow_next_1.png`,label:"New",nest:this.buildNewMenu(),action:()=>"",action1:this.shiftNewSubMenu.bind(this),emptyline:!0},{icon1:"",icon2:"",label:"Many Thanks",nest:[],action:this.openMarkDownViewer.bind(this),action1:()=>"",emptyline:!1}]}buildVantaEffect(e){try{const i=this.VANTAS[e];0==e&&(this._vantaEffect=VANTA.WAVES(i)),1==e&&(this._vantaEffect=VANTA.RINGS(i)),2==e&&(this._vantaEffect=VANTA.HALO(i)),3==e&&(this._vantaEffect=VANTA.GLOBE(i)),4==e&&(this._vantaEffect=VANTA.BIRDS(i))}catch(i){console.error("err:",i)}}onShowTaskBarContextMenu(e){const i=e[0],o=e[2];this.selectedFileFromTaskBar=e[1],this.switchBetweenPinAndUnpin(o);const s=this.countInstaceAndSetMenu();this.removeOldTaskBarPreviewWindowNow(),this.showTskBarCntxtMenu=!0,this.tskBarCntxtMenuStyle=0==s?{position:"absolute",transform:`translate(${String(i.x-60)}px, ${String(i.y-68.5)}px)`,"z-index":5}:{position:"absolute",transform:`translate(${String(i.x-60)}px, ${String(i.y-97.5)}px)`,"z-index":5}}hideTaskBarContextMenu(){this.showTskBarCntxtMenu=!1}showTaskBarContextMenu(){this.showTskBarCntxtMenu=!0}switchBetweenPinAndUnpin(e){if(e){const i={icon:`${this._consts.IMAGE_BASE_PATH}unpin_24.png`,label:"Unpin from taskbar",action:this.unPinApplicationFromTaskBar.bind(this)},r=this.taskBarMenuData[1];r.icon=i.icon,r.label=i.label,r.action=i.action,this.taskBarMenuData[1]=r}else if(!e){const i={icon:`${this._consts.IMAGE_BASE_PATH}pin_24.png`,label:"Pin to taskbar",action:this.pinApplicationFromTaskBar.bind(this)},r=this.taskBarMenuData[1];r.icon=i.icon,r.label=i.label,r.action=i.action,this.taskBarMenuData[1]=r}}countInstaceAndSetMenu(){const e=this.selectedFileFromTaskBar,i=this._runningProcessService.getProcesses().filter(o=>o.getProcessName===e.getOpensWith).length,r=this.taskBarMenuData[0];if(r.icon=e.getIconPath,r.label=e.getOpensWith,this.taskBarMenuData[0]=r,1==i)if(2==this.taskBarMenuData.length){const o={icon:`${this._consts.IMAGE_BASE_PATH}x_32.png`,label:"Close window",action:this.closeApplicationFromTaskBar.bind(this)};this.taskBarMenuData.push(o)}else{const o=this.taskBarMenuData[2];o.label="Close window",this.taskBarMenuData[2]=o}else if(i>1){const o=this.taskBarMenuData[2];o.label="Close all windows",this.taskBarMenuData[2]=o}return i}openApplicationFromTaskBar(){this.showTskBarCntxtMenu=!1,this._triggerProcessService.startApplication(this.selectedFileFromTaskBar)}closeApplicationFromTaskBar(){this.showTskBarCntxtMenu=!1;const e=this.selectedFileFromTaskBar,i=this._runningProcessService.getProcesses().filter(r=>r.getProcessName===e.getOpensWith);this._menuService.closeApplicationFromTaskBar.next(i)}pinApplicationFromTaskBar(){this.showTskBarCntxtMenu=!1,this._menuService.pinToTaskBar.next(this.selectedFileFromTaskBar)}unPinApplicationFromTaskBar(){this.showTskBarCntxtMenu=!1,this._menuService.unPinFromTaskBar.next(this.selectedFileFromTaskBar)}showTaskBarPreviewWindow(e){const i=e[0],r=e[1],o=e[2];this.appToPreview=r,this.appToPreviewIcon=o,this.hideTaskBarContextMenu(),this.previousDisplayedTaskbarPreview!==r?(this.showTskBarPreviewWindow=!1,this.previousDisplayedTaskbarPreview=r,setTimeout(()=>{this.showTskBarPreviewWindow=!0,this.tskBarPreviewWindowState="in"},400)):(this.showTskBarPreviewWindow=!0,this.tskBarPreviewWindowState="in",this.clearTimeout()),this.tskBarPrevWindowStyle={position:"absolute",transform:`translate(${String(i.x-59)}px, ${String(i.y-131)}px)`,"z-index":2}}hideTaskBarPreviewWindow(){this.hideTskBarPrevWindowTimeoutId=setTimeout(()=>{this.tskBarPreviewWindowState="out"},100),this.removeTskBarPrevWindowFromDOMTimeoutId=setTimeout(()=>{this.showTskBarPreviewWindow=!1},300)}keepTaskBarPreviewWindow(){this.clearTimeout()}removeOldTaskBarPreviewWindowNow(){this.showTskBarPreviewWindow=!1}clearTimeout(){clearTimeout(this.hideTskBarPrevWindowTimeoutId),clearTimeout(this.removeTskBarPrevWindowFromDOMTimeoutId)}getComponentDetail(){return new vi(this.processId,this.name,this.icon,this.hasWindow,this.type)}static \u0275fac=function(i){return new(i||t)(te(wi),te(Yn),te(Nw),te(hr),te(ll),te(fa),te(Lo))};static \u0275cmp=a({type:t,selectors:[["cos-desktop"]],viewQuery:function(i,r){if(1&i&&Wt(k7,7),2&i){let o;Gt(o=Yt())&&(r.desktopContainer=o.first)}},ngContentSelectors:O7,decls:8,vars:5,consts:[["desktopContainer",""],["id","vanta",1,"main-desktop",3,"contextmenu","click"],["class","dsktp-screen-preview-container",4,"ngIf"],[3,"nestedMenu","style","menuType",4,"ngIf"],[3,"fadeState","name","icon","ngStyle",4,"ngIf"],[3,"generalMenu","style","menuType","menuOrder",4,"ngIf"],[4,"ngIf"],[1,"dsktp-screen-preview-container"],[3,"src"],[3,"nestedMenu","menuType"],[3,"fadeState","name","icon","ngStyle"],[3,"generalMenu","menuType","menuOrder"]],template:function(i,r){if(1&i){const o=Tt();Qh(),I(0,"main",1,0),de("contextmenu",function(c){return G(o),Y(r.showDesktopContextMenu(c))})("click",function(){return G(o),Y(r.hideContextMenu(r.name))}),Le(2,N7,2,2,"div",2)(3,F7,1,4,"cos-menu",3)(4,R7,1,4,"cos-taskbarpreview",4)(5,L7,1,5,"cos-menu",5)(6,B7,1,0,"cos-startmenu",6),Xh(7),P()}2&i&&(T(2),H("ngIf",r.showDesktopScreenShotPreview),T(),H("ngIf",r.showDesktopCntxtMenu),T(),H("ngIf",r.showTskBarPreviewWindow),T(),H("ngIf",r.showTskBarCntxtMenu),T(),H("ngIf",r.showStartMenu))},dependencies:[is,Pp,T7,A7,Fw],styles:[".main-desktop[_ngcontent-%COMP%]{height:100vh;width:100vw;position:fixed;inset:0;background-color:#208c71}.dsktp-screen-preview-container[_ngcontent-%COMP%]{z-index:2;position:absolute;width:200px;height:120px;right:2px;bottom:41px}.dsktp-screen-preview-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%}.dsktp-screen-preview-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:contain}"],data:{animation:[Vc("slideStatusAnimation",[rs("slideOut",rn({right:"-200px"})),rs("slideIn",rn({right:"2px"})),ko("* => slideIn",[Ao("1s ease-in")]),ko("slideIn => slideOut",[Ao("2s ease-out")])])]}})}return t})();const U7=["*"];let z7=(()=>{class t{_processIdService;_runningProcessService;_menuService;_el;_consts=new Kn;SECONDS_DELAY=250;hasWindow=!1;icon=`${this._consts.IMAGE_BASE_PATH}generic_program.png`;name="taskbar";processId=0;type=on.System;displayName="";constructor(e,i,r,o){this._processIdService=e,this._runningProcessService=i,this._menuService=r,this._el=o,this.processId=this._processIdService.getNewProcessId(),this._runningProcessService.addProcess(this.getComponentDetail())}ngAfterViewInit(){setTimeout(()=>{const e=this._el.nativeElement;e&&(e.style.position="",e.style.zIndex="")},this.SECONDS_DELAY)}hideContextMenus(){this._menuService.hideContextMenus.next()}getComponentDetail(){return new vi(this.processId,this.name,this.icon,this.hasWindow,this.type)}static \u0275fac=function(i){return new(i||t)(te(wi),te(Yn),te(fa),te(li))};static \u0275cmp=a({type:t,selectors:[["cos-taskbar"]],ngContentSelectors:U7,decls:2,vars:0,consts:[[1,"task-bar-nav",3,"click"]],template:function(i,r){1&i&&(Qh(),I(0,"h1",0),de("click",function(){return r.hideContextMenus()}),Xh(1),P())},styles:[".task-bar-nav[_ngcontent-%COMP%]{background-color:#29292999;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);bottom:0;height:40px;left:0;position:fixed;right:0;width:100vw;z-index:5}"]})}return t})();class j7{_seconds;_minutes;hours;_hours;_meridian;constructor(n,e,i){this._seconds=n,this._minutes=e,this.hours=i,this._hours=i,this._meridian=""}get getSeconds(){return this._seconds}set setSeconds(n){(n<0||n>60)&&(this._seconds=0)}get getMinutes(){return this._minutes}set setMinutes(n){(n<0||n>60)&&(this._minutes=0)}get getHours(){return this.hours}getHourStyle(n){return this._meridian="AM","12hr"==n&&(0==this._hours?this.hours=12:this._hours>=12&&(this._hours>12&&(this.hours=this._hours,this.hours=this.hours-12),this._meridian="PM")),this.hours}get getMeridian(){return this._meridian}set setHours(n){(n<0||n>24)&&(this.hours=0)}tick(){this._seconds=this._seconds+1,this._seconds>=60&&(this._minutes++,this._seconds=0),this._minutes>=60&&(this.hours++,this._hours++,this._minutes=0),this._hours>=24&&(this._hours=0)}}const H7=()=>({"background-color":"hsla(0,0%,25%,60%)"}),$7=()=>({color:"white"});let W7=(()=>{class t{_processIdService;_runningProcessService;_taskBarClock;_timerSubscription;_dateSubscription;subscribeTime;subscribeDate;hasWindow=!1;hover=!1;icon="osdrive/Cheetah/System/Imageres/generic_program.png";name="clock";processId=0;type=on.System;constructor(e,i){this._processIdService=e,this._runningProcessService=i,this.processId=this._processIdService.getNewProcessId(),this._runningProcessService.addProcess(this.getComponentDetail());const r=new Date;this._taskBarClock=new j7(r.getSeconds(),r.getMinutes(),r.getHours())}ngAfterViewInit(){this.oberserableTimer(),this.oberserableDate()}ngOnDestroy(){this._timerSubscription?.unsubscribe(),this._dateSubscription?.unsubscribe()}oberserableTimer(){this._timerSubscription=_g(50,1e3).subscribe(()=>{this._taskBarClock.tick(),this.subscribeTime=`${this._taskBarClock.getHourStyle("12hr")}:${this.padSingleDigits(this._taskBarClock.getMinutes)} ${this._taskBarClock.getMeridian}`})}oberserableDate(){this._dateSubscription=_g(50,36e4).subscribe(()=>{const e=new Date;this.subscribeDate=`${e.getMonth()+1}/${e.getDate()}/${e.getFullYear()}`})}padSingleDigits(e){return e>9?""+e:"0"+e}getComponentDetail(){return new vi(this.processId,this.name,this.icon,this.hasWindow,this.type)}static \u0275fac=function(i){return new(i||t)(te(wi),te(Yn))};static \u0275cmp=a({type:t,selectors:[["cos-clock"]],decls:5,vars:5,consts:[[1,"date-and-time-cntnr",3,"mouseover","mouseleave","ngStyle"],[1,"time-cntnr"],[1,"date-cntnr"]],template:function(i,r){1&i&&(I(0,"div",0),de("mouseover",function(){return r.hover=!0})("mouseleave",function(){return r.hover=!1}),I(1,"span",1),se(2),P(),I(3,"span",2),se(4),P()()),2&i&&(H("ngStyle",r.hover?Xa(3,H7):Xa(4,$7)),T(2),qt(" ",r.subscribeTime," "),T(2),qt(" ",r.subscribeDate," "))},dependencies:[Pp],styles:[".date-and-time-cntnr[_ngcontent-%COMP%]{display:flex;height:100%;width:70px;place-content:center;place-items:center;position:absolute;right:0}.time-cntnr[_ngcontent-%COMP%]{font-size:11px;font-weight:300;top:5px;position:absolute;color:#fff}.date-cntnr[_ngcontent-%COMP%]{font-size:11px;font-weight:300;top:22px;position:absolute;color:#fff}"]})}return t})();const G7=()=>({"background-color":"hsla(0,0%,25%,60%)"}),Y7=()=>({color:""}),Z7=()=>({fill:"#76B9ED"}),q7=()=>({fill:"#fff"});let K7=(()=>{class t{_processIdService;_runningProcessService;_consts=new Kn;isStartMenuVisible=!1;hasWindow=!1;hover=!1;icon=`${this._consts.IMAGE_BASE_PATH}generic_program.png`;name="startbutton";processId=0;type=on.System;displayName="";constructor(e,i){this._processIdService=e,this._runningProcessService=i,this.processId=this._processIdService.getNewProcessId(),this._runningProcessService.addProcess(this.getComponentDetail())}ngOnInit(){}showStarMenu(){this.isStartMenuVisible?(this._runningProcessService.hideProcessNotify.next(),this.isStartMenuVisible=!1):(this._runningProcessService.showProcessNotify.next(),this.isStartMenuVisible=!0)}getComponentDetail(){return new vi(this.processId,this.name,this.icon,this.hasWindow,this.type)}static \u0275fac=function(i){return new(i||t)(te(wi),te(Yn))};static \u0275cmp=a({type:t,selectors:[["cos-startbutton"]],decls:3,vars:8,consts:[[3,"mouseover","mouseleave","click"],["height","17","width","17","viewBox","0 0 488 512"],["d","M0 93.7l183.6-25.3v177.4H0V93.7zm0 324.6l183.6 25.3V268.4H0v149.9zm203.8 28L448 480V268.4H203.8v177.9zm0-380.6v180.1H448V32L203.8 65.7z"]],template:function(i,r){1&i&&(I(0,"button",0),de("mouseover",function(){return r.hover=!0})("mouseleave",function(){return r.hover=!1})("click",function(){return r.showStarMenu()}),Ii(),I(1,"svg",1),re(2,"path",2),P()()),2&i&&(St(r.hover?Xa(4,G7):Xa(5,Y7)),T(),St(r.hover?Xa(6,Z7):Xa(7,q7)))},styles:["button[_ngcontent-%COMP%]{color:#fff;font-size:20px;display:flex;place-content:center;place-items:center;position:absolute;height:100%;width:50px;left:-2px;background-color:unset}"]})}return t})(),Q7=(()=>{class t{taskBarIconImgUrl="";taskBarIconName="";taskBarPid=0;restoreOrMinizeWindowEvent=new Tn;hasWindow=!1;hover=!1;icon="";name="";processId=0;type=on.System;displayName="";constructor(){}ngOnInit(){this.icon=this.taskBarIconImgUrl,this.name=this.taskBarIconName,this.processId=this.taskBarPid}restoreOrMinizeWindow(){this.restoreOrMinizeWindowEvent.emit(this.taskBarPid)}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=a({type:t,selectors:[["cos-taskbarentry"]],inputs:{taskBarIconImgUrl:"taskBarIconImgUrl",taskBarIconName:"taskBarIconName",taskBarPid:"taskBarPid"},outputs:{restoreOrMinizeWindowEvent:"restoreOrMinizeWindowEvent"},decls:3,vars:2,consts:[[3,"click"],[3,"src","alt"]],template:function(i,r){1&i&&(I(0,"li")(1,"figure",0),de("click",function(){return r.restoreOrMinizeWindow()}),re(2,"img",1),P()()),2&i&&(T(2),H("src",r.icon,$e)("alt",r.name))},styles:["li[_ngcontent-%COMP%]{display:flex;height:100%;min-width:0;margin:0 4px}figure[_ngcontent-%COMP%]{align-items:center;display:flex;min-width:0px;padding:4px}img[_ngcontent-%COMP%]{height:25px;width:25px;position:relative;top:1px}"]})}return t})(),X7=(()=>{class t{el;constructor(e){this.el=e}backgroundColor="hsl(206deg 77% 70%/20%)";onMouseEnter(){this.highlight(this.backgroundColor)}onMouseLeave(){this.highlight("transparent")}highlight(e){this.el.nativeElement.style.backgroundColor=e}static \u0275fac=function(i){return new(i||t)(te(li))};static \u0275dir=_({type:t,selectors:[["","taskBarEntryHighlight",""]],hostBindings:function(i,r){1&i&&de("mouseenter",function(){return r.onMouseEnter()})("mouseleave",function(){return r.onMouseLeave()})}})}return t})();function J7(t,n){if(1&t){const e=Tt();I(0,"li",2),de("mouseenter",function(){const r=G(e).$implicit,o=z();return Y(o.onMouseEnter(r.getOpensWith,r.getIconPath,o.pinned))})("mouseleave",function(){return G(e),Y(z().onMouseLeave())})("click",function(){const r=G(e).$implicit;return Y(z().onPinnedAppIconClick(r))})("contextmenu",function(r){const o=G(e).$implicit;return Y(z().onShowIconContextMenu(r,o))}),re(1,"cos-taskbarentry",3),P()}if(2&t){const e=n.$implicit,i=z();lt("id","tskbar-",e.getOpensWith,""),T(),H("taskBarPid",i.appProcessId)("taskBarIconImgUrl",e.getIconPath)("taskBarIconName",e.getOpensWith)}}function eG(t,n){if(1&t){const e=Tt();I(0,"li",4),de("mouseenter",function(){const r=G(e).$implicit,o=z();return Y(o.onMouseEnter(r.getProcessName,r.getIcon,o.unPinned))})("mouseleave",function(){return G(e),Y(z().onMouseLeave())})("contextmenu",function(r){const o=G(e).$implicit;return Y(z().onShowUnPinnedIconContextMenu(r,o))}),I(1,"cos-taskbarentry",5),de("restoreOrMinizeWindowEvent",function(r){return G(e),Y(z().restoreOrMinizeWindow(r))}),P()()}if(2&t){const e=n.$implicit;lt("id","tskbar-UnPinned-",e.getProcessName,""),T(),H("taskBarPid",e.getProcessId)("taskBarIconImgUrl",e.getIcon)("taskBarIconName",e.getProcessName)}}let tG=(()=>{class t{_processIdService;_runningProcessService;_triggerProcessService;_menuService;_consts=new Kn;_processListChangeSub;_addIconToTaskbarSub;_removeIconFromTaskbarSub;_openApplicationFromTaskbarSub;_closeApplicationsFromTaskbarSub;prevOpenedProccesses=[];SECONDS_DELAY=100;runningProcess=[];pinToTaskBarList=[];selectedFile;pinned="pinned";unPinned="unPinned";hasWindow=!1;icon=`${this._consts.IMAGE_BASE_PATH}generic_program.png`;name="taskbarentry";processId=0;type=on.System;displayName="";appProcessId=0;constructor(e,i,r,o){this._processIdService=e,this._runningProcessService=i,this._triggerProcessService=o,this._menuService=r,this.processId=this._processIdService.getNewProcessId(),this._runningProcessService.addProcess(this.getComponentDetail()),this._processListChangeSub=this._runningProcessService.processListChangeNotify.subscribe(()=>{this.updateRunningProcess()}),this._addIconToTaskbarSub=this._menuService.pinToTaskBar.subscribe(s=>{this.pinIconToTaskBarList(s)}),this._removeIconFromTaskbarSub=this._menuService.unPinFromTaskBar.subscribe(s=>{this.unPinIconFromTaskBarList(s)}),this._openApplicationFromTaskbarSub=this._menuService.openApplicationFromTaskBar.subscribe(s=>{this.openApplication(s)}),this._closeApplicationsFromTaskbarSub=this._menuService.closeApplicationFromTaskBar.subscribe(s=>{this.closeApplication(s)})}ngAfterViewInit(){setTimeout(()=>{this.runningProcess=this.filterProcesses()},1500)}ngOnDestroy(){this._processListChangeSub?.unsubscribe(),this._addIconToTaskbarSub?.unsubscribe(),this._removeIconFromTaskbarSub?.unsubscribe(),this._openApplicationFromTaskbarSub?.unsubscribe(),this._closeApplicationsFromTaskbarSub?.unsubscribe()}updateRunningProcess(){this.runningProcess=this.filterProcesses(),setTimeout(()=>{this.changeProcessStateIdentifier()},this.SECONDS_DELAY)}pinIconToTaskBarList(e){this.pinToTaskBarList.some(i=>i.getOpensWith===e.getOpensWith)||this.pinToTaskBarList.push(e),this.updateRunningProcess()}unPinIconFromTaskBarList(e){const r=this.pinToTaskBarList.findIndex(o=>o.getOpensWith===e.getOpensWith);-1!=r&&this.pinToTaskBarList.splice(r,1),this.updateRunningProcess()}filterProcesses(){const e=this.getUniqueProccess(),i=[];return this.storeHistory(e),e.forEach(r=>{this.pinToTaskBarList.some(o=>o.getOpensWith===r.getProcessName)?(this.appProcessId=r.getProcessId,this.setIconState(r.getProcessName,!0)):i.push(r)}),i}getUniqueProccess(){const e=[];return this._runningProcessService.getProcesses().filter(i=>1==i.getHasWindow).forEach(i=>{e.some(r=>r.getProcessName===i.getProcessName)||e.push(i)}),e}storeHistory(e){e.forEach(i=>{this.prevOpenedProccesses.includes(i.getProcessName)||this.prevOpenedProccesses.push(i.getProcessName)})}changeProcessStateIdentifier(){const e=this.getUniqueProccess();this.prevOpenedProccesses.forEach(i=>{e.some(r=>r.getProcessName===i)?this.setIconState(i,!0):this.setIconState(i,!1)})}setIconState(e,i){const r=document.getElementById(`tskbar-${e}`);r&&(r.style.borderBottomColor=i?"hsl(207deg 100%  72% / 90%)":"transparent")}onPinnedAppIconClick(e){if(this._runningProcessService.isProcessRunning(e.getOpensWith)){const i=this._runningProcessService.getProcesses().filter(r=>r.getProcessName===e.getOpensWith);this._runningProcessService.restoreOrMinimizeProcessWindowNotify.next(i[0].getProcessId)}else this._triggerProcessService.startApplication(e)}openApplication(e){this._triggerProcessService.startApplication(e)}closeApplication(e){for(let i=0;i<=e.length-1;i++)this._runningProcessService.closeProcessNotify.next(e[i])}onShowIconContextMenu(e,i){const c=[document.getElementById(`tskbar-${i.getOpensWith}`).getBoundingClientRect(),i,!0];this._runningProcessService.addEventOriginator(`${this.name}-${this.processId}`),this._menuService.showTaskBarMenu.next(c),e.preventDefault()}onShowUnPinnedIconContextMenu(e,i){const r=new Fo;r.setOpensWith=i.getProcessName,r.setIconPath=i.getIcon;const h=[document.getElementById(`tskbar-UnPinned-${r.getOpensWith}`).getBoundingClientRect(),r,!1];this._runningProcessService.addEventOriginator(`${this.name}-${this.processId}`),this._menuService.showTaskBarMenu.next(h),e.preventDefault()}onMouseEnter(e,i,r){const h=[document.getElementById(`${"pinned"===r?"tskbar":"tskbar-UnPinned"}-${e}`).getBoundingClientRect(),e,i];this._runningProcessService.isProcessRunning(e)&&this._runningProcessService.showProcessPreviewWindowNotify.next(h)}onMouseLeave(){this._runningProcessService.hideProcessPreviewWindowNotify.next()}restoreOrMinizeWindow(e){this._runningProcessService.restoreOrMinimizeProcessWindowNotify.next(e)}getComponentDetail(){return new vi(this.processId,this.name,this.icon,this.hasWindow,this.type)}static \u0275fac=function(i){return new(i||t)(te(wi),te(Yn),te(fa),te(hr))};static \u0275cmp=a({type:t,selectors:[["cos-taskbarentries"]],decls:3,vars:2,consts:[["class","li-inactive","taskBarEntryHighlight","",3,"id","mouseenter","mouseleave","click","contextmenu",4,"ngFor","ngForOf"],["taskBarEntryHighlight","",3,"id","mouseenter","mouseleave","contextmenu",4,"ngFor","ngForOf"],["taskBarEntryHighlight","",1,"li-inactive",3,"mouseenter","mouseleave","click","contextmenu","id"],[3,"taskBarPid","taskBarIconImgUrl","taskBarIconName"],["taskBarEntryHighlight","",3,"mouseenter","mouseleave","contextmenu","id"],[3,"restoreOrMinizeWindowEvent","taskBarPid","taskBarIconImgUrl","taskBarIconName"]],template:function(i,r){1&i&&(I(0,"ol"),Le(1,J7,2,5,"li",0)(2,eG,2,5,"li",1),P()),2&i&&(T(),H("ngForOf",r.pinToTaskBarList),T(),H("ngForOf",r.runningProcess))},dependencies:[Mo,Q7,X7],styles:["ol[_ngcontent-%COMP%]{height:100%;left:60px;position:absolute;right:80px;display:flex;column-gap:6px;margin:0 1px;transition:all 75ms}li[_ngcontent-%COMP%]{height:100%;min-width:0px;border-bottom:2px solid hsl(207deg 100% 72% / 90%)}.li-inactive[_ngcontent-%COMP%]{height:100%;min-width:0px;border-bottom:2px solid transparent}"]})}return t})();const nG=["myBounds"];function iG(t,n){if(1&t&&(xn(0),re(1,"img",14),Dn()),2&t){const e=z().index;T(),lt("id","shortCut",e,""),H("src","osdrive/Cheetah/System/Imageres/shortcut.png",$e)}}function rG(t,n){if(1&t){const e=Tt();I(0,"li")(1,"button",8),de("dblclick",function(){const r=G(e).$implicit;return Y(z().runProcess(r))})("mouseenter",function(){const r=G(e).index;return Y(z().onMouseEnter(r))})("mouseleave",function(){const r=G(e).index;return Y(z().onMouseLeave(r))})("stopped",function(r){return G(e),Y(z().onDragEnd(r))})("started",function(r){const o=G(e).index;return Y(z().onDragStart(r,o))})("contextmenu",function(r){const o=G(e),s=o.$implicit,c=o.index;return Y(z().onShowIconContextMenu(r,s,c))})("click",function(r){const o=G(e).index;return Y(z().onBtnClick(r,o))}),I(2,"figure",9),re(3,"img",10),pn(4,"safeResourceUrl"),Le(5,iG,2,3,"ng-container",7),I(6,"figcaption",9),se(7),P(),I(8,"div",11)(9,"form",12),de("ngSubmit",function(){return G(e),Y(z().isFormDirty())}),I(10,"input",13),de("keypress",function(r){return G(e),Y(z().onInputChange(r))}),P()()()()()()}if(2&t){const e=n.$implicit,i=n.index,r=z(),o=qn(1);T(),St(r.btnStyle),lt("id","iconBtn",i,""),H("ngDraggable",r.isDraggable)("bounds",o)("inBounds",!0)("gridSize",r.gridSize)("preventDefaultEvent",!0),T(),lt("id","filemngr_fig",i,""),T(),St(r.iconSizeStyle),H("src",gn(4,24,e.getIconPath),$e)("alt",e.getFileName),T(2),H("ngIf",e.getIsShortCut),T(),lt("id","figCap",i,""),T(),qt(" ",e.getFileName," "),T(),lt("id","renameContainer",i,""),T(),H("formGroup",r.renameForm),T(),lt("id","renameTxtBox",i,"")}}function oG(t,n){if(1&t&&(xn(0),re(1,"cos-menu",15),Dn()),2&t){const e=z();T(),St(e.iconCntxtMenuStyle),H("generalMenu",e.menuData)("menuType",e.fileExplrMngrMenuOption)("menuOrder",e.menuOrder)}}let sG=(()=>{class t{myBounds;_processIdService;_runningProcessService;_fileService;_elRef;_directoryFilesEntries;_triggerProcessService;_menuService;_formBuilder;_consts=new Kn;_viewByNotifySub;_sortByNotifySub;_refreshNotifySub;_autoArrangeIconsNotifySub;_autoAlignIconsNotifyBySub;_showDesktopIconNotifySub;_dirFilesUpdatedSub;_hideContextMenuSub;autoAlign=!0;autoArrange=!1;currentIconName="";showDesktopIcon=!0;isRenameActive=!1;isIconInFocusDueToPriorAction=!1;isBtnClickEvt=!1;isHideCntxtMenuEvt=!1;isDraggable=!0;selectedFile;propertiesViewFile;selectedElementId=-1;prevSelectedElementId=-1;hideCntxtMenuEvtCnt=0;btnClickCnt=0;renameFileTriggerCnt=0;iconCntxtMenuStyle={};iconSizeStyle={};btnStyle={};showCntxtMenu=!1;gridSize=90;SECONDS_DELAY=[6e3,250];renameForm;hasWindow=!1;icon=`${this._consts.IMAGE_BASE_PATH}generic_program.png`;name="filemanager";processId=0;type=on.System;displayName="";directory="/Users/Desktop";files=[];sourceData=[{icon:"",label:"Open",action:this.onTriggerRunProcess.bind(this)},{icon:"",label:"Pin to Quick access",action:this.doNothing.bind(this)},{icon:"",label:"Open in Terminal",action:this.doNothing.bind(this)},{icon:"",label:"Pin to Start",action:this.doNothing.bind(this)},{icon:"",label:"Pin to Taskbar",action:this.pinIconToTaskBar.bind(this)},{icon:"",label:"Cut",action:this.onCut.bind(this)},{icon:"",label:"Copy",action:this.onCopy.bind(this)},{icon:"",label:"Create shortcut",action:this.createShortCut.bind(this)},{icon:"",label:"Delete",action:this.onDeleteFile.bind(this)},{icon:"",label:"Rename",action:this.onRenameFileTxtBoxShow.bind(this)},{icon:"",label:"Properties",action:this.showPropertiesWindow.bind(this)}];menuData=[];fileExplrMngrMenuOption=this._consts.FILE_EXPLORER_FILE_MANAGER_MENU_OPTION;menuOrder="";constructor(e,i,r,o,s,c,h,g){this._processIdService=e,this._runningProcessService=i,this._fileService=r,this._triggerProcessService=o,this._menuService=h,this._formBuilder=c,this._elRef=g,this.processId=this._processIdService.getNewProcessId(),this._runningProcessService.addProcess(this.getComponentDetail()),this._dirFilesUpdatedSub=this._fileService.dirFilesUpdateNotify.subscribe(()=>{this._fileService.getEventOrginator()===this.name&&(this.loadFilesInfoAsync(),this._fileService.removeEventOriginator())}),this._viewByNotifySub=s.viewByNotify.subscribe(y=>{this.changeIconsSize(y)}),this._sortByNotifySub=s.sortByNotify.subscribe(y=>{this.sortIcons(y)}),this._autoArrangeIconsNotifySub=s.autoArrangeIconsNotify.subscribe(y=>{this.toggleAutoArrangeIcons(y)}),this._autoAlignIconsNotifyBySub=s.alignIconsToGridNotify.subscribe(y=>{this.toggleAutoAlignIconsToGrid(y)}),this._refreshNotifySub=s.refreshNotify.subscribe(()=>{this.refreshIcons()}),this._showDesktopIconNotifySub=s.showDesktopIconsNotify.subscribe(y=>{this.toggleDesktopIcons(y)}),this._hideContextMenuSub=this._menuService.hideContextMenus.subscribe(()=>{this.hideIconContextMenu()})}ngOnInit(){this.renameForm=this._formBuilder.nonNullable.group({renameInput:""})}ngAfterViewInit(){var e=this;return Fe(function*(){yield e.loadFilesInfoAsync(),e.removeVantaJSSideEffect()})()}ngOnDestroy(){this._viewByNotifySub?.unsubscribe(),this._sortByNotifySub?.unsubscribe(),this._refreshNotifySub?.unsubscribe(),this._autoArrangeIconsNotifySub?.unsubscribe(),this._autoAlignIconsNotifyBySub?.unsubscribe(),this._showDesktopIconNotifySub?.unsubscribe(),this._dirFilesUpdatedSub?.unsubscribe(),this._hideContextMenuSub?.unsubscribe()}onDragOver(e){e.stopPropagation(),e.preventDefault()}onDrop(e){var i=this;return Fe(function*(){e.preventDefault();let r=[];e?.dataTransfer?.files&&(r=[...e?.dataTransfer?.files]),r.length>=1&&(yield i._fileService.writeFilesAsync(i.directory,r))&&(i._fileService.addEventOriginator("filemanager"),i._fileService.dirFilesUpdateNotify.next())})()}loadFilesInfoAsync(){var e=this;return Fe(function*(){e.files=[],e._fileService.resetDirectoryFiles();const i=yield e._fileService.getEntriesFromDirectoryAsync(e.directory);e._directoryFilesEntries=e._fileService.getFileEntriesFromDirectory(i,e.directory);for(let r=0;r<i.length;r++){const o=e._directoryFilesEntries[r],s=yield e._fileService.getFileInfoAsync(o.getPath);e.files.push(s)}})()}removeVantaJSSideEffect(){setTimeout(()=>{const e=this._elRef.nativeElement;e&&(e.style.position="",e.style.zIndex="")},this.SECONDS_DELAY[1])}runProcess(e){console.log("filemanager-runProcess:",e),this._triggerProcessService.startApplication(e),this.btnStyleAndValuesReset()}onBtnClick(e,i){this.doBtnClickThings(i),this.setBtnStyle(i,!0)}onTriggerRunProcess(){this.runProcess(this.selectedFile)}onShowIconContextMenu(e,i,r){this._runningProcessService.addEventOriginator(`${this.name}-${this.processId}`),this._menuService.hideContextMenus.next(),this.adjustContextMenuData(i),this.selectedFile=i,this.propertiesViewFile=i,this.showCntxtMenu=!this.showCntxtMenu,this.doBtnClickThings(r),this.iconCntxtMenuStyle={position:"absolute",transform:`translate(${String(e.clientX)}px, ${String(e.clientY)}px)`,"z-index":2},e.preventDefault()}showPropertiesWindow(){this._menuService.showPropertiesView.next(this.propertiesViewFile)}adjustContextMenuData(e){if(this.menuData=[],console.log("adjustContextMenuData - filename:",e.getCurrentPath),e.getIsFile){this.menuOrder=this._consts.DEFAULT_FILE_MENU_ORDER;for(const i of this.sourceData)"Open in Terminal"===i.label||"Pin to Quick access"===i.label||"Pin to Start"===i.label||this.menuData.push(i)}else this.menuOrder=this._consts.DEFAULT_FOLDER_MENU_ORDER,this.menuData=this.sourceData}doNothing(){console.log("do nothing called")}onCopy(){this._menuService.storeData.next([this.selectedFile.getCurrentPath,"copy"])}onCut(){this._menuService.storeData.next([this.selectedFile.getCurrentPath,"cut"])}pinIconToTaskBar(){this._menuService.pinToTaskBar.next(this.selectedFile)}doBtnClickThings(e){this.prevSelectedElementId=this.selectedElementId,this.selectedElementId=e,this.isBtnClickEvt=!0,this.btnClickCnt++,this.isHideCntxtMenuEvt=!1,this.hideCntxtMenuEvtCnt=0,this.prevSelectedElementId!=e&&this.removeBtnStyle(this.prevSelectedElementId)}hideIconContextMenu(e){this.showCntxtMenu=!1,void 0!==e&&e===this.name&&this._menuService.hideContextMenus.next()}handleIconHighLightState(){this.isBtnClickEvt&&this.btnClickCnt>=1&&!this.isHideCntxtMenuEvt&&0==this.hideCntxtMenuEvtCnt?(this.isRenameActive&&this.isFormDirty(),this.isIconInFocusDueToPriorAction&&(this.hideCntxtMenuEvtCnt>=0&&this.setBtnStyle(this.selectedElementId,!1),this.isIconInFocusDueToPriorAction=!1),this.isRenameActive||(this.isBtnClickEvt=!1,this.btnClickCnt=0)):(this.hideCntxtMenuEvtCnt++,this.isHideCntxtMenuEvt=!0,this.isHideCntxtMenuEvt&&this.hideCntxtMenuEvtCnt>=1&&!this.isBtnClickEvt&&0==this.btnClickCnt&&this.btnStyleAndValuesReset(),this.isBtnClickEvt&&this.btnClickCnt>=1&&this.isHideCntxtMenuEvt&&this.hideCntxtMenuEvtCnt>1&&this.btnStyleAndValuesReset())}onDragEnd(e){const i=window.getComputedStyle(e),r=new DOMMatrixReadOnly(i.transform);console.log("TODO:FileManagerComponent, Upgrade the basic state tracking/management logic:",{translateX:r.m41,translateY:r.m42})}onDragStart(e,i){document.getElementById(`liIconBtn${i}`)}onDragStart_Off(e,i){const r=document.getElementById(`filemngr_fig${i}`),s=document.getElementById("filemngr_clone_cntnr");s&&(s.innerHTML="",s.appendChild(r.cloneNode(!0)),s.style.left="-9999px",s.style.opacity="0.2",e.dataTransfer&&e.dataTransfer.setDragImage(s,0,0))}onMouseEnter(e){this.setBtnStyle(e,!0)}onMouseLeave(e){e!=this.selectedElementId?this.removeBtnStyle(e):e==this.selectedElementId&&!this.isIconInFocusDueToPriorAction&&this.setBtnStyle(e,!1)}btnStyleAndValuesReset(){this.isBtnClickEvt=!1,this.btnClickCnt=0,this.removeBtnStyle(this.selectedElementId),this.removeBtnStyle(this.prevSelectedElementId),this.selectedElementId=-1,this.prevSelectedElementId=-1,this.btnClickCnt=0,this.isIconInFocusDueToPriorAction=!1}removeBtnStyle(e){const i=document.getElementById(`iconBtn${e}`);i&&(i.style.backgroundColor="transparent",i.style.border="none")}setBtnStyle(e,i){const r=document.getElementById(`iconBtn${e}`);r&&(r.style.backgroundColor="hsl(206deg 77% 70%/20%)",r.style.border="2px solid hsla(0,0%,50%,25%)",this.selectedElementId==e&&(r.style.backgroundColor=i?"#607c9c":"hsl(206deg 77% 70%/20%)"))}sortIcons(e){"Size"===e?this.files=this.files.sort((i,r)=>r.getSize-i.getSize):"Date Modified"===e?this.files=this.files.sort((i,r)=>r.getDateModified.getTime()-i.getDateModified.getTime()):"Name"===e?this.files=this.files.sort((i,r)=>i.getFileName<r.getFileName?-1:1):"Item Type"===e&&(this.files=this.files.sort((i,r)=>i.getFileType<r.getFileType?-1:1))}changeIconsSize(e){"Large Icons"===e&&(this.iconSizeStyle={width:"45px",height:"45px"}),"Medium Icons"===e&&(this.iconSizeStyle={width:"35px",height:"35px"}),"Small Icons"===e&&(this.iconSizeStyle={width:"30px",height:"30px"})}toggleDesktopIcons(e){this.showDesktopIcon=e,this.btnStyle=this.showDesktopIcon?{display:"block"}:{display:"none"}}toggleAutoAlignIconsToGrid(e){this.autoAlign=e,this.gridSize=this.autoAlign?90:0}toggleAutoArrangeIcons(e){this.autoArrange=e,this.autoArrange&&this.refreshIcons()}refreshIcons(){var e=this;return Fe(function*(){e.isIconInFocusDueToPriorAction=!1,yield e.loadFilesInfoAsync()})()}onDeleteFile(){var e=this;return Fe(function*(){let i=!1;i=e.selectedFile.getIsFile?yield e._fileService.deleteFileAsync(e.selectedFile.getCurrentPath):yield e._fileService.deleteFolderAsync(e.selectedFile.getCurrentPath),i&&(yield e.loadFilesInfoAsync())})()}createShortCut(){var e=this;return Fe(function*(){const i=e.selectedFile,r=new Fo;let o="";i.getIsFile&&(o=`[InternetShortcut]\nFileName=${i.getFileName} - ${e._consts.SHORTCUT}\nIconPath=${i.getIconPath}\nFileType=${i.getFileType}\nContentPath=${i.getContentPath}\nOpensWith=${i.getOpensWith}\n`),r.setContentPath=o,r.setFileName=`${i.getFileName} - ${e._consts.SHORTCUT}${e._consts.URL}`,(yield e._fileService.writeFileAsync(e.directory,r))&&(yield e.loadFilesInfoAsync())})()}onInputChange(e){const r=new RegExp("^[a-zA-Z0-9_.]+$").test(e.key);return r?(this.hideInvalidCharsToolTip(),r):(this.showInvalidCharsToolTip(),setTimeout(()=>{this.hideInvalidCharsToolTip()},this.SECONDS_DELAY[0]),r)}showInvalidCharsToolTip(){const i=document.getElementById("invalidChars"),o=document.getElementById(`renameContainer${this.selectedElementId}`).getBoundingClientRect();i&&(i.style.transform=`translate(${o.x+2}px, ${o.y+2}px)`,i.style.zIndex="3",i.style.opacity="1",i.style.transition="opacity 0.5s ease")}hideInvalidCharsToolTip(){const i=document.getElementById("invalidChars");i&&(i.style.transform="translate(-100000px, 100000px)",i.style.zIndex="-1",i.style.opacity="0",i.style.transition="opacity 0.5s ease 1")}isFormDirty(){this.renameForm.dirty?this.onRenameFileTxtBoxDataSave():this.renameForm.dirty||(this.renameFileTriggerCnt++,this.renameFileTriggerCnt>1&&(this.onRenameFileTxtBoxHide(),this.renameFileTriggerCnt=0))}onRenameFileTxtBoxShow(){this.isRenameActive=!this.isRenameActive;const e=document.getElementById(`figCap${this.selectedElementId}`),i=document.getElementById(`renameContainer${this.selectedElementId}`),r=document.getElementById(`renameTxtBox${this.selectedElementId}`);this.removeBtnStyle(this.selectedElementId),e&&(e.style.display="none"),i&&(i.style.display="block",this.currentIconName=this.selectedFile.getFileName,this.renameForm.setValue({renameInput:this.currentIconName}),r?.focus(),r?.select())}onRenameFileTxtBoxDataSave(){var e=this;return Fe(function*(){e.isRenameActive=!e.isRenameActive;const i=document.getElementById(`figCap${e.selectedElementId}`),r=document.getElementById(`renameContainer${e.selectedElementId}`),o=e.renameForm.value.renameInput;if(""!==o&&0!==o.length&&o!==e.currentIconName){if(yield e._fileService.renameAsync(e.selectedFile.getCurrentPath,o,e.selectedFile.getIsFile)){const c=e.files.findIndex(h=>h.getCurrentPath==e.selectedFile.getContentPath&&h.getFileName==e.selectedFile.getFileName);e.selectedFile.setFileName=o,e.selectedFile.setDateModified=Date.now(),e.files[c]=e.selectedFile,e.renameForm.reset(),yield e.loadFilesInfoAsync()}}else e.renameForm.reset();e.setBtnStyle(e.selectedElementId,!1),e.renameFileTriggerCnt=0,i&&(i.style.display="block"),r&&(r.style.display="none")})()}onRenameFileTxtBoxHide(){this.isRenameActive=!this.isRenameActive;const e=document.getElementById(`figCap${this.selectedElementId}`),i=document.getElementById(`renameContainer${this.selectedElementId}`);e&&(e.style.display="block"),i&&(i.style.display="none"),this.isIconInFocusDueToPriorAction=!0}getComponentDetail(){return new vi(this.processId,this.name,this.icon,this.hasWindow,this.type)}static \u0275fac=function(i){return new(i||t)(te(wi),te(Yn),te(Lo),te(hr),te(Nw),te(S0),te(fa),te(li))};static \u0275cmp=a({type:t,selectors:[["cos-filemanager"]],viewQuery:function(i,r){if(1&i&&Wt(nG,7),2&i){let o;Gt(o=Yt())&&(r.myBounds=o.first)}},decls:12,vars:2,consts:[["myBounds",""],[3,"dragover","drop","click"],[4,"ngFor","ngForOf"],["id","invalidChars",1,"tool-tip-container"],[1,"tool-tip-arrow"],[1,"tool-tip-base"],["id","filemngr_clone_cntnr",1,"clone-container"],[4,"ngIf"],["zIndex","1",3,"dblclick","mouseenter","mouseleave","stopped","started","contextmenu","click","ngDraggable","bounds","inBounds","gridSize","preventDefaultEvent","id"],[3,"id"],[3,"src","alt"],[1,"rename-textbox",3,"id"],[3,"ngSubmit","formGroup"],["type","text","formControlName","renameInput","autofocus","","spellcheck","false",3,"keypress","id"],[1,"shortcut-img",3,"src","id"],[3,"generalMenu","menuType","menuOrder"]],template:function(i,r){if(1&i){const o=Tt();I(0,"ol",1,0),de("dragover",function(c){return G(o),Y(r.onDragOver(c))})("drop",function(c){return G(o),Y(r.onDrop(c))})("click",function(){return G(o),Y(r.hideIconContextMenu(r.name))})("click",function(){return G(o),Y(r.handleIconHighLightState())}),Le(2,rG,11,26,"li",2),I(3,"div",3),re(4,"div",4),I(5,"div",5),se(6," A file name can't contain any of the following characters: "),re(7,"br")(8,"br"),se(9,' \\ / : * ? " < > | '),P()(),re(10,"div",6),Le(11,oG,2,5,"ng-container",7),P()}2&i&&(T(2),H("ngForOf",r.files),T(9),H("ngIf",r.showCntxtMenu))},dependencies:[Mo,is,qp,Zp,Fc,xd,Bp,Bc,Nd,Fw,qP],styles:['ol[_ngcontent-%COMP%]{display:grid;grid-auto-flow:column;grid-template-columns:repeat(auto-fill,90px);grid-template-rows:repeat(auto-fill,70px);height:calc(100% - 40px);width:100%;padding:5px 0;row-gap:20px}li[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:2px;height:min-content;z-index:1}figure[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:-2px;place-items:center}figcaption[_ngcontent-%COMP%]{-webkit-box-orient:vertical;color:#fff;display:-webkit-box;font-size:12px;letter-spacing:.1px;line-clamp:2;-webkit-line-clamp:2;position:relative;text-overflow:ellipsis;padding:2px 0;text-shadow:0 0 1px rgba(0,0,0,75%),0 0 2px rgba(0,0,0,50%),0 0 3px rgba(0,0,0,25%),0 1px 1px rgba(0,0,0,75%),0 1px 2px rgba(0,0,0,50%),0 1px 3px rgba(0,0,0,25%),0 2px 1px rgba(0,0,0,75%),0 2px 2px rgba(0,0,0,50%),0 2px 3px rgba(0,0,0,25%);top:-1px;line-height:15px;overflow:hidden;word-break:break-all}img[_ngcontent-%COMP%]{height:45px;width:45px}.shortcut-img[_ngcontent-%COMP%]{position:absolute;height:24px;width:24px;top:32%;left:24%}button[_ngcontent-%COMP%]{background-color:transparent;width:90px;height:70px}.rename-textbox[_ngcontent-%COMP%]{position:relative;display:none;top:2px;margin-bottom:2px;max-width:75px;max-height:16px;border:1px solid #ccc;overflow:hidden;z-index:2}input[_ngcontent-%COMP%]{text-align:calc(75px / 2 px);font-size:11.5px;padding-left:4px}input[_ngcontent-%COMP%]::selection{background-color:#0056b3;color:#fff}.tool-tip-container[_ngcontent-%COMP%]{position:absolute;width:-moz-fit-content;width:fit-content;border-bottom:1px solid black;box-shadow:0 1px #0000004d;border-bottom-right-radius:5px;border-bottom-left-radius:5px;z-index:-1;opacity:0;transform:translate(-100000px,100000px)}.tool-tip-base[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;height:40px;line-height:5px;padding:10px;font-size:10px;font-weight:400;text-align:center;color:#000;background:#fff;border:4px solid rgb(255,255,255);border-radius:5px}.tool-tip-arrow[_ngcontent-%COMP%]{content:"";position:relative;width:0;height:0;border-width:10px;border-style:solid;border-color:#FFFFFF transparent transparent transparent;left:20px;transform:rotate(180deg)}.clone-container[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;background-color:#ccc;z-index:5;position:absolute}']})}return t})();const aG=["processContainerRef"];function lG(t,n){}let cG=(()=>{class t{itemViewContainer;_processIdService;_runningProcessService;_componentReferenceService;_triggerProcessService;_sessionMangamentServices;_notificationServices;_stateManagmentService;_menuService;_componentRefView;_appDirectory;_consts=new Kn;_closeProcessSub;_closeMsgDialogSub;_startProcessSub;_appNotFoundSub;_appIsRunningSub;_errorNotifySub;_infoNotifySub;_warnNotifySub;_showPropertiesViewSub;_closePropertiesViewSub;userOpenedAppsList=[];retreivedKeys=[];userOpenedAppsKey="openedApps";reOpendAppsCounter=0;SECONDS_DELAY=[1500,1500];hasWindow=!1;icon=`${this._consts.IMAGE_BASE_PATH}generic_program.png`;name="system";processId=0;type=on.System;displayName="";apps=[{type:GW},{type:w$},{type:vW},{type:s7},{type:IW},{type:d7},{type:_7},{type:P6},{type:A6},{type:EW},{type:l7},{type:v7},{type:E7}];constructor(e,i,r,o,s,c,h,g){this._processIdService=e,this.processId=this._processIdService.getNewProcessId(),this._componentReferenceService=r,this._runningProcessService=i,this._triggerProcessService=o,this._sessionMangamentServices=s,this._notificationServices=c,this._stateManagmentService=h,this._menuService=g,this._startProcessSub=this._triggerProcessService.startProcessNotify.subscribe(y=>{this.loadApps(y)}),this._appNotFoundSub=this._triggerProcessService.appNotFoundNotify.subscribe(y=>{this.showDialogMsgBox(No.Error,y)}),this._appIsRunningSub=this._triggerProcessService.appIsRunningNotify.subscribe(y=>{this.showDialogMsgBox(No.Info,y)}),this._errorNotifySub=this._notificationServices.errorNotify.subscribe(y=>{this.showDialogMsgBox(No.Error,y)}),this._infoNotifySub=this._notificationServices.InfoNotify.subscribe(y=>{this.showDialogMsgBox(No.Info,y)}),this._warnNotifySub=this._notificationServices.warningNotify.subscribe(y=>{this.showDialogMsgBox(No.Warning,y)}),this._closeProcessSub=this._runningProcessService.closeProcessNotify.subscribe(y=>{this.onCloseBtnClicked(y)}),this._closeMsgDialogSub=this._notificationServices.closeDialogBoxNotify.subscribe(y=>{this.closeDialogMsgBoxOrPropertiesView(y)}),this._showPropertiesViewSub=this._menuService.showPropertiesView.subscribe(y=>this.showPropertiesWindow(y)),this._closePropertiesViewSub=this._menuService.closePropertiesView.subscribe(y=>this.closeDialogMsgBoxOrPropertiesView(y)),this._runningProcessService.addProcess(this.getComponentDetail()),this._appDirectory=new Q0}ngOnDestroy(){this._closeProcessSub?.unsubscribe(),this._closeMsgDialogSub?.unsubscribe(),this._startProcessSub?.unsubscribe(),this._appNotFoundSub?.unsubscribe(),this._appIsRunningSub?.unsubscribe(),this._errorNotifySub?.unsubscribe(),this._infoNotifySub?.unsubscribe(),this._warnNotifySub?.unsubscribe(),this._showPropertiesViewSub?.unsubscribe(),this._closePropertiesViewSub?.unsubscribe()}ngAfterViewInit(){setTimeout(()=>{const e=this.fetchPriorSessionInfo(),i=this.getSessionKey(e);this.restorePriorSession(i)},this.SECONDS_DELAY[0])}loadApps(e){var i=this;return Fe(function*(){i.lazyLoadComponment(i._appDirectory.getAppPosition(e))})()}lazyLoadComponment(e){var i=this;return Fe(function*(){const o=i.itemViewContainer.createComponent(i.apps[e].type),s=o.instance.processId;i.addEntryFromUserOpenedApps(o.instance.name),i._componentReferenceService.addComponentReference(s,o),i._runningProcessService.processListChangeNotify.next()})()}showDialogMsgBox(e,i){const r=this.itemViewContainer.createComponent(g7);this._componentReferenceService.addComponentReference(r.instance.notificationId,r),r.setInput("inputMsg",i),r.setInput("notificationType",e)}showPropertiesWindow(e){const i=this.itemViewContainer.createComponent(C7);this._componentReferenceService.addComponentReference(i.instance.propertyId,i),i.setInput("fileInput",e)}closeDialogMsgBoxOrPropertiesView(e){const i=this._componentReferenceService.getComponentReference(e);this._componentRefView=i.hostView;const r=this.itemViewContainer.indexOf(this._componentRefView);this.itemViewContainer.remove(r)}onCloseBtnClicked(e){const i=this._componentReferenceService.getComponentReference(e.getProcessId);this._componentRefView=i.hostView;const r=this.itemViewContainer.indexOf(this._componentRefView);this.itemViewContainer.remove(r),this._stateManagmentService.removeState(`${e.getProcessName}-${e.getProcessId}`),this._runningProcessService.removeProcess(e),this._runningProcessService.removeProcessImage(e.getProcessName,e.getProcessId),this._componentReferenceService.removeComponentReference(e.getProcessId),this._processIdService.removeProcessId(e.getProcessId),this.deleteEntryFromUserOpenedAppsAndSession(e),this._runningProcessService.processListChangeNotify.next()}getComponentDetail(){return new vi(this.processId,this.name,this.icon,this.hasWindow,this.type)}deleteEntryFromUserOpenedAppsAndSession(e){const r=this.userOpenedAppsList.indexOf(e.getProcessName);-1!==r&&this.userOpenedAppsList.splice(r,1),this._sessionMangamentServices.addSession(this.userOpenedAppsKey,this.userOpenedAppsList),this._sessionMangamentServices.removeSession(`${e.getProcessName}-${e.getProcessId}`)}fetchPriorSessionInfo(){const e=this._sessionMangamentServices.getSession(this.userOpenedAppsKey);return null!=e||null!=e?e:[]}getSessionKey(e){if(e.length>0){const i=this._sessionMangamentServices.getKeys();for(let r=0;r<e.length;r++){const o=i.filter(s=>s.includes(e[r]));for(let s=0;s<o.length;s++)this.retreivedKeys.push(o[s])}}return this.retreivedKeys}restorePriorSession(e){const i=this._sessionMangamentServices._pickUpKey,r=setInterval(o=>{let s=0,c=this.reOpendAppsCounter;for(;c<o.length;c++)if(s<1){const h=e[c].split("-")[0];this._sessionMangamentServices.addSession(i,e[c]),this.loadApps(h),s++}this.reOpendAppsCounter==o.length-1&&clearInterval(r),this.reOpendAppsCounter++},this.SECONDS_DELAY[1],e)}addEntryFromUserOpenedApps(e){this.userOpenedAppsList.push(e),this._sessionMangamentServices.addSession(this.userOpenedAppsKey,this.userOpenedAppsList)}static \u0275fac=function(i){return new(i||t)(te(wi),te(Yn),te(I7),te(hr),te(eo),te(gg),te(to),te(fa))};static \u0275cmp=a({type:t,selectors:[["cos-root"]],viewQuery:function(i,r){if(1&i&&Wt(aG,5,Co),2&i){let o;Gt(o=Yt())&&(r.itemViewContainer=o.first)}},decls:8,vars:0,consts:[["processContainerRef",""]],template:function(i,r){1&i&&(I(0,"cos-desktop"),re(1,"cos-filemanager"),Le(2,lG,0,0,"ng-template",null,0,ki),I(4,"cos-taskbar"),re(5,"cos-startbutton")(6,"cos-taskbarentries")(7,"cos-clock"),P()())},dependencies:[V7,z7,W7,K7,tG,sG]})}return t})(),uG=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=f({type:t,bootstrap:[cG]});static \u0275inj=tr({imports:[SM,Tz,bH,vz,yz,DH.forRoot()]})}return t})();IU().bootstrapModule(uG).catch(t=>console.error(t))},981:(pr,xe)=>{"use strict";xe.byteLength=function D(L){var Z=F(L),ge=Z[1];return 3*(Z[0]+ge)/4-ge},xe.toByteArray=function k(L){var Z,it,oe=F(L),ge=oe[0],fe=oe[1],le=new Q(function v(L,Z,oe){return 3*(Z+oe)/4-oe}(0,ge,fe)),We=0,Oe=fe>0?ge-4:ge;for(it=0;it<Oe;it+=4)Z=q[L.charCodeAt(it)]<<18|q[L.charCodeAt(it+1)]<<12|q[L.charCodeAt(it+2)]<<6|q[L.charCodeAt(it+3)],le[We++]=Z>>16&255,le[We++]=Z>>8&255,le[We++]=255&Z;return 2===fe&&(Z=q[L.charCodeAt(it)]<<2|q[L.charCodeAt(it+1)]>>4,le[We++]=255&Z),1===fe&&(Z=q[L.charCodeAt(it)]<<10|q[L.charCodeAt(it+1)]<<4|q[L.charCodeAt(it+2)]>>2,le[We++]=Z>>8&255,le[We++]=255&Z),le},xe.fromByteArray=function ee(L){for(var Z,oe=L.length,ge=oe%3,fe=[],We=0,Oe=oe-ge;We<Oe;We+=16383)fe.push($(L,We,We+16383>Oe?Oe:We+16383));return 1===ge?fe.push(ae[(Z=L[oe-1])>>2]+ae[Z<<4&63]+"=="):2===ge&&fe.push(ae[(Z=(L[oe-2]<<8)+L[oe-1])>>10]+ae[Z>>4&63]+ae[Z<<2&63]+"="),fe.join("")};for(var ae=[],q=[],Q=typeof Uint8Array<"u"?Uint8Array:Array,ce="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",R=0;R<64;++R)ae[R]=ce[R],q[ce.charCodeAt(R)]=R;function F(L){var Z=L.length;if(Z%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var oe=L.indexOf("=");return-1===oe&&(oe=Z),[oe,oe===Z?0:4-oe%4]}function b(L){return ae[L>>18&63]+ae[L>>12&63]+ae[L>>6&63]+ae[63&L]}function $(L,Z,oe){for(var fe=[],le=Z;le<oe;le+=3)fe.push(b((L[le]<<16&16711680)+(L[le+1]<<8&65280)+(255&L[le+2])));return fe.join("")}q[45]=62,q[95]=63},838:(pr,xe,ae)=>{"use strict";var Q=ae(981),ce=ae(20),R="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;xe.hp=v,xe.IS=50;var V=2147483647;function D(U){if(U>V)throw new RangeError('The value "'+U+'" is invalid for option "size"');var w=new Uint8Array(U);return Object.setPrototypeOf(w,v.prototype),w}function v(U,w,m){if("number"==typeof U){if("string"==typeof w)throw new TypeError('The "string" argument must be of type string. Received type number');return ee(U)}return k(U,w,m)}function k(U,w,m){if("string"==typeof U)return function L(U,w){if(("string"!=typeof w||""===w)&&(w="utf8"),!v.isEncoding(w))throw new TypeError("Unknown encoding: "+w);var m=0|Oe(U,w),E=D(m),M=E.write(U,w);return M!==m&&(E=E.slice(0,M)),E}(U,w);if(ArrayBuffer.isView(U))return function oe(U){if(ct(U,Uint8Array)){var w=new Uint8Array(U);return ge(w.buffer,w.byteOffset,w.byteLength)}return Z(U)}(U);if(null==U)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U);if(ct(U,ArrayBuffer)||U&&ct(U.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ct(U,SharedArrayBuffer)||U&&ct(U.buffer,SharedArrayBuffer)))return ge(U,w,m);if("number"==typeof U)throw new TypeError('The "value" argument must not be of type number. Received type number');var E=U.valueOf&&U.valueOf();if(null!=E&&E!==U)return v.from(E,w,m);var M=function fe(U){if(v.isBuffer(U)){var w=0|le(U.length),m=D(w);return 0===m.length||U.copy(m,0,0,w),m}return void 0!==U.length?"number"!=typeof U.length||vn(U.length)?D(0):Z(U):"Buffer"===U.type&&Array.isArray(U.data)?Z(U.data):void 0}(U);if(M)return M;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof U[Symbol.toPrimitive])return v.from(U[Symbol.toPrimitive]("string"),w,m);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U)}function b(U){if("number"!=typeof U)throw new TypeError('"size" argument must be of type number');if(U<0)throw new RangeError('The value "'+U+'" is invalid for option "size"')}function ee(U){return b(U),D(U<0?0:0|le(U))}function Z(U){for(var w=U.length<0?0:0|le(U.length),m=D(w),E=0;E<w;E+=1)m[E]=255&U[E];return m}function ge(U,w,m){if(w<0||U.byteLength<w)throw new RangeError('"offset" is outside of buffer bounds');if(U.byteLength<w+(m||0))throw new RangeError('"length" is outside of buffer bounds');var E;return E=void 0===w&&void 0===m?new Uint8Array(U):void 0===m?new Uint8Array(U,w):new Uint8Array(U,w,m),Object.setPrototypeOf(E,v.prototype),E}function le(U){if(U>=V)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+V.toString(16)+" bytes");return 0|U}function Oe(U,w){if(v.isBuffer(U))return U.length;if(ArrayBuffer.isView(U)||ct(U,ArrayBuffer))return U.byteLength;if("string"!=typeof U)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof U);var m=U.length,E=arguments.length>2&&!0===arguments[2];if(!E&&0===m)return 0;for(var M=!1;;)switch(w){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":return Te(U).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*m;case"hex":return m>>>1;case"base64":return He(U).length;default:if(M)return E?-1:Te(U).length;w=(""+w).toLowerCase(),M=!0}}function it(U,w,m){var E=!1;if((void 0===w||w<0)&&(w=0),w>this.length||((void 0===m||m>this.length)&&(m=this.length),m<=0)||(m>>>=0)<=(w>>>=0))return"";for(U||(U="utf8");;)switch(U){case"hex":return ht(this,w,m);case"utf8":case"utf-8":return Ot(this,w,m);case"ascii":return Ae(this,w,m);case"latin1":case"binary":return Xe(this,w,m);case"base64":return Ge(this,w,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return vt(this,w,m);default:if(E)throw new TypeError("Unknown encoding: "+U);U=(U+"").toLowerCase(),E=!0}}function tt(U,w,m){var E=U[w];U[w]=U[m],U[m]=E}function _e(U,w,m,E,M){if(0===U.length)return-1;if("string"==typeof m?(E=m,m=0):m>2147483647?m=2147483647:m<-2147483648&&(m=-2147483648),vn(m=+m)&&(m=M?0:U.length-1),m<0&&(m=U.length+m),m>=U.length){if(M)return-1;m=U.length-1}else if(m<0){if(!M)return-1;m=0}if("string"==typeof w&&(w=v.from(w,E)),v.isBuffer(w))return 0===w.length?-1:Re(U,w,m,E,M);if("number"==typeof w)return w&=255,"function"==typeof Uint8Array.prototype.indexOf?M?Uint8Array.prototype.indexOf.call(U,w,m):Uint8Array.prototype.lastIndexOf.call(U,w,m):Re(U,[w],m,E,M);throw new TypeError("val must be string, number or Buffer")}function Re(U,w,m,E,M){var gt,W=1,ie=U.length,ve=w.length;if(void 0!==E&&("ucs2"===(E=String(E).toLowerCase())||"ucs-2"===E||"utf16le"===E||"utf-16le"===E)){if(U.length<2||w.length<2)return-1;W=2,ie/=2,ve/=2,m/=2}function Je(Ei,ro){return 1===W?Ei[ro]:Ei.readUInt16BE(ro*W)}if(M){var Bt=-1;for(gt=m;gt<ie;gt++)if(Je(U,gt)===Je(w,-1===Bt?0:gt-Bt)){if(-1===Bt&&(Bt=gt),gt-Bt+1===ve)return Bt*W}else-1!==Bt&&(gt-=gt-Bt),Bt=-1}else for(m+ve>ie&&(m=ie-ve),gt=m;gt>=0;gt--){for(var Pt=!0,zt=0;zt<ve;zt++)if(Je(U,gt+zt)!==Je(w,zt)){Pt=!1;break}if(Pt)return gt}return-1}function Ie(U,w,m,E){m=Number(m)||0;var M=U.length-m;E?(E=Number(E))>M&&(E=M):E=M;var W=w.length;E>W/2&&(E=W/2);for(var ie=0;ie<E;++ie){var ve=parseInt(w.substr(2*ie,2),16);if(vn(ve))return ie;U[m+ie]=ve}return ie}function Ne(U,w,m,E){return Ze(Te(w,U.length-m),U,m,E)}function ke(U,w,m,E){return Ze(function Be(U){for(var w=[],m=0;m<U.length;++m)w.push(255&U.charCodeAt(m));return w}(w),U,m,E)}function Ye(U,w,m,E){return Ze(He(w),U,m,E)}function je(U,w,m,E){return Ze(function pt(U,w){for(var m,E,W=[],ie=0;ie<U.length&&!((w-=2)<0);++ie)E=(m=U.charCodeAt(ie))>>8,W.push(m%256),W.push(E);return W}(w,U.length-m),U,m,E)}function Ge(U,w,m){return Q.fromByteArray(0===w&&m===U.length?U:U.slice(w,m))}function Ot(U,w,m){m=Math.min(U.length,m);for(var E=[],M=w;M<m;){var Je,gt,Bt,Pt,W=U[M],ie=null,ve=W>239?4:W>223?3:W>191?2:1;if(M+ve<=m)switch(ve){case 1:W<128&&(ie=W);break;case 2:128==(192&(Je=U[M+1]))&&(Pt=(31&W)<<6|63&Je)>127&&(ie=Pt);break;case 3:gt=U[M+2],128==(192&(Je=U[M+1]))&&128==(192&gt)&&(Pt=(15&W)<<12|(63&Je)<<6|63&gt)>2047&&(Pt<55296||Pt>57343)&&(ie=Pt);break;case 4:gt=U[M+2],Bt=U[M+3],128==(192&(Je=U[M+1]))&&128==(192&gt)&&128==(192&Bt)&&(Pt=(15&W)<<18|(63&Je)<<12|(63&gt)<<6|63&Bt)>65535&&Pt<1114112&&(ie=Pt)}null===ie?(ie=65533,ve=1):ie>65535&&(E.push((ie-=65536)>>>10&1023|55296),ie=56320|1023&ie),E.push(ie),M+=ve}return function pe(U){var w=U.length;if(w<=me)return String.fromCharCode.apply(String,U);for(var m="",E=0;E<w;)m+=String.fromCharCode.apply(String,U.slice(E,E+=me));return m}(E)}!(v.TYPED_ARRAY_SUPPORT=function F(){try{var U=new Uint8Array(1),w={foo:function(){return 42}};return Object.setPrototypeOf(w,Uint8Array.prototype),Object.setPrototypeOf(U,w),42===U.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(v.prototype,"parent",{enumerable:!0,get:function(){if(v.isBuffer(this))return this.buffer}}),Object.defineProperty(v.prototype,"offset",{enumerable:!0,get:function(){if(v.isBuffer(this))return this.byteOffset}}),v.poolSize=8192,v.from=function(U,w,m){return k(U,w,m)},Object.setPrototypeOf(v.prototype,Uint8Array.prototype),Object.setPrototypeOf(v,Uint8Array),v.alloc=function(U,w,m){return function $(U,w,m){return b(U),U<=0?D(U):void 0!==w?"string"==typeof m?D(U).fill(w,m):D(U).fill(w):D(U)}(U,w,m)},v.allocUnsafe=function(U){return ee(U)},v.allocUnsafeSlow=function(U){return ee(U)},v.isBuffer=function(w){return null!=w&&!0===w._isBuffer&&w!==v.prototype},v.compare=function(w,m){if(ct(w,Uint8Array)&&(w=v.from(w,w.offset,w.byteLength)),ct(m,Uint8Array)&&(m=v.from(m,m.offset,m.byteLength)),!v.isBuffer(w)||!v.isBuffer(m))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(w===m)return 0;for(var E=w.length,M=m.length,W=0,ie=Math.min(E,M);W<ie;++W)if(w[W]!==m[W]){E=w[W],M=m[W];break}return E<M?-1:M<E?1:0},v.isEncoding=function(w){switch(String(w).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},v.concat=function(w,m){if(!Array.isArray(w))throw new TypeError('"list" argument must be an Array of Buffers');if(0===w.length)return v.alloc(0);var E;if(void 0===m)for(m=0,E=0;E<w.length;++E)m+=w[E].length;var M=v.allocUnsafe(m),W=0;for(E=0;E<w.length;++E){var ie=w[E];if(ct(ie,Uint8Array))W+ie.length>M.length?v.from(ie).copy(M,W):Uint8Array.prototype.set.call(M,ie,W);else{if(!v.isBuffer(ie))throw new TypeError('"list" argument must be an Array of Buffers');ie.copy(M,W)}W+=ie.length}return M},v.byteLength=Oe,v.prototype._isBuffer=!0,v.prototype.swap16=function(){var w=this.length;if(w%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var m=0;m<w;m+=2)tt(this,m,m+1);return this},v.prototype.swap32=function(){var w=this.length;if(w%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var m=0;m<w;m+=4)tt(this,m,m+3),tt(this,m+1,m+2);return this},v.prototype.swap64=function(){var w=this.length;if(w%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var m=0;m<w;m+=8)tt(this,m,m+7),tt(this,m+1,m+6),tt(this,m+2,m+5),tt(this,m+3,m+4);return this},v.prototype.toLocaleString=v.prototype.toString=function(){var w=this.length;return 0===w?"":0===arguments.length?Ot(this,0,w):it.apply(this,arguments)},v.prototype.equals=function(w){if(!v.isBuffer(w))throw new TypeError("Argument must be a Buffer");return this===w||0===v.compare(this,w)},v.prototype.inspect=function(){var w="",m=xe.IS;return w=this.toString("hex",0,m).replace(/(.{2})/g,"$1 ").trim(),this.length>m&&(w+=" ... "),"<Buffer "+w+">"},R&&(v.prototype[R]=v.prototype.inspect),v.prototype.compare=function(w,m,E,M,W){if(ct(w,Uint8Array)&&(w=v.from(w,w.offset,w.byteLength)),!v.isBuffer(w))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof w);if(void 0===m&&(m=0),void 0===E&&(E=w?w.length:0),void 0===M&&(M=0),void 0===W&&(W=this.length),m<0||E>w.length||M<0||W>this.length)throw new RangeError("out of range index");if(M>=W&&m>=E)return 0;if(M>=W)return-1;if(m>=E)return 1;if(this===w)return 0;for(var ie=(W>>>=0)-(M>>>=0),ve=(E>>>=0)-(m>>>=0),Je=Math.min(ie,ve),gt=this.slice(M,W),Bt=w.slice(m,E),Pt=0;Pt<Je;++Pt)if(gt[Pt]!==Bt[Pt]){ie=gt[Pt],ve=Bt[Pt];break}return ie<ve?-1:ve<ie?1:0},v.prototype.includes=function(w,m,E){return-1!==this.indexOf(w,m,E)},v.prototype.indexOf=function(w,m,E){return _e(this,w,m,E,!0)},v.prototype.lastIndexOf=function(w,m,E){return _e(this,w,m,E,!1)},v.prototype.write=function(w,m,E,M){if(void 0===m)M="utf8",E=this.length,m=0;else if(void 0===E&&"string"==typeof m)M=m,E=this.length,m=0;else{if(!isFinite(m))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");m>>>=0,isFinite(E)?(E>>>=0,void 0===M&&(M="utf8")):(M=E,E=void 0)}var W=this.length-m;if((void 0===E||E>W)&&(E=W),w.length>0&&(E<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");M||(M="utf8");for(var ie=!1;;)switch(M){case"hex":return Ie(this,w,m,E);case"utf8":case"utf-8":return Ne(this,w,m,E);case"ascii":case"latin1":case"binary":return ke(this,w,m,E);case"base64":return Ye(this,w,m,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return je(this,w,m,E);default:if(ie)throw new TypeError("Unknown encoding: "+M);M=(""+M).toLowerCase(),ie=!0}},v.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var me=4096;function Ae(U,w,m){var E="";m=Math.min(U.length,m);for(var M=w;M<m;++M)E+=String.fromCharCode(127&U[M]);return E}function Xe(U,w,m){var E="";m=Math.min(U.length,m);for(var M=w;M<m;++M)E+=String.fromCharCode(U[M]);return E}function ht(U,w,m){var E=U.length;(!w||w<0)&&(w=0),(!m||m<0||m>E)&&(m=E);for(var M="",W=w;W<m;++W)M+=ii[U[W]];return M}function vt(U,w,m){for(var E=U.slice(w,m),M="",W=0;W<E.length-1;W+=2)M+=String.fromCharCode(E[W]+256*E[W+1]);return M}function nt(U,w,m){if(U%1!=0||U<0)throw new RangeError("offset is not uint");if(U+w>m)throw new RangeError("Trying to access beyond buffer length")}function yt(U,w,m,E,M,W){if(!v.isBuffer(U))throw new TypeError('"buffer" argument must be a Buffer instance');if(w>M||w<W)throw new RangeError('"value" argument is out of bounds');if(m+E>U.length)throw new RangeError("Index out of range")}function yn(U,w,m,E,M,W){if(m+E>U.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("Index out of range")}function tn(U,w,m,E,M){return w=+w,m>>>=0,M||yn(U,0,m,4),ce.write(U,w,m,E,23,4),m+4}function Zn(U,w,m,E,M){return w=+w,m>>>=0,M||yn(U,0,m,8),ce.write(U,w,m,E,52,8),m+8}v.prototype.slice=function(w,m){var E=this.length;(w=~~w)<0?(w+=E)<0&&(w=0):w>E&&(w=E),(m=void 0===m?E:~~m)<0?(m+=E)<0&&(m=0):m>E&&(m=E),m<w&&(m=w);var M=this.subarray(w,m);return Object.setPrototypeOf(M,v.prototype),M},v.prototype.readUintLE=v.prototype.readUIntLE=function(w,m,E){w>>>=0,m>>>=0,E||nt(w,m,this.length);for(var M=this[w],W=1,ie=0;++ie<m&&(W*=256);)M+=this[w+ie]*W;return M},v.prototype.readUintBE=v.prototype.readUIntBE=function(w,m,E){w>>>=0,m>>>=0,E||nt(w,m,this.length);for(var M=this[w+--m],W=1;m>0&&(W*=256);)M+=this[w+--m]*W;return M},v.prototype.readUint8=v.prototype.readUInt8=function(w,m){return w>>>=0,m||nt(w,1,this.length),this[w]},v.prototype.readUint16LE=v.prototype.readUInt16LE=function(w,m){return w>>>=0,m||nt(w,2,this.length),this[w]|this[w+1]<<8},v.prototype.readUint16BE=v.prototype.readUInt16BE=function(w,m){return w>>>=0,m||nt(w,2,this.length),this[w]<<8|this[w+1]},v.prototype.readUint32LE=v.prototype.readUInt32LE=function(w,m){return w>>>=0,m||nt(w,4,this.length),(this[w]|this[w+1]<<8|this[w+2]<<16)+16777216*this[w+3]},v.prototype.readUint32BE=v.prototype.readUInt32BE=function(w,m){return w>>>=0,m||nt(w,4,this.length),16777216*this[w]+(this[w+1]<<16|this[w+2]<<8|this[w+3])},v.prototype.readIntLE=function(w,m,E){w>>>=0,m>>>=0,E||nt(w,m,this.length);for(var M=this[w],W=1,ie=0;++ie<m&&(W*=256);)M+=this[w+ie]*W;return M>=(W*=128)&&(M-=Math.pow(2,8*m)),M},v.prototype.readIntBE=function(w,m,E){w>>>=0,m>>>=0,E||nt(w,m,this.length);for(var M=m,W=1,ie=this[w+--M];M>0&&(W*=256);)ie+=this[w+--M]*W;return ie>=(W*=128)&&(ie-=Math.pow(2,8*m)),ie},v.prototype.readInt8=function(w,m){return w>>>=0,m||nt(w,1,this.length),128&this[w]?-1*(255-this[w]+1):this[w]},v.prototype.readInt16LE=function(w,m){w>>>=0,m||nt(w,2,this.length);var E=this[w]|this[w+1]<<8;return 32768&E?4294901760|E:E},v.prototype.readInt16BE=function(w,m){w>>>=0,m||nt(w,2,this.length);var E=this[w+1]|this[w]<<8;return 32768&E?4294901760|E:E},v.prototype.readInt32LE=function(w,m){return w>>>=0,m||nt(w,4,this.length),this[w]|this[w+1]<<8|this[w+2]<<16|this[w+3]<<24},v.prototype.readInt32BE=function(w,m){return w>>>=0,m||nt(w,4,this.length),this[w]<<24|this[w+1]<<16|this[w+2]<<8|this[w+3]},v.prototype.readFloatLE=function(w,m){return w>>>=0,m||nt(w,4,this.length),ce.read(this,w,!0,23,4)},v.prototype.readFloatBE=function(w,m){return w>>>=0,m||nt(w,4,this.length),ce.read(this,w,!1,23,4)},v.prototype.readDoubleLE=function(w,m){return w>>>=0,m||nt(w,8,this.length),ce.read(this,w,!0,52,8)},v.prototype.readDoubleBE=function(w,m){return w>>>=0,m||nt(w,8,this.length),ce.read(this,w,!1,52,8)},v.prototype.writeUintLE=v.prototype.writeUIntLE=function(w,m,E,M){w=+w,m>>>=0,E>>>=0,M||yt(this,w,m,E,Math.pow(2,8*E)-1,0);var ie=1,ve=0;for(this[m]=255&w;++ve<E&&(ie*=256);)this[m+ve]=w/ie&255;return m+E},v.prototype.writeUintBE=v.prototype.writeUIntBE=function(w,m,E,M){w=+w,m>>>=0,E>>>=0,M||yt(this,w,m,E,Math.pow(2,8*E)-1,0);var ie=E-1,ve=1;for(this[m+ie]=255&w;--ie>=0&&(ve*=256);)this[m+ie]=w/ve&255;return m+E},v.prototype.writeUint8=v.prototype.writeUInt8=function(w,m,E){return w=+w,m>>>=0,E||yt(this,w,m,1,255,0),this[m]=255&w,m+1},v.prototype.writeUint16LE=v.prototype.writeUInt16LE=function(w,m,E){return w=+w,m>>>=0,E||yt(this,w,m,2,65535,0),this[m]=255&w,this[m+1]=w>>>8,m+2},v.prototype.writeUint16BE=v.prototype.writeUInt16BE=function(w,m,E){return w=+w,m>>>=0,E||yt(this,w,m,2,65535,0),this[m]=w>>>8,this[m+1]=255&w,m+2},v.prototype.writeUint32LE=v.prototype.writeUInt32LE=function(w,m,E){return w=+w,m>>>=0,E||yt(this,w,m,4,4294967295,0),this[m+3]=w>>>24,this[m+2]=w>>>16,this[m+1]=w>>>8,this[m]=255&w,m+4},v.prototype.writeUint32BE=v.prototype.writeUInt32BE=function(w,m,E){return w=+w,m>>>=0,E||yt(this,w,m,4,4294967295,0),this[m]=w>>>24,this[m+1]=w>>>16,this[m+2]=w>>>8,this[m+3]=255&w,m+4},v.prototype.writeIntLE=function(w,m,E,M){if(w=+w,m>>>=0,!M){var W=Math.pow(2,8*E-1);yt(this,w,m,E,W-1,-W)}var ie=0,ve=1,Je=0;for(this[m]=255&w;++ie<E&&(ve*=256);)w<0&&0===Je&&0!==this[m+ie-1]&&(Je=1),this[m+ie]=(w/ve|0)-Je&255;return m+E},v.prototype.writeIntBE=function(w,m,E,M){if(w=+w,m>>>=0,!M){var W=Math.pow(2,8*E-1);yt(this,w,m,E,W-1,-W)}var ie=E-1,ve=1,Je=0;for(this[m+ie]=255&w;--ie>=0&&(ve*=256);)w<0&&0===Je&&0!==this[m+ie+1]&&(Je=1),this[m+ie]=(w/ve|0)-Je&255;return m+E},v.prototype.writeInt8=function(w,m,E){return w=+w,m>>>=0,E||yt(this,w,m,1,127,-128),w<0&&(w=255+w+1),this[m]=255&w,m+1},v.prototype.writeInt16LE=function(w,m,E){return w=+w,m>>>=0,E||yt(this,w,m,2,32767,-32768),this[m]=255&w,this[m+1]=w>>>8,m+2},v.prototype.writeInt16BE=function(w,m,E){return w=+w,m>>>=0,E||yt(this,w,m,2,32767,-32768),this[m]=w>>>8,this[m+1]=255&w,m+2},v.prototype.writeInt32LE=function(w,m,E){return w=+w,m>>>=0,E||yt(this,w,m,4,2147483647,-2147483648),this[m]=255&w,this[m+1]=w>>>8,this[m+2]=w>>>16,this[m+3]=w>>>24,m+4},v.prototype.writeInt32BE=function(w,m,E){return w=+w,m>>>=0,E||yt(this,w,m,4,2147483647,-2147483648),w<0&&(w=4294967295+w+1),this[m]=w>>>24,this[m+1]=w>>>16,this[m+2]=w>>>8,this[m+3]=255&w,m+4},v.prototype.writeFloatLE=function(w,m,E){return tn(this,w,m,!0,E)},v.prototype.writeFloatBE=function(w,m,E){return tn(this,w,m,!1,E)},v.prototype.writeDoubleLE=function(w,m,E){return Zn(this,w,m,!0,E)},v.prototype.writeDoubleBE=function(w,m,E){return Zn(this,w,m,!1,E)},v.prototype.copy=function(w,m,E,M){if(!v.isBuffer(w))throw new TypeError("argument should be a Buffer");if(E||(E=0),!M&&0!==M&&(M=this.length),m>=w.length&&(m=w.length),m||(m=0),M>0&&M<E&&(M=E),M===E||0===w.length||0===this.length)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(E<0||E>=this.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("sourceEnd out of bounds");M>this.length&&(M=this.length),w.length-m<M-E&&(M=w.length-m+E);var W=M-E;return this===w&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(m,E,M):Uint8Array.prototype.set.call(w,this.subarray(E,M),m),W},v.prototype.fill=function(w,m,E,M){if("string"==typeof w){if("string"==typeof m?(M=m,m=0,E=this.length):"string"==typeof E&&(M=E,E=this.length),void 0!==M&&"string"!=typeof M)throw new TypeError("encoding must be a string");if("string"==typeof M&&!v.isEncoding(M))throw new TypeError("Unknown encoding: "+M);if(1===w.length){var W=w.charCodeAt(0);("utf8"===M&&W<128||"latin1"===M)&&(w=W)}}else"number"==typeof w?w&=255:"boolean"==typeof w&&(w=Number(w));if(m<0||this.length<m||this.length<E)throw new RangeError("Out of range index");if(E<=m)return this;var ie;if(m>>>=0,E=void 0===E?this.length:E>>>0,w||(w=0),"number"==typeof w)for(ie=m;ie<E;++ie)this[ie]=w;else{var ve=v.isBuffer(w)?w:v.from(w,M),Je=ve.length;if(0===Je)throw new TypeError('The value "'+w+'" is invalid for argument "value"');for(ie=0;ie<E-m;++ie)this[ie+m]=ve[ie%Je]}return this};var K=/[^+/0-9A-Za-z-_]/g;function Te(U,w){w=w||1/0;for(var m,E=U.length,M=null,W=[],ie=0;ie<E;++ie){if((m=U.charCodeAt(ie))>55295&&m<57344){if(!M){if(m>56319){(w-=3)>-1&&W.push(239,191,189);continue}if(ie+1===E){(w-=3)>-1&&W.push(239,191,189);continue}M=m;continue}if(m<56320){(w-=3)>-1&&W.push(239,191,189),M=m;continue}m=65536+(M-55296<<10|m-56320)}else M&&(w-=3)>-1&&W.push(239,191,189);if(M=null,m<128){if((w-=1)<0)break;W.push(m)}else if(m<2048){if((w-=2)<0)break;W.push(m>>6|192,63&m|128)}else if(m<65536){if((w-=3)<0)break;W.push(m>>12|224,m>>6&63|128,63&m|128)}else{if(!(m<1114112))throw new Error("Invalid code point");if((w-=4)<0)break;W.push(m>>18|240,m>>12&63|128,m>>6&63|128,63&m|128)}}return W}function He(U){return Q.toByteArray(function X(U){if((U=(U=U.split("=")[0]).trim().replace(K,"")).length<2)return"";for(;U.length%4!=0;)U+="=";return U}(U))}function Ze(U,w,m,E){for(var M=0;M<E&&!(M+m>=w.length||M>=U.length);++M)w[M+m]=U[M];return M}function ct(U,w){return U instanceof w||null!=U&&null!=U.constructor&&null!=U.constructor.name&&U.constructor.name===w.name}function vn(U){return U!=U}var ii=function(){for(var U="0123456789abcdef",w=new Array(256),m=0;m<16;++m)for(var E=16*m,M=0;M<16;++M)w[E+M]=U[m]+U[M];return w}()},20:(pr,xe)=>{xe.read=function(ae,q,Q,ce,R){var V,F,D=8*R-ce-1,v=(1<<D)-1,k=v>>1,b=-7,$=Q?R-1:0,ee=Q?-1:1,L=ae[q+$];for($+=ee,V=L&(1<<-b)-1,L>>=-b,b+=D;b>0;V=256*V+ae[q+$],$+=ee,b-=8);for(F=V&(1<<-b)-1,V>>=-b,b+=ce;b>0;F=256*F+ae[q+$],$+=ee,b-=8);if(0===V)V=1-k;else{if(V===v)return F?NaN:1/0*(L?-1:1);F+=Math.pow(2,ce),V-=k}return(L?-1:1)*F*Math.pow(2,V-ce)},xe.write=function(ae,q,Q,ce,R,V){var F,D,v,k=8*V-R-1,b=(1<<k)-1,$=b>>1,ee=23===R?Math.pow(2,-24)-Math.pow(2,-77):0,L=ce?0:V-1,Z=ce?1:-1,oe=q<0||0===q&&1/q<0?1:0;for(q=Math.abs(q),isNaN(q)||q===1/0?(D=isNaN(q)?1:0,F=b):(F=Math.floor(Math.log(q)/Math.LN2),q*(v=Math.pow(2,-F))<1&&(F--,v*=2),(q+=F+$>=1?ee/v:ee*Math.pow(2,1-$))*v>=2&&(F++,v/=2),F+$>=b?(D=0,F=b):F+$>=1?(D=(q*v-1)*Math.pow(2,R),F+=$):(D=q*Math.pow(2,$-1)*Math.pow(2,R),F=0));R>=8;ae[Q+L]=255&D,L+=Z,D/=256,R-=8);for(F=F<<R|D,k+=R;k>0;ae[Q+L]=255&F,L+=Z,F/=256,k-=8);ae[Q+L-Z]|=128*oe}},68:pr=>{const{hasOwnProperty:xe}=Object.prototype,ae=typeof process<"u"&&"win32"===process.platform?"\r\n":"\n",q=(D,v)=>{const k=[];let b="";"string"==typeof v?v={section:v,whitespace:!1}:(v=v||Object.create(null)).whitespace=!0===v.whitespace;const $=v.whitespace?" = ":"=";for(const ee of Object.keys(D)){const L=D[ee];if(L&&Array.isArray(L))for(const Z of L)b+=V(ee+"[]")+$+V(Z)+"\n";else L&&"object"==typeof L?k.push(ee):b+=V(ee)+$+V(L)+ae}v.section&&b.length&&(b="["+V(v.section)+"]"+ae+b);for(const ee of k){const L=Q(ee).join("\\."),Z=(v.section?v.section+".":"")+L,{whitespace:oe}=v,ge=q(D[ee],{section:Z,whitespace:oe});b.length&&ge.length&&(b+=ae),b+=ge}return b},Q=D=>D.replace(/\1/g,"\x02LITERAL\\1LITERAL\x02").replace(/\\\./g,"\x01").split(/\./).map(v=>v.replace(/\1/g,"\\.").replace(/\2LITERAL\\1LITERAL\2/g,"\x01")),ce=D=>{const v=Object.create(null);let k=v,b=null;const $=/^\[([^\]]*)\]$|^([^=]+)(=(.*))?$/i,ee=D.split(/[\r\n]+/g);for(const Z of ee){if(!Z||Z.match(/^\s*[;#]/))continue;const oe=Z.match($);if(!oe)continue;if(void 0!==oe[1]){if(b=F(oe[1]),"__proto__"===b){k=Object.create(null);continue}k=v[b]=v[b]||Object.create(null);continue}const ge=F(oe[2]),fe=ge.length>2&&"[]"===ge.slice(-2),le=fe?ge.slice(0,-2):ge;if("__proto__"===le)continue;const We=!oe[3]||F(oe[4]),Oe="true"===We||"false"===We||"null"===We?JSON.parse(We):We;fe&&(xe.call(k,le)?Array.isArray(k[le])||(k[le]=[k[le]]):k[le]=[]),Array.isArray(k[le])?k[le].push(Oe):k[le]=Oe}const L=[];for(const Z of Object.keys(v)){if(!xe.call(v,Z)||"object"!=typeof v[Z]||Array.isArray(v[Z]))continue;const oe=Q(Z);let ge=v;const fe=oe.pop(),le=fe.replace(/\\\./g,".");for(const We of oe)"__proto__"!==We&&((!xe.call(ge,We)||"object"!=typeof ge[We])&&(ge[We]=Object.create(null)),ge=ge[We]);ge===v&&le===fe||(ge[le]=v[Z],L.push(Z))}for(const Z of L)delete v[Z];return v},R=D=>'"'===D.charAt(0)&&'"'===D.slice(-1)||"'"===D.charAt(0)&&"'"===D.slice(-1),V=D=>"string"!=typeof D||D.match(/[=\r\n]/)||D.match(/^\[/)||D.length>1&&R(D)||D!==D.trim()?JSON.stringify(D):D.replace(/;/g,"\\;").replace(/#/g,"\\#"),F=(D,v)=>{if(D=(D||"").trim(),!R(D)){let k=!1,b="";for(let $=0,ee=D.length;$<ee;$++){const L=D.charAt($);if(k)-1!=="\\;#".indexOf(L)?b+=L:b+="\\"+L,k=!1;else{if(-1!==";#".indexOf(L))break;"\\"===L?k=!0:b+=L}}return k&&(b+="\\"),b.trim()}"'"===D.charAt(0)&&(D=D.substr(1,D.length-2));try{D=JSON.parse(D)}catch{}return D};pr.exports={parse:ce,decode:ce,stringify:q,encode:q,safe:V,unsafe:F}},308:pr=>{"use strict";function xe(ce){if("string"!=typeof ce)throw new TypeError("Path must be a string. Received "+JSON.stringify(ce))}function ae(ce,R){for(var k,V="",F=0,D=-1,v=0,b=0;b<=ce.length;++b){if(b<ce.length)k=ce.charCodeAt(b);else{if(47===k)break;k=47}if(47===k){if(D!==b-1&&1!==v)if(D!==b-1&&2===v){if(V.length<2||2!==F||46!==V.charCodeAt(V.length-1)||46!==V.charCodeAt(V.length-2))if(V.length>2){var $=V.lastIndexOf("/");if($!==V.length-1){-1===$?(V="",F=0):F=(V=V.slice(0,$)).length-1-V.lastIndexOf("/"),D=b,v=0;continue}}else if(2===V.length||1===V.length){V="",F=0,D=b,v=0;continue}R&&(V.length>0?V+="/..":V="..",F=2)}else V.length>0?V+="/"+ce.slice(D+1,b):V=ce.slice(D+1,b),F=b-D-1;D=b,v=0}else 46===k&&-1!==v?++v:v=-1}return V}var Q={resolve:function(){for(var F,R="",V=!1,D=arguments.length-1;D>=-1&&!V;D--){var v;D>=0?v=arguments[D]:(void 0===F&&(F=process.cwd()),v=F),xe(v),0!==v.length&&(R=v+"/"+R,V=47===v.charCodeAt(0))}return R=ae(R,!V),V?R.length>0?"/"+R:"/":R.length>0?R:"."},normalize:function(R){if(xe(R),0===R.length)return".";var V=47===R.charCodeAt(0),F=47===R.charCodeAt(R.length-1);return 0===(R=ae(R,!V)).length&&!V&&(R="."),R.length>0&&F&&(R+="/"),V?"/"+R:R},isAbsolute:function(R){return xe(R),R.length>0&&47===R.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var R,V=0;V<arguments.length;++V){var F=arguments[V];xe(F),F.length>0&&(void 0===R?R=F:R+="/"+F)}return void 0===R?".":Q.normalize(R)},relative:function(R,V){if(xe(R),xe(V),R===V||(R=Q.resolve(R))===(V=Q.resolve(V)))return"";for(var F=1;F<R.length&&47===R.charCodeAt(F);++F);for(var D=R.length,v=D-F,k=1;k<V.length&&47===V.charCodeAt(k);++k);for(var $=V.length-k,ee=v<$?v:$,L=-1,Z=0;Z<=ee;++Z){if(Z===ee){if($>ee){if(47===V.charCodeAt(k+Z))return V.slice(k+Z+1);if(0===Z)return V.slice(k+Z)}else v>ee&&(47===R.charCodeAt(F+Z)?L=Z:0===Z&&(L=0));break}var oe=R.charCodeAt(F+Z);if(oe!==V.charCodeAt(k+Z))break;47===oe&&(L=Z)}var fe="";for(Z=F+L+1;Z<=D;++Z)(Z===D||47===R.charCodeAt(Z))&&(fe+=0===fe.length?"..":"/..");return fe.length>0?fe+V.slice(k+L):(47===V.charCodeAt(k+=L)&&++k,V.slice(k))},_makeLong:function(R){return R},dirname:function(R){if(xe(R),0===R.length)return".";for(var V=R.charCodeAt(0),F=47===V,D=-1,v=!0,k=R.length-1;k>=1;--k)if(47===(V=R.charCodeAt(k))){if(!v){D=k;break}}else v=!1;return-1===D?F?"/":".":F&&1===D?"//":R.slice(0,D)},basename:function(R,V){if(void 0!==V&&"string"!=typeof V)throw new TypeError('"ext" argument must be a string');xe(R);var k,F=0,D=-1,v=!0;if(void 0!==V&&V.length>0&&V.length<=R.length){if(V.length===R.length&&V===R)return"";var b=V.length-1,$=-1;for(k=R.length-1;k>=0;--k){var ee=R.charCodeAt(k);if(47===ee){if(!v){F=k+1;break}}else-1===$&&(v=!1,$=k+1),b>=0&&(ee===V.charCodeAt(b)?-1==--b&&(D=k):(b=-1,D=$))}return F===D?D=$:-1===D&&(D=R.length),R.slice(F,D)}for(k=R.length-1;k>=0;--k)if(47===R.charCodeAt(k)){if(!v){F=k+1;break}}else-1===D&&(v=!1,D=k+1);return-1===D?"":R.slice(F,D)},extname:function(R){xe(R);for(var V=-1,F=0,D=-1,v=!0,k=0,b=R.length-1;b>=0;--b){var $=R.charCodeAt(b);if(47!==$)-1===D&&(v=!1,D=b+1),46===$?-1===V?V=b:1!==k&&(k=1):-1!==V&&(k=-1);else if(!v){F=b+1;break}}return-1===V||-1===D||0===k||1===k&&V===D-1&&V===F+1?"":R.slice(V,D)},format:function(R){if(null===R||"object"!=typeof R)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof R);return function q(ce,R){var V=R.dir||R.root,F=R.base||(R.name||"")+(R.ext||"");return V?V===R.root?V+F:V+ce+F:F}("/",R)},parse:function(R){xe(R);var V={root:"",dir:"",base:"",ext:"",name:""};if(0===R.length)return V;var v,F=R.charCodeAt(0),D=47===F;D?(V.root="/",v=1):v=0;for(var k=-1,b=0,$=-1,ee=!0,L=R.length-1,Z=0;L>=v;--L)if(47!==(F=R.charCodeAt(L)))-1===$&&(ee=!1,$=L+1),46===F?-1===k?k=L:1!==Z&&(Z=1):-1!==k&&(Z=-1);else if(!ee){b=L+1;break}return-1===k||-1===$||0===Z||1===Z&&k===$-1&&k===b+1?-1!==$&&(V.base=V.name=R.slice(0===b&&D?1:b,$)):(0===b&&D?(V.name=R.slice(1,k),V.base=R.slice(1,$)):(V.name=R.slice(b,k),V.base=R.slice(b,$)),V.ext=R.slice(k,$)),b>0?V.dir=R.slice(0,b-1):D&&(V.dir="/"),V},sep:"/",delimiter:":",win32:null,posix:null};Q.posix=Q,pr.exports=Q},728:function(pr){pr.exports=function(xe){var ae={};function q(Q){if(ae[Q])return ae[Q].exports;var ce=ae[Q]={exports:{},id:Q,loaded:!1};return xe[Q].call(ce.exports,ce,ce.exports,q),ce.loaded=!0,ce.exports}return q.m=xe,q.c=ae,q.p="",q(0)}([function(xe,ae,q){(function(Q,ce,R,V){"use strict";Object.defineProperty(ae,"__esModule",{value:!0});var F=q(2),D=q(9),v=function(d){return d[d.EPERM=1]="EPERM",d[d.ENOENT=2]="ENOENT",d[d.EIO=5]="EIO",d[d.EBADF=9]="EBADF",d[d.EACCES=13]="EACCES",d[d.EBUSY=16]="EBUSY",d[d.EEXIST=17]="EEXIST",d[d.ENOTDIR=20]="ENOTDIR",d[d.EISDIR=21]="EISDIR",d[d.EINVAL=22]="EINVAL",d[d.EFBIG=27]="EFBIG",d[d.ENOSPC=28]="ENOSPC",d[d.EROFS=30]="EROFS",d[d.ENOTEMPTY=39]="ENOTEMPTY",d[d.ENOTSUP=95]="ENOTSUP",d}(v||{}),k={};k[v.EPERM]="Operation not permitted.",k[v.ENOENT]="No such file or directory.",k[v.EIO]="Input/output error.",k[v.EBADF]="Bad file descriptor.",k[v.EACCES]="Permission denied.",k[v.EBUSY]="Resource busy or locked.",k[v.EEXIST]="File exists.",k[v.ENOTDIR]="File is not a directory.",k[v.EISDIR]="File is a directory.",k[v.EINVAL]="Invalid argument.",k[v.EFBIG]="File is too big.",k[v.ENOSPC]="No space left on disk.",k[v.EROFS]="Cannot modify a read-only file system.",k[v.ENOTEMPTY]="Directory is not empty.",k[v.ENOTSUP]="Operation is not supported.";var b=function(d){function a(u,l,f){void 0===l&&(l=k[u]),d.call(this,l),this.syscall="",this.errno=u,this.code=v[u],this.path=f,this.stack=(new d).stack,this.message="Error: "+this.code+": "+l+(this.path?", '"+this.path+"'":"")}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.fromJSON=function(l){var f=new a(0);return f.errno=l.errno,f.code=l.code,f.path=l.path,f.stack=l.stack,f.message=l.message,f},a.fromBuffer=function(l,f){return void 0===f&&(f=0),a.fromJSON(JSON.parse(l.toString("utf8",f+4,f+4+l.readUInt32LE(f))))},a.FileError=function(l,f){return new a(l,k[l],f)},a.ENOENT=function(l){return this.FileError(v.ENOENT,l)},a.EEXIST=function(l){return this.FileError(v.EEXIST,l)},a.EISDIR=function(l){return this.FileError(v.EISDIR,l)},a.ENOTDIR=function(l){return this.FileError(v.ENOTDIR,l)},a.EPERM=function(l){return this.FileError(v.EPERM,l)},a.ENOTEMPTY=function(l){return this.FileError(v.ENOTEMPTY,l)},a.prototype.toString=function(){return this.message},a.prototype.toJSON=function(){return{errno:this.errno,code:this.code,path:this.path,stack:this.stack,message:this.message}},a.prototype.writeToBuffer=function(l,f){void 0===l&&(l=Q.alloc(this.bufferSize())),void 0===f&&(f=0);var p=l.write(JSON.stringify(this.toJSON()),f+4);return l.writeUInt32LE(p,f),l},a.prototype.bufferSize=function(){return 4+Q.byteLength(JSON.stringify(this.toJSON()))},a}(Error),$=Object.freeze({get ErrorCode(){return v},ErrorStrings:k,ApiError:b}),ee=function(d){return d[d.NOP=0]="NOP",d[d.THROW_EXCEPTION=1]="THROW_EXCEPTION",d[d.TRUNCATE_FILE=2]="TRUNCATE_FILE",d[d.CREATE_FILE=3]="CREATE_FILE",d}(ee||{}),L=function d(a){if(this.flagStr=a,d.validFlagStrs.indexOf(a)<0)throw new b(v.EINVAL,"Invalid flag: "+a)};L.getFileFlag=function(a){return L.flagCache.hasOwnProperty(a)?L.flagCache[a]:L.flagCache[a]=new L(a)},L.prototype.getFlagString=function(){return this.flagStr},L.prototype.isReadable=function(){return-1!==this.flagStr.indexOf("r")||-1!==this.flagStr.indexOf("+")},L.prototype.isWriteable=function(){return-1!==this.flagStr.indexOf("w")||-1!==this.flagStr.indexOf("a")||-1!==this.flagStr.indexOf("+")},L.prototype.isTruncating=function(){return-1!==this.flagStr.indexOf("w")},L.prototype.isAppendable=function(){return-1!==this.flagStr.indexOf("a")},L.prototype.isSynchronous=function(){return-1!==this.flagStr.indexOf("s")},L.prototype.isExclusive=function(){return-1!==this.flagStr.indexOf("x")},L.prototype.pathExistsAction=function(){return this.isExclusive()?ee.THROW_EXCEPTION:this.isTruncating()?ee.TRUNCATE_FILE:ee.NOP},L.prototype.pathNotExistsAction=function(){return(this.isWriteable()||this.isAppendable())&&"r+"!==this.flagStr?ee.CREATE_FILE:ee.THROW_EXCEPTION},L.flagCache={},L.validFlagStrs=["r","r+","rs","rs+","w","wx","w+","wx+","a","ax","a+","ax+"];var Z=function(d){return d[d.FILE=32768]="FILE",d[d.DIRECTORY=16384]="DIRECTORY",d[d.SYMLINK=40960]="SYMLINK",d}(Z||{}),oe=function(a,u,l,f,p,_){void 0===f&&(f=new Date),void 0===p&&(p=new Date),void 0===_&&(_=new Date),this.size=u,this.atime=f,this.mtime=p,this.ctime=_,this.dev=0,this.ino=0,this.rdev=0,this.nlink=1,this.blksize=4096,this.uid=0,this.gid=0,this.birthtime=new Date(0),this.fileData=null,this.mode=l||(a===Z.FILE?420:511),this.blocks=Math.ceil(u/512),this.mode<4096&&(this.mode|=a)};oe.fromBuffer=function(a){var u=a.readUInt32LE(0),l=a.readUInt32LE(4),f=a.readDoubleLE(8),p=a.readDoubleLE(16),_=a.readDoubleLE(24);return new oe(61440&l,u,4095&l,new Date(f),new Date(p),new Date(_))},oe.prototype.toBuffer=function(){var a=Q.alloc(32);return a.writeUInt32LE(this.size,0),a.writeUInt32LE(this.mode,4),a.writeDoubleLE(this.atime.getTime(),8),a.writeDoubleLE(this.mtime.getTime(),16),a.writeDoubleLE(this.ctime.getTime(),24),a},oe.prototype.clone=function(){return new oe(61440&this.mode,this.size,4095&this.mode,this.atime,this.mtime,this.ctime)},oe.prototype.isFile=function(){return(61440&this.mode)===Z.FILE},oe.prototype.isDirectory=function(){return(61440&this.mode)===Z.DIRECTORY},oe.prototype.isSymbolicLink=function(){return(61440&this.mode)===Z.SYMLINK},oe.prototype.chmod=function(a){this.mode=61440&this.mode|a},oe.prototype.isSocket=function(){return!1},oe.prototype.isBlockDevice=function(){return!1},oe.prototype.isCharacterDevice=function(){return!1},oe.prototype.isFIFO=function(){return!1};var ge=function(d,a){return d};function fe(d){if(d)return d;throw new b(v.EIO,"Initialize BrowserFS with a file system using BrowserFS.initialize(filesystem)")}function le(d,a){switch(typeof d){case"number":return d;case"string":var u=parseInt(d,8);return isNaN(u)?a:u;default:return a}}function We(d){if(d instanceof Date)return d;if("number"==typeof d)return new Date(1e3*d);throw new b(v.EINVAL,"Invalid time.")}function Oe(d){if(d.indexOf("\0")>=0)throw new b(v.EINVAL,"Path must be a string without null bytes.");if(""===d)throw new b(v.EINVAL,"Path must not be empty.");return D.resolve(d)}function it(d,a,u,l){switch(typeof d){case"object":return{encoding:typeof d.encoding<"u"?d.encoding:a,flag:typeof d.flag<"u"?d.flag:u,mode:le(d.mode,l)};case"string":return{encoding:d,flag:u,mode:l};default:return{encoding:a,flag:u,mode:l}}}function tt(){}var _e=function(){this.F_OK=0,this.R_OK=4,this.W_OK=2,this.X_OK=1,this.root=null,this.fdMap={},this.nextFd=100};_e.prototype.initialize=function(a){if(!a.constructor.isAvailable())throw new b(v.EINVAL,"Tried to instantiate BrowserFS with an unavailable file system.");return this.root=a},_e.prototype._toUnixTimestamp=function(a){if("number"==typeof a)return a;if(a instanceof Date)return a.getTime()/1e3;throw new Error("Cannot parse time: "+a)},_e.prototype.getRootFS=function(){return this.root?this.root:null},_e.prototype.rename=function(a,u,l){void 0===l&&(l=tt);var f=ge(l,1);try{fe(this.root).rename(Oe(a),Oe(u),f)}catch(p){f(p)}},_e.prototype.renameSync=function(a,u){fe(this.root).renameSync(Oe(a),Oe(u))},_e.prototype.exists=function(a,u){void 0===u&&(u=tt);var l=ge(u,1);try{return fe(this.root).exists(Oe(a),l)}catch{return l(!1)}},_e.prototype.existsSync=function(a){try{return fe(this.root).existsSync(Oe(a))}catch{return!1}},_e.prototype.stat=function(a,u){void 0===u&&(u=tt);var l=ge(u,2);try{return fe(this.root).stat(Oe(a),!1,l)}catch(f){return l(f)}},_e.prototype.statSync=function(a){return fe(this.root).statSync(Oe(a),!1)},_e.prototype.lstat=function(a,u){void 0===u&&(u=tt);var l=ge(u,2);try{return fe(this.root).stat(Oe(a),!0,l)}catch(f){return l(f)}},_e.prototype.lstatSync=function(a){return fe(this.root).statSync(Oe(a),!0)},_e.prototype.truncate=function(a,u,l){void 0===u&&(u=0),void 0===l&&(l=tt);var f=0;"function"==typeof u?l=u:"number"==typeof u&&(f=u);var p=ge(l,1);try{if(f<0)throw new b(v.EINVAL);return fe(this.root).truncate(Oe(a),f,p)}catch(_){return p(_)}},_e.prototype.truncateSync=function(a,u){if(void 0===u&&(u=0),u<0)throw new b(v.EINVAL);return fe(this.root).truncateSync(Oe(a),u)},_e.prototype.unlink=function(a,u){void 0===u&&(u=tt);var l=ge(u,1);try{return fe(this.root).unlink(Oe(a),l)}catch(f){return l(f)}},_e.prototype.unlinkSync=function(a){return fe(this.root).unlinkSync(Oe(a))},_e.prototype.open=function(a,u,l,f){var p=this;void 0===f&&(f=tt);var _=le(l,420),S=ge(f="function"==typeof l?l:f,2);try{fe(this.root).open(Oe(a),L.getFileFlag(u),_,function(x,N){N?S(x,p.getFdForFile(N)):S(x)})}catch(x){S(x)}},_e.prototype.openSync=function(a,u,l){return void 0===l&&(l=420),this.getFdForFile(fe(this.root).openSync(Oe(a),L.getFileFlag(u),le(l,420)))},_e.prototype.readFile=function(a,u,l){void 0===u&&(u={}),void 0===l&&(l=tt);var f=it(u,null,"r",null),p=ge(l="function"==typeof u?u:l,2);try{var _=L.getFileFlag(f.flag);return _.isReadable()?fe(this.root).readFile(Oe(a),f.encoding,_,p):p(new b(v.EINVAL,"Flag passed to readFile must allow for reading."))}catch(S){return p(S)}},_e.prototype.readFileSync=function(a,u){void 0===u&&(u={});var l=it(u,null,"r",null),f=L.getFileFlag(l.flag);if(!f.isReadable())throw new b(v.EINVAL,"Flag passed to readFile must allow for reading.");return fe(this.root).readFileSync(Oe(a),l.encoding,f)},_e.prototype.writeFile=function(a,u,l,f){void 0===l&&(l={}),void 0===f&&(f=tt);var p=it(l,"utf8","w",420),_=ge(f="function"==typeof l?l:f,1);try{var S=L.getFileFlag(p.flag);return S.isWriteable()?fe(this.root).writeFile(Oe(a),u,p.encoding,S,p.mode,_):_(new b(v.EINVAL,"Flag passed to writeFile must allow for writing."))}catch(x){return _(x)}},_e.prototype.writeFileSync=function(a,u,l){var f=it(l,"utf8","w",420),p=L.getFileFlag(f.flag);if(!p.isWriteable())throw new b(v.EINVAL,"Flag passed to writeFile must allow for writing.");return fe(this.root).writeFileSync(Oe(a),u,f.encoding,p,f.mode)},_e.prototype.appendFile=function(a,u,l,f){void 0===f&&(f=tt);var p=it(l,"utf8","a",420),_=ge(f="function"==typeof l?l:f,1);try{var S=L.getFileFlag(p.flag);if(!S.isAppendable())return _(new b(v.EINVAL,"Flag passed to appendFile must allow for appending."));fe(this.root).appendFile(Oe(a),u,p.encoding,S,p.mode,_)}catch(x){_(x)}},_e.prototype.appendFileSync=function(a,u,l){var f=it(l,"utf8","a",420),p=L.getFileFlag(f.flag);if(!p.isAppendable())throw new b(v.EINVAL,"Flag passed to appendFile must allow for appending.");return fe(this.root).appendFileSync(Oe(a),u,f.encoding,p,f.mode)},_e.prototype.fstat=function(a,u){void 0===u&&(u=tt);var l=ge(u,2);try{this.fd2file(a).stat(l)}catch(p){l(p)}},_e.prototype.fstatSync=function(a){return this.fd2file(a).statSync()},_e.prototype.close=function(a,u){var l=this;void 0===u&&(u=tt);var f=ge(u,1);try{this.fd2file(a).close(function(p){p||l.closeFd(a),f(p)})}catch(p){f(p)}},_e.prototype.closeSync=function(a){this.fd2file(a).closeSync(),this.closeFd(a)},_e.prototype.ftruncate=function(a,u,l){void 0===l&&(l=tt);var f="number"==typeof u?u:0,p=ge(l="function"==typeof u?u:l,1);try{var _=this.fd2file(a);if(f<0)throw new b(v.EINVAL);_.truncate(f,p)}catch(S){p(S)}},_e.prototype.ftruncateSync=function(a,u){void 0===u&&(u=0);var l=this.fd2file(a);if(u<0)throw new b(v.EINVAL);l.truncateSync(u)},_e.prototype.fsync=function(a,u){void 0===u&&(u=tt);var l=ge(u,1);try{this.fd2file(a).sync(l)}catch(f){l(f)}},_e.prototype.fsyncSync=function(a){this.fd2file(a).syncSync()},_e.prototype.fdatasync=function(a,u){void 0===u&&(u=tt);var l=ge(u,1);try{this.fd2file(a).datasync(l)}catch(f){l(f)}},_e.prototype.fdatasyncSync=function(a){this.fd2file(a).datasyncSync()},_e.prototype.write=function(a,u,l,f,p,_){void 0===_&&(_=tt);var S,x,N,J=null;if("string"==typeof u){var ue="utf8";switch(typeof l){case"function":_=l;break;case"number":J=l,ue="string"==typeof f?f:"utf8",_="function"==typeof p?p:_;break;default:return(_="function"==typeof f?f:"function"==typeof p?p:_)(new b(v.EINVAL,"Invalid arguments."))}x=0,N=(S=Q.from(u,ue)).length}else S=u,x=l,N=f,J="number"==typeof p?p:null,_="function"==typeof p?p:_;var we=ge(_,3);try{var Ve=this.fd2file(a);null==J&&(J=Ve.getPos()),Ve.write(S,x,N,J,we)}catch(ze){we(ze)}},_e.prototype.writeSync=function(a,u,l,f,p){var _,x,N,S=0;"string"==typeof u?(N="number"==typeof l?l:null,S=0,x=(_=Q.from(u,"string"==typeof f?f:"utf8")).length):(_=u,S=l,x=f,N="number"==typeof p?p:null);var ue=this.fd2file(a);return null==N&&(N=ue.getPos()),ue.writeSync(_,S,x,N)},_e.prototype.read=function(a,u,l,f,p,_){var S,x,N,J,ue;if(void 0===_&&(_=tt),"number"==typeof u){S=l;var we=f;_="function"==typeof p?p:_,x=0,J=Q.alloc(N=u),ue=ge(function(ze,st,It){if(ze)return _(ze);_(ze,It.toString(we),st)},3)}else J=u,x=l,N=f,S=p,ue=ge(_,3);try{var Ve=this.fd2file(a);null==S&&(S=Ve.getPos()),Ve.read(J,x,N,S,ue)}catch(ze){ue(ze)}},_e.prototype.readSync=function(a,u,l,f,p){var S,x,N,J,_=!1,ue="utf8";"number"==typeof u?(J=l,ue=f,x=0,S=Q.alloc(N=u),_=!0):(S=u,x=l,N=f,J=p);var we=this.fd2file(a);null==J&&(J=we.getPos());var Ve=we.readSync(S,x,N,J);return _?[S.toString(ue),Ve]:Ve},_e.prototype.fchown=function(a,u,l,f){void 0===f&&(f=tt);var p=ge(f,1);try{this.fd2file(a).chown(u,l,p)}catch(_){p(_)}},_e.prototype.fchownSync=function(a,u,l){this.fd2file(a).chownSync(u,l)},_e.prototype.fchmod=function(a,u,l){var f=ge(l,1);try{var p="string"==typeof u?parseInt(u,8):u;this.fd2file(a).chmod(p,f)}catch(_){f(_)}},_e.prototype.fchmodSync=function(a,u){var l="string"==typeof u?parseInt(u,8):u;this.fd2file(a).chmodSync(l)},_e.prototype.futimes=function(a,u,l,f){void 0===f&&(f=tt);var p=ge(f,1);try{var _=this.fd2file(a);"number"==typeof u&&(u=new Date(1e3*u)),"number"==typeof l&&(l=new Date(1e3*l)),_.utimes(u,l,p)}catch(S){p(S)}},_e.prototype.futimesSync=function(a,u,l){this.fd2file(a).utimesSync(We(u),We(l))},_e.prototype.rmdir=function(a,u){void 0===u&&(u=tt);var l=ge(u,1);try{a=Oe(a),fe(this.root).rmdir(a,l)}catch(f){l(f)}},_e.prototype.rmdirSync=function(a){return a=Oe(a),fe(this.root).rmdirSync(a)},_e.prototype.mkdir=function(a,u,l){void 0===l&&(l=tt),"function"==typeof u&&(l=u,u=511);var f=ge(l,1);try{a=Oe(a),fe(this.root).mkdir(a,u,f)}catch(p){f(p)}},_e.prototype.mkdirSync=function(a,u){fe(this.root).mkdirSync(Oe(a),le(u,511))},_e.prototype.readdir=function(a,u){void 0===u&&(u=tt);var l=ge(u,2);try{a=Oe(a),fe(this.root).readdir(a,l)}catch(f){l(f)}},_e.prototype.readdirSync=function(a){return a=Oe(a),fe(this.root).readdirSync(a)},_e.prototype.link=function(a,u,l){void 0===l&&(l=tt);var f=ge(l,1);try{a=Oe(a),u=Oe(u),fe(this.root).link(a,u,f)}catch(p){f(p)}},_e.prototype.linkSync=function(a,u){return a=Oe(a),u=Oe(u),fe(this.root).linkSync(a,u)},_e.prototype.symlink=function(a,u,l,f){void 0===f&&(f=tt);var p="string"==typeof l?l:"file",_=ge(f="function"==typeof l?l:f,1);try{if("file"!==p&&"dir"!==p)return _(new b(v.EINVAL,"Invalid type: "+p));a=Oe(a),u=Oe(u),fe(this.root).symlink(a,u,p,_)}catch(S){_(S)}},_e.prototype.symlinkSync=function(a,u,l){if(l){if("file"!==l&&"dir"!==l)throw new b(v.EINVAL,"Invalid type: "+l)}else l="file";return a=Oe(a),u=Oe(u),fe(this.root).symlinkSync(a,u,l)},_e.prototype.readlink=function(a,u){void 0===u&&(u=tt);var l=ge(u,2);try{a=Oe(a),fe(this.root).readlink(a,l)}catch(f){l(f)}},_e.prototype.readlinkSync=function(a){return a=Oe(a),fe(this.root).readlinkSync(a)},_e.prototype.chown=function(a,u,l,f){void 0===f&&(f=tt);var p=ge(f,1);try{a=Oe(a),fe(this.root).chown(a,!1,u,l,p)}catch(_){p(_)}},_e.prototype.chownSync=function(a,u,l){a=Oe(a),fe(this.root).chownSync(a,!1,u,l)},_e.prototype.lchown=function(a,u,l,f){void 0===f&&(f=tt);var p=ge(f,1);try{a=Oe(a),fe(this.root).chown(a,!0,u,l,p)}catch(_){p(_)}},_e.prototype.lchownSync=function(a,u,l){a=Oe(a),fe(this.root).chownSync(a,!0,u,l)},_e.prototype.chmod=function(a,u,l){void 0===l&&(l=tt);var f=ge(l,1);try{var p=le(u,-1);if(p<0)throw new b(v.EINVAL,"Invalid mode.");fe(this.root).chmod(Oe(a),!1,p,f)}catch(_){f(_)}},_e.prototype.chmodSync=function(a,u){var l=le(u,-1);if(l<0)throw new b(v.EINVAL,"Invalid mode.");a=Oe(a),fe(this.root).chmodSync(a,!1,l)},_e.prototype.lchmod=function(a,u,l){void 0===l&&(l=tt);var f=ge(l,1);try{var p=le(u,-1);if(p<0)throw new b(v.EINVAL,"Invalid mode.");fe(this.root).chmod(Oe(a),!0,p,f)}catch(_){f(_)}},_e.prototype.lchmodSync=function(a,u){var l=le(u,-1);if(l<1)throw new b(v.EINVAL,"Invalid mode.");fe(this.root).chmodSync(Oe(a),!0,l)},_e.prototype.utimes=function(a,u,l,f){void 0===f&&(f=tt);var p=ge(f,1);try{fe(this.root).utimes(Oe(a),We(u),We(l),p)}catch(_){p(_)}},_e.prototype.utimesSync=function(a,u,l){fe(this.root).utimesSync(Oe(a),We(u),We(l))},_e.prototype.realpath=function(a,u,l){void 0===l&&(l=tt);var f="object"==typeof u?u:{},p=ge(l="function"==typeof u?u:tt,2);try{a=Oe(a),fe(this.root).realpath(a,f,p)}catch(_){p(_)}},_e.prototype.realpathSync=function(a,u){return void 0===u&&(u={}),a=Oe(a),fe(this.root).realpathSync(a,u)},_e.prototype.watchFile=function(a,u,l){throw void 0===l&&(l=tt),new b(v.ENOTSUP)},_e.prototype.unwatchFile=function(a,u){throw void 0===u&&(u=tt),new b(v.ENOTSUP)},_e.prototype.watch=function(a,u,l){throw void 0===l&&(l=tt),new b(v.ENOTSUP)},_e.prototype.access=function(a,u,l){throw void 0===l&&(l=tt),new b(v.ENOTSUP)},_e.prototype.accessSync=function(a,u){throw new b(v.ENOTSUP)},_e.prototype.createReadStream=function(a,u){throw new b(v.ENOTSUP)},_e.prototype.createWriteStream=function(a,u){throw new b(v.ENOTSUP)},_e.prototype.wrapCallbacks=function(a){ge=a},_e.prototype.getFdForFile=function(a){var u=this.nextFd++;return this.fdMap[u]=a,u},_e.prototype.fd2file=function(a){var u=this.fdMap[a];if(u)return u;throw new b(v.EBADF,"Invalid file descriptor.")},_e.prototype.closeFd=function(a){delete this.fdMap[a]},_e.Stats=oe;var Re=new _e,Ie={};function ke(d,a,u,l,f){return d<a||u<a?d>u?u+1:d+1:l===f?a:a+1}function Ye(d,a){if(d===a)return 0;if(d.length>a.length){var u=d;d=a,a=u}for(var l=d.length,f=a.length;l>0&&d.charCodeAt(l-1)===a.charCodeAt(f-1);)l--,f--;for(var p=0;p<l&&d.charCodeAt(p)===a.charCodeAt(p);)p++;if(f-=p,0==(l-=p)||1===f)return f;for(var _=new Array(l<<1),S=0;S<l;)_[l+S]=d.charCodeAt(p+S),_[S]=++S;var x,N,J,ue,we;for(x=0;x+3<f;)for(var Ve=a.charCodeAt(p+(N=x)),ze=a.charCodeAt(p+(J=x+1)),st=a.charCodeAt(p+(ue=x+2)),It=a.charCodeAt(p+(we=x+3)),jt=x+=4,Cn=0;Cn<l;){var bi=_[l+Cn],yr=_[Cn];N=ke(yr,N,J,Ve,bi),J=ke(N,J,ue,ze,bi),ue=ke(J,ue,we,st,bi),jt=ke(ue,we,jt,It,bi),_[Cn++]=jt,we=ue,ue=J,J=N,N=yr}for(var Or=0;x<f;){var _o=a.charCodeAt(p+(N=x));Or=++x;for(var $o=0;$o<l;$o++){var Nr=_[$o];_[$o]=Or=Nr<N||Or<N?Nr>Or?Or+1:Nr+1:_o===_[l+$o]?N:N+1,N=Nr}}return Or}function je(d,a,u){d&&console.warn("["+a+"] Direct file system constructor usage is deprecated for this file system, and will be removed in the next major version. Please use the '"+a+".Create("+JSON.stringify(u)+", callback)' method instead. See https://github.com/jvilk/BrowserFS/issues/176 for more details.")}Object.keys(_e.prototype).forEach(function(d){Ie[d]="function"==typeof Re[d]?function(){return Re[d].apply(Re,arguments)}:Re[d]}),Ie.changeFSModule=function(d){Re=d},Ie.getFSModule=function(){return Re},Ie.FS=_e;var Ge=typeof navigator<"u"&&!(!/(msie) ([\w.]+)/.exec(navigator.userAgent.toLowerCase())&&-1===navigator.userAgent.indexOf("Trident")),Ot=typeof window>"u";function me(){throw new Error("BFS has reached an impossible code path; please file a bug.")}function pe(d,a,u){u.existsSync(d)||(pe(D.dirname(d),a,u),u.mkdirSync(d,a))}function Ae(d){var a=Xe(d),u=a.byteOffset,l=a.byteLength;return 0===u&&l===a.buffer.byteLength?a.buffer:a.buffer.slice(u,u+l)}function Xe(d){return d instanceof Uint8Array?d:new Uint8Array(d)}function ht(d){return d instanceof Q?d:d instanceof Uint8Array?vt(d):Q.from(d)}function vt(d){return d instanceof Q?d:0===d.byteOffset&&d.byteLength===d.buffer.byteLength?nt(d.buffer):Q.from(d.buffer,d.byteOffset,d.byteLength)}function nt(d){return Q.from(d)}function yt(d,a,u){if(void 0===a&&(a=0),void 0===u&&(u=d.length),a<0||u<0||u>d.length||a>u)throw new TypeError("Invalid slice bounds on buffer of length "+d.length+": ["+a+", "+u+"]");if(0===d.length)return tn();var l=Xe(d),f=d[0],p=(f+1)%255;return d[0]=p,l[0]===p?(l[0]=f,vt(l.slice(a,u))):(d[0]=f,vt(l.subarray(a,u)))}var yn=null;function tn(){return yn||(yn=Q.alloc(0))}function Zn(d,a){Q.isBuffer(d)?a():a(new b(v.EINVAL,"option must be a Buffer."))}function K(d,a,u){var l=d.Options,f=d.Name,p=0,_=!1,S=!1;function x(we){_||(we&&(_=!0,u(we)),0==--p&&S&&u())}var N=function(we){if(l.hasOwnProperty(we)){var Ve=l[we],ze=a[we];if(null==ze){if(!Ve.optional){var st=Object.keys(a).filter(function(jt){return!(jt in l)}).map(function(jt){return{str:jt,distance:Ye(we,jt)}}).filter(function(jt){return jt.distance<5}).sort(function(jt,Cn){return jt.distance-Cn.distance});return _?{}:(_=!0,{v:u(new b(v.EINVAL,"["+f+"] Required option '"+we+"' not provided."+(st.length>0?" You provided unrecognized option '"+st[0].str+"'; perhaps you meant to type '"+we+"'.":"")+"\nOption description: "+Ve.description))})}}else{if(!(Array.isArray(Ve.type)?-1!==Ve.type.indexOf(typeof ze):typeof ze===Ve.type))return _?{}:(_=!0,{v:u(new b(v.EINVAL,"["+f+"] Value provided for option "+we+" is not the proper type. Expected "+(Array.isArray(Ve.type)?"one of {"+Ve.type.join(", ")+"}":Ve.type)+", but received "+typeof ze+"\nOption description: "+Ve.description))});Ve.validator&&(p++,Ve.validator(ze,x))}}};for(var J in l){var ue=N(J);if(ue)return ue.v}S=!0,0===p&&!_&&u()}var X=Object.freeze({deprecationMessage:je,isIE:Ge,isWebWorker:Ot,fail:me,mkdirpSync:pe,buffer2ArrayBuffer:Ae,buffer2Uint8array:Xe,arrayish2Buffer:ht,uint8Array2Buffer:vt,arrayBuffer2Buffer:nt,copyingSlice:yt,emptyBuffer:tn,bufferValidator:Zn,checkOptions:K}),Te=function(a){this.fs=a,this.nodefs=a.getNodeFS(),this.FS=a.getFS(),this.PATH=a.getPATH(),this.ERRNO_CODES=a.getERRNO_CODES()};Te.prototype.open=function(a){var u=this.fs.realPath(a.node),l=this.FS;try{l.isFile(a.node.mode)&&(a.nfd=this.nodefs.openSync(u,this.fs.flagsToPermissionString(a.flags)))}catch(f){throw f.code?new l.ErrnoError(this.ERRNO_CODES[f.code]):f}},Te.prototype.close=function(a){var u=this.FS;try{u.isFile(a.node.mode)&&a.nfd&&this.nodefs.closeSync(a.nfd)}catch(l){throw l.code?new u.ErrnoError(this.ERRNO_CODES[l.code]):l}},Te.prototype.read=function(a,u,l,f,p){try{return this.nodefs.readSync(a.nfd,vt(u),l,f,p)}catch(_){throw new this.FS.ErrnoError(this.ERRNO_CODES[_.code])}},Te.prototype.write=function(a,u,l,f,p){try{return this.nodefs.writeSync(a.nfd,vt(u),l,f,p)}catch(_){throw new this.FS.ErrnoError(this.ERRNO_CODES[_.code])}},Te.prototype.llseek=function(a,u,l){var f=u;if(1===l)f+=a.position;else if(2===l&&this.FS.isFile(a.node.mode))try{f+=this.nodefs.fstatSync(a.nfd).size}catch(_){throw new this.FS.ErrnoError(this.ERRNO_CODES[_.code])}if(f<0)throw new this.FS.ErrnoError(this.ERRNO_CODES.EINVAL);return a.position=f,f};var Be=function(a){this.fs=a,this.nodefs=a.getNodeFS(),this.FS=a.getFS(),this.PATH=a.getPATH(),this.ERRNO_CODES=a.getERRNO_CODES()};Be.prototype.getattr=function(a){var l,u=this.fs.realPath(a);try{l=this.nodefs.lstatSync(u)}catch(f){throw f.code?new this.FS.ErrnoError(this.ERRNO_CODES[f.code]):f}return{dev:l.dev,ino:l.ino,mode:l.mode,nlink:l.nlink,uid:l.uid,gid:l.gid,rdev:l.rdev,size:l.size,atime:l.atime,mtime:l.mtime,ctime:l.ctime,blksize:l.blksize,blocks:l.blocks}},Be.prototype.setattr=function(a,u){var l=this.fs.realPath(a);try{if(void 0!==u.mode&&(this.nodefs.chmodSync(l,u.mode),a.mode=u.mode),void 0!==u.timestamp){var f=new Date(u.timestamp);this.nodefs.utimesSync(l,f,f)}}catch(p){if(!p.code)throw p;if("ENOTSUP"!==p.code)throw new this.FS.ErrnoError(this.ERRNO_CODES[p.code])}if(void 0!==u.size)try{this.nodefs.truncateSync(l,u.size)}catch(p){throw p.code?new this.FS.ErrnoError(this.ERRNO_CODES[p.code]):p}},Be.prototype.lookup=function(a,u){var l=this.PATH.join2(this.fs.realPath(a),u),f=this.fs.getMode(l);return this.fs.createNode(a,u,f)},Be.prototype.mknod=function(a,u,l,f){var p=this.fs.createNode(a,u,l,f),_=this.fs.realPath(p);try{this.FS.isDir(p.mode)?this.nodefs.mkdirSync(_,p.mode):this.nodefs.writeFileSync(_,"",{mode:p.mode})}catch(S){throw S.code?new this.FS.ErrnoError(this.ERRNO_CODES[S.code]):S}return p},Be.prototype.rename=function(a,u,l){var f=this.fs.realPath(a),p=this.PATH.join2(this.fs.realPath(u),l);try{this.nodefs.renameSync(f,p),a.name=l,a.parent=u}catch(_){throw _.code?new this.FS.ErrnoError(this.ERRNO_CODES[_.code]):_}},Be.prototype.unlink=function(a,u){var l=this.PATH.join2(this.fs.realPath(a),u);try{this.nodefs.unlinkSync(l)}catch(f){throw f.code?new this.FS.ErrnoError(this.ERRNO_CODES[f.code]):f}},Be.prototype.rmdir=function(a,u){var l=this.PATH.join2(this.fs.realPath(a),u);try{this.nodefs.rmdirSync(l)}catch(f){throw f.code?new this.FS.ErrnoError(this.ERRNO_CODES[f.code]):f}},Be.prototype.readdir=function(a){var u=this.fs.realPath(a);try{var l=this.nodefs.readdirSync(u);return l.push(".",".."),l}catch(f){throw f.code?new this.FS.ErrnoError(this.ERRNO_CODES[f.code]):f}},Be.prototype.symlink=function(a,u,l){var f=this.PATH.join2(this.fs.realPath(a),u);try{this.nodefs.symlinkSync(l,f)}catch(p){throw p.code?new this.FS.ErrnoError(this.ERRNO_CODES[p.code]):p}},Be.prototype.readlink=function(a){var u=this.fs.realPath(a);try{return this.nodefs.readlinkSync(u)}catch(l){throw l.code?new this.FS.ErrnoError(this.ERRNO_CODES[l.code]):l}};var pt=function(a,u,l,f){void 0===a&&(a=self.FS),void 0===u&&(u=self.PATH),void 0===l&&(l=self.ERRNO_CODES),void 0===f&&(f=Ie),this.flagsToPermissionStringMap={0:"r",1:"r+",2:"r+",64:"r",65:"r+",66:"r+",129:"rx+",193:"rx+",514:"w+",577:"w",578:"w+",705:"wx",706:"wx+",1024:"a",1025:"a",1026:"a+",1089:"a",1090:"a+",1153:"ax",1154:"ax+",1217:"ax",1218:"ax+",4096:"rs",4098:"rs+"},this.nodefs=f,this.FS=a,this.PATH=u,this.ERRNO_CODES=l,this.node_ops=new Be(this),this.stream_ops=new Te(this)};pt.prototype.mount=function(a){return this.createNode(null,"/",this.getMode(a.opts.root),0)},pt.prototype.createNode=function(a,u,l,f){var p=this.FS;if(!p.isDir(l)&&!p.isFile(l)&&!p.isLink(l))throw new p.ErrnoError(this.ERRNO_CODES.EINVAL);var _=p.createNode(a,u,l);return _.node_ops=this.node_ops,_.stream_ops=this.stream_ops,_},pt.prototype.getMode=function(a){var u;try{u=this.nodefs.lstatSync(a)}catch(l){throw l.code?new this.FS.ErrnoError(this.ERRNO_CODES[l.code]):l}return u.mode},pt.prototype.realPath=function(a){for(var u=[];a.parent!==a;)u.push(a.name),a=a.parent;return u.push(a.mount.opts.root),u.reverse(),this.PATH.join.apply(null,u)},pt.prototype.flagsToPermissionString=function(a){var u="string"==typeof a?parseInt(a,10):a;return(u&=8191)in this.flagsToPermissionStringMap?this.flagsToPermissionStringMap[u]:a},pt.prototype.getNodeFS=function(){return this.nodefs},pt.prototype.getFS=function(){return this.FS},pt.prototype.getPATH=function(){return this.PATH},pt.prototype.getERRNO_CODES=function(){return this.ERRNO_CODES};var He=function(){};He.prototype.supportsLinks=function(){return!1},He.prototype.diskSpace=function(a,u){u(0,0)},He.prototype.openFile=function(a,u,l){throw new b(v.ENOTSUP)},He.prototype.createFile=function(a,u,l,f){throw new b(v.ENOTSUP)},He.prototype.open=function(a,u,l,f){var p=this;this.stat(a,!1,function(S,x){if(S)switch(u.pathNotExistsAction()){case ee.CREATE_FILE:return p.stat(D.dirname(a),!1,function(N,J){N?f(N):J&&!J.isDirectory()?f(b.ENOTDIR(D.dirname(a))):p.createFile(a,u,l,f)});case ee.THROW_EXCEPTION:return f(b.ENOENT(a));default:return f(new b(v.EINVAL,"Invalid FileFlag object."))}else{if(x&&x.isDirectory())return f(b.EISDIR(a));switch(u.pathExistsAction()){case ee.THROW_EXCEPTION:return f(b.EEXIST(a));case ee.TRUNCATE_FILE:return p.openFile(a,u,function(N,J){N?f(N):J?J.truncate(0,function(){J.sync(function(){f(null,J)})}):me()});case ee.NOP:return p.openFile(a,u,f);default:return f(new b(v.EINVAL,"Invalid FileFlag object."))}}})},He.prototype.rename=function(a,u,l){l(new b(v.ENOTSUP))},He.prototype.renameSync=function(a,u){throw new b(v.ENOTSUP)},He.prototype.stat=function(a,u,l){l(new b(v.ENOTSUP))},He.prototype.statSync=function(a,u){throw new b(v.ENOTSUP)},He.prototype.openFileSync=function(a,u,l){throw new b(v.ENOTSUP)},He.prototype.createFileSync=function(a,u,l){throw new b(v.ENOTSUP)},He.prototype.openSync=function(a,u,l){var f;try{f=this.statSync(a,!1)}catch{switch(u.pathNotExistsAction()){case ee.CREATE_FILE:if(!this.statSync(D.dirname(a),!1).isDirectory())throw b.ENOTDIR(D.dirname(a));return this.createFileSync(a,u,l);case ee.THROW_EXCEPTION:throw b.ENOENT(a);default:throw new b(v.EINVAL,"Invalid FileFlag object.")}}if(f.isDirectory())throw b.EISDIR(a);switch(u.pathExistsAction()){case ee.THROW_EXCEPTION:throw b.EEXIST(a);case ee.TRUNCATE_FILE:return this.unlinkSync(a),this.createFileSync(a,u,f.mode);case ee.NOP:return this.openFileSync(a,u,l);default:throw new b(v.EINVAL,"Invalid FileFlag object.")}},He.prototype.unlink=function(a,u){u(new b(v.ENOTSUP))},He.prototype.unlinkSync=function(a){throw new b(v.ENOTSUP)},He.prototype.rmdir=function(a,u){u(new b(v.ENOTSUP))},He.prototype.rmdirSync=function(a){throw new b(v.ENOTSUP)},He.prototype.mkdir=function(a,u,l){l(new b(v.ENOTSUP))},He.prototype.mkdirSync=function(a,u){throw new b(v.ENOTSUP)},He.prototype.readdir=function(a,u){u(new b(v.ENOTSUP))},He.prototype.readdirSync=function(a){throw new b(v.ENOTSUP)},He.prototype.exists=function(a,u){this.stat(a,null,function(l){u(!l)})},He.prototype.existsSync=function(a){try{return this.statSync(a,!0),!0}catch{return!1}},He.prototype.realpath=function(a,u,l){if(this.supportsLinks())for(var f=a.split(D.sep),p=0;p<f.length;p++){var _=f.slice(0,p+1);f[p]=D.join.apply(null,_)}else this.exists(a,function(S){S?l(null,a):l(b.ENOENT(a))})},He.prototype.realpathSync=function(a,u){if(this.supportsLinks()){for(var l=a.split(D.sep),f=0;f<l.length;f++){var p=l.slice(0,f+1);l[f]=D.join.apply(D,p)}return l.join(D.sep)}if(this.existsSync(a))return a;throw b.ENOENT(a)},He.prototype.truncate=function(a,u,l){this.open(a,L.getFileFlag("r+"),420,function(f,p){if(f)return l(f);p.truncate(u,function(_){p.close(function(S){l(_||S)})})})},He.prototype.truncateSync=function(a,u){var l=this.openSync(a,L.getFileFlag("r+"),420);try{l.truncateSync(u)}catch(f){throw f}finally{l.closeSync()}},He.prototype.readFile=function(a,u,l,f){var p=f;this.open(a,l,420,function(_,S){if(_)return f(_);f=function(x,N){S.close(function(J){return x||(x=J),p(x,N)})},S.stat(function(x,N){if(x)return f(x);var J=Q.alloc(N.size);S.read(J,0,N.size,0,function(ue){if(ue)return f(ue);if(null===u)return f(ue,J);try{f(null,J.toString(u))}catch(we){f(we)}})})})},He.prototype.readFileSync=function(a,u,l){var f=this.openSync(a,l,420);try{var p=f.statSync(),_=Q.alloc(p.size);return f.readSync(_,0,p.size,0),f.closeSync(),null===u?_:_.toString(u)}finally{f.closeSync()}},He.prototype.writeFile=function(a,u,l,f,p,_){var S=_;this.open(a,f,420,function(x,N){if(x)return _(x);_=function(J){N.close(function(ue){S(J||ue)})};try{"string"==typeof u&&(u=Q.from(u,l))}catch(J){return _(J)}N.write(u,0,u.length,0,_)})},He.prototype.writeFileSync=function(a,u,l,f,p){var _=this.openSync(a,f,p);try{"string"==typeof u&&(u=Q.from(u,l)),_.writeSync(u,0,u.length,0)}finally{_.closeSync()}},He.prototype.appendFile=function(a,u,l,f,p,_){var S=_;this.open(a,f,p,function(x,N){if(x)return _(x);_=function(J){N.close(function(ue){S(J||ue)})},"string"==typeof u&&(u=Q.from(u,l)),N.write(u,0,u.length,null,_)})},He.prototype.appendFileSync=function(a,u,l,f,p){var _=this.openSync(a,f,p);try{"string"==typeof u&&(u=Q.from(u,l)),_.writeSync(u,0,u.length,null)}finally{_.closeSync()}},He.prototype.chmod=function(a,u,l,f){f(new b(v.ENOTSUP))},He.prototype.chmodSync=function(a,u,l){throw new b(v.ENOTSUP)},He.prototype.chown=function(a,u,l,f,p){p(new b(v.ENOTSUP))},He.prototype.chownSync=function(a,u,l,f){throw new b(v.ENOTSUP)},He.prototype.utimes=function(a,u,l,f){f(new b(v.ENOTSUP))},He.prototype.utimesSync=function(a,u,l){throw new b(v.ENOTSUP)},He.prototype.link=function(a,u,l){l(new b(v.ENOTSUP))},He.prototype.linkSync=function(a,u){throw new b(v.ENOTSUP)},He.prototype.symlink=function(a,u,l,f){f(new b(v.ENOTSUP))},He.prototype.symlinkSync=function(a,u,l){throw new b(v.ENOTSUP)},He.prototype.readlink=function(a,u){u(new b(v.ENOTSUP))},He.prototype.readlinkSync=function(a){throw new b(v.ENOTSUP)};var Ze=function(d){function a(){d.apply(this,arguments)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype.supportsSynch=function(){return!0},a.prototype.rename=function(l,f,p){try{this.renameSync(l,f),p()}catch(_){p(_)}},a.prototype.stat=function(l,f,p){try{p(null,this.statSync(l,f))}catch(_){p(_)}},a.prototype.open=function(l,f,p,_){try{_(null,this.openSync(l,f,p))}catch(S){_(S)}},a.prototype.unlink=function(l,f){try{this.unlinkSync(l),f()}catch(p){f(p)}},a.prototype.rmdir=function(l,f){try{this.rmdirSync(l),f()}catch(p){f(p)}},a.prototype.mkdir=function(l,f,p){try{this.mkdirSync(l,f),p()}catch(_){p(_)}},a.prototype.readdir=function(l,f){try{f(null,this.readdirSync(l))}catch(p){f(p)}},a.prototype.chmod=function(l,f,p,_){try{this.chmodSync(l,f,p),_()}catch(S){_(S)}},a.prototype.chown=function(l,f,p,_,S){try{this.chownSync(l,f,p,_),S()}catch(x){S(x)}},a.prototype.utimes=function(l,f,p,_){try{this.utimesSync(l,f,p),_()}catch(S){_(S)}},a.prototype.link=function(l,f,p){try{this.linkSync(l,f),p()}catch(_){p(_)}},a.prototype.symlink=function(l,f,p,_){try{this.symlinkSync(l,f,p),_()}catch(S){_(S)}},a.prototype.readlink=function(l,f){try{f(null,this.readlinkSync(l))}catch(p){f(p)}},a}(He),ct=function(){};ct.prototype.sync=function(a){a(new b(v.ENOTSUP))},ct.prototype.syncSync=function(){throw new b(v.ENOTSUP)},ct.prototype.datasync=function(a){this.sync(a)},ct.prototype.datasyncSync=function(){return this.syncSync()},ct.prototype.chown=function(a,u,l){l(new b(v.ENOTSUP))},ct.prototype.chownSync=function(a,u){throw new b(v.ENOTSUP)},ct.prototype.chmod=function(a,u){u(new b(v.ENOTSUP))},ct.prototype.chmodSync=function(a){throw new b(v.ENOTSUP)},ct.prototype.utimes=function(a,u,l){l(new b(v.ENOTSUP))},ct.prototype.utimesSync=function(a,u){throw new b(v.ENOTSUP)};var vn=function(d){function a(u,l,f,p,_){if(d.call(this),this._pos=0,this._dirty=!1,this._fs=u,this._path=l,this._flag=f,this._stat=p,this._buffer=_||tn(),this._stat.size!==this._buffer.length&&this._flag.isReadable())throw new Error("Invalid buffer: Buffer is "+this._buffer.length+" long, yet Stats object specifies that file is "+this._stat.size+" long.")}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype.getBuffer=function(){return this._buffer},a.prototype.getStats=function(){return this._stat},a.prototype.getFlag=function(){return this._flag},a.prototype.getPath=function(){return this._path},a.prototype.getPos=function(){return this._flag.isAppendable()?this._stat.size:this._pos},a.prototype.advancePos=function(l){return this._pos+=l},a.prototype.setPos=function(l){return this._pos=l},a.prototype.sync=function(l){try{this.syncSync(),l()}catch(f){l(f)}},a.prototype.syncSync=function(){throw new b(v.ENOTSUP)},a.prototype.close=function(l){try{this.closeSync(),l()}catch(f){l(f)}},a.prototype.closeSync=function(){throw new b(v.ENOTSUP)},a.prototype.stat=function(l){try{l(null,this._stat.clone())}catch(f){l(f)}},a.prototype.statSync=function(){return this._stat.clone()},a.prototype.truncate=function(l,f){try{this.truncateSync(l),this._flag.isSynchronous()&&!Ie.getRootFS().supportsSynch()&&this.sync(f),f()}catch(p){return f(p)}},a.prototype.truncateSync=function(l){if(this._dirty=!0,!this._flag.isWriteable())throw new b(v.EPERM,"File not opened with a writeable mode.");if(this._stat.mtime=new Date,l>this._buffer.length){var f=Q.alloc(l-this._buffer.length,0);return this.writeSync(f,0,f.length,this._buffer.length),void(this._flag.isSynchronous()&&Ie.getRootFS().supportsSynch()&&this.syncSync())}this._stat.size=l;var p=Q.alloc(l);this._buffer.copy(p,0,0,l),this._buffer=p,this._flag.isSynchronous()&&Ie.getRootFS().supportsSynch()&&this.syncSync()},a.prototype.write=function(l,f,p,_,S){try{S(null,this.writeSync(l,f,p,_),l)}catch(x){S(x)}},a.prototype.writeSync=function(l,f,p,_){if(this._dirty=!0,null==_&&(_=this.getPos()),!this._flag.isWriteable())throw new b(v.EPERM,"File not opened with a writeable mode.");var S=_+p;if(S>this._stat.size&&(this._stat.size=S,S>this._buffer.length)){var x=Q.alloc(S);this._buffer.copy(x),this._buffer=x}var N=l.copy(this._buffer,_,f,f+p);return this._stat.mtime=new Date,this._flag.isSynchronous()?(this.syncSync(),N):(this.setPos(_+N),N)},a.prototype.read=function(l,f,p,_,S){try{S(null,this.readSync(l,f,p,_),l)}catch(x){S(x)}},a.prototype.readSync=function(l,f,p,_){if(!this._flag.isReadable())throw new b(v.EPERM,"File not opened with a readable mode.");null==_&&(_=this.getPos()),_+p>this._stat.size&&(p=this._stat.size-_);var x=this._buffer.copy(l,f,_,_+p);return this._stat.atime=new Date,this._pos=_+p,x},a.prototype.chmod=function(l,f){try{this.chmodSync(l),f()}catch(p){f(p)}},a.prototype.chmodSync=function(l){if(!this._fs.supportsProps())throw new b(v.ENOTSUP);this._dirty=!0,this._stat.chmod(l),this.syncSync()},a.prototype.isDirty=function(){return this._dirty},a.prototype.resetDirty=function(){this._dirty=!1},a}(ct),ii=function(d){function a(u,l,f,p,_){d.call(this,u,l,f,p,_)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype.sync=function(l){l()},a.prototype.syncSync=function(){},a.prototype.close=function(l){l()},a.prototype.closeSync=function(){},a}(vn),U=function(d){function a(u,l,f,p,_){d.call(this,u,l,f,p,_)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},a.prototype.closeSync=function(){this.syncSync()},a}(vn),w=function(d){function a(u,l,f){if(void 0===f&&(f=!0),d.call(this),this._queue=[],this._queueRunning=!1,this._isInitialized=!1,this._initializeCallbacks=[],this._sync=u,this._async=l,!u.supportsSynch())throw new Error("The first argument to AsyncMirror needs to be a synchronous file system.");je(f,a.Name,{sync:"sync file system instance",async:"async file system instance"})}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.Create=function(l,f){try{var p=new a(l.sync,l.async,!1);p.initialize(function(_){_?f(_):f(null,p)},!1)}catch(_){f(_)}},a.isAvailable=function(){return!0},a.prototype.getName=function(){return a.Name},a.prototype._syncSync=function(l){this._sync.writeFileSync(l.getPath(),l.getBuffer(),null,L.getFileFlag("w"),l.getStats().mode),this.enqueueOp({apiMethod:"writeFile",arguments:[l.getPath(),l.getBuffer(),null,l.getFlag(),l.getStats().mode]})},a.prototype.initialize=function(l,f){var p=this;void 0===f&&(f=!0),f&&console.warn("[AsyncMirror] AsyncMirror.initialize() is deprecated and will be removed in the next major version. Please use 'AsyncMirror.Create({ sync: (sync file system instance), async: (async file system instance)}, cb)' to create and initialize AsyncMirror instances.");var _=this._initializeCallbacks;if(this._isInitialized)l();else if(1===_.push(l)){var x=function(ue,we,Ve){"/"!==ue&&p._sync.mkdirSync(ue,we),p._async.readdir(ue,function(ze,st){var It=0;ze?Ve(ze):function jt(Cn){Cn?Ve(Cn):It<st.length?(J(D.join(ue,st[It]),jt),It++):Ve()}()})},J=function(ue,we){p._async.stat(ue,!1,function(Ve,ze){Ve?we(Ve):ze.isDirectory()?x(ue,ze.mode,we):function(ue,we,Ve){p._async.readFile(ue,null,L.getFileFlag("r"),function(ze,st){if(ze)Ve(ze);else try{p._sync.writeFileSync(ue,st,null,L.getFileFlag("w"),we)}catch(It){ze=It}finally{Ve(ze)}})}(ue,ze.mode,we)})};x("/",0,function(ue){p._isInitialized=!ue,p._initializeCallbacks=[],_.forEach(function(we){return we(ue)})})}},a.prototype.isReadOnly=function(){return!1},a.prototype.supportsSynch=function(){return!0},a.prototype.supportsLinks=function(){return!1},a.prototype.supportsProps=function(){return this._sync.supportsProps()&&this._async.supportsProps()},a.prototype.renameSync=function(l,f){this.checkInitialized(),this._sync.renameSync(l,f),this.enqueueOp({apiMethod:"rename",arguments:[l,f]})},a.prototype.statSync=function(l,f){return this.checkInitialized(),this._sync.statSync(l,f)},a.prototype.openSync=function(l,f,p){return this.checkInitialized(),this._sync.openSync(l,f,p).closeSync(),new U(this,l,f,this._sync.statSync(l,!1),this._sync.readFileSync(l,null,L.getFileFlag("r")))},a.prototype.unlinkSync=function(l){this.checkInitialized(),this._sync.unlinkSync(l),this.enqueueOp({apiMethod:"unlink",arguments:[l]})},a.prototype.rmdirSync=function(l){this.checkInitialized(),this._sync.rmdirSync(l),this.enqueueOp({apiMethod:"rmdir",arguments:[l]})},a.prototype.mkdirSync=function(l,f){this.checkInitialized(),this._sync.mkdirSync(l,f),this.enqueueOp({apiMethod:"mkdir",arguments:[l,f]})},a.prototype.readdirSync=function(l){return this.checkInitialized(),this._sync.readdirSync(l)},a.prototype.existsSync=function(l){return this.checkInitialized(),this._sync.existsSync(l)},a.prototype.chmodSync=function(l,f,p){this.checkInitialized(),this._sync.chmodSync(l,f,p),this.enqueueOp({apiMethod:"chmod",arguments:[l,f,p]})},a.prototype.chownSync=function(l,f,p,_){this.checkInitialized(),this._sync.chownSync(l,f,p,_),this.enqueueOp({apiMethod:"chown",arguments:[l,f,p,_]})},a.prototype.utimesSync=function(l,f,p){this.checkInitialized(),this._sync.utimesSync(l,f,p),this.enqueueOp({apiMethod:"utimes",arguments:[l,f,p]})},a.prototype.checkInitialized=function(){if(!this._isInitialized)throw new b(v.EPERM,"AsyncMirrorFS is not initialized. Please initialize AsyncMirrorFS using its initialize() method before using it.")},a.prototype.enqueueOp=function(l){var f=this;if(this._queue.push(l),!this._queueRunning){this._queueRunning=!0;var p=function(_){if(_&&console.error("WARNING: File system has desynchronized. Received following error: "+_+"\n$"),f._queue.length>0){var S=f._queue.shift(),x=S.arguments;x.push(p),f._async[S.apiMethod].apply(f._async,x)}else f._queueRunning=!1};p()}},a}(Ze);w.Name="AsyncMirror",w.Options={sync:{type:"object",description:"The synchronous file system to mirror the asynchronous file system to."},async:{type:"object",description:"The asynchronous file system to mirror."}};var E=Math.max;function W(d){return d}function ie(d,a){return function M(d,a,u){return a=E(void 0===a?d.length-1:a,0),function(){for(var l=arguments,f=-1,p=E(l.length-a,0),_=Array(p);++f<p;)_[f]=l[a+f];f=-1;for(var S=Array(a+1);++f<a;)S[f]=l[f];return S[a]=u(_),function m(d,a,u){switch(u.length){case 0:return d.call(a);case 1:return d.call(a,u[0]);case 2:return d.call(a,u[0],u[1]);case 3:return d.call(a,u[0],u[1],u[2])}return d.apply(a,u)}(d,this,S)}}(d,a,W)}var ve=function(d){return ie(function(a){var u=a.pop();d.call(this,a,u)})};function Je(d){return ie(function(a,u){var l=ve(function(f,p){var _=this;return d(a,function(S,x){S.apply(_,f.concat(x))},p)});return u.length?l.apply(this,u):l})}var gt="object"==typeof ce&&ce&&ce.Object===Object&&ce,Bt="object"==typeof self&&self&&self.Object===Object&&self,Pt=gt||Bt||Function("return this")(),zt=Pt.Symbol,Ei=Object.prototype,ro=Ei.hasOwnProperty,oo=Ei.toString,ls=zt?zt.toStringTag:void 0;var _a=Object.prototype.toString;var Ke="[object Null]",B="[object Undefined]",rt=zt?zt.toStringTag:void 0;function un(d){return null==d?void 0===d?B:Ke:rt&&rt in Object(d)?function ma(d){var a=ro.call(d,ls),u=d[ls];try{d[ls]=void 0;var l=!0}catch{}var f=oo.call(d);return l&&(a?d[ls]=u:delete d[ls]),f}(d):function Ee(d){return _a.call(d)}(d)}var Ki="[object AsyncFunction]",et="[object Function]",Qt="[object GeneratorFunction]",De="[object Proxy]";var ks=9007199254740991;function Mn(d){return"number"==typeof d&&d>-1&&d%1==0&&d<=ks}function Pe(d){return null!=d&&Mn(d.length)&&!function Me(d){if(!function qe(d){var a=typeof d;return null!=d&&("object"==a||"function"==a)}(d))return!1;var a=un(d);return a==et||a==Qt||a==Ki||a==De}(d)}var Bo={};function so(){}function Fn(d){return function(){if(null!==d){var a=d;d=null,a.apply(this,arguments)}}}var Ht="function"==typeof Symbol&&Symbol.iterator,wn=function(d){return Ht&&d[Ht]&&d[Ht]()};function Hn(d){return null!=d&&"object"==typeof d}function xr(d){return Hn(d)&&"[object Arguments]"==un(d)}var Rn=Object.prototype,Ri=Rn.hasOwnProperty,Xn=Rn.propertyIsEnumerable,Qi=xr(function(){return arguments}())?xr:function(d){return Hn(d)&&Ri.call(d,"callee")&&!Xn.call(d,"callee")},gr=Array.isArray;var Eg="object"==typeof ae&&ae&&!ae.nodeType&&ae,wt=Eg&&"object"==typeof R&&R&&!R.nodeType&&R,jd=wt&&wt.exports===Eg?Pt.Buffer:void 0,Sg=(jd?jd.isBuffer:void 0)||function dl(){return!1},bg=9007199254740991,Cg=/^(?:0|[1-9]\d*)$/;function zw(d,a){return!!(a=a??bg)&&("number"==typeof d||Cg.test(d))&&d>-1&&d%1==0&&d<a}var Pn={};Pn["[object Float32Array]"]=Pn["[object Float64Array]"]=Pn["[object Int8Array]"]=Pn["[object Int16Array]"]=Pn["[object Int32Array]"]=Pn["[object Uint8Array]"]=Pn["[object Uint8ClampedArray]"]=Pn["[object Uint16Array]"]=Pn["[object Uint32Array]"]=!0,Pn["[object Arguments]"]=Pn["[object Array]"]=Pn["[object ArrayBuffer]"]=Pn["[object Boolean]"]=Pn["[object DataView]"]=Pn["[object Date]"]=Pn["[object Error]"]=Pn["[object Function]"]=Pn["[object Map]"]=Pn["[object Number]"]=Pn["[object Object]"]=Pn["[object RegExp]"]=Pn["[object Set]"]=Pn["[object String]"]=Pn["[object WeakMap]"]=!1;var $d="object"==typeof ae&&ae&&!ae.nodeType&&ae,Wd=$d&&"object"==typeof R&&R&&!R.nodeType&&R,fl=Wd&&Wd.exports===$d&&gt.process,Wc=function(){try{return fl&&fl.binding&&fl.binding("util")}catch{}}(),Gc=Wc&&Wc.isTypedArray,Vg=Gc?function Qw(d){return function(a){return d(a)}}(Gc):function Lg(d){return Hn(d)&&Mn(d.length)&&!!Pn[un(d)]},zg=Object.prototype.hasOwnProperty;function jg(d,a){var u=gr(d),l=!u&&Qi(d),f=!u&&!l&&Sg(d),p=!u&&!l&&!f&&Vg(d),_=u||l||f||p,S=_?function Fi(d,a){for(var u=-1,l=Array(d);++u<d;)l[u]=a(u);return l}(d.length,String):[],x=S.length;for(var N in d)(a||zg.call(d,N))&&(!_||!("length"==N||f&&("offset"==N||"parent"==N)||p&&("buffer"==N||"byteLength"==N||"byteOffset"==N)||zw(N,x)))&&S.push(N);return S}var Hg=Object.prototype;var Jw=function $g(d,a){return function(u){return d(a(u))}}(Object.keys,Object),Vo=Object.prototype.hasOwnProperty;function Gd(d){if(!function Xw(d){var a=d&&d.constructor;return d===("function"==typeof a&&a.prototype||Hg)}(d))return Jw(d);var a=[];for(var u in Object(d))Vo.call(d,u)&&"constructor"!=u&&a.push(u);return a}function qd(d){var a=function ya(d){return Pe(d)?jg(d):Gd(d)}(d),u=-1,l=a.length;return function(){var p=a[++u];return u<l?{value:d[p],key:p}:null}}function Qd(d){return function(){if(null===d)throw new Error("Callback was already called.");var a=d;d=null,a.apply(this,arguments)}}function Xd(d){return function(a,u,l){if(l=Fn(l||so),d<=0||!a)return l(null);var f=function Kd(d){if(Pe(d))return function Yd(d){var a=-1,u=d.length;return function(){return++a<u?{value:d[a],key:a}:null}}(d);var a=wn(d);return a?function Zd(d){var a=-1;return function(){var l=d.next();return l.done?null:(a++,{value:l.value,key:a})}}(a):qd(d)}(a),p=!1,_=0;function S(N,J){if(_-=1,N)p=!0,l(N);else{if(J===Bo||p&&_<=0)return p=!0,l(null);x()}}function x(){for(;_<d&&!p;){var N=f();if(null===N)return p=!0,void(_<=0&&l(null));_+=1,u(N.value,N.key,Qd(S))}}x()}}function Jd(d,a,u,l){Xd(a)(d,u,l)}function Ns(d,a){return function(u,l,f){return d(u,a,l,f)}}function ef(d,a,u){u=Fn(u||so);var l=0,f=0,p=d.length;function _(S,x){S?u(S):(++f===p||x===Bo)&&u(null)}for(0===p&&u(null);l<p;l++)a(d[l],l,Qd(_))}var Yc=Ns(Jd,1/0),Gg=function(d,a,u){(Pe(d)?ef:Yc)(d,a,u)};function tf(d,a,u,l){l=l||so;var f=[],p=0;d(a=a||[],function(_,S,x){var N=p++;u(_,function(J,ue){f[N]=ue,x(J)})},function(_){l(_,f)})}Je(function hl(d){return function(a,u,l){return d(Gg,a,u,l)}}(tf)),Je(Ns(function eE(d){return function(a,u,l,f){return d(Xd(u),a,l,f)}}(tf),1)),ie(function(d,a){return ie(function(u){return d.apply(null,a.concat(u))})}),function Zg(d){return function(a,u,l){for(var f=-1,p=Object(a),_=l(a),S=_.length;S--;){var x=_[d?S:++f];if(!1===u(p[x],x,p))break}return a}}();var of="\\ud800-\\udfff",sf="["+of+"]",Kc="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",tm="[^"+of+"]",af="(?:\\ud83c[\\udde6-\\uddff]){2}",nm="[\\ud800-\\udbff][\\udc00-\\udfff]",om=([tm,af,nm].join("|"),[tm+Kc+"?",Kc,af,nm,sf].join("|"),"function"==typeof setImmediate&&setImmediate),Qc="object"==typeof V&&"function"==typeof V.nextTick;function pl(d){setTimeout(d,0)}function uf(d){return ie(function(a,u){d(function(){a.apply(null,u)})})}uf(om?setImmediate:Qc?V.nextTick:pl);var sm=Ns(Jd,1);var Xi,sE=ie(function(a){return ie(function(u){var l=this,f=u[u.length-1];"function"==typeof f?u.pop():f=so,function df(d,a,u,l){l=Fn(l||so),sm(d,function(f,p,_){u(a,f,function(S,x){a=x,_(S)})},function(f){l(f,a)})}(a,u,function(p,_,S){_.apply(l,p.concat(ie(function(x,N){S(x,N)})))},function(p,_){f.apply(l,[p].concat(_))})})});function am(d){return ie(function(a,u){a.apply(null,u.concat(ie(function(l,f){"object"==typeof console&&(l?console.error&&console.error(l):console[d]&&function rf(d,a){for(var u=-1,l=null==d?0:d.length;++u<l&&!1!==a(d[u],u,d););return d}(f,function(p){console[d](p)}))})))})}function lm(d,a,u){Gg(d,function aE(d){return function(a,u,l){return d(a,l)}}(a),u)}ie(function(d){return sE.apply(null,d.reverse())}),ie(function(d){var a=[null].concat(d);return ve(function(u,l){return l.apply(this,a)})}),am("dir"),am("log"),uf(Qc?V.nextTick:om?setImmediate:pl),Math,Math;var pi=function(a){this._cache={},this._client=a};pi.prototype.readdir=function(a,u){var l=this,f=this.getCachedDirInfo(a);this._wrap(function(p){null!==f&&f.contents?l._client.readdir(a,{contentHash:f.stat.contentHash},p):l._client.readdir(a,p)},function(p,_,S,x){p?p.status===Dropbox.ApiError.NO_CONTENT&&null!==f?u(null,f.contents.slice(0)):u(p):(l.updateCachedDirInfo(a,S,_.slice(0)),x.forEach(function(N){l.updateCachedInfo(D.join(a,N.name),N)}),u(null,_))})},pi.prototype.remove=function(a,u){var l=this;this._wrap(function(f){l._client.remove(a,f)},function(f,p){f||l.updateCachedInfo(a,p),u(f)})},pi.prototype.move=function(a,u,l){var f=this;this._wrap(function(p){f._client.move(a,u,p)},function(p,_){p||(f.deleteCachedInfo(a),f.updateCachedInfo(u,_)),l(p)})},pi.prototype.stat=function(a,u){var l=this;this._wrap(function(f){l._client.stat(a,f)},function(f,p){f||l.updateCachedInfo(a,p),u(f,p)})},pi.prototype.readFile=function(a,u){var l=this,f=this.getCachedFileInfo(a);null!==f&&null!==f.contents?this.stat(a,function(p,_){p?u(p):_.contentHash===f.stat.contentHash?u(p,f.contents.slice(0),f.stat):l.readFile(a,u)}):this._wrap(function(p){l._client.readFile(a,{arrayBuffer:!0},p)},function(p,_,S){p||l.updateCachedInfo(a,S,_.slice(0)),u(p,_,S)})},pi.prototype.writeFile=function(a,u,l){var f=this;this._wrap(function(p){f._client.writeFile(a,u,p)},function(p,_){p||f.updateCachedInfo(a,_,u.slice(0)),l(p,_)})},pi.prototype.mkdir=function(a,u){var l=this;this._wrap(function(f){l._client.mkdir(a,f)},function(f,p){f||l.updateCachedInfo(a,p,[]),u(f)})},pi.prototype._wrap=function(a,u){var l=0,f=function(p){if(p&&3>++l)switch(p.status){case Dropbox.ApiError.SERVER_ERROR:case Dropbox.ApiError.NETWORK_ERROR:case Dropbox.ApiError.RATE_LIMITED:setTimeout(function(){a(f)},2e3);break;default:u.apply(null,arguments)}else u.apply(null,arguments)};a(f)},pi.prototype.getCachedInfo=function(a){return this._cache[a.toLowerCase()]},pi.prototype.putCachedInfo=function(a,u){this._cache[a.toLowerCase()]=u},pi.prototype.deleteCachedInfo=function(a){delete this._cache[a.toLowerCase()]},pi.prototype.getCachedDirInfo=function(a){var u=this.getCachedInfo(a);return function Rs(d){return d&&d.stat.isFolder}(u)?u:null},pi.prototype.getCachedFileInfo=function(a){var u=this.getCachedInfo(a);return function Se(d){return d&&d.stat.isFile}(u)?u:null},pi.prototype.updateCachedDirInfo=function(a,u,l){void 0===l&&(l=null);var f=this.getCachedInfo(a);null!==u.contentHash&&(void 0===f||f.stat.contentHash!==u.contentHash)&&this.putCachedInfo(a,{stat:u,contents:l})},pi.prototype.updateCachedFileInfo=function(a,u,l){void 0===l&&(l=null);var f=this.getCachedInfo(a);null!==u.versionTag&&(void 0===f||f.stat.versionTag!==u.versionTag)&&this.putCachedInfo(a,{stat:u,contents:l})},pi.prototype.updateCachedInfo=function(a,u,l){void 0===l&&(l=null),u.isFile&&function ml(d){return null==d||"object"==typeof d&&"number"==typeof d.byteLength}(l)?this.updateCachedFileInfo(a,u,l):u.isFolder&&Array.isArray(l)&&this.updateCachedDirInfo(a,u,l)};var lE=function(d){function a(u,l,f,p,_){d.call(this,u,l,f,p,_)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype.sync=function(l){var f=this;if(this.isDirty()){var _=Ae(this.getBuffer());this._fs._writeFileStrict(this.getPath(),_,function(S){S||f.resetDirty(),l(S)})}else l()},a.prototype.close=function(l){this.sync(l)},a}(vn),Jc=function(d){function a(u,l){void 0===l&&(l=!0),d.call(this),this._client=new pi(u),je(l,a.Name,{client:"authenticated dropbox client instance"}),function ff(){Xi||((Xi={})[Dropbox.ApiError.NETWORK_ERROR]=v.EIO,Xi[Dropbox.ApiError.INVALID_PARAM]=v.EINVAL,Xi[Dropbox.ApiError.INVALID_TOKEN]=v.EPERM,Xi[Dropbox.ApiError.OAUTH_ERROR]=v.EPERM,Xi[Dropbox.ApiError.NOT_FOUND]=v.ENOENT,Xi[Dropbox.ApiError.INVALID_METHOD]=v.EINVAL,Xi[Dropbox.ApiError.NOT_ACCEPTABLE]=v.EINVAL,Xi[Dropbox.ApiError.CONFLICT]=v.EINVAL,Xi[Dropbox.ApiError.RATE_LIMITED]=v.EBUSY,Xi[Dropbox.ApiError.SERVER_ERROR]=v.EBUSY,Xi[Dropbox.ApiError.OVER_QUOTA]=v.ENOSPC)}()}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.Create=function(l,f){f(null,new a(l.client,!1))},a.isAvailable=function(){return typeof Dropbox<"u"},a.prototype.getName=function(){return a.Name},a.prototype.isReadOnly=function(){return!1},a.prototype.supportsSymlinks=function(){return!1},a.prototype.supportsProps=function(){return!1},a.prototype.supportsSynch=function(){return!1},a.prototype.empty=function(l){var f=this;this._client.readdir("/",function(p,_){p?l(f.convert(p,"/")):lm(_,function(N,J){var ue=D.join("/",N);f._client.remove(ue,function(we){J(we?f.convert(we,ue):null)})},function(N){N?l(N):l()})})},a.prototype.rename=function(l,f,p){var _=this;this._client.move(l,f,function(S){S?_._client.stat(f,function(x,N){if(x||N.isFolder){var J=S.response.error.indexOf(l)>-1?l:f;p(_.convert(S,J))}else _._client.remove(f,function(ue){ue?p(_.convert(ue,f)):_.rename(l,f,p)})}):p()})},a.prototype.stat=function(l,f,p){var _=this;this._client.stat(l,function(S,x){if(S)p(_.convert(S,l));else{if(!x||!x.isRemoved){var N=new oe(_._statType(x),x.size);return p(null,N)}p(b.FileError(v.ENOENT,l))}})},a.prototype.open=function(l,f,p,_){var S=this;this._client.readFile(l,function(x,N,J){if(!x){var we;we=null===N?tn():nt(N);var Ve=S._makeFile(l,f,J,we);return _(null,Ve)}if(!f.isReadable()){if(x.status===Dropbox.ApiError.NOT_FOUND){var ue=new ArrayBuffer(0);return S._writeFileStrict(l,ue,function(ze,st){if(ze)_(ze);else{var It=S._makeFile(l,f,st,nt(ue));_(null,It)}})}return _(S.convert(x,l))}_(S.convert(x,l))})},a.prototype._writeFileStrict=function(l,f,p){var _=this,S=D.dirname(l);this.stat(S,!1,function(x,N){x?p(b.FileError(v.ENOENT,S)):_._client.writeFile(l,f,function(J,ue){J?p(_.convert(J,l)):p(null,ue)})})},a.prototype._statType=function(l){return l.isFile?Z.FILE:Z.DIRECTORY},a.prototype._makeFile=function(l,f,p,_){var S=this._statType(p),x=new oe(S,p.size);return new lE(this,l,f,x,_)},a.prototype._remove=function(l,f,p){var _=this;this._client.stat(l,function(S,x){S?f(_.convert(S,l)):x.isFile&&!p?f(b.FileError(v.ENOTDIR,l)):!x.isFile&&p?f(b.FileError(v.EISDIR,l)):_._client.remove(l,function(N){f(N?_.convert(N,l):null)})})},a.prototype.unlink=function(l,f){this._remove(l,f,!0)},a.prototype.rmdir=function(l,f){this._remove(l,f,!1)},a.prototype.mkdir=function(l,f,p){var _=this,S=D.dirname(l);this._client.stat(S,function(x,N){x?p(_.convert(x,S)):_._client.mkdir(l,function(J){p(J?b.FileError(v.EEXIST,l):null)})})},a.prototype.readdir=function(l,f){var p=this;this._client.readdir(l,function(_,S){return _?f(p.convert(_)):f(null,S)})},a.prototype.convert=function(l,f){void 0===f&&(f=null);var p=Xi[l.status];return void 0===p&&(p=v.EIO),f?b.FileError(p,f):new b(p)},a}(He);function Ln(d,a){void 0===a&&(a="");for(var u=d.errno,l=d.node,f=[];l&&(f.unshift(l.name),l!==l.parent);)l=l.parent;return new b(u,k[u],f.length>0?"/"+f.join("/"):a)}Jc.Name="Dropbox",Jc.Options={client:{type:"object",description:"An *authenticated* Dropbox client. Must be from the 0.10 JS SDK.",validator:function(d,a){d.isAuthenticated&&d.isAuthenticated()?a():a(new b(v.EINVAL,"'client' option must be an authenticated Dropbox client from the v0.10 JS SDK."))}}};var ao=function(d){function a(u,l,f,p){d.call(this),this._fs=u,this._FS=l,this._path=f,this._stream=p}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype.getPos=function(){},a.prototype.close=function(l){var f=null;try{this.closeSync()}catch(p){f=p}finally{l(f)}},a.prototype.closeSync=function(){try{this._FS.close(this._stream)}catch(l){throw Ln(l,this._path)}},a.prototype.stat=function(l){try{l(null,this.statSync())}catch(f){l(f)}},a.prototype.statSync=function(){try{return this._fs.statSync(this._path,!1)}catch(l){throw Ln(l,this._path)}},a.prototype.truncate=function(l,f){var p=null;try{this.truncateSync(l)}catch(_){p=_}finally{f(p)}},a.prototype.truncateSync=function(l){try{this._FS.ftruncate(this._stream.fd,l)}catch(f){throw Ln(f,this._path)}},a.prototype.write=function(l,f,p,_,S){try{S(null,this.writeSync(l,f,p,_),l)}catch(x){S(x)}},a.prototype.writeSync=function(l,f,p,_){try{var S=Xe(l);return this._FS.write(this._stream,S,f,p,null===_?void 0:_)}catch(N){throw Ln(N,this._path)}},a.prototype.read=function(l,f,p,_,S){try{S(null,this.readSync(l,f,p,_),l)}catch(x){S(x)}},a.prototype.readSync=function(l,f,p,_){try{var S=Xe(l);return this._FS.read(this._stream,S,f,p,null===_?void 0:_)}catch(N){throw Ln(N,this._path)}},a.prototype.sync=function(l){l()},a.prototype.syncSync=function(){},a.prototype.chown=function(l,f,p){var _=null;try{this.chownSync(l,f)}catch(S){_=S}finally{p(_)}},a.prototype.chownSync=function(l,f){try{this._FS.fchown(this._stream.fd,l,f)}catch(p){throw Ln(p,this._path)}},a.prototype.chmod=function(l,f){var p=null;try{this.chmodSync(l)}catch(_){p=_}finally{f(p)}},a.prototype.chmodSync=function(l){try{this._FS.fchmod(this._stream.fd,l)}catch(f){throw Ln(f,this._path)}},a.prototype.utimes=function(l,f,p){var _=null;try{this.utimesSync(l,f)}catch(S){_=S}finally{p(_)}},a.prototype.utimesSync=function(l,f){this._fs.utimesSync(this._path,l,f)},a}(ct),lo=function(d){function a(u){d.call(this),this._FS=u}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.Create=function(l,f){f(null,new a(l.FS))},a.isAvailable=function(){return!0},a.prototype.getName=function(){return this._FS.DB_NAME()},a.prototype.isReadOnly=function(){return!1},a.prototype.supportsLinks=function(){return!0},a.prototype.supportsProps=function(){return!0},a.prototype.supportsSynch=function(){return!0},a.prototype.renameSync=function(l,f){try{this._FS.rename(l,f)}catch(p){throw p.errno===v.ENOENT?Ln(p,this.existsSync(l)?f:l):Ln(p)}},a.prototype.statSync=function(l,f){try{var p=f?this._FS.lstat(l):this._FS.stat(l),_=this.modeToFileType(p.mode);return new oe(_,p.size,p.mode,p.atime,p.mtime,p.ctime)}catch(S){throw Ln(S,l)}},a.prototype.openSync=function(l,f,p){try{var _=this._FS.open(l,f.getFlagString(),p);if(this._FS.isDir(_.node.mode))throw this._FS.close(_),b.EISDIR(l);return new ao(this,this._FS,l,_)}catch(S){throw Ln(S,l)}},a.prototype.unlinkSync=function(l){try{this._FS.unlink(l)}catch(f){throw Ln(f,l)}},a.prototype.rmdirSync=function(l){try{this._FS.rmdir(l)}catch(f){throw Ln(f,l)}},a.prototype.mkdirSync=function(l,f){try{this._FS.mkdir(l,f)}catch(p){throw Ln(p,l)}},a.prototype.readdirSync=function(l){try{return this._FS.readdir(l).filter(function(f){return"."!==f&&".."!==f})}catch(f){throw Ln(f,l)}},a.prototype.truncateSync=function(l,f){try{this._FS.truncate(l,f)}catch(p){throw Ln(p,l)}},a.prototype.readFileSync=function(l,f,p){try{var S=vt(this._FS.readFile(l,{flags:p.getFlagString()}));return f?S.toString(f):S}catch(x){throw Ln(x,l)}},a.prototype.writeFileSync=function(l,f,p,_,S){try{p&&(f=Q.from(f,p));var x=Xe(f);this._FS.writeFile(l,x,{flags:_.getFlagString(),encoding:"binary"}),this._FS.chmod(l,S)}catch(N){throw Ln(N,l)}},a.prototype.chmodSync=function(l,f,p){try{f?this._FS.lchmod(l,p):this._FS.chmod(l,p)}catch(_){throw Ln(_,l)}},a.prototype.chownSync=function(l,f,p,_){try{f?this._FS.lchown(l,p,_):this._FS.chown(l,p,_)}catch(S){throw Ln(S,l)}},a.prototype.symlinkSync=function(l,f,p){try{this._FS.symlink(l,f)}catch(_){throw Ln(_)}},a.prototype.readlinkSync=function(l){try{return this._FS.readlink(l)}catch(f){throw Ln(f,l)}},a.prototype.utimesSync=function(l,f,p){try{this._FS.utime(l,f.getTime(),p.getTime())}catch(_){throw Ln(_,l)}},a.prototype.modeToFileType=function(l){if(this._FS.isDir(l))return Z.DIRECTORY;if(this._FS.isFile(l))return Z.FILE;if(this._FS.isLink(l))return Z.SYMLINK;throw b.EPERM("Invalid mode: "+l)},a}(Ze);lo.Name="EmscriptenFileSystem",lo.Options={FS:{type:"object",description:"The Emscripten file system to use (the `FS` variable)"}};var Dr=function(d){function a(u,l){d.call(this),this._folder=u,this._wrapped=l}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.Create=function(l,f){f(null,new a(l.folder,l.wrapped))},a.isAvailable=function(){return!0},a.prototype.initialize=function(l){var f=this;this._wrapped.exists(this._folder,function(p){p?l():f._wrapped.isReadOnly()?l(b.ENOENT(f._folder)):f._wrapped.mkdir(f._folder,511,l)})},a.prototype.getName=function(){return this._wrapped.getName()},a.prototype.isReadOnly=function(){return this._wrapped.isReadOnly()},a.prototype.supportsProps=function(){return this._wrapped.supportsProps()},a.prototype.supportsSynch=function(){return this._wrapped.supportsSynch()},a.prototype.supportsLinks=function(){return!1},a}(He);function cs(d,a){if(null!==a&&"object"==typeof a){var u=a,l=u.path;l&&(l="/"+D.relative(d,l),u.message=u.message.replace(u.path,l),u.path=l)}return a}function _l(d,a,u){return"Sync"!==d.slice(d.length-4)?function(){return arguments.length>0&&(a&&(arguments[0]=D.join(this._folder,arguments[0])),u&&(arguments[1]=D.join(this._folder,arguments[1])),arguments[arguments.length-1]=function hf(d,a){return"function"==typeof a?function(u){arguments.length>0&&(arguments[0]=cs(d,u)),a.apply(null,arguments)}:a}(this._folder,arguments[arguments.length-1])),this._wrapped[d].apply(this._wrapped,arguments)}:function(){try{return a&&(arguments[0]=D.join(this._folder,arguments[0])),u&&(arguments[1]=D.join(this._folder,arguments[1])),this._wrapped[d].apply(this._wrapped,arguments)}catch(l){throw cs(this._folder,l)}}}Dr.Name="FolderAdapter",Dr.Options={folder:{type:"string",description:"The folder to use as the root directory"},wrapped:{type:"object",description:"The file system to wrap"}},["diskSpace","stat","statSync","open","openSync","unlink","unlinkSync","rmdir","rmdirSync","mkdir","mkdirSync","readdir","readdirSync","exists","existsSync","realpath","realpathSync","truncate","truncateSync","readFile","readFileSync","writeFile","writeFileSync","appendFile","appendFileSync","chmod","chmodSync","chown","chownSync","utimes","utimesSync","readlink","readlinkSync"].forEach(function(d){Dr.prototype[d]=_l(d,!0,!1)}),["rename","renameSync","link","linkSync","symlink","symlinkSync"].forEach(function(d){Dr.prototype[d]=_l(d,!0,!0)});var ei=typeof window<"u"?window:typeof self<"u"?self:ce;var pf=ei.webkitRequestFileSystem||ei.requestFileSystem||null;function $r(d,a,u){switch(d.name){case"PathExistsError":return b.EEXIST(a);case"QuotaExceededError":return b.FileError(v.ENOSPC,a);case"NotFoundError":return b.ENOENT(a);case"SecurityError":return b.FileError(v.EACCES,a);case"InvalidModificationError":return b.FileError(v.EPERM,a);case"TypeMismatchError":return b.FileError(u?v.ENOTDIR:v.EISDIR,a);default:return b.FileError(v.EINVAL,a)}}var ri=function(d){function a(u,l,f,p,_,S){d.call(this,u,f,p,_,S),this._entry=l}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype.sync=function(l){var f=this;if(!this.isDirty())return l();this._entry.createWriter(function(p){var _=f.getBuffer(),S=new Blob([Ae(_)]),x=S.size;p.onwriteend=function(N){p.onwriteend=null,p.onerror=null,p.truncate(x),f.resetDirty(),l()},p.onerror=function(N){l($r(N,f.getPath(),!1))},p.write(S)})},a.prototype.close=function(l){this.sync(l)},a}(vn),Ls=function(d){function a(u,l,f){void 0===u&&(u=5),void 0===l&&(l=ei.PERSISTENT),void 0===f&&(f=!0),d.call(this),this.size=1048576*u,this.type=l,je(f,a.Name,{size:u,type:l})}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.Create=function(l,f){var p=new a(l.size,l.type,!1);p.allocate(function(_){return _?f(_):f(null,p)},!1)},a.isAvailable=function(){return!!pf},a.prototype.getName=function(){return a.Name},a.prototype.isReadOnly=function(){return!1},a.prototype.supportsSymlinks=function(){return!1},a.prototype.supportsProps=function(){return!1},a.prototype.supportsSynch=function(){return!1},a.prototype.allocate=function(l,f){var p=this;void 0===l&&(l=function(){}),void 0===f&&(f=!0),f&&console.warn("[HTML5FS] HTML5FS.allocate() is deprecated and will be removed in the next major release. Please use 'HTML5FS.Create({type: "+this.type+", size: "+this.size+"}, cb)' to create and allocate HTML5FS instances.");var _=function(x){p.fs=x,l()},S=function(x){l($r(x,"/",!0))};this.type===ei.PERSISTENT?function cE(d,a,u,l){if(typeof navigator.webkitPersistentStorage<"u")switch(d){case ei.PERSISTENT:navigator.webkitPersistentStorage.requestQuota(a,u,l);break;case ei.TEMPORARY:navigator.webkitTemporaryStorage.requestQuota(a,u,l);break;default:l(new TypeError("Invalid storage type: "+d))}else ei.webkitStorageInfo.requestQuota(d,a,u,l)}(this.type,this.size,function(x){pf(p.type,x,_,S)},S):pf(this.type,this.size,_,S)},a.prototype.empty=function(l){this._readdir("/",function(f,p){f?(console.error("Failed to empty FS"),l(f)):lm(p,function(x,N){var J=function(){N()},ue=function(we){N($r(we,x.fullPath,!x.isDirectory))};!function An(d){return d.isDirectory}(x)?x.remove(J,ue):x.removeRecursively(J,ue)},function(x){f?(console.error("Failed to empty FS"),l(f)):l()})})},a.prototype.rename=function(l,f,p){var _=this,S=2,x=0,N=this.fs.root,J=l,ue=function(Ve){--S<=0&&p($r(Ve,J,!1))},we=function(Ve){return 2==++x?p(new b(v.EINVAL,"Something was identified as both a file and a directory. This should never happen.")):l===f?p():(J=D.dirname(f),void N.getDirectory(J,{},function(ze){J=D.basename(f),Ve.moveTo(ze,J,function(st){p()},function(st){Ve.isDirectory?(J=f,_.unlink(f,function(It){It?ue(st):_.rename(l,f,p)})):ue(st)})},ue))};N.getFile(l,{},we,ue),N.getDirectory(l,{},we,ue)},a.prototype.stat=function(l,f,p){var _=this,S={create:!1},N=function(we){var ze=new oe(Z.DIRECTORY,4096);p(null,ze)},J=function(we){p($r(we,l,!1))};this.fs.root.getFile(l,S,function(we){we.file(function(ze){var st=new oe(Z.FILE,ze.size);p(null,st)},J)},function(){_.fs.root.getDirectory(l,S,N,J)})},a.prototype.open=function(l,f,p,_){var S=this,x=function(N){"InvalidModificationError"===N.name&&f.isExclusive()?_(b.EEXIST(l)):_($r(N,l,!1))};this.fs.root.getFile(l,{create:f.pathNotExistsAction()===ee.CREATE_FILE,exclusive:f.isExclusive()},function(N){N.file(function(J){var ue=new FileReader;ue.onloadend=function(we){var Ve=S._makeFile(l,N,f,J,ue.result);_(null,Ve)},ue.onerror=function(we){x(ue.error)},ue.readAsArrayBuffer(J)},x)},x)},a.prototype.unlink=function(l,f){this._remove(l,f,!0)},a.prototype.rmdir=function(l,f){var p=this;this.readdir(l,function(_,S){_?f(_):S.length>0?f(b.ENOTEMPTY(l)):p._remove(l,f,!1)})},a.prototype.mkdir=function(l,f,p){this.fs.root.getDirectory(l,{create:!0,exclusive:!0},function(N){p()},function(N){p($r(N,l,!0))})},a.prototype.readdir=function(l,f){this._readdir(l,function(p,_){if(!_)return f(p);for(var S=[],x=0,N=_;x<N.length;x+=1)S.push(N[x].name);f(null,S)})},a.prototype._makeFile=function(l,f,p,_,S){void 0===S&&(S=new ArrayBuffer(0));var x=new oe(Z.FILE,_.size),N=nt(S);return new ri(this,f,l,p,x,N)},a.prototype._readdir=function(l,f){var p=function(_){f($r(_,l,!0))};this.fs.root.getDirectory(l,{create:!1},function(_){var S=_.createReader(),x=[],N=function(){S.readEntries(function(J){J.length?(x=x.concat(function dn(d){return Array.prototype.slice.call(d||[],0)}(J)),N()):f(null,x)},p)};N()},p)},a.prototype._remove=function(l,f,p){var _=function(N){N.remove(function(){f()},function(we){f($r(we,l,!p))})},S=function(N){f($r(N,l,!p))},x={create:!1};p?this.fs.root.getFile(l,x,_,S):this.fs.root.getDirectory(l,x,_,S)},a}(He);Ls.Name="HTML5FS",Ls.Options={size:{type:"number",optional:!0,description:"Storage quota to request, in megabytes. Allocated value may be less. Defaults to 5."},type:{type:"number",optional:!0,description:"window.PERSISTENT or window.TEMPORARY. Defaults to PERSISTENT."}};var Ji=function(a,u,l,f,p,_){this.id=a,this.size=u,this.mode=l,this.atime=f,this.mtime=p,this.ctime=_};Ji.fromBuffer=function(a){if(void 0===a)throw new Error("NO");return new Ji(a.toString("ascii",30),a.readUInt32LE(0),a.readUInt16LE(4),a.readDoubleLE(6),a.readDoubleLE(14),a.readDoubleLE(22))},Ji.prototype.toStats=function(){return new oe((61440&this.mode)===Z.DIRECTORY?Z.DIRECTORY:Z.FILE,this.size,this.mode,new Date(this.atime),new Date(this.mtime),new Date(this.ctime))},Ji.prototype.getSize=function(){return 30+this.id.length},Ji.prototype.toBuffer=function(a){return void 0===a&&(a=Q.alloc(this.getSize())),a.writeUInt32LE(this.size,0),a.writeUInt16LE(this.mode,4),a.writeDoubleLE(this.atime,6),a.writeDoubleLE(this.mtime,14),a.writeDoubleLE(this.ctime,22),a.write(this.id,30,this.id.length,"ascii"),a},Ji.prototype.update=function(a){var u=!1;this.size!==a.size&&(this.size=a.size,u=!0),this.mode!==a.mode&&(this.mode=a.mode,u=!0);var l=a.atime.getTime();this.atime!==l&&(this.atime=l,u=!0);var f=a.mtime.getTime();this.mtime!==f&&(this.mtime=f,u=!0);var p=a.ctime.getTime();return this.ctime!==p&&(this.ctime=p,u=!0),u},Ji.prototype.isFile=function(){return(61440&this.mode)===Z.FILE},Ji.prototype.isDirectory=function(){return(61440&this.mode)===Z.DIRECTORY};var Uo="/",fn=null;function Mt(){return fn||(fn=Q.from("{}"))}function us(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(d){var a=16*Math.random()|0;return("x"===d?a:3&a|8).toString(16)})}function kn(d,a){return!d||(a(d),!1)}function oi(d,a,u){return!d||(a.abort(function(){u(d)}),!1)}var uo=function(a){this.store=a,this.originalData={},this.modifiedKeys=[]};uo.prototype.get=function(a){var u=this.store.get(a);return this.stashOldValue(a,u),u},uo.prototype.put=function(a,u,l){return this.markModified(a),this.store.put(a,u,l)},uo.prototype.del=function(a){this.markModified(a),this.store.del(a)},uo.prototype.commit=function(){},uo.prototype.abort=function(){for(var a=this,u=0,l=a.modifiedKeys;u<l.length;u+=1){var f=l[u],p=a.originalData[f];p?a.store.put(f,p,!0):a.store.del(f)}},uo.prototype.stashOldValue=function(a,u){this.originalData.hasOwnProperty(a)||(this.originalData[a]=u)},uo.prototype.markModified=function(a){-1===this.modifiedKeys.indexOf(a)&&(this.modifiedKeys.push(a),this.originalData.hasOwnProperty(a)||(this.originalData[a]=this.store.get(a)))};var cm=function(d){function a(u,l,f,p,_){d.call(this,u,l,f,p,_)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this.getPath(),this.getBuffer(),this.getStats()),this.resetDirty())},a.prototype.closeSync=function(){this.syncSync()},a}(vn),fo=function(d){function a(u){d.call(this),this.store=u.store,this.makeRootDirectory()}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.isAvailable=function(){return!0},a.prototype.getName=function(){return this.store.name()},a.prototype.isReadOnly=function(){return!1},a.prototype.supportsSymlinks=function(){return!1},a.prototype.supportsProps=function(){return!1},a.prototype.supportsSynch=function(){return!0},a.prototype.empty=function(){this.store.clear(),this.makeRootDirectory()},a.prototype.renameSync=function(l,f){var p=this.store.beginTransaction("readwrite"),_=D.dirname(l),S=D.basename(l),x=D.dirname(f),N=D.basename(f),J=this.findINode(p,_),ue=this.getDirListing(p,_,J);if(!ue[S])throw b.ENOENT(l);var Ve,ze,we=ue[S];if(delete ue[S],0===(x+"/").indexOf(l+"/"))throw new b(v.EBUSY,_);if(x===_?(Ve=J,ze=ue):(Ve=this.findINode(p,x),ze=this.getDirListing(p,x,Ve)),ze[N]){var st=this.getINode(p,f,ze[N]);if(!st.isFile())throw b.EPERM(f);try{p.del(st.id),p.del(ze[N])}catch(It){throw p.abort(),It}}ze[N]=we;try{p.put(J.id,Q.from(JSON.stringify(ue)),!0),p.put(Ve.id,Q.from(JSON.stringify(ze)),!0)}catch(It){throw p.abort(),It}p.commit()},a.prototype.statSync=function(l,f){return this.findINode(this.store.beginTransaction("readonly"),l).toStats()},a.prototype.createFileSync=function(l,f,p){var _=this.store.beginTransaction("readwrite"),S=tn(),x=this.commitNewFile(_,l,Z.FILE,p,S);return new cm(this,l,f,x.toStats(),S)},a.prototype.openFileSync=function(l,f){var p=this.store.beginTransaction("readonly"),_=this.findINode(p,l),S=p.get(_.id);if(void 0===S)throw b.ENOENT(l);return new cm(this,l,f,_.toStats(),S)},a.prototype.unlinkSync=function(l){this.removeEntry(l,!1)},a.prototype.rmdirSync=function(l){if(this.readdirSync(l).length>0)throw b.ENOTEMPTY(l);this.removeEntry(l,!0)},a.prototype.mkdirSync=function(l,f){var p=this.store.beginTransaction("readwrite"),_=Q.from("{}");this.commitNewFile(p,l,Z.DIRECTORY,f,_)},a.prototype.readdirSync=function(l){var f=this.store.beginTransaction("readonly");return Object.keys(this.getDirListing(f,l,this.findINode(f,l)))},a.prototype._syncSync=function(l,f,p){var _=this.store.beginTransaction("readwrite"),S=this._findINode(_,D.dirname(l),D.basename(l)),x=this.getINode(_,l,S),N=x.update(p);try{_.put(x.id,f,!0),N&&_.put(S,x.toBuffer(),!0)}catch(J){throw _.abort(),J}_.commit()},a.prototype.makeRootDirectory=function(){var l=this.store.beginTransaction("readwrite");if(void 0===l.get(Uo)){var f=(new Date).getTime(),p=new Ji(us(),4096,511|Z.DIRECTORY,f,f,f);l.put(p.id,Mt(),!1),l.put(Uo,p.toBuffer(),!1),l.commit()}},a.prototype._findINode=function(l,f,p){var _=this,S=function(x){var N=_.getDirListing(l,f,x);if(N[p])return N[p];throw b.ENOENT(D.resolve(f,p))};return"/"===f?""===p?Uo:S(this.getINode(l,f,Uo)):S(this.getINode(l,f+D.sep+p,this._findINode(l,D.dirname(f),D.basename(f))))},a.prototype.findINode=function(l,f){return this.getINode(l,f,this._findINode(l,D.dirname(f),D.basename(f)))},a.prototype.getINode=function(l,f,p){var _=l.get(p);if(void 0===_)throw b.ENOENT(f);return Ji.fromBuffer(_)},a.prototype.getDirListing=function(l,f,p){if(!p.isDirectory())throw b.ENOTDIR(f);var _=l.get(p.id);if(void 0===_)throw b.ENOENT(f);return JSON.parse(_.toString())},a.prototype.addNewNode=function(l,f){for(var _;;)try{return _=us(),l.put(_,f,!1),_}catch{}throw new b(v.EIO,"Unable to commit data to key-value store.")},a.prototype.commitNewFile=function(l,f,p,_,S){var Ve,x=D.dirname(f),N=D.basename(f),J=this.findINode(l,x),ue=this.getDirListing(l,x,J),we=(new Date).getTime();if("/"===f||ue[N])throw b.EEXIST(f);try{var ze=this.addNewNode(l,S);Ve=new Ji(ze,S.length,_|p,we,we,we);var st=this.addNewNode(l,Ve.toBuffer());ue[N]=st,l.put(J.id,Q.from(JSON.stringify(ue)),!0)}catch(It){throw l.abort(),It}return l.commit(),Ve},a.prototype.removeEntry=function(l,f){var p=this.store.beginTransaction("readwrite"),_=D.dirname(l),S=this.findINode(p,_),x=this.getDirListing(p,_,S),N=D.basename(l);if(!x[N])throw b.ENOENT(l);var J=x[N];delete x[N];var ue=this.getINode(p,l,J);if(!f&&ue.isDirectory())throw b.EISDIR(l);if(f&&!ue.isDirectory())throw b.ENOTDIR(l);try{p.del(ue.id),p.del(J),p.put(S.id,Q.from(JSON.stringify(x)),!0)}catch(we){throw p.abort(),we}p.commit()},a}(Ze),um=function(d){function a(u,l,f,p,_){d.call(this,u,l,f,p,_)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype.sync=function(l){var f=this;this.isDirty()?this._fs._sync(this.getPath(),this.getBuffer(),this.getStats(),function(p){p||f.resetDirty(),l(p)}):l()},a.prototype.close=function(l){this.sync(l)},a}(vn),uE=function(d){function a(){d.apply(this,arguments)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.isAvailable=function(){return!0},a.prototype.init=function(l,f){this.store=l,this.makeRootDirectory(f)},a.prototype.getName=function(){return this.store.name()},a.prototype.isReadOnly=function(){return!1},a.prototype.supportsSymlinks=function(){return!1},a.prototype.supportsProps=function(){return!1},a.prototype.supportsSynch=function(){return!1},a.prototype.empty=function(l){var f=this;this.store.clear(function(p){kn(p,l)&&f.makeRootDirectory(l)})},a.prototype.rename=function(l,f,p){var _=this,S=this.store.beginTransaction("readwrite"),x=D.dirname(l),N=D.basename(l),J=D.dirname(f),ue=D.basename(f),we={},Ve={},ze=!1;if(0===(J+"/").indexOf(l+"/"))return p(new b(v.EBUSY,x));var It=function(jt){_.findINodeAndDirListing(S,jt,function(Cn,bi,yr){Cn?ze||(ze=!0,S.abort(function(){p(Cn)})):(we[jt]=bi,Ve[jt]=yr,function(){if(!ze&&Ve.hasOwnProperty(x)&&Ve.hasOwnProperty(J)){var jt=Ve[x],Cn=we[x],bi=Ve[J],yr=we[J];if(jt[N]){var Or=jt[N];delete jt[N];var _o=function(){bi[ue]=Or,S.put(Cn.id,Q.from(JSON.stringify(jt)),!0,function($o){oi($o,S,p)&&(x===J?S.commit(p):S.put(yr.id,Q.from(JSON.stringify(bi)),!0,function(Nr){oi(Nr,S,p)&&S.commit(p)}))})};bi[ue]?_.getINode(S,f,bi[ue],function($o,Nr){oi($o,S,p)&&(Nr.isFile()?S.del(Nr.id,function(Pf){oi(Pf,S,p)&&S.del(bi[ue],function(du){oi(du,S,p)&&_o()})}):S.abort(function(Pf){p(b.EPERM(f))}))}):_o()}else p(b.ENOENT(l))}}())})};It(x),x!==J&&It(J)},a.prototype.stat=function(l,f,p){var _=this.store.beginTransaction("readonly");this.findINode(_,l,function(S,x){kn(S,p)&&p(null,x.toStats())})},a.prototype.createFile=function(l,f,p,_){var S=this,x=this.store.beginTransaction("readwrite"),N=tn();this.commitNewFile(x,l,Z.FILE,p,N,function(J,ue){kn(J,_)&&_(null,new um(S,l,f,ue.toStats(),N))})},a.prototype.openFile=function(l,f,p){var _=this,S=this.store.beginTransaction("readonly");this.findINode(S,l,function(x,N){kn(x,p)&&S.get(N.id,function(J,ue){kn(J,p)&&(void 0===ue?p(b.ENOENT(l)):p(null,new um(_,l,f,N.toStats(),ue)))})})},a.prototype.unlink=function(l,f){this.removeEntry(l,!1,f)},a.prototype.rmdir=function(l,f){var p=this;this.readdir(l,function(_,S){_?f(_):S.length>0?f(b.ENOTEMPTY(l)):p.removeEntry(l,!0,f)})},a.prototype.mkdir=function(l,f,p){var _=this.store.beginTransaction("readwrite"),S=Q.from("{}");this.commitNewFile(_,l,Z.DIRECTORY,f,S,p)},a.prototype.readdir=function(l,f){var p=this,_=this.store.beginTransaction("readonly");this.findINode(_,l,function(S,x){kn(S,f)&&p.getDirListing(_,l,x,function(N,J){kn(N,f)&&f(null,Object.keys(J))})})},a.prototype._sync=function(l,f,p,_){var S=this,x=this.store.beginTransaction("readwrite");this._findINode(x,D.dirname(l),D.basename(l),function(N,J){oi(N,x,_)&&S.getINode(x,l,J,function(ue,we){if(oi(ue,x,_)){var Ve=we.update(p);x.put(we.id,f,!0,function(ze){oi(ze,x,_)&&(Ve?x.put(J,we.toBuffer(),!0,function(st){oi(st,x,_)&&x.commit(_)}):x.commit(_))})}})})},a.prototype.makeRootDirectory=function(l){var f=this.store.beginTransaction("readwrite");f.get(Uo,function(p,_){if(p||void 0===_){var S=(new Date).getTime(),x=new Ji(us(),4096,511|Z.DIRECTORY,S,S,S);f.put(x.id,Mt(),!1,function(N){oi(N,f,l)&&f.put(Uo,x.toBuffer(),!1,function(J){J?f.abort(function(){l(J)}):f.commit(l)})})}else f.commit(l)})},a.prototype._findINode=function(l,f,p,_){var S=this,x=function(N,J,ue){N?_(N):ue[p]?_(null,ue[p]):_(b.ENOENT(D.resolve(f,p)))};"/"===f?""===p?_(null,Uo):this.getINode(l,f,Uo,function(N,J){kn(N,_)&&S.getDirListing(l,f,J,function(ue,we){x(ue,0,we)})}):this.findINodeAndDirListing(l,f,x)},a.prototype.findINode=function(l,f,p){var _=this;this._findINode(l,D.dirname(f),D.basename(f),function(S,x){kn(S,p)&&_.getINode(l,f,x,p)})},a.prototype.getINode=function(l,f,p,_){l.get(p,function(S,x){kn(S,_)&&(void 0===x?_(b.ENOENT(f)):_(null,Ji.fromBuffer(x)))})},a.prototype.getDirListing=function(l,f,p,_){p.isDirectory()?l.get(p.id,function(S,x){if(kn(S,_))try{_(null,JSON.parse(x.toString()))}catch{_(b.ENOENT(f))}}):_(b.ENOTDIR(f))},a.prototype.findINodeAndDirListing=function(l,f,p){var _=this;this.findINode(l,f,function(S,x){kn(S,p)&&_.getDirListing(l,f,x,function(N,J){kn(N,p)&&p(null,x,J)})})},a.prototype.addNewNode=function(l,f,p){var S,_=0,x=function(){5==++_?p(new b(v.EIO,"Unable to commit data to key-value store.")):(S=us(),l.put(S,f,!1,function(N,J){N||!J?x():p(null,S)}))};x()},a.prototype.commitNewFile=function(l,f,p,_,S,x){var N=this,J=D.dirname(f),ue=D.basename(f),we=(new Date).getTime();if("/"===f)return x(b.EEXIST(f));this.findINodeAndDirListing(l,J,function(Ve,ze,st){oi(Ve,l,x)&&(st[ue]?l.abort(function(){x(b.EEXIST(f))}):N.addNewNode(l,S,function(It,jt){if(oi(It,l,x)){var Cn=new Ji(jt,S.length,_|p,we,we,we);N.addNewNode(l,Cn.toBuffer(),function(bi,yr){oi(bi,l,x)&&(st[ue]=yr,l.put(ze.id,Q.from(JSON.stringify(st)),!0,function(Or){oi(Or,l,x)&&l.commit(function(_o){oi(_o,l,x)&&x(null,Cn)})}))})}}))})},a.prototype.removeEntry=function(l,f,p){var _=this,S=this.store.beginTransaction("readwrite"),x=D.dirname(l),N=D.basename(l);this.findINodeAndDirListing(S,x,function(J,ue,we){if(oi(J,S,p))if(we[N]){var Ve=we[N];delete we[N],_.getINode(S,l,Ve,function(ze,st){oi(ze,S,p)&&(!f&&st.isDirectory()?S.abort(function(){p(b.EISDIR(l))}):f&&!st.isDirectory()?S.abort(function(){p(b.ENOTDIR(l))}):S.del(st.id,function(It){oi(It,S,p)&&S.del(Ve,function(jt){oi(jt,S,p)&&S.put(ue.id,Q.from(JSON.stringify(we)),!0,function(Cn){oi(Cn,S,p)&&S.commit(p)})})}))})}else S.abort(function(){p(b.ENOENT(l))})})},a}(He),Bs=function(){this.store={}};Bs.prototype.name=function(){return va.Name},Bs.prototype.clear=function(){this.store={}},Bs.prototype.beginTransaction=function(a){return new uo(this)},Bs.prototype.get=function(a){return this.store[a]},Bs.prototype.put=function(a,u,l){return!(!l&&this.store.hasOwnProperty(a)||(this.store[a]=u,0))},Bs.prototype.del=function(a){delete this.store[a]};var va=function(d){function a(){d.call(this,{store:new Bs})}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.Create=function(l,f){f(null,new a)},a}(fo);va.Name="InMemory",va.Options={};var eu=ei.indexedDB||ei.mozIndexedDB||ei.webkitIndexedDB||ei.msIndexedDB;function yl(d,a){switch(void 0===a&&(a=d.toString()),d.name){case"NotFoundError":return new b(v.ENOENT,a);case"QuotaExceededError":return new b(v.ENOSPC,a);default:return new b(v.EIO,a)}}function wa(d,a,u){return void 0===a&&(a=v.EIO),void 0===u&&(u=null),function(l){l.preventDefault(),d(new b(a,null!==u?u:void 0))}}var gf=function(a,u){this.tx=a,this.store=u};gf.prototype.get=function(a,u){try{var l=this.store.get(a);l.onerror=wa(u),l.onsuccess=function(f){var p=f.target.result;u(null,void 0===p?p:nt(p))}}catch(f){u(yl(f))}};var er=function(d){function a(u,l){d.call(this,u,l)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype.put=function(l,f,p,_){try{var x,S=Ae(f);(x=p?this.store.put(S,l):this.store.add(S,l)).onerror=wa(_),x.onsuccess=function(N){_(null,!0)}}catch(N){_(yl(N))}},a.prototype.del=function(l,f){try{var p=this.store.delete(l);p.onerror=wa(f),p.onsuccess=function(_){f()}}catch(_){f(yl(_))}},a.prototype.commit=function(l){setTimeout(l,0)},a.prototype.abort=function(l){var f=null;try{this.tx.abort()}catch(p){f=yl(p)}finally{l(f)}},a}(gf),Et=function(a,u){var l=this;void 0===u&&(u="browserfs"),this.storeName=u;var f=eu.open(this.storeName,1);f.onupgradeneeded=function(p){var _=p.target.result;_.objectStoreNames.contains(l.storeName)&&_.deleteObjectStore(l.storeName),_.createObjectStore(l.storeName)},f.onsuccess=function(p){l.db=p.target.result,a(null,l)},f.onerror=wa(a,v.EACCES)};Et.prototype.name=function(){return vl.Name+" - "+this.storeName},Et.prototype.clear=function(a){try{var f=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).clear();f.onsuccess=function(p){setTimeout(a,0)},f.onerror=wa(a)}catch(p){a(yl(p))}},Et.prototype.beginTransaction=function(a){void 0===a&&(a="readonly");var u=this.db.transaction(this.storeName,a),l=u.objectStore(this.storeName);if("readwrite"===a)return new er(u,l);if("readonly"===a)return new gf(u,l);throw new b(v.EINVAL,"Invalid transaction type.")};var vl=function(d){function a(u,l,f){var p=this;void 0===f&&(f=!0),d.call(this),this.store=new Et(function(_){_?u(_):p.init(p.store,function(S){u(S,p)})},l),je(f,a.Name,{storeName:l})}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.Create=function(l,f){new a(f,l.storeName,!1)},a.isAvailable=function(){try{return typeof eu<"u"&&null!==eu.open("__browserfs_test__")}catch{return!1}},a}(uE);vl.Name="IndexedDB",vl.Options={storeName:{type:"string",optional:!0,description:"The name of this file system. You can have multiple IndexedDB file systems operating at once, but each must have a different name."}};var wl,mf=!1;try{ei.localStorage.setItem("__test__","\ud800"),mf="\ud800"===ei.localStorage.getItem("__test__")}catch{mf=!1}Q.isEncoding(wl=mf?"binary_string":"binary_string_ie")||(wl="base64");var Vs=function(){};Vs.prototype.name=function(){return El.Name},Vs.prototype.clear=function(){ei.localStorage.clear()},Vs.prototype.beginTransaction=function(a){return new uo(this)},Vs.prototype.get=function(a){try{var u=ei.localStorage.getItem(a);if(null!==u)return Q.from(u,wl)}catch{}},Vs.prototype.put=function(a,u,l){try{return!(!l&&null!==ei.localStorage.getItem(a)||(ei.localStorage.setItem(a,u.toString(wl)),0))}catch{throw new b(v.ENOSPC,"LocalStorage is full.")}},Vs.prototype.del=function(a){try{ei.localStorage.removeItem(a)}catch(u){throw new b(v.EIO,"Unable to delete key "+a+": "+u)}};var El=function(d){function a(){d.call(this,{store:new Vs})}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.Create=function(l,f){f(null,new a)},a.isAvailable=function(){return typeof ei.localStorage<"u"},a}(fo);El.Name="LocalStorage",El.Options={};var jo,mt=function(d){function a(){d.call(this),this.mountList=[],this.mntMap={},this.rootFs=new va}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.Create=function(l,f){var p=new a;Object.keys(l).forEach(function(_){p.mount(_,l[_])}),f(null,p)},a.isAvailable=function(){return!0},a.prototype.mount=function(l,f){if("/"!==l[0]&&(l="/"+l),l=D.resolve(l),this.mntMap[l])throw new b(v.EINVAL,"Mount point "+l+" is already taken.");pe(l,511,this.rootFs),this.mntMap[l]=f,this.mountList.push(l),this.mountList=this.mountList.sort(function(p,_){return _.length-p.length})},a.prototype.umount=function(l){if("/"!==l[0]&&(l="/"+l),l=D.resolve(l),!this.mntMap[l])throw new b(v.EINVAL,"Mount point "+l+" is already unmounted.");for(delete this.mntMap[l],this.mountList.splice(this.mountList.indexOf(l),1);"/"!==l&&0===this.rootFs.readdirSync(l).length;)this.rootFs.rmdirSync(l),l=D.dirname(l)},a.prototype._getFs=function(l){for(var p=this.mountList,_=p.length,S=0;S<_;S++){var x=p[S];if(x.length<=l.length&&0===l.indexOf(x))return""===(l=l.substr(x.length>1?x.length:0))&&(l="/"),{fs:this.mntMap[x],path:l}}return{fs:this.rootFs,path:l}},a.prototype.getName=function(){return a.Name},a.prototype.diskSpace=function(l,f){f(0,0)},a.prototype.isReadOnly=function(){return!1},a.prototype.supportsLinks=function(){return!1},a.prototype.supportsProps=function(){return!1},a.prototype.supportsSynch=function(){return!0},a.prototype.standardizeError=function(l,f,p){var _=l.message.indexOf(f);return-1!==_&&(l.message=l.message.substr(0,_)+p+l.message.substr(_+f.length),l.path=p),l},a.prototype.rename=function(l,f,p){var _=this,S=this._getFs(l),x=this._getFs(f);return S.fs===x.fs?S.fs.rename(S.path,x.path,function(N){N&&_.standardizeError(_.standardizeError(N,S.path,l),x.path,f),p(N)}):Ie.readFile(l,function(N,J){if(N)return p(N);Ie.writeFile(f,J,function(ue){if(ue)return p(ue);Ie.unlink(l,p)})})},a.prototype.renameSync=function(l,f){var p=this._getFs(l),_=this._getFs(f);if(p.fs===_.fs)try{return p.fs.renameSync(p.path,_.path)}catch(x){throw this.standardizeError(this.standardizeError(x,p.path,l),_.path,f),x}var S=Ie.readFileSync(l);return Ie.writeFileSync(f,S),Ie.unlinkSync(l)},a.prototype.readdirSync=function(l){var f=this._getFs(l),p=null;if(f.fs!==this.rootFs)try{p=this.rootFs.readdirSync(l)}catch{}try{var _=f.fs.readdirSync(f.path);return null===p?_:_.concat(p.filter(function(S){return-1===_.indexOf(S)}))}catch(S){if(null===p)throw this.standardizeError(S,f.path,l);return p}},a.prototype.readdir=function(l,f){var p=this,_=this._getFs(l);_.fs.readdir(_.path,function(S,x){if(_.fs!==p.rootFs)try{var N=p.rootFs.readdirSync(l);x=x?x.concat(N.filter(function(J){return-1===x.indexOf(J)})):N}catch{if(S)return f(p.standardizeError(S,_.path,l))}else if(S)return f(p.standardizeError(S,_.path,l));f(null,x)})},a.prototype.rmdirSync=function(l){var f=this._getFs(l);if(this._containsMountPt(l))throw b.ENOTEMPTY(l);try{f.fs.rmdirSync(f.path)}catch(p){throw this.standardizeError(p,f.path,l)}},a.prototype.rmdir=function(l,f){var p=this,_=this._getFs(l);this._containsMountPt(l)?f(b.ENOTEMPTY(l)):_.fs.rmdir(_.path,function(S){f(S?p.standardizeError(S,_.path,l):null)})},a.prototype._containsMountPt=function(l){for(var f=this.mountList,p=f.length,_=0;_<p;_++){var S=f[_];if(S.length>=l.length&&S.slice(0,l.length)===l)return!0}return!1},a}(He);function dm(d,a,u){return a?function(){for(var l=[],f=arguments.length;f--;)l[f]=arguments[f];var p=l[0],_=this._getFs(p);l[0]=_.path;try{return _.fs[d].apply(_.fs,l)}catch(S){throw this.standardizeError(S,_.path,p),S}}:function(){for(var l=this,f=[],p=arguments.length;p--;)f[p]=arguments[p];var _=f[0],S=this._getFs(_);if(f[0]=S.path,"function"==typeof f[f.length-1]){var x=f[f.length-1];f[f.length-1]=function(){for(var N=[],J=arguments.length;J--;)N[J]=arguments[J];N.length>0&&N[0]instanceof b&&l.standardizeError(N[0],S.path,_),x.apply(null,N)}}return S.fs[d].apply(S.fs,f)}}mt.Name="MountableFileSystem",mt.Options={};for(var tr=[["exists","unlink","readlink"],["stat","mkdir","realpath","truncate"],["open","readFile","chmod","utimes"],["chown"],["writeFile","appendFile"]],zo=0;zo<tr.length;zo++)for(var Sl=0,_f=tr[zo];Sl<_f.length;Sl+=1){var ds=_f[Sl];mt.prototype[ds]=dm(ds,!1),mt.prototype[ds+"Sync"]=dm(ds+"Sync",!0)}if(typeof setImmediate<"u")jo=setImmediate;else{var Hi=ei,fs=[],yf="zero-timeout-message";if(function(){if(typeof Hi.importScripts<"u"||!Hi.postMessage)return!1;var d=!0,a=Hi.onmessage;return Hi.onmessage=function(){d=!1},Hi.postMessage("","*"),Hi.onmessage=a,d}()){jo=function(d){fs.push(d),Hi.postMessage(yf,"*")};var bl=function(d){if(d.source===self&&d.data===yf&&(d.stopPropagation?d.stopPropagation():d.cancelBubble=!0,fs.length>0))return fs.shift()()};Hi.addEventListener?Hi.addEventListener("message",bl,!0):Hi.attachEvent("onmessage",bl)}else if(Hi.MessageChannel){var Cl=new Hi.MessageChannel;Cl.port1.onmessage=function(d){if(fs.length>0)return fs.shift()()},jo=function(d){fs.push(d),Cl.port2.postMessage("")}}else jo=function(d){return setTimeout(d,0)}}var Il=jo,hs=function(){this._locked=!1,this._waiters=[]};hs.prototype.lock=function(a){this._locked?this._waiters.push(a):(this._locked=!0,a())},hs.prototype.unlock=function(){if(!this._locked)throw new Error("unlock of a non-locked mutex");var a=this._waiters.shift();a?Il(a):this._locked=!1},hs.prototype.tryLock=function(){return!this._locked&&(this._locked=!0,!0)},hs.prototype.isLocked=function(){return this._locked};var At=function(a){this._fs=a,this._mu=new hs};At.prototype.getName=function(){return"LockedFS<"+this._fs.getName()+">"},At.prototype.getFSUnlocked=function(){return this._fs},At.prototype.initialize=function(a){this._fs.initialize(a)},At.prototype.diskSpace=function(a,u){this._fs.diskSpace(a,u)},At.prototype.isReadOnly=function(){return this._fs.isReadOnly()},At.prototype.supportsLinks=function(){return this._fs.supportsLinks()},At.prototype.supportsProps=function(){return this._fs.supportsProps()},At.prototype.supportsSynch=function(){return this._fs.supportsSynch()},At.prototype.rename=function(a,u,l){var f=this;this._mu.lock(function(){f._fs.rename(a,u,function(p){f._mu.unlock(),l(p)})})},At.prototype.renameSync=function(a,u){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.renameSync(a,u)},At.prototype.stat=function(a,u,l){var f=this;this._mu.lock(function(){f._fs.stat(a,u,function(p,_){f._mu.unlock(),l(p,_)})})},At.prototype.statSync=function(a,u){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.statSync(a,u)},At.prototype.open=function(a,u,l,f){var p=this;this._mu.lock(function(){p._fs.open(a,u,l,function(_,S){p._mu.unlock(),f(_,S)})})},At.prototype.openSync=function(a,u,l){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.openSync(a,u,l)},At.prototype.unlink=function(a,u){var l=this;this._mu.lock(function(){l._fs.unlink(a,function(f){l._mu.unlock(),u(f)})})},At.prototype.unlinkSync=function(a){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.unlinkSync(a)},At.prototype.rmdir=function(a,u){var l=this;this._mu.lock(function(){l._fs.rmdir(a,function(f){l._mu.unlock(),u(f)})})},At.prototype.rmdirSync=function(a){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.rmdirSync(a)},At.prototype.mkdir=function(a,u,l){var f=this;this._mu.lock(function(){f._fs.mkdir(a,u,function(p){f._mu.unlock(),l(p)})})},At.prototype.mkdirSync=function(a,u){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.mkdirSync(a,u)},At.prototype.readdir=function(a,u){var l=this;this._mu.lock(function(){l._fs.readdir(a,function(f,p){l._mu.unlock(),u(f,p)})})},At.prototype.readdirSync=function(a){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readdirSync(a)},At.prototype.exists=function(a,u){var l=this;this._mu.lock(function(){l._fs.exists(a,function(f){l._mu.unlock(),u(f)})})},At.prototype.existsSync=function(a){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.existsSync(a)},At.prototype.realpath=function(a,u,l){var f=this;this._mu.lock(function(){f._fs.realpath(a,u,function(p,_){f._mu.unlock(),l(p,_)})})},At.prototype.realpathSync=function(a,u){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.realpathSync(a,u)},At.prototype.truncate=function(a,u,l){var f=this;this._mu.lock(function(){f._fs.truncate(a,u,function(p){f._mu.unlock(),l(p)})})},At.prototype.truncateSync=function(a,u){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.truncateSync(a,u)},At.prototype.readFile=function(a,u,l,f){var p=this;this._mu.lock(function(){p._fs.readFile(a,u,l,function(_,S){p._mu.unlock(),f(_,S)})})},At.prototype.readFileSync=function(a,u,l){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readFileSync(a,u,l)},At.prototype.writeFile=function(a,u,l,f,p,_){var S=this;this._mu.lock(function(){S._fs.writeFile(a,u,l,f,p,function(x){S._mu.unlock(),_(x)})})},At.prototype.writeFileSync=function(a,u,l,f,p){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.writeFileSync(a,u,l,f,p)},At.prototype.appendFile=function(a,u,l,f,p,_){var S=this;this._mu.lock(function(){S._fs.appendFile(a,u,l,f,p,function(x){S._mu.unlock(),_(x)})})},At.prototype.appendFileSync=function(a,u,l,f,p){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.appendFileSync(a,u,l,f,p)},At.prototype.chmod=function(a,u,l,f){var p=this;this._mu.lock(function(){p._fs.chmod(a,u,l,function(_){p._mu.unlock(),f(_)})})},At.prototype.chmodSync=function(a,u,l){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.chmodSync(a,u,l)},At.prototype.chown=function(a,u,l,f,p){var _=this;this._mu.lock(function(){_._fs.chown(a,u,l,f,function(S){_._mu.unlock(),p(S)})})},At.prototype.chownSync=function(a,u,l,f){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.chownSync(a,u,l,f)},At.prototype.utimes=function(a,u,l,f){var p=this;this._mu.lock(function(){p._fs.utimes(a,u,l,function(_){p._mu.unlock(),f(_)})})},At.prototype.utimesSync=function(a,u,l){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.utimesSync(a,u,l)},At.prototype.link=function(a,u,l){var f=this;this._mu.lock(function(){f._fs.link(a,u,function(p){f._mu.unlock(),l(p)})})},At.prototype.linkSync=function(a,u){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.linkSync(a,u)},At.prototype.symlink=function(a,u,l,f){var p=this;this._mu.lock(function(){p._fs.symlink(a,u,l,function(_){p._mu.unlock(),f(_)})})},At.prototype.symlinkSync=function(a,u,l){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.symlinkSync(a,u,l)},At.prototype.readlink=function(a,u){var l=this;this._mu.lock(function(){l._fs.readlink(a,function(f,p){l._mu.unlock(),u(f,p)})})},At.prototype.readlinkSync=function(a){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readlinkSync(a)};var Mr="/.deletedFiles.log";function fm(d){return 146|d}function mr(d){return L.getFileFlag(d)}var hm=function(d){function a(u,l,f,p,_){d.call(this,u,l,f,p,_)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype.sync=function(l){var f=this;this.isDirty()?this._fs._syncAsync(this,function(p){f.resetDirty(),l(p)}):l(null)},a.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},a.prototype.close=function(l){this.sync(l)},a.prototype.closeSync=function(){this.syncSync()},a}(vn),pm=function(d){function a(u,l){if(d.call(this),this._isInitialized=!1,this._initializeCallbacks=[],this._deletedFiles={},this._deleteLog="",this._deleteLogUpdatePending=!1,this._deleteLogUpdateNeeded=!1,this._deleteLogError=null,this._writable=u,this._readable=l,this._writable.isReadOnly())throw new b(v.EINVAL,"Writable file system must be writable.")}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.isAvailable=function(){return!0},a.prototype.getOverlayedFileSystems=function(){return{readable:this._readable,writable:this._writable}},a.prototype._syncAsync=function(l,f){var p=this;this.createParentDirectoriesAsync(l.getPath(),function(_){if(_)return f(_);p._writable.writeFile(l.getPath(),l.getBuffer(),null,mr("w"),l.getStats().mode,f)})},a.prototype._syncSync=function(l){this.createParentDirectories(l.getPath()),this._writable.writeFileSync(l.getPath(),l.getBuffer(),null,mr("w"),l.getStats().mode)},a.prototype.getName=function(){return ps.Name},a.prototype.initialize=function(l){var f=this,p=this._initializeCallbacks,_=function(S){f._isInitialized=!S,f._initializeCallbacks=[],p.forEach(function(x){return x(S)})};if(this._isInitialized)return l();p.push(l),1===p.length&&this._writable.readFile(Mr,"utf8",mr("r"),function(S,x){if(S){if(S.errno!==v.ENOENT)return _(S)}else f._deleteLog=x;f._reparseDeletionLog(),_()})},a.prototype.isReadOnly=function(){return!1},a.prototype.supportsSynch=function(){return this._readable.supportsSynch()&&this._writable.supportsSynch()},a.prototype.supportsLinks=function(){return!1},a.prototype.supportsProps=function(){return this._readable.supportsProps()&&this._writable.supportsProps()},a.prototype.getDeletionLog=function(){return this._deleteLog},a.prototype.restoreDeletionLog=function(l){this._deleteLog=l,this._reparseDeletionLog(),this.updateLog("")},a.prototype.rename=function(l,f,p){var _=this;if(this.checkInitAsync(p)&&!this.checkPathAsync(l,p)&&!this.checkPathAsync(f,p)){if(l===Mr||f===Mr)return p(b.EPERM("Cannot rename deletion log."));if(l===f)return p();this.stat(l,!1,function(S,x){return S?p(S):_.stat(f,!1,function(N,J){var ue=_;function we(ze){var st=ze.shift();if(!st)return p();var It=D.resolve(l,st),jt=D.resolve(f,st);ue.rename(It,jt,function(Cn){if(Cn)return p(Cn);we(ze)})}var Ve=511;if(x.isDirectory()){if(N)return N.errno!==v.ENOENT?p(N):_._writable.exists(l,function(ze){if(ze)return _._writable.rename(l,f,p);_._writable.mkdir(f,Ve,function(st){if(st)return p(st);_._readable.readdir(l,function(It,jt){if(It)return p();we(jt)})})});if(Ve=J.mode,!J.isDirectory())return p(b.ENOTDIR(f));_.readdir(f,function(ze,st){if(st&&st.length)return p(b.ENOTEMPTY(f));_._readable.readdir(l,function(It,jt){if(It)return p();we(jt)})})}if(J&&J.isDirectory())return p(b.EISDIR(f));_.readFile(l,null,mr("r"),function(ze,st){return ze?p(ze):_.writeFile(f,st,null,mr("w"),x.mode,function(It){return It?p(It):_.unlink(l,p)})})})})}},a.prototype.renameSync=function(l,f){var p=this;if(this.checkInitialized(),this.checkPath(l),this.checkPath(f),l===Mr||f===Mr)throw b.EPERM("Cannot rename deletion log.");var _=this.statSync(l,!1);if(_.isDirectory()){if(l===f)return;var S=511;if(this.existsSync(f)){var x=this.statSync(f,!1);if(S=x.mode,!x.isDirectory())throw b.ENOTDIR(f);if(this.readdirSync(f).length>0)throw b.ENOTEMPTY(f)}this._writable.existsSync(l)?this._writable.renameSync(l,f):this._writable.existsSync(f)||this._writable.mkdirSync(f,S),this._readable.existsSync(l)&&this._readable.readdirSync(l).forEach(function(N){p.renameSync(D.resolve(l,N),D.resolve(f,N))})}else{if(this.existsSync(f)&&this.statSync(f,!1).isDirectory())throw b.EISDIR(f);this.writeFileSync(f,this.readFileSync(l,null,mr("r")),null,mr("w"),_.mode)}l!==f&&this.existsSync(l)&&this.unlinkSync(l)},a.prototype.stat=function(l,f,p){var _=this;this.checkInitAsync(p)&&this._writable.stat(l,f,function(S,x){S&&S.errno===v.ENOENT?(_._deletedFiles[l]&&p(b.ENOENT(l)),_._readable.stat(l,f,function(N,J){J&&((J=J.clone()).mode=fm(J.mode)),p(N,J)})):p(S,x)})},a.prototype.statSync=function(l,f){this.checkInitialized();try{return this._writable.statSync(l,f)}catch{if(this._deletedFiles[l])throw b.ENOENT(l);var p=this._readable.statSync(l,f).clone();return p.mode=fm(p.mode),p}},a.prototype.open=function(l,f,p,_){var S=this;!this.checkInitAsync(_)||this.checkPathAsync(l,_)||this.stat(l,!1,function(x,N){if(!N)return f.pathNotExistsAction()===ee.CREATE_FILE?S.createParentDirectoriesAsync(l,function(J){return J?_(J):S._writable.open(l,f,p,_)}):_(b.ENOENT(l));switch(f.pathExistsAction()){case ee.TRUNCATE_FILE:return S.createParentDirectoriesAsync(l,function(J){if(J)return _(J);S._writable.open(l,f,p,_)});case ee.NOP:return S._writable.exists(l,function(J){J?S._writable.open(l,f,p,_):((N=N.clone()).mode=p,S._readable.readFile(l,null,mr("r"),function(ue,we){if(ue)return _(ue);-1===N.size&&(N.size=we.length);var Ve=new hm(S,l,f,N,we);_(null,Ve)}))});default:return _(b.EEXIST(l))}})},a.prototype.openSync=function(l,f,p){if(this.checkInitialized(),this.checkPath(l),l===Mr)throw b.EPERM("Cannot open deletion log.");if(!this.existsSync(l)){if(f.pathNotExistsAction()===ee.CREATE_FILE)return this.createParentDirectories(l),this._writable.openSync(l,f,p);throw b.ENOENT(l)}switch(f.pathExistsAction()){case ee.TRUNCATE_FILE:return this.createParentDirectories(l),this._writable.openSync(l,f,p);case ee.NOP:if(this._writable.existsSync(l))return this._writable.openSync(l,f,p);var _=this._readable.readFileSync(l,null,mr("r")),S=this._readable.statSync(l,!1).clone();return S.mode=p,new hm(this,l,f,S,_);default:throw b.EEXIST(l)}},a.prototype.unlink=function(l,f){var p=this;!this.checkInitAsync(f)||this.checkPathAsync(l,f)||this.exists(l,function(_){if(!_)return f(b.ENOENT(l));p._writable.exists(l,function(S){if(S)return p._writable.unlink(l,function(x){if(x)return f(x);p.exists(l,function(N){N&&p.deletePath(l),f(null)})});p.deletePath(l),f(null)})})},a.prototype.unlinkSync=function(l){if(this.checkInitialized(),this.checkPath(l),!this.existsSync(l))throw b.ENOENT(l);this._writable.existsSync(l)&&this._writable.unlinkSync(l),this.existsSync(l)&&this.deletePath(l)},a.prototype.rmdir=function(l,f){var p=this;if(this.checkInitAsync(f)){var _=function(){p.readdir(l,function(S,x){return S?f(S):x.length?f(b.ENOTEMPTY(l)):(p.deletePath(l),void f(null))})};this.exists(l,function(S){if(!S)return f(b.ENOENT(l));p._writable.exists(l,function(x){x?p._writable.rmdir(l,function(N){if(N)return f(N);p._readable.exists(l,function(J){J?_():f()})}):_()})})}},a.prototype.rmdirSync=function(l){if(this.checkInitialized(),!this.existsSync(l))throw b.ENOENT(l);if(this._writable.existsSync(l)&&this._writable.rmdirSync(l),this.existsSync(l)){if(this.readdirSync(l).length>0)throw b.ENOTEMPTY(l);this.deletePath(l)}},a.prototype.mkdir=function(l,f,p){var _=this;this.checkInitAsync(p)&&this.exists(l,function(S){if(S)return p(b.EEXIST(l));_.createParentDirectoriesAsync(l,function(x){if(x)return p(x);_._writable.mkdir(l,f,p)})})},a.prototype.mkdirSync=function(l,f){if(this.checkInitialized(),this.existsSync(l))throw b.EEXIST(l);this.createParentDirectories(l),this._writable.mkdirSync(l,f)},a.prototype.readdir=function(l,f){var p=this;this.checkInitAsync(f)&&this.stat(l,!1,function(_,S){return _?f(_):S.isDirectory()?void p._writable.readdir(l,function(x,N){if(x&&"ENOENT"!==x.code)return f(x);(x||!N)&&(N=[]),p._readable.readdir(l,function(J,ue){(J||!ue)&&(ue=[]);var we={},Ve=N.concat(ue.filter(function(ze){return!p._deletedFiles[l+"/"+ze]})).filter(function(ze){var st=!we[ze];return we[ze]=!0,st});f(null,Ve)})}):f(b.ENOTDIR(l))})},a.prototype.readdirSync=function(l){var f=this;if(this.checkInitialized(),!this.statSync(l,!1).isDirectory())throw b.ENOTDIR(l);var _=[];try{_=_.concat(this._writable.readdirSync(l))}catch{}try{_=_.concat(this._readable.readdirSync(l).filter(function(x){return!f._deletedFiles[l+"/"+x]}))}catch{}var S={};return _.filter(function(x){var N=!S[x];return S[x]=!0,N})},a.prototype.exists=function(l,f){var p=this;this.checkInitialized(),this._writable.exists(l,function(_){if(_)return f(!0);p._readable.exists(l,function(S){f(S&&!0!==p._deletedFiles[l])})})},a.prototype.existsSync=function(l){return this.checkInitialized(),this._writable.existsSync(l)||this._readable.existsSync(l)&&!0!==this._deletedFiles[l]},a.prototype.chmod=function(l,f,p,_){var S=this;this.checkInitAsync(_)&&this.operateOnWritableAsync(l,function(x){if(x)return _(x);S._writable.chmod(l,f,p,_)})},a.prototype.chmodSync=function(l,f,p){var _=this;this.checkInitialized(),this.operateOnWritable(l,function(){_._writable.chmodSync(l,f,p)})},a.prototype.chown=function(l,f,p,_,S){var x=this;this.checkInitAsync(S)&&this.operateOnWritableAsync(l,function(N){if(N)return S(N);x._writable.chown(l,f,p,_,S)})},a.prototype.chownSync=function(l,f,p,_){var S=this;this.checkInitialized(),this.operateOnWritable(l,function(){S._writable.chownSync(l,f,p,_)})},a.prototype.utimes=function(l,f,p,_){var S=this;this.checkInitAsync(_)&&this.operateOnWritableAsync(l,function(x){if(x)return _(x);S._writable.utimes(l,f,p,_)})},a.prototype.utimesSync=function(l,f,p){var _=this;this.checkInitialized(),this.operateOnWritable(l,function(){_._writable.utimesSync(l,f,p)})},a.prototype.deletePath=function(l){this._deletedFiles[l]=!0,this.updateLog("d"+l+"\n")},a.prototype.updateLog=function(l){var f=this;this._deleteLog+=l,this._deleteLogUpdatePending?this._deleteLogUpdateNeeded=!0:(this._deleteLogUpdatePending=!0,this._writable.writeFile(Mr,this._deleteLog,"utf8",L.getFileFlag("w"),420,function(p){f._deleteLogUpdatePending=!1,p?f._deleteLogError=p:f._deleteLogUpdateNeeded&&(f._deleteLogUpdateNeeded=!1,f.updateLog(""))}))},a.prototype._reparseDeletionLog=function(){var l=this;this._deletedFiles={},this._deleteLog.split("\n").forEach(function(f){l._deletedFiles[f.slice(1)]="d"===f.slice(0,1)})},a.prototype.checkInitialized=function(){if(!this._isInitialized)throw new b(v.EPERM,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.");if(null!==this._deleteLogError){var l=this._deleteLogError;throw this._deleteLogError=null,l}},a.prototype.checkInitAsync=function(l){if(!this._isInitialized)return l(new b(v.EPERM,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.")),!1;if(null!==this._deleteLogError){var f=this._deleteLogError;return this._deleteLogError=null,l(f),!1}return!0},a.prototype.checkPath=function(l){if(l===Mr)throw b.EPERM(l)},a.prototype.checkPathAsync=function(l,f){return l===Mr&&(f(b.EPERM(l)),!0)},a.prototype.createParentDirectoriesAsync=function(l,f){var p=D.dirname(l),_=[],S=this;function N(){if(!_.length)return f();var J=_.pop();S._readable.stat(J,!1,function(ue,we){if(!we)return f();S._writable.mkdir(J,we.mode,function(Ve){if(Ve)return f(Ve);N()})})}this._writable.stat(p,!1,function x(J,ue){J?(_.push(p),p=D.dirname(p),S._writable.stat(p,!1,x)):N()})},a.prototype.createParentDirectories=function(l){for(var f=this,p=D.dirname(l),_=[];!this._writable.existsSync(p);)_.push(p),p=D.dirname(p);(_=_.reverse()).forEach(function(S){f._writable.mkdirSync(S,f.statSync(S,!1).mode)})},a.prototype.operateOnWritable=function(l,f){if(!this.existsSync(l))throw b.ENOENT(l);this._writable.existsSync(l)||this.copyToWritable(l),f()},a.prototype.operateOnWritableAsync=function(l,f){var p=this;this.exists(l,function(_){if(!_)return f(b.ENOENT(l));p._writable.exists(l,function(S){if(!S)return p.copyToWritableAsync(l,f);f()})})},a.prototype.copyToWritable=function(l){var f=this.statSync(l,!1);f.isDirectory()?this._writable.mkdirSync(l,f.mode):this.writeFileSync(l,this._readable.readFileSync(l,null,mr("r")),null,mr("w"),this.statSync(l,!1).mode)},a.prototype.copyToWritableAsync=function(l,f){var p=this;this.stat(l,!1,function(_,S){return _?f(_):S.isDirectory()?p._writable.mkdir(l,S.mode,f):void p._readable.readFile(l,null,mr("r"),function(x,N){if(x)return f(x);p.writeFile(l,N,null,mr("w"),S.mode,f)})})},a}(He),ps=function(d){function a(u,l,f){void 0===f&&(f=!0),d.call(this,new pm(u,l)),je(f,a.Name,{readable:"readable file system",writable:"writable file system"})}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.Create=function(l,f){try{var p=new a(l.writable,l.readable,!1);p.initialize(function(_){f(_,p)},!1)}catch(_){f(_)}},a.isAvailable=function(){return pm.isAvailable()},a.prototype.initialize=function(l,f){void 0===f&&(f=!0),f&&console.warn("[OverlayFS] OverlayFS.initialize() is deprecated and will be removed in the next major release. Please use 'OverlayFS.Create({readable: readable file system instance, writable: writable file system instance}, cb)' to create and initialize OverlayFS instances."),d.prototype.initialize.call(this,l)},a.prototype.getOverlayedFileSystems=function(){return d.prototype.getFSUnlocked.call(this).getOverlayedFileSystems()},a.prototype.unwrap=function(){return d.prototype.getFSUnlocked.call(this)},a}(At);ps.Name="OverlayFS",ps.Options={writable:{type:"object",description:"The file system to write modified files to."},readable:{type:"object",description:"The file system that initially populates this file system."}};var bn=function(d){return d[d.CB=0]="CB",d[d.FD=1]="FD",d[d.API_ERROR=2]="API_ERROR",d[d.STATS=3]="STATS",d[d.PROBE=4]="PROBE",d[d.FILEFLAG=5]="FILEFLAG",d[d.BUFFER=6]="BUFFER",d[d.ERROR=7]="ERROR",d}(bn||{}),Ea=function(){this._callbacks={},this._nextId=0};Ea.prototype.toRemoteArg=function(a){var u=this._nextId++;return this._callbacks[u]=a,{type:bn.CB,id:u}},Ea.prototype.toLocalArg=function(a){var u=this._callbacks[a];return delete this._callbacks[a],u};var Us=function(){this._fileDescriptors={},this._nextId=0};function Sa(d){return{type:bn.API_ERROR,errorData:gs(d.writeToBuffer())}}function Wr(d){return b.fromBuffer(js(d.errorData))}function zs(d){return{type:bn.ERROR,name:d.name,message:d.message,stack:d.stack}}function tu(d){var a=ei[d.name];"function"!=typeof a&&(a=Error);var u=new a(d.message);return u.stack=d.stack,u}function Nt(d){return{type:bn.STATS,statsData:gs(d.toBuffer())}}function nn(d){return oe.fromBuffer(js(d.statsData))}function gm(d){return{type:bn.FILEFLAG,flagStr:d.getFlagString()}}function vf(d){return L.getFileFlag(d.flagStr)}function gs(d){return Ae(d)}function js(d){return nt(d)}function wf(d){return{type:bn.BUFFER,data:gs(d)}}function xl(d){return js(d.data)}Us.prototype.toRemoteArg=function(a,u,l,f){var _,S,p=this._nextId++;this._fileDescriptors[p]=a,a.stat(function(x,N){x?f(x):(S=gs(N.toBuffer()),l.isReadable()?a.read(Q.alloc(N.size),0,N.size,0,function(J,ue,we){J?f(J):(_=gs(we),f(null,{type:bn.FD,id:p,data:_,stat:S,path:u,flag:l.getFlagString()}))}):f(null,{type:bn.FD,id:p,data:new ArrayBuffer(0),stat:S,path:u,flag:l.getFlagString()}))})},Us.prototype.applyFdAPIRequest=function(a,u){var l=this,f=a.args[0];this._applyFdChanges(f,function(p,_){p?u(p):_[a.method](function(S){"close"===a.method&&delete l._fileDescriptors[f.id],u(S)})})},Us.prototype._applyFdChanges=function(a,u){var l=this._fileDescriptors[a.id],f=js(a.data),p=oe.fromBuffer(js(a.stat)),_=L.getFileFlag(a.flag);_.isWriteable()?l.write(f,0,f.length,_.isAppendable()?l.getPos():0,function(S){function x(){l.stat(function(N,J){N?u(N):J.mode!==p.mode?l.chmod(p.mode,function(ue){u(ue,l)}):u(N,l)})}S?u(S):_.isAppendable()?x():l.truncate(f.length,function(){x()})}):u(null,l)};var iu=function(d){function a(u,l,f,p,_,S){d.call(this,u,l,f,p,S),this._remoteFdId=_}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype.getRemoteFdId=function(){return this._remoteFdId},a.prototype.toRemoteArg=function(){return{type:bn.FD,id:this._remoteFdId,data:gs(this.getBuffer()),stat:gs(this.getStats().toBuffer()),path:this.getPath(),flag:this.getFlag().getFlagString()}},a.prototype.sync=function(l){this._syncClose("sync",l)},a.prototype.close=function(l){this._syncClose("close",l)},a.prototype._syncClose=function(l,f){var p=this;this.isDirty()?this._fs.syncClose(l,this,function(_){_||p.resetDirty(),f(_)}):f()},a}(vn),Si=function(d){function a(u,l){var f=this;void 0===l&&(l=!0),d.call(this),this._callbackConverter=new Ea,this._isInitialized=!1,this._isReadOnly=!1,this._supportLinks=!1,this._supportProps=!1,this._worker=u,je(l,a.Name,{worker:"Web Worker instance"}),this._worker.addEventListener("message",function(p){var _=p.data;if(function nu(d){return d&&"object"==typeof d&&d.hasOwnProperty("browserfsMessage")&&d.browserfsMessage}(_)){var S,x=_.args,N=new Array(x.length);for(S=0;S<N.length;S++)N[S]=f._argRemote2Local(x[S]);f._callbackConverter.toLocalArg(_.cbId).apply(null,N)}})}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.Create=function(l,f){var p=new a(l.worker,!1);p.initialize(function(){f(null,p)})},a.isAvailable=function(){return typeof importScripts<"u"||typeof Worker<"u"},a.attachRemoteListener=function(l){var f=new Us;function p(S,x,N){"object"==typeof S?S instanceof oe?N(null,Nt(S)):S instanceof b?N(null,Sa(S)):S instanceof ct?N(null,f.toRemoteArg(S,x[0],x[1],N)):S instanceof L?N(null,gm(S)):S instanceof Q?N(null,wf(S)):S instanceof Error?N(null,zs(S)):N(null,S):N(null,S)}function _(S,x){if(!S)return S;if("object"==typeof S){if("number"!=typeof S.type)return S;var N=S;switch(N.type){case bn.CB:var J=S.id;return function(){var we,ze,ue=arguments,Ve=new Array(arguments.length),st=arguments.length;function It(jt){st>0&&(st=-1,ze={browserfsMessage:!0,cbId:J,args:[Sa(jt)]},l.postMessage(ze))}for(we=0;we<arguments.length;we++)!function(jt,Cn){p(Cn,x,function(bi,yr){Ve[jt]=yr,bi?It(bi):0==--st&&l.postMessage(ze={browserfsMessage:!0,cbId:J,args:Ve})})}(we,ue[we]);0===arguments.length&&l.postMessage(ze={browserfsMessage:!0,cbId:J,args:Ve})};case bn.API_ERROR:return Wr(N);case bn.STATS:return nn(N);case bn.FILEFLAG:return vf(N);case bn.BUFFER:return xl(N);case bn.ERROR:return tu(N);default:return S}}return S}l.addEventListener("message",function(S){var Ve,x=S.data;if(function Kt(d){return d&&"object"==typeof d&&d.hasOwnProperty("browserfsMessage")&&d.browserfsMessage}(x)){var N=x.args,J=new Array(N.length);switch(x.method){case"close":case"sync":Ve=N[1],f.applyFdAPIRequest(x,function(ze){var st={browserfsMessage:!0,cbId:Ve.id,args:ze?[Sa(ze)]:[]};l.postMessage(st)});break;case"probe":!function(){var Ve=Ie.getRootFS(),ze=N[1],st={type:bn.PROBE,isReadOnly:Ve.isReadOnly(),supportsLinks:Ve.supportsLinks(),supportsProps:Ve.supportsProps()};l.postMessage({browserfsMessage:!0,cbId:ze.id,args:[st]})}();break;default:for(var ue=0;ue<N.length;ue++)J[ue]=_(N[ue],J);var we=Ie.getRootFS();we[x.method].apply(we,J)}}})},a.prototype.getName=function(){return a.Name},a.prototype.initialize=function(l){var f=this;if(this._isInitialized)l();else{var p={browserfsMessage:!0,method:"probe",args:[this._argLocal2Remote(tn()),this._callbackConverter.toRemoteArg(function(_){f._isInitialized=!0,f._isReadOnly=_.isReadOnly,f._supportLinks=_.supportsLinks,f._supportProps=_.supportsProps,l()})]};this._worker.postMessage(p)}},a.prototype.isReadOnly=function(){return this._isReadOnly},a.prototype.supportsSynch=function(){return!1},a.prototype.supportsLinks=function(){return this._supportLinks},a.prototype.supportsProps=function(){return this._supportProps},a.prototype.rename=function(l,f,p){this._rpc("rename",arguments)},a.prototype.stat=function(l,f,p){this._rpc("stat",arguments)},a.prototype.open=function(l,f,p,_){this._rpc("open",arguments)},a.prototype.unlink=function(l,f){this._rpc("unlink",arguments)},a.prototype.rmdir=function(l,f){this._rpc("rmdir",arguments)},a.prototype.mkdir=function(l,f,p){this._rpc("mkdir",arguments)},a.prototype.readdir=function(l,f){this._rpc("readdir",arguments)},a.prototype.exists=function(l,f){this._rpc("exists",arguments)},a.prototype.realpath=function(l,f,p){this._rpc("realpath",arguments)},a.prototype.truncate=function(l,f,p){this._rpc("truncate",arguments)},a.prototype.readFile=function(l,f,p,_){this._rpc("readFile",arguments)},a.prototype.writeFile=function(l,f,p,_,S,x){this._rpc("writeFile",arguments)},a.prototype.appendFile=function(l,f,p,_,S,x){this._rpc("appendFile",arguments)},a.prototype.chmod=function(l,f,p,_){this._rpc("chmod",arguments)},a.prototype.chown=function(l,f,p,_,S){this._rpc("chown",arguments)},a.prototype.utimes=function(l,f,p,_){this._rpc("utimes",arguments)},a.prototype.link=function(l,f,p){this._rpc("link",arguments)},a.prototype.symlink=function(l,f,p,_){this._rpc("symlink",arguments)},a.prototype.readlink=function(l,f){this._rpc("readlink",arguments)},a.prototype.syncClose=function(l,f,p){this._worker.postMessage({browserfsMessage:!0,method:l,args:[f.toRemoteArg(),this._callbackConverter.toRemoteArg(p)]})},a.prototype._argRemote2Local=function(l){if(!l)return l;if("object"==typeof l){if("number"!=typeof l.type)return l;var f=l;switch(f.type){case bn.API_ERROR:return Wr(f);case bn.FD:var p=f;return new iu(this,p.path,L.getFileFlag(p.flag),oe.fromBuffer(js(p.stat)),p.id,js(p.data));case bn.STATS:return nn(f);case bn.FILEFLAG:return vf(f);case bn.BUFFER:return xl(f);case bn.ERROR:return tu(f);default:return l}}return l},a.prototype._rpc=function(l,f){for(var _=new Array(f.length),S=0;S<f.length;S++)_[S]=this._argLocal2Remote(f[S]);this._worker.postMessage({browserfsMessage:!0,method:l,args:_})},a.prototype._argLocal2Remote=function(l){if(!l)return l;switch(typeof l){case"object":return l instanceof oe?Nt(l):l instanceof b?Sa(l):l instanceof iu?l.toRemoteArg():l instanceof L?gm(l):l instanceof Q?wf(l):l instanceof Error?zs(l):"Unknown argument";case"function":return this._callbackConverter.toRemoteArg(l);default:return l}},a}(He);function Hs(d,a,u){var l=new XMLHttpRequest;l.open("HEAD",a,d),l.onreadystatechange=function(f){if(4===l.readyState){if(200!==l.status)return u(new b(l.status,"XHR HEAD error."));try{return u(null,parseInt(l.getResponseHeader("Content-Length")||"-1",10))}catch{return u(new b(v.EIO,"XHR HEAD error: Could not read content-length."))}}},l.send()}Si.Name="WorkerFS",Si.Options={worker:{type:"object",description:"The target worker that you want to connect to, or the current worker if in a worker context.",validator:function(d,a){d.postMessage?a():a(new b(v.EINVAL,"option must be a Web Worker instance."))}}};var Dl=function Ef(d,a,u){var l=new XMLHttpRequest;l.open("GET",d,!0);var f=!0;switch(a){case"buffer":l.responseType="arraybuffer";break;case"json":try{l.responseType="json",f="json"===l.responseType}catch{f=!1}break;default:return u(new b(v.EINVAL,"Invalid download type: "+a))}l.onreadystatechange=function(p){if(4===l.readyState){if(200!==l.status)return u(new b(l.status,"XHR error."));switch(a){case"buffer":return u(null,l.response?Q.from(l.response):tn());case"json":return u(null,f?l.response:JSON.parse(l.responseText))}}},l.send()},Ml=Ge&&typeof Blob<"u"?function hE(d,a){var l,f,u=new XMLHttpRequest;switch(u.open("GET",d,!1),a){case"buffer":u.responseType="arraybuffer";break;case"json":break;default:throw new b(v.EINVAL,"Invalid download type: "+a)}if(u.onreadystatechange=function(p){if(4===u.readyState)if(200===u.status)switch(a){case"buffer":l=Q.from(u.response);break;case"json":l=JSON.parse(u.response)}else f=new b(u.status,"XHR error.")},u.send(),f)throw f;return l}:function fE(d,a){var u=new XMLHttpRequest;u.open("GET",d,!1);var l=null,f=null;if(u.overrideMimeType("text/plain; charset=x-user-defined"),u.onreadystatechange=function(p){if(4===u.readyState){if(200!==u.status)return void(f=new b(u.status,"XHR error."));switch(a){case"buffer":var _=u.responseText;l=Q.alloc(_.length);for(var S=0;S<_.length;S++)l[S]=_.charCodeAt(S);return;case"json":return void(l=JSON.parse(u.responseText))}}},u.send(),f)throw f;return l};var _r=function(){this._index={},this.addPath("/",new si)};_r.fromListing=function(a){var u=new _r,l=new si;u._index["/"]=l;for(var f=[["",a,l]];f.length>0;){var p=void 0,_=f.pop(),S=_[0],x=_[1],N=_[2];for(var J in x)if(x.hasOwnProperty(J)){var ue=x[J],we=S+"/"+J;ue?(u._index[we]=p=new si,f.push([we,ue,p])):p=new ms(new oe(Z.FILE,-1,365)),N&&(N._ls[J]=p)}}return u},_r.prototype.fileIterator=function(a){var u=this;for(var l in u._index)if(u._index.hasOwnProperty(l))for(var f=u._index[l],_=0,S=f.getListing();_<S.length;_+=1){var N=f.getItem(S[_]);ho(N)&&a(N.getData())}},_r.prototype.addPath=function(a,u){if(!u)throw new Error("Inode must be specified");if("/"!==a[0])throw new Error("Path must be absolute, got: "+a);if(this._index.hasOwnProperty(a))return this._index[a]===u;var l=this._split_path(a),f=l[0],p=l[1],_=this._index[f];return!(void 0===_&&"/"!==a&&(_=new si,!this.addPath(f,_))||"/"!==a&&!_.addItem(p,u)||(Li(u)&&(this._index[a]=u),0))},_r.prototype.addPathFast=function(a,u){var l=a.lastIndexOf("/"),f=0===l?"/":a.substring(0,l),p=a.substring(l+1),_=this._index[f];return void 0===_&&(_=new si,this.addPathFast(f,_)),!!_.addItem(p,u)&&(u.isDir()&&(this._index[a]=u),!0)},_r.prototype.removePath=function(a){var l=this._split_path(a),_=this._index[l[0]];if(void 0===_)return null;var S=_.remItem(l[1]);if(null===S)return null;if(Li(S)){for(var N=0,J=S.getListing();N<J.length;N+=1)this.removePath(a+"/"+J[N]);"/"!==a&&delete this._index[a]}return S},_r.prototype.ls=function(a){var u=this._index[a];return void 0===u?null:u.getListing()},_r.prototype.getInode=function(a){var u=this._split_path(a),l=u[0],p=this._index[l];return void 0===p?null:l===a?p:p.getItem(u[1])},_r.prototype._split_path=function(a){var u=D.dirname(a);return[u,a.substr(u.length+("/"===u?0:1))]};var ms=function(a){this.data=a};ms.prototype.isFile=function(){return!0},ms.prototype.isDir=function(){return!1},ms.prototype.getData=function(){return this.data},ms.prototype.setData=function(a){this.data=a};var si=function(a){void 0===a&&(a=null),this.data=a,this._ls={}};function ho(d){return!!d&&d.isFile()}function Li(d){return!!d&&d.isDir()}si.prototype.isFile=function(){return!1},si.prototype.isDir=function(){return!0},si.prototype.getData=function(){return this.data},si.prototype.getStats=function(){return new oe(Z.DIRECTORY,4096,365)},si.prototype.getListing=function(){return Object.keys(this._ls)},si.prototype.getItem=function(a){return this._ls[a]||null},si.prototype.addItem=function(a,u){return!(a in this._ls)&&(this._ls[a]=u,!0)},si.prototype.remItem=function(a){var u=this._ls[a];return void 0===u?null:(delete this._ls[a],u)};var Vt=function(d){function a(u,l,f){void 0===l&&(l=""),void 0===f&&(f=!0),d.call(this),u||(u="index.json"),l.length>0&&"/"!==l.charAt(l.length-1)&&(l+="/"),this.prefixUrl=l;var p=null;if("string"==typeof u){if(!(p=this._requestFileSync(u,"json")))throw new Error("Unable to find listing at URL: ${listingUrlOrObj}")}else p=u;je(f,a.Name,{index:"string"==typeof u?u:"file index as an object",baseUrl:l}),this._index=_r.fromListing(p)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.Create=function(l,f){void 0===l.index&&(l.index="index.json"),"string"==typeof l.index?a.FromURL(l.index,f,l.baseUrl,!1):f(null,new a(l.index,l.baseUrl,!1))},a.isAvailable=function(){return typeof XMLHttpRequest<"u"&&null!==XMLHttpRequest},a.FromURL=function(l,f,p,_){void 0===p&&(p=l.slice(0,l.lastIndexOf("/")+1)),void 0===_&&(_=!0),_&&console.warn("[XmlHttpRequest] XmlHttpRequest.FromURL() is deprecated and will be removed in the next major release. Please use 'XmlHttpRequest.Create({ index: \""+l+'", baseUrl: "'+p+"\" }, cb)' instead."),Dl(l,"json",function(S,x){S?f(S):f(null,new a(x,p,!1))})},a.prototype.empty=function(){this._index.fileIterator(function(l){l.fileData=null})},a.prototype.getName=function(){return a.Name},a.prototype.diskSpace=function(l,f){f(0,0)},a.prototype.isReadOnly=function(){return!0},a.prototype.supportsLinks=function(){return!1},a.prototype.supportsProps=function(){return!1},a.prototype.supportsSynch=function(){return!0},a.prototype.preloadFile=function(l,f){var p=this._index.getInode(l);if(!ho(p))throw b.EISDIR(l);if(null===p)throw b.ENOENT(l);var _=p.getData();_.size=f.length,_.fileData=f},a.prototype.stat=function(l,f,p){var S,_=this._index.getInode(l);if(null===_)return p(b.ENOENT(l));ho(_)?(S=_.getData()).size<0?this._requestFileSizeAsync(l,function(x,N){if(x)return p(x);S.size=N,p(null,S.clone())}):p(null,S.clone()):Li(_)?(S=_.getStats(),p(null,S)):p(b.FileError(v.EINVAL,l))},a.prototype.statSync=function(l,f){var _,p=this._index.getInode(l);if(null===p)throw b.ENOENT(l);if(ho(p))(_=p.getData()).size<0&&(_.size=this._requestFileSizeSync(l));else{if(!Li(p))throw b.FileError(v.EINVAL,l);_=p.getStats()}return _},a.prototype.open=function(l,f,p,_){if(f.isWriteable())return _(new b(v.EPERM,l));var S=this,x=this._index.getInode(l);if(null===x)return _(b.ENOENT(l));if(!ho(x))return _(b.EISDIR(l));var N=x.getData();switch(f.pathExistsAction()){case ee.THROW_EXCEPTION:case ee.TRUNCATE_FILE:return _(b.EEXIST(l));case ee.NOP:if(N.fileData)return _(null,new ii(S,l,f,N.clone(),N.fileData));this._requestFileAsync(l,"buffer",function(J,ue){return J?_(J):(N.size=ue.length,N.fileData=ue,_(null,new ii(S,l,f,N.clone(),ue)))});break;default:return _(new b(v.EINVAL,"Invalid FileMode object."))}},a.prototype.openSync=function(l,f,p){if(f.isWriteable())throw new b(v.EPERM,l);var _=this._index.getInode(l);if(null===_)throw b.ENOENT(l);if(!ho(_))throw b.EISDIR(l);var S=_.getData();switch(f.pathExistsAction()){case ee.THROW_EXCEPTION:case ee.TRUNCATE_FILE:throw b.EEXIST(l);case ee.NOP:if(S.fileData)return new ii(this,l,f,S.clone(),S.fileData);var x=this._requestFileSync(l,"buffer");return S.size=x.length,S.fileData=x,new ii(this,l,f,S.clone(),x);default:throw new b(v.EINVAL,"Invalid FileMode object.")}},a.prototype.readdir=function(l,f){try{f(null,this.readdirSync(l))}catch(p){f(p)}},a.prototype.readdirSync=function(l){var f=this._index.getInode(l);if(null===f)throw b.ENOENT(l);if(Li(f))return f.getListing();throw b.ENOTDIR(l)},a.prototype.readFile=function(l,f,p,_){var S=_;this.open(l,p,420,function(x,N){if(x)return _(x);_=function(we,Ve){N.close(function(ze){return we||(we=ze),S(we,Ve)})};var ue=N.getBuffer();null===f?_(x,yt(ue)):function ym(d,a,u){try{u(null,d.toString(a))}catch(l){u(l)}}(ue,f,_)})},a.prototype.readFileSync=function(l,f,p){var _=this.openSync(l,p,420);try{var x=_.getBuffer();return null===f?yt(x):x.toString(f)}finally{_.closeSync()}},a.prototype.getXhrPath=function(l){return"/"===l.charAt(0)&&(l=l.slice(1)),this.prefixUrl+l},a.prototype._requestFileAsync=function(l,f,p){Dl(this.getXhrPath(l),f,p)},a.prototype._requestFileSync=function(l,f){return Ml(this.getXhrPath(l),f)},a.prototype._requestFileSizeAsync=function(l,f){!function _m(d,a){Hs(!0,d,a)}(this.getXhrPath(l),f)},a.prototype._requestFileSizeSync=function(l){return function mm(d){var a=-1;return Hs(!1,d,function(u,l){if(u)throw u;a=l}),a}(this.getXhrPath(l))},a}(He);Vt.Name="XmlHttpRequest",Vt.Options={index:{type:["string","object"],optional:!0,description:"URL to a file index as a JSON file or the file index object itself, generated with the make_xhrfs_index script. Defaults to `index.json`."},baseUrl:{type:"string",optional:!0,description:"Used as the URL prefix for fetched files. Default: Fetch files relative to the index."}};var Ho=function(){};Ho.str2byte=function(a,u){for(var l=a.length>u.length?u.length:a.length,f=0;f<l;f++){var p=a.charCodeAt(f);if(p>127){var _=Ho.extendedChars.indexOf(a.charAt(f));_>-1&&(p=_+128)}u[p]=f}return l},Ho.byte2str=function(a){for(var u=new Array(a.length),l=0;l<a.length;l++){var f=a[l];u[l]=f>127?Ho.extendedChars[f-128]:String.fromCharCode(f)}return u.join("")},Ho.byteLength=function(a){return a.length},Ho.extendedChars=["\xc7","\xfc","\xe9","\xe2","\xe4","\xe0","\xe5","\xe7","\xea","\xeb","\xe8","\xef","\xee","\xec","\xc4","\xc5","\xc9","\xe6","\xc6","\xf4","\xf6","\xf2","\xfb","\xf9","\xff","\xd6","\xdc","\xf8","\xa3","\xd8","\xd7","\u0192","\xe1","\xed","\xf3","\xfa","\xf1","\xd1","\xaa","\xba","\xbf","\xae","\xac","\xbd","\xbc","\xa1","\xab","\xbb","_","_","_","\xa6","\xa6","\xc1","\xc2","\xc0","\xa9","\xa6","\xa6","+","+","\xa2","\xa5","+","+","-","-","+","-","+","\xe3","\xc3","+","+","-","-","\xa6","-","+","\xa4","\xf0","\xd0","\xca","\xcb","\xc8","i","\xcd","\xce","\xcf","+","+","_","_","\xa6","\xcc","_","\xd3","\xdf","\xd4","\xd2","\xf5","\xd5","\xb5","\xfe","\xde","\xda","\xdb","\xd9","\xfd","\xdd","\xaf","\xb4","\xad","\xb1","_","\xbe","\xb6","\xa7","\xf7","\xb8","\xb0","\xa8","\xb7","\xb9","\xb3","\xb2","_"," "];var ot=q(31).inflateRaw,ba={},po=function(d){return d[d.STORED=0]="STORED",d[d.SHRUNK=1]="SHRUNK",d[d.REDUCED_1=2]="REDUCED_1",d[d.REDUCED_2=3]="REDUCED_2",d[d.REDUCED_3=4]="REDUCED_3",d[d.REDUCED_4=5]="REDUCED_4",d[d.IMPLODE=6]="IMPLODE",d[d.DEFLATE=8]="DEFLATE",d[d.DEFLATE64=9]="DEFLATE64",d[d.TERSE_OLD=10]="TERSE_OLD",d[d.BZIP2=12]="BZIP2",d[d.LZMA=14]="LZMA",d[d.TERSE_NEW=18]="TERSE_NEW",d[d.LZ77=19]="LZ77",d[d.WAVPACK=97]="WAVPACK",d[d.PPMD=98]="PPMD",d}(po||{});function Sf(d,a){return new Date(1980+(a>>9),(a>>5&15)-1,31&a,d>>11,d>>5&63,31&d)}function Tl(d,a,u,l){return 0===l?"":a?d.toString("utf8",u,u+l):Ho.byte2str(d.slice(u,u+l))}var nr=function(a){if(this.data=a,67324752!==a.readUInt32LE(0))throw new b(v.EINVAL,"Invalid Zip file: Local file header has invalid signature: "+this.data.readUInt32LE(0))};nr.prototype.versionNeeded=function(){return this.data.readUInt16LE(4)},nr.prototype.flags=function(){return this.data.readUInt16LE(6)},nr.prototype.compressionMethod=function(){return this.data.readUInt16LE(8)},nr.prototype.lastModFileTime=function(){return Sf(this.data.readUInt16LE(10),this.data.readUInt16LE(12))},nr.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(10)},nr.prototype.crc32=function(){return this.data.readUInt32LE(14)},nr.prototype.fileNameLength=function(){return this.data.readUInt16LE(26)},nr.prototype.extraFieldLength=function(){return this.data.readUInt16LE(28)},nr.prototype.fileName=function(){return Tl(this.data,this.useUTF8(),30,this.fileNameLength())},nr.prototype.extraField=function(){var a=30+this.fileNameLength();return this.data.slice(a,a+this.extraFieldLength())},nr.prototype.totalSize=function(){return 30+this.fileNameLength()+this.extraFieldLength()},nr.prototype.useUTF8=function(){return!(2048&~this.flags())};var Ca=function(a,u,l){this.header=a,this.record=u,this.data=l};Ca.prototype.decompress=function(){var a=this.header.compressionMethod(),u=ba[a];if(u)return u(this.data,this.record.compressedSize(),this.record.uncompressedSize(),this.record.flag());var l=po[a];throw l||(l="Unknown: "+a),new b(v.EINVAL,"Invalid compression method on file '"+this.header.fileName()+"': "+l)},Ca.prototype.getHeader=function(){return this.header},Ca.prototype.getRecord=function(){return this.record},Ca.prototype.getRawData=function(){return this.data};var Ia=function(a){this.data=a};Ia.prototype.crc32=function(){return this.data.readUInt32LE(0)},Ia.prototype.compressedSize=function(){return this.data.readUInt32LE(4)},Ia.prototype.uncompressedSize=function(){return this.data.readUInt32LE(8)};var bf=function(a){if(this.data=a,134630224!==this.data.readUInt32LE(0))throw new b(v.EINVAL,"Invalid archive extra data record signature: "+this.data.readUInt32LE(0))};bf.prototype.length=function(){return this.data.readUInt32LE(4)},bf.prototype.extraFieldData=function(){return this.data.slice(8,8+this.length())};var Pl=function(a){if(this.data=a,84233040!==this.data.readUInt32LE(0))throw new b(v.EINVAL,"Invalid digital signature signature: "+this.data.readUInt32LE(0))};Pl.prototype.size=function(){return this.data.readUInt16LE(4)},Pl.prototype.signatureData=function(){return this.data.slice(6,6+this.size())};var en=function(a,u){if(this.zipData=a,this.data=u,33639248!==this.data.readUInt32LE(0))throw new b(v.EINVAL,"Invalid Zip file: Central directory record has invalid signature: "+this.data.readUInt32LE(0));this._filename=this.produceFilename()};en.prototype.versionMadeBy=function(){return this.data.readUInt16LE(4)},en.prototype.versionNeeded=function(){return this.data.readUInt16LE(6)},en.prototype.flag=function(){return this.data.readUInt16LE(8)},en.prototype.compressionMethod=function(){return this.data.readUInt16LE(10)},en.prototype.lastModFileTime=function(){return Sf(this.data.readUInt16LE(12),this.data.readUInt16LE(14))},en.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(12)},en.prototype.crc32=function(){return this.data.readUInt32LE(16)},en.prototype.compressedSize=function(){return this.data.readUInt32LE(20)},en.prototype.uncompressedSize=function(){return this.data.readUInt32LE(24)},en.prototype.fileNameLength=function(){return this.data.readUInt16LE(28)},en.prototype.extraFieldLength=function(){return this.data.readUInt16LE(30)},en.prototype.fileCommentLength=function(){return this.data.readUInt16LE(32)},en.prototype.diskNumberStart=function(){return this.data.readUInt16LE(34)},en.prototype.internalAttributes=function(){return this.data.readUInt16LE(36)},en.prototype.externalAttributes=function(){return this.data.readUInt32LE(38)},en.prototype.headerRelativeOffset=function(){return this.data.readUInt32LE(42)},en.prototype.produceFilename=function(){return Tl(this.data,this.useUTF8(),46,this.fileNameLength()).replace(/\\/g,"/")},en.prototype.fileName=function(){return this._filename},en.prototype.rawFileName=function(){return this.data.slice(46,46+this.fileNameLength())},en.prototype.extraField=function(){var a=44+this.fileNameLength();return this.data.slice(a,a+this.extraFieldLength())},en.prototype.fileComment=function(){var a=46+this.fileNameLength()+this.extraFieldLength();return Tl(this.data,this.useUTF8(),a,this.fileCommentLength())},en.prototype.rawFileComment=function(){var a=46+this.fileNameLength()+this.extraFieldLength();return this.data.slice(a,a+this.fileCommentLength())},en.prototype.totalSize=function(){return 46+this.fileNameLength()+this.extraFieldLength()+this.fileCommentLength()},en.prototype.isDirectory=function(){var a=this.fileName();return!!(16&this.externalAttributes())||"/"===a.charAt(a.length-1)},en.prototype.isFile=function(){return!this.isDirectory()},en.prototype.useUTF8=function(){return!(2048&~this.flag())},en.prototype.isEncrypted=function(){return!(1&~this.flag())},en.prototype.getFileData=function(){var a=this.headerRelativeOffset(),u=new nr(this.zipData.slice(a));return new Ca(u,this,this.zipData.slice(a+u.totalSize()))},en.prototype.getData=function(){return this.getFileData().decompress()},en.prototype.getRawData=function(){return this.getFileData().getRawData()},en.prototype.getStats=function(){return new oe(Z.FILE,this.uncompressedSize(),365,new Date,this.lastModFileTime())};var Pi=function(a){if(this.data=a,101010256!==this.data.readUInt32LE(0))throw new b(v.EINVAL,"Invalid Zip file: End of central directory record has invalid signature: "+this.data.readUInt32LE(0))};Pi.prototype.diskNumber=function(){return this.data.readUInt16LE(4)},Pi.prototype.cdDiskNumber=function(){return this.data.readUInt16LE(6)},Pi.prototype.cdDiskEntryCount=function(){return this.data.readUInt16LE(8)},Pi.prototype.cdTotalEntryCount=function(){return this.data.readUInt16LE(10)},Pi.prototype.cdSize=function(){return this.data.readUInt32LE(12)},Pi.prototype.cdOffset=function(){return this.data.readUInt32LE(16)},Pi.prototype.cdZipCommentLength=function(){return this.data.readUInt16LE(20)},Pi.prototype.cdZipComment=function(){return Tl(this.data,!0,22,this.cdZipCommentLength())},Pi.prototype.rawCdZipComment=function(){return this.data.slice(22,22+this.cdZipCommentLength())};var Cf=function(a,u,l,f){this.index=a,this.directoryEntries=u,this.eocd=l,this.data=f},ti=function(d){function a(u,l,f){void 0===l&&(l=""),void 0===f&&(f=!0),d.call(this),this.name=l,this._index=new _r,this._directoryEntries=[],this._eocd=null,je(f,a.Name,{zipData:"zip data as a Buffer",name:l}),u instanceof Cf?(this._index=u.index,this._directoryEntries=u.directoryEntries,this._eocd=u.eocd,this.data=u.data):(this.data=u,this.populateIndex())}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.Create=function(l,f){try{a.computeIndex(l.zipData,function(p){var _=new a(p,l.name,!1);f(null,_)},!1)}catch(p){f(p)}},a.isAvailable=function(){return!0},a.RegisterDecompressionMethod=function(l,f){ba[l]=f},a.computeIndex=function(l,f,p){void 0===p&&(p=!0),p&&console.warn("[ZipFS] ZipFS.computeIndex is now deprecated, and will be removed in the next major release. Please update your code to use 'ZipFS.Create({ zipData: zip file as a Buffer}, cb)' instead.");var _=new _r,S=a.getEOCD(l);if(S.diskNumber()!==S.cdDiskNumber())throw new b(v.EINVAL,"ZipFS does not support spanned zip files.");var x=S.cdOffset();if(4294967295===x)throw new b(v.EINVAL,"ZipFS does not support Zip64.");var N=x+S.cdSize();a.computeIndexResponsive(l,_,x,N,f,[],S)},a.getEOCD=function(l){for(var p=Math.min(65557,l.length-1),_=22;_<p;_++)if(101010256===l.readUInt32LE(l.length-_))return new Pi(l.slice(l.length-_));throw new b(v.EINVAL,"Invalid ZIP file: Could not locate End of Central Directory signature.")},a.addToIndex=function(l,f){var p=l.fileName();if("/"===p.charAt(0))throw new Error("WHY IS THIS ABSOLUTE");"/"===p.charAt(p.length-1)&&(p=p.substr(0,p.length-1)),l.isDirectory()?f.addPathFast("/"+p,new si(l)):f.addPathFast("/"+p,new ms(l))},a.computeIndexResponsive=function(l,f,p,_,S,x,N){if(p<_){for(var J=0;J++<200&&p<_;){var ue=new en(l,l.slice(p));a.addToIndex(ue,f),p+=ue.totalSize(),x.push(ue)}Il(function(){a.computeIndexResponsive(l,f,p,_,S,x,N)})}else S(new Cf(f,x,N,l))},a.prototype.getName=function(){return a.Name+(""!==this.name?" "+this.name:"")},a.prototype.getCentralDirectoryEntry=function(l){var f=this._index.getInode(l);if(null===f)throw b.ENOENT(l);if(ho(f))return f.getData();if(Li(f))return f.getData();throw b.EPERM("Invalid inode: "+f)},a.prototype.getCentralDirectoryEntryAt=function(l){var f=this._directoryEntries[l];if(!f)throw new RangeError("Invalid directory index: "+l+".");return f},a.prototype.getNumberOfCentralDirectoryEntries=function(){return this._directoryEntries.length},a.prototype.getEndOfCentralDirectory=function(){return this._eocd},a.prototype.diskSpace=function(l,f){f(this.data.length,0)},a.prototype.isReadOnly=function(){return!0},a.prototype.supportsLinks=function(){return!1},a.prototype.supportsProps=function(){return!1},a.prototype.supportsSynch=function(){return!0},a.prototype.statSync=function(l,f){var _,p=this._index.getInode(l);if(null===p)throw b.ENOENT(l);if(ho(p))_=p.getData().getStats();else{if(!Li(p))throw new b(v.EINVAL,"Invalid inode.");_=p.getStats()}return _},a.prototype.openSync=function(l,f,p){if(f.isWriteable())throw new b(v.EPERM,l);var _=this._index.getInode(l);if(!_)throw b.ENOENT(l);if(!ho(_))throw b.EISDIR(l);var S=_.getData(),x=S.getStats();switch(f.pathExistsAction()){case ee.THROW_EXCEPTION:case ee.TRUNCATE_FILE:throw b.EEXIST(l);case ee.NOP:return new ii(this,l,f,x,S.getData());default:throw new b(v.EINVAL,"Invalid FileMode object.")}},a.prototype.readdirSync=function(l){var f=this._index.getInode(l);if(f){if(Li(f))return f.getListing();throw b.ENOTDIR(l)}throw b.ENOENT(l)},a.prototype.readFileSync=function(l,f,p){var _=this.openSync(l,p,420);try{var x=_.getBuffer();return null===f?yt(x):x.toString(f)}finally{_.closeSync()}},a.prototype.populateIndex=function(){var l=this,f=this._eocd=a.getEOCD(this.data);if(f.diskNumber()!==f.cdDiskNumber())throw new b(v.EINVAL,"ZipFS does not support spanned zip files.");var p=f.cdOffset();if(4294967295===p)throw new b(v.EINVAL,"ZipFS does not support Zip64.");for(var _=p+f.cdSize();p<_;){var S=new en(l.data,l.data.slice(p));p+=S.totalSize(),a.addToIndex(S,l._index),l._directoryEntries.push(S)}},a}(Ze);ti.Name="ZipFS",ti.Options={zipData:{type:"object",description:"The zip file as a Buffer object.",validator:Zn},name:{type:"string",optional:!0,description:"The name of the zip file (optional)."}},ti.CompressionMethod=po,ti.RegisterDecompressionMethod(po.DEFLATE,function(d,a,u){return ht(ot(d.slice(0,a),{chunkSize:u}))}),ti.RegisterDecompressionMethod(po.STORED,function(d,a,u){return yt(d,0,u)});function Bi(d,a,u){return d.toString("ascii",a,a+u).trim()}function Ws(d,a,u){if(1===u)return String.fromCharCode(d[a]);for(var l=Math.floor(u/2),f=new Array(l),p=0;p<l;p++){var _=a+(p<<1);f[p]=String.fromCharCode(d[_+1]|d[_]<<8)}return f.join("")}function ir(d,a){var u=parseInt(Bi(d,a,4),10),l=parseInt(Bi(d,a+4,2),10),f=parseInt(Bi(d,a+6,2),10),p=parseInt(Bi(d,a+8,2),10),_=parseInt(Bi(d,a+10,2),10),S=parseInt(Bi(d,a+12,2),10),x=parseInt(Bi(d,a+14,2),10);return new Date(u,l,f,p,_,S,100*x)}function go(d,a){return new Date(d[a],d[a+1]-1,d[a+2],d[a+3],d[a+4],d[a+5])}function pE(d,a){var u=d.slice(a),l=new bt(u);switch(l.signatureWord()){case 17221:return new Pr(u);case 20548:return new If(u);case 21328:return new Al(u);case 21332:return new Da(u);case 17746:return new Ma(u);case 17747:return new Ar(u);case 20568:return new xf(u);case 20558:return new lu(u);case 21324:return new kl(u);case 20045:return new Zs(u);case 17228:return new Ol(u);case 20556:return new Df(u);case 21061:return new Mf(u);case 21574:return new Nl(u);case 21318:return new vm(u);case 21074:return new mo(u);default:return l}}function ou(d,a,u,l){u-=4;for(var f=new Array;a<u;){var p=pE(d,a),_=p.length();if(0===_)return f;if(a+=_,p instanceof Da)break;p instanceof Pr?f=f.concat(p.getEntries(l)):f.push(p)}return f}var xa=function(a){this._data=a};xa.prototype.type=function(){return this._data[0]},xa.prototype.standardIdentifier=function(){return Bi(this._data,1,5)},xa.prototype.version=function(){return this._data[6]},xa.prototype.data=function(){return this._data.slice(7,2048)};var $i=function(d){function a(u){d.call(this,u),this._root=null}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype.systemIdentifier=function(){return this._getString32(8)},a.prototype.volumeIdentifier=function(){return this._getString32(40)},a.prototype.volumeSpaceSize=function(){return this._data.readUInt32LE(80)},a.prototype.volumeSetSize=function(){return this._data.readUInt16LE(120)},a.prototype.volumeSequenceNumber=function(){return this._data.readUInt16LE(124)},a.prototype.logicalBlockSize=function(){return this._data.readUInt16LE(128)},a.prototype.pathTableSize=function(){return this._data.readUInt32LE(132)},a.prototype.locationOfTypeLPathTable=function(){return this._data.readUInt32LE(140)},a.prototype.locationOfOptionalTypeLPathTable=function(){return this._data.readUInt32LE(144)},a.prototype.locationOfTypeMPathTable=function(){return this._data.readUInt32BE(148)},a.prototype.locationOfOptionalTypeMPathTable=function(){return this._data.readUInt32BE(152)},a.prototype.rootDirectoryEntry=function(l){return null===this._root&&(this._root=this._constructRootDirectoryRecord(this._data.slice(156)),this._root.rootCheckForRockRidge(l)),this._root},a.prototype.volumeSetIdentifier=function(){return this._getString(190,128)},a.prototype.publisherIdentifier=function(){return this._getString(318,128)},a.prototype.dataPreparerIdentifier=function(){return this._getString(446,128)},a.prototype.applicationIdentifier=function(){return this._getString(574,128)},a.prototype.copyrightFileIdentifier=function(){return this._getString(702,38)},a.prototype.abstractFileIdentifier=function(){return this._getString(740,36)},a.prototype.bibliographicFileIdentifier=function(){return this._getString(776,37)},a.prototype.volumeCreationDate=function(){return ir(this._data,813)},a.prototype.volumeModificationDate=function(){return ir(this._data,830)},a.prototype.volumeExpirationDate=function(){return ir(this._data,847)},a.prototype.volumeEffectiveDate=function(){return ir(this._data,864)},a.prototype.fileStructureVersion=function(){return this._data[881]},a.prototype.applicationUsed=function(){return this._data.slice(883,1395)},a.prototype.reserved=function(){return this._data.slice(1395,2048)},a.prototype._getString32=function(l){return this._getString(l,32)},a}(xa),su=function(d){function a(u){if(d.call(this,u),1!==this.type())throw new b(v.EIO,"Invalid primary volume descriptor.")}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype.name=function(){return"ISO9660"},a.prototype._constructRootDirectoryRecord=function(l){return new au(l,-1)},a.prototype._getString=function(l,f){return this._getString(l,f)},a}($i),Gs=function(d){function a(u){if(d.call(this,u),2!==this.type())throw new b(v.EIO,"Invalid supplementary volume descriptor.");var l=this.escapeSequence(),f=l[2];if(37!==l[0]||47!==l[1]||64!==f&&67!==f&&69!==f)throw new b(v.EIO,"Unrecognized escape sequence for SupplementaryVolumeDescriptor: "+l.toString())}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype.name=function(){return"Joliet"},a.prototype.escapeSequence=function(){return this._data.slice(88,120)},a.prototype._constructRootDirectoryRecord=function(l){return new Tr(l,-1)},a.prototype._getString=function(l,f){return Ws(this._data,l,f)},a}($i),Bn=function(a,u){this._suEntries=null,this._fileOrDir=null,this._data=a,this._rockRidgeOffset=u};Bn.prototype.hasRockRidge=function(){return this._rockRidgeOffset>-1},Bn.prototype.getRockRidgeOffset=function(){return this._rockRidgeOffset},Bn.prototype.rootCheckForRockRidge=function(a){var u=this.getDirectory(a);this._rockRidgeOffset=u.getDotEntry(a)._getRockRidgeOffset(a),this._rockRidgeOffset>-1&&(this._fileOrDir=null)},Bn.prototype.length=function(){return this._data[0]},Bn.prototype.extendedAttributeRecordLength=function(){return this._data[1]},Bn.prototype.lba=function(){return 2048*this._data.readUInt32LE(2)},Bn.prototype.dataLength=function(){return this._data.readUInt32LE(10)},Bn.prototype.recordingDate=function(){return go(this._data,18)},Bn.prototype.fileFlags=function(){return this._data[25]},Bn.prototype.fileUnitSize=function(){return this._data[26]},Bn.prototype.interleaveGapSize=function(){return this._data[27]},Bn.prototype.volumeSequenceNumber=function(){return this._data.readUInt16LE(28)},Bn.prototype.identifier=function(){return this._getString(33,this._data[32])},Bn.prototype.fileName=function(a){if(this.hasRockRidge()){var u=this._rockRidgeFilename(a);if(null!==u)return u}var l=this.identifier();if(this.isDirectory(a))return l;var f=l.indexOf(";");return-1===f?l:l.slice(0,"."===l[f-1]?f-1:f)},Bn.prototype.isDirectory=function(a){var u=!!(2&this.fileFlags());return!u&&this.hasRockRidge()&&(u=this.getSUEntries(a).filter(function(l){return l instanceof Ol}).length>0),u},Bn.prototype.isSymlink=function(a){return this.hasRockRidge()&&this.getSUEntries(a).filter(function(u){return u instanceof kl}).length>0},Bn.prototype.getSymlinkPath=function(a){for(var u="",l=this.getSUEntries(a),f=this._getGetString(),p=0,_=l;p<_.length;p+=1){var S=_[p];if(S instanceof kl){for(var N=0,J=S.componentRecords();N<J.length;N+=1){var ue=J[N],we=ue.flags();2&we?u+="./":4&we?u+="../":8&we?u+="/":(u+=ue.content(f),1&we||(u+="/"))}if(!S.continueFlag())break}}return u.length>1&&"/"===u[u.length-1]?u.slice(0,u.length-1):u},Bn.prototype.getFile=function(a){if(this.isDirectory(a))throw new Error("Tried to get a File from a directory.");return null===this._fileOrDir&&(this._fileOrDir=a.slice(this.lba(),this.lba()+this.dataLength())),this._fileOrDir},Bn.prototype.getDirectory=function(a){if(!this.isDirectory(a))throw new Error("Tried to get a Directory from a file.");return null===this._fileOrDir&&(this._fileOrDir=this._constructDirectory(a)),this._fileOrDir},Bn.prototype.getSUEntries=function(a){return this._suEntries||this._constructSUEntries(a),this._suEntries},Bn.prototype._rockRidgeFilename=function(a){var u=this.getSUEntries(a).filter(function(x){return x instanceof Zs});if(0===u.length||6&u[0].flags())return null;for(var l="",f=this._getGetString(),p=0,_=u;p<_.length;p+=1){var S=_[p];if(l+=S.name(f),!(1&S.flags()))break}return l},Bn.prototype._constructSUEntries=function(a){var u=33+this._data[32];u%2==1&&u++,this._suEntries=ou(this._data,u+=this._rockRidgeOffset,this.length(),a)},Bn.prototype._getRockRidgeOffset=function(a){this._rockRidgeOffset=0;var u=this.getSUEntries(a);if(u.length>0){var l=u[0];if(l instanceof Al&&l.checkBytesPass())for(var f=1;f<u.length;f++){var p=u[f];if(p instanceof mo||p instanceof Ma&&"IEEE_P1282"===p.extensionIdentifier())return l.bytesSkipped()}}return this._rockRidgeOffset=-1,-1};var au=function(d){function a(u,l){d.call(this,u,l)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype._getString=function(l,f){return Bi(this._data,l,f)},a.prototype._constructDirectory=function(l){return new kr(this,l)},a.prototype._getGetString=function(){return Bi},a}(Bn),Tr=function(d){function a(u,l){d.call(this,u,l)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype._getString=function(l,f){return Ws(this._data,l,f)},a.prototype._constructDirectory=function(l){return new wm(this,l)},a.prototype._getGetString=function(){return Ws},a}(Bn),bt=function(a){this._data=a};bt.prototype.signatureWord=function(){return this._data.readUInt16BE(0)},bt.prototype.signatureWordString=function(){return Bi(this._data,0,2)},bt.prototype.length=function(){return this._data[2]},bt.prototype.suVersion=function(){return this._data[3]};var Pr=function(d){function a(u){d.call(this,u),this._entries=null}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype.continuationLba=function(){return this._data.readUInt32LE(4)},a.prototype.continuationLbaOffset=function(){return this._data.readUInt32LE(12)},a.prototype.continuationLength=function(){return this._data.readUInt32LE(20)},a.prototype.getEntries=function(l){if(!this._entries){var f=2048*this.continuationLba()+this.continuationLbaOffset();this._entries=ou(l,f,this.continuationLength(),l)}return this._entries},a}(bt),If=function(d){function a(u){d.call(this,u)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a}(bt),Al=function(d){function a(u){d.call(this,u)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype.checkBytesPass=function(){return 190===this._data[4]&&239===this._data[5]},a.prototype.bytesSkipped=function(){return this._data[6]},a}(bt),Da=function(d){function a(u){d.call(this,u)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a}(bt),Ma=function(d){function a(u){d.call(this,u)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype.identifierLength=function(){return this._data[4]},a.prototype.descriptorLength=function(){return this._data[5]},a.prototype.sourceLength=function(){return this._data[6]},a.prototype.extensionVersion=function(){return this._data[7]},a.prototype.extensionIdentifier=function(){return Bi(this._data,8,this.identifierLength())},a.prototype.extensionDescriptor=function(){return Bi(this._data,8+this.identifierLength(),this.descriptorLength())},a.prototype.extensionSource=function(){return Bi(this._data,8+this.identifierLength()+this.descriptorLength(),this.sourceLength())},a}(bt),Ar=function(d){function a(u){d.call(this,u)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype.extensionSequence=function(){return this._data[4]},a}(bt),mo=function(d){function a(u){d.call(this,u)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a}(bt),xf=function(d){function a(u){d.call(this,u)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype.mode=function(){return this._data.readUInt32LE(4)},a.prototype.fileLinks=function(){return this._data.readUInt32LE(12)},a.prototype.uid=function(){return this._data.readUInt32LE(20)},a.prototype.gid=function(){return this._data.readUInt32LE(28)},a.prototype.inode=function(){return this._data.readUInt32LE(36)},a}(bt),lu=function(d){function a(u){d.call(this,u)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype.devTHigh=function(){return this._data.readUInt32LE(4)},a.prototype.devTLow=function(){return this._data.readUInt32LE(12)},a}(bt),kl=function(d){function a(u){d.call(this,u)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype.flags=function(){return this._data[4]},a.prototype.continueFlag=function(){return 1&this.flags()},a.prototype.componentRecords=function(){for(var f=new Array,p=5;p<this.length();){var _=new Ys(this._data.slice(p));f.push(_),p+=_.length()}return f},a}(bt),Ys=function(a){this._data=a};Ys.prototype.flags=function(){return this._data[0]},Ys.prototype.length=function(){return 2+this.componentLength()},Ys.prototype.componentLength=function(){return this._data[1]},Ys.prototype.content=function(a){return a(this._data,2,this.componentLength())};var Zs=function(d){function a(u){d.call(this,u)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype.flags=function(){return this._data[4]},a.prototype.name=function(l){return l(this._data,5,this.length()-5)},a}(bt),Ol=function(d){function a(u){d.call(this,u)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype.childDirectoryLba=function(){return this._data.readUInt32LE(4)},a}(bt),Df=function(d){function a(u){d.call(this,u)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype.parentDirectoryLba=function(){return this._data.readUInt32LE(4)},a}(bt),Mf=function(d){function a(u){d.call(this,u)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a}(bt),Nl=function(d){function a(u){d.call(this,u)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype.flags=function(){return this._data[4]},a.prototype.creation=function(){return 1&this.flags()?this._longFormDates()?ir(this._data,5):go(this._data,5):null},a.prototype.modify=function(){if(2&this.flags()){var l=1&this.flags()?1:0;return this._longFormDates?ir(this._data,5+17*l):go(this._data,5+7*l)}return null},a.prototype.access=function(){if(4&this.flags()){var l=1&this.flags()?1:0;return l+=2&this.flags()?1:0,this._longFormDates?ir(this._data,5+17*l):go(this._data,5+7*l)}return null},a.prototype.backup=function(){if(16&this.flags()){var l=1&this.flags()?1:0;return l+=2&this.flags()?1:0,l+=4&this.flags()?1:0,this._longFormDates?ir(this._data,5+17*l):go(this._data,5+7*l)}return null},a.prototype.expiration=function(){if(32&this.flags()){var l=1&this.flags()?1:0;return l+=2&this.flags()?1:0,l+=4&this.flags()?1:0,l+=16&this.flags()?1:0,this._longFormDates?ir(this._data,5+17*l):go(this._data,5+7*l)}return null},a.prototype.effective=function(){if(64&this.flags()){var l=1&this.flags()?1:0;return l+=2&this.flags()?1:0,l+=4&this.flags()?1:0,l+=16&this.flags()?1:0,l+=32&this.flags()?1:0,this._longFormDates?ir(this._data,5+17*l):go(this._data,5+7*l)}return null},a.prototype._longFormDates=function(){return!!this.flags()},a}(bt),vm=function(d){function a(u){d.call(this,u)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype.virtualSizeHigh=function(){return this._data.readUInt32LE(4)},a.prototype.virtualSizeLow=function(){return this._data.readUInt32LE(12)},a.prototype.tableDepth=function(){return this._data[20]},a}(bt),Ta=function(a,u){var l=this;this._fileList=[],this._fileMap={},this._record=a;var f=a.lba(),p=f+a.dataLength();for(2&a.fileFlags()||(f=2048*a.getSUEntries(u).filter(function(J){return J instanceof Ol})[0].childDirectoryLba(),p=1/0);f<p;)if(0!==u[f]){var x=l._constructDirectoryRecord(u.slice(f)),N=x.fileName(u);"\0"!==N&&"\x01"!==N?(!x.hasRockRidge()||0===x.getSUEntries(u).filter(function(J){return J instanceof Mf}).length)&&(l._fileMap[N]=x,l._fileList.push(N)):p===1/0&&(p=f+x.dataLength()),f+=x.length()}else f++};Ta.prototype.getRecord=function(a){return this._fileMap[a]},Ta.prototype.getFileList=function(){return this._fileList},Ta.prototype.getDotEntry=function(a){return this._constructDirectoryRecord(a.slice(this._record.lba()))};var kr=function(d){function a(u,l){d.call(this,u,l)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype._constructDirectoryRecord=function(l){return new au(l,this._record.getRockRidgeOffset())},a}(Ta),wm=function(d){function a(u,l){d.call(this,u,l)}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.prototype._constructDirectoryRecord=function(l){return new Tr(l,this._record.getRockRidgeOffset())},a}(Ta),Pa=function(d){function a(u,l,f){var p=this;void 0===l&&(l=""),void 0===f&&(f=!0),d.call(this),this._data=u,je(f,a.Name,{data:"ISO data as a Buffer",name:l});for(var _=!1,S=32768,x=new Array;!_;){var N=u.slice(S);switch(new xa(N).type()){case 1:x.push(new su(N));break;case 2:x.push(new Gs(N));break;case 255:_=!0}S+=2048}if(0===x.length)throw new b(v.EIO,"Unable to find a suitable volume descriptor.");x.forEach(function(ue){(!p._pvd||2!==p._pvd.type())&&(p._pvd=ue)}),this._root=this._pvd.rootDirectoryEntry(u),this._name=l}return d&&(a.__proto__=d),(a.prototype=Object.create(d&&d.prototype)).constructor=a,a.Create=function(l,f){var p;try{p=new a(l.data,l.name,!1)}catch(S){}finally{f(undefined,p)}},a.isAvailable=function(){return!0},a.prototype.getName=function(){var l="IsoFS"+this._name+(this._pvd?"-"+this._pvd.name():"");return this._root&&this._root.hasRockRidge()&&(l+="-RockRidge"),l},a.prototype.diskSpace=function(l,f){f(this._data.length,0)},a.prototype.isReadOnly=function(){return!0},a.prototype.supportsLinks=function(){return!1},a.prototype.supportsProps=function(){return!1},a.prototype.supportsSynch=function(){return!0},a.prototype.statSync=function(l,f){var p=this._getDirectoryRecord(l);if(null===p)throw b.ENOENT(l);return this._getStats(l,p)},a.prototype.openSync=function(l,f,p){if(f.isWriteable())throw new b(v.EPERM,l);var _=this._getDirectoryRecord(l);if(!_)throw b.ENOENT(l);if(_.isSymlink(this._data))return this.openSync(D.resolve(l,_.getSymlinkPath(this._data)),f,p);if(_.isDirectory(this._data))throw b.EISDIR(l);var S=_.getFile(this._data),x=this._getStats(l,_);switch(f.pathExistsAction()){case ee.THROW_EXCEPTION:case ee.TRUNCATE_FILE:throw b.EEXIST(l);case ee.NOP:return new ii(this,l,f,x,S);default:throw new b(v.EINVAL,"Invalid FileMode object.")}},a.prototype.readdirSync=function(l){var f=this._getDirectoryRecord(l);if(f){if(f.isDirectory(this._data))return f.getDirectory(this._data).getFileList().slice(0);throw b.ENOTDIR(l)}throw b.ENOENT(l)},a.prototype.readFileSync=function(l,f,p){var _=this.openSync(l,p,420);try{var x=_.getBuffer();return null===f?yt(x):x.toString(f)}finally{_.closeSync()}},a.prototype._getDirectoryRecord=function(l){if("/"===l)return this._root;for(var p=l.split("/").slice(1),_=this._root,S=0,x=p;S<x.length;S+=1){var N=x[S];if(!_.isDirectory(this._data))return null;if(!(_=_.getDirectory(this._data).getRecord(N)))return null}return _},a.prototype._getStats=function(l,f){if(f.isSymlink(this._data)){var p=D.resolve(l,f.getSymlinkPath(this._data)),_=this._getDirectoryRecord(p);return _?this._getStats(p,_):null}var S=f.dataLength(),x=365,N=f.recordingDate(),J=N,ue=N,we=N;if(f.hasRockRidge())for(var ze=0,st=f.getSUEntries(this._data);ze<st.length;ze+=1){var It=st[ze];if(It instanceof xf)x=It.mode();else if(It instanceof Nl){var jt=It.flags();4&jt&&(J=It.access()),2&jt&&(ue=It.modify()),1&jt&&(we=It.creation())}}return x&=365,new oe(f.isDirectory(this._data)?Z.DIRECTORY:Z.FILE,S,x,J,ue,we)},a}(Ze);Pa.Name="IsoFS",Pa.Options={data:{type:"object",description:"The ISO file in a buffer",validator:Zn}},[w,Jc,lo,Dr,Ls,va,vl,Pa,El,mt,ps,Si,Vt,ti].forEach(function(d){var a=d.Create;d.Create=function(u,l){var f="function"==typeof u,p=f?u:l,_=f?{}:u;K(d,_,function S(x){x?p(x):a.call(d,_,p)})}});var Fl={AsyncMirror:w,Dropbox:Jc,Emscripten:lo,FolderAdapter:Dr,HTML5FS:Ls,InMemory:va,IndexedDB:vl,IsoFS:Pa,LocalStorage:El,MountableFileSystem:mt,OverlayFS:ps,WorkerFS:Si,XmlHttpRequest:Vt,ZipFS:ti};function Tf(d){switch(d){case"fs":return Ie;case"path":return D;case"buffer":return F;case"process":return V;case"bfs_utils":return X;default:return Fl[d]}}function cu(d){return Ie.initialize(d)}function uu(d,a){var u=d.fs;if(!u)return a(new b(v.EPERM,'Missing "fs" property on configuration object.'));var l=d.options,f=0,p=!1;function _(){if(!p){p=!0;var N=Fl[u];N?N.Create(l,a):a(new b(v.EPERM,"File system "+u+" is not available in BrowserFS."))}}if(null!==l&&"object"==typeof l){var S=!1;Object.keys(l).filter(function(N){return"fs"!==N}).forEach(function(N){var J=l[N];null!==J&&"object"==typeof J&&J.fs&&(f++,uu(J,function(ue,we){if(f--,ue){if(p)return;p=!0,a(ue)}else l[N]=we,0===f&&S&&_()}))}),S=!0}0===f&&_()}V.initializeTTYs&&V.initializeTTYs(),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&(Uint8Array.prototype.slice||(Uint8Array.prototype.slice=function(d,a){void 0===d&&(d=0),void 0===a&&(a=this.length);return d<0&&(d=this.length+d)<0&&(d=0),a<0&&(a=this.length+a)<0&&(a=0),a<d&&(a=d),new Uint8Array(this.buffer,this.byteOffset+d,a-d)})),ae.install=function Em(d){d.Buffer=Q,d.process=V;var a=d.require?d.require:null;d.require=function(u){return Tf(u)||a.apply(null,Array.prototype.slice.call(arguments,0))}},ae.registerFileSystem=function Sm(d,a){Fl[d]=a},ae.BFSRequire=Tf,ae.initialize=cu,ae.configure=function bm(d,a){uu(d,function(u,l){l?(cu(l),a()):a(u)})},ae.getFileSystem=uu,ae.EmscriptenFS=pt,ae.FileSystem=Fl,ae.Errors=$,ae.setImmediate=Il}).call(ae,q(1),function(){return this}(),q(5)(xe),q(6))},function(xe,ae,q){xe.exports=q(2).Buffer},function(xe,ae,q){(function(v){"use strict";var ce=q(3),R=q(4);ae.Buffer=v,ae.SlowBuffer=function le(w){return+w!=w&&(w=0),v.alloc(+w)},ae.INSPECT_MAX_BYTES=50;var V=2147483647;function D(w){if(w>V)throw new RangeError("Invalid typed array length");var m=new Uint8Array(w);return m.__proto__=v.prototype,m}function v(w,m,E){if("number"==typeof w){if("string"==typeof m)throw new Error("If encoding is specified then the first argument must be a string");return ee(w)}return k(w,m,E)}function k(w,m,E){if("number"==typeof w)throw new TypeError('"value" argument must not be a number');return vn(w)?function oe(w,m,E){if(m<0||w.byteLength<m)throw new RangeError("'offset' is out of bounds");if(w.byteLength<m+(E||0))throw new RangeError("'length' is out of bounds");var M;return(M=void 0===m&&void 0===E?new Uint8Array(w):void 0===E?new Uint8Array(w,m):new Uint8Array(w,m,E)).__proto__=v.prototype,M}(w,m,E):"string"==typeof w?function L(w,m){if(("string"!=typeof m||""===m)&&(m="utf8"),!v.isEncoding(m))throw new TypeError('"encoding" must be a valid string encoding');var E=0|We(w,m),M=D(E),W=M.write(w,m);return W!==E&&(M=M.slice(0,W)),M}(w,m):function ge(w){if(v.isBuffer(w)){var m=0|fe(w.length),E=D(m);return 0===E.length||w.copy(E,0,0,m),E}if(w){if(ii(w)||"length"in w)return"number"!=typeof w.length||U(w.length)?D(0):Z(w);if("Buffer"===w.type&&Array.isArray(w.data))return Z(w.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(w)}function b(w){if("number"!=typeof w)throw new TypeError('"size" argument must be a number');if(w<0)throw new RangeError('"size" argument must not be negative')}function ee(w){return b(w),D(w<0?0:0|fe(w))}function Z(w){for(var m=w.length<0?0:0|fe(w.length),E=D(m),M=0;M<m;M+=1)E[M]=255&w[M];return E}function fe(w){if(w>=V)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+V.toString(16)+" bytes");return 0|w}function We(w,m){if(v.isBuffer(w))return w.length;if(ii(w)||vn(w))return w.byteLength;"string"!=typeof w&&(w=""+w);var E=w.length;if(0===E)return 0;for(var M=!1;;)switch(m){case"ascii":case"latin1":case"binary":return E;case"utf8":case"utf-8":case void 0:return Be(w).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*E;case"hex":return E>>>1;case"base64":return Ze(w).length;default:if(M)return Be(w).length;m=(""+m).toLowerCase(),M=!0}}function Oe(w,m,E){var M=!1;if((void 0===m||m<0)&&(m=0),m>this.length||((void 0===E||E>this.length)&&(E=this.length),E<=0)||(E>>>=0)<=(m>>>=0))return"";for(w||(w="utf8");;)switch(w){case"hex":return ht(this,m,E);case"utf8":case"utf-8":return Ot(this,m,E);case"ascii":return Ae(this,m,E);case"latin1":case"binary":return Xe(this,m,E);case"base64":return Ge(this,m,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return vt(this,m,E);default:if(M)throw new TypeError("Unknown encoding: "+w);w=(w+"").toLowerCase(),M=!0}}function it(w,m,E){var M=w[m];w[m]=w[E],w[E]=M}function tt(w,m,E,M,W){if(0===w.length)return-1;if("string"==typeof E?(M=E,E=0):E>2147483647?E=2147483647:E<-2147483648&&(E=-2147483648),U(E=+E)&&(E=W?0:w.length-1),E<0&&(E=w.length+E),E>=w.length){if(W)return-1;E=w.length-1}else if(E<0){if(!W)return-1;E=0}if("string"==typeof m&&(m=v.from(m,M)),v.isBuffer(m))return 0===m.length?-1:_e(w,m,E,M,W);if("number"==typeof m)return m&=255,"function"==typeof Uint8Array.prototype.indexOf?W?Uint8Array.prototype.indexOf.call(w,m,E):Uint8Array.prototype.lastIndexOf.call(w,m,E):_e(w,[m],E,M,W);throw new TypeError("val must be string, number or Buffer")}function _e(w,m,E,M,W){var Bt,ie=1,ve=w.length,Je=m.length;if(void 0!==M&&("ucs2"===(M=String(M).toLowerCase())||"ucs-2"===M||"utf16le"===M||"utf-16le"===M)){if(w.length<2||m.length<2)return-1;ie=2,ve/=2,Je/=2,E/=2}function gt(ro,oo){return 1===ie?ro[oo]:ro.readUInt16BE(oo*ie)}if(W){var Pt=-1;for(Bt=E;Bt<ve;Bt++)if(gt(w,Bt)===gt(m,-1===Pt?0:Bt-Pt)){if(-1===Pt&&(Pt=Bt),Bt-Pt+1===Je)return Pt*ie}else-1!==Pt&&(Bt-=Bt-Pt),Pt=-1}else for(E+Je>ve&&(E=ve-Je),Bt=E;Bt>=0;Bt--){for(var zt=!0,Ei=0;Ei<Je;Ei++)if(gt(w,Bt+Ei)!==gt(m,Ei)){zt=!1;break}if(zt)return Bt}return-1}function Re(w,m,E,M){E=Number(E)||0;var W=w.length-E;M?(M=Number(M))>W&&(M=W):M=W;var ie=m.length;if(ie%2!=0)throw new TypeError("Invalid hex string");M>ie/2&&(M=ie/2);for(var ve=0;ve<M;++ve){var Je=parseInt(m.substr(2*ve,2),16);if(U(Je))return ve;w[E+ve]=Je}return ve}function Ie(w,m,E,M){return ct(Be(m,w.length-E),w,E,M)}function Ne(w,m,E,M){return ct(function pt(w){for(var m=[],E=0;E<w.length;++E)m.push(255&w.charCodeAt(E));return m}(m),w,E,M)}function ke(w,m,E,M){return Ne(w,m,E,M)}function Ye(w,m,E,M){return ct(Ze(m),w,E,M)}function je(w,m,E,M){return ct(function He(w,m){for(var E,M,ie=[],ve=0;ve<w.length&&!((m-=2)<0);++ve)M=(E=w.charCodeAt(ve))>>8,ie.push(E%256),ie.push(M);return ie}(m,w.length-E),w,E,M)}function Ge(w,m,E){return ce.fromByteArray(0===m&&E===w.length?w:w.slice(m,E))}function Ot(w,m,E){E=Math.min(w.length,E);for(var M=[],W=m;W<E;){var gt,Bt,Pt,zt,ie=w[W],ve=null,Je=ie>239?4:ie>223?3:ie>191?2:1;if(W+Je<=E)switch(Je){case 1:ie<128&&(ve=ie);break;case 2:128==(192&(gt=w[W+1]))&&(zt=(31&ie)<<6|63&gt)>127&&(ve=zt);break;case 3:Bt=w[W+2],128==(192&(gt=w[W+1]))&&128==(192&Bt)&&(zt=(15&ie)<<12|(63&gt)<<6|63&Bt)>2047&&(zt<55296||zt>57343)&&(ve=zt);break;case 4:Bt=w[W+2],Pt=w[W+3],128==(192&(gt=w[W+1]))&&128==(192&Bt)&&128==(192&Pt)&&(zt=(15&ie)<<18|(63&gt)<<12|(63&Bt)<<6|63&Pt)>65535&&zt<1114112&&(ve=zt)}null===ve?(ve=65533,Je=1):ve>65535&&(M.push((ve-=65536)>>>10&1023|55296),ve=56320|1023&ve),M.push(ve),W+=Je}return function pe(w){var m=w.length;if(m<=me)return String.fromCharCode.apply(String,w);for(var E="",M=0;M<m;)E+=String.fromCharCode.apply(String,w.slice(M,M+=me));return E}(M)}ae.kMaxLength=V,v.TYPED_ARRAY_SUPPORT=function F(){try{var w=new Uint8Array(1);return w.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===w.foo()}catch{return!1}}(),!v.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),typeof Symbol<"u"&&Symbol.species&&v[Symbol.species]===v&&Object.defineProperty(v,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),v.poolSize=8192,v.from=function(w,m,E){return k(w,m,E)},v.prototype.__proto__=Uint8Array.prototype,v.__proto__=Uint8Array,v.alloc=function(w,m,E){return function $(w,m,E){return b(w),w<=0?D(w):void 0!==m?"string"==typeof E?D(w).fill(m,E):D(w).fill(m):D(w)}(w,m,E)},v.allocUnsafe=function(w){return ee(w)},v.allocUnsafeSlow=function(w){return ee(w)},v.isBuffer=function(m){return null!=m&&!0===m._isBuffer},v.compare=function(m,E){if(!v.isBuffer(m)||!v.isBuffer(E))throw new TypeError("Arguments must be Buffers");if(m===E)return 0;for(var M=m.length,W=E.length,ie=0,ve=Math.min(M,W);ie<ve;++ie)if(m[ie]!==E[ie]){M=m[ie],W=E[ie];break}return M<W?-1:W<M?1:0},v.isEncoding=function(m){switch(String(m).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},v.concat=function(m,E){if(!Array.isArray(m))throw new TypeError('"list" argument must be an Array of Buffers');if(0===m.length)return v.alloc(0);var M;if(void 0===E)for(E=0,M=0;M<m.length;++M)E+=m[M].length;var W=v.allocUnsafe(E),ie=0;for(M=0;M<m.length;++M){var ve=m[M];if(!v.isBuffer(ve))throw new TypeError('"list" argument must be an Array of Buffers');ve.copy(W,ie),ie+=ve.length}return W},v.byteLength=We,v.prototype._isBuffer=!0,v.prototype.swap16=function(){var m=this.length;if(m%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var E=0;E<m;E+=2)it(this,E,E+1);return this},v.prototype.swap32=function(){var m=this.length;if(m%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var E=0;E<m;E+=4)it(this,E,E+3),it(this,E+1,E+2);return this},v.prototype.swap64=function(){var m=this.length;if(m%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var E=0;E<m;E+=8)it(this,E,E+7),it(this,E+1,E+6),it(this,E+2,E+5),it(this,E+3,E+4);return this},v.prototype.toString=function(){var m=this.length;return 0===m?"":0===arguments.length?Ot(this,0,m):Oe.apply(this,arguments)},v.prototype.equals=function(m){if(!v.isBuffer(m))throw new TypeError("Argument must be a Buffer");return this===m||0===v.compare(this,m)},v.prototype.inspect=function(){var m="",E=ae.INSPECT_MAX_BYTES;return this.length>0&&(m=this.toString("hex",0,E).match(/.{2}/g).join(" "),this.length>E&&(m+=" ... ")),"<Buffer "+m+">"},v.prototype.compare=function(m,E,M,W,ie){if(!v.isBuffer(m))throw new TypeError("Argument must be a Buffer");if(void 0===E&&(E=0),void 0===M&&(M=m?m.length:0),void 0===W&&(W=0),void 0===ie&&(ie=this.length),E<0||M>m.length||W<0||ie>this.length)throw new RangeError("out of range index");if(W>=ie&&E>=M)return 0;if(W>=ie)return-1;if(E>=M)return 1;if(this===m)return 0;for(var ve=(ie>>>=0)-(W>>>=0),Je=(M>>>=0)-(E>>>=0),gt=Math.min(ve,Je),Bt=this.slice(W,ie),Pt=m.slice(E,M),zt=0;zt<gt;++zt)if(Bt[zt]!==Pt[zt]){ve=Bt[zt],Je=Pt[zt];break}return ve<Je?-1:Je<ve?1:0},v.prototype.includes=function(m,E,M){return-1!==this.indexOf(m,E,M)},v.prototype.indexOf=function(m,E,M){return tt(this,m,E,M,!0)},v.prototype.lastIndexOf=function(m,E,M){return tt(this,m,E,M,!1)},v.prototype.write=function(m,E,M,W){if(void 0===E)W="utf8",M=this.length,E=0;else if(void 0===M&&"string"==typeof E)W=E,M=this.length,E=0;else{if(!isFinite(E))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");E>>>=0,isFinite(M)?(M>>>=0,void 0===W&&(W="utf8")):(W=M,M=void 0)}var ie=this.length-E;if((void 0===M||M>ie)&&(M=ie),m.length>0&&(M<0||E<0)||E>this.length)throw new RangeError("Attempt to write outside buffer bounds");W||(W="utf8");for(var ve=!1;;)switch(W){case"hex":return Re(this,m,E,M);case"utf8":case"utf-8":return Ie(this,m,E,M);case"ascii":return Ne(this,m,E,M);case"latin1":case"binary":return ke(this,m,E,M);case"base64":return Ye(this,m,E,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return je(this,m,E,M);default:if(ve)throw new TypeError("Unknown encoding: "+W);W=(""+W).toLowerCase(),ve=!0}},v.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var me=4096;function Ae(w,m,E){var M="";E=Math.min(w.length,E);for(var W=m;W<E;++W)M+=String.fromCharCode(127&w[W]);return M}function Xe(w,m,E){var M="";E=Math.min(w.length,E);for(var W=m;W<E;++W)M+=String.fromCharCode(w[W]);return M}function ht(w,m,E){var M=w.length;(!m||m<0)&&(m=0),(!E||E<0||E>M)&&(E=M);for(var W="",ie=m;ie<E;++ie)W+=Te(w[ie]);return W}function vt(w,m,E){for(var M=w.slice(m,E),W="",ie=0;ie<M.length;ie+=2)W+=String.fromCharCode(M[ie]+256*M[ie+1]);return W}function nt(w,m,E){if(w%1!=0||w<0)throw new RangeError("offset is not uint");if(w+m>E)throw new RangeError("Trying to access beyond buffer length")}function yt(w,m,E,M,W,ie){if(!v.isBuffer(w))throw new TypeError('"buffer" argument must be a Buffer instance');if(m>W||m<ie)throw new RangeError('"value" argument is out of bounds');if(E+M>w.length)throw new RangeError("Index out of range")}function yn(w,m,E,M,W,ie){if(E+M>w.length)throw new RangeError("Index out of range");if(E<0)throw new RangeError("Index out of range")}function tn(w,m,E,M,W){return m=+m,E>>>=0,W||yn(w,0,E,4),R.write(w,m,E,M,23,4),E+4}function Zn(w,m,E,M,W){return m=+m,E>>>=0,W||yn(w,0,E,8),R.write(w,m,E,M,52,8),E+8}v.prototype.slice=function(m,E){var M=this.length;(m=~~m)<0?(m+=M)<0&&(m=0):m>M&&(m=M),(E=void 0===E?M:~~E)<0?(E+=M)<0&&(E=0):E>M&&(E=M),E<m&&(E=m);var W=this.subarray(m,E);return W.__proto__=v.prototype,W},v.prototype.readUIntLE=function(m,E,M){m>>>=0,E>>>=0,M||nt(m,E,this.length);for(var W=this[m],ie=1,ve=0;++ve<E&&(ie*=256);)W+=this[m+ve]*ie;return W},v.prototype.readUIntBE=function(m,E,M){m>>>=0,E>>>=0,M||nt(m,E,this.length);for(var W=this[m+--E],ie=1;E>0&&(ie*=256);)W+=this[m+--E]*ie;return W},v.prototype.readUInt8=function(m,E){return m>>>=0,E||nt(m,1,this.length),this[m]},v.prototype.readUInt16LE=function(m,E){return m>>>=0,E||nt(m,2,this.length),this[m]|this[m+1]<<8},v.prototype.readUInt16BE=function(m,E){return m>>>=0,E||nt(m,2,this.length),this[m]<<8|this[m+1]},v.prototype.readUInt32LE=function(m,E){return m>>>=0,E||nt(m,4,this.length),(this[m]|this[m+1]<<8|this[m+2]<<16)+16777216*this[m+3]},v.prototype.readUInt32BE=function(m,E){return m>>>=0,E||nt(m,4,this.length),16777216*this[m]+(this[m+1]<<16|this[m+2]<<8|this[m+3])},v.prototype.readIntLE=function(m,E,M){m>>>=0,E>>>=0,M||nt(m,E,this.length);for(var W=this[m],ie=1,ve=0;++ve<E&&(ie*=256);)W+=this[m+ve]*ie;return W>=(ie*=128)&&(W-=Math.pow(2,8*E)),W},v.prototype.readIntBE=function(m,E,M){m>>>=0,E>>>=0,M||nt(m,E,this.length);for(var W=E,ie=1,ve=this[m+--W];W>0&&(ie*=256);)ve+=this[m+--W]*ie;return ve>=(ie*=128)&&(ve-=Math.pow(2,8*E)),ve},v.prototype.readInt8=function(m,E){return m>>>=0,E||nt(m,1,this.length),128&this[m]?-1*(255-this[m]+1):this[m]},v.prototype.readInt16LE=function(m,E){m>>>=0,E||nt(m,2,this.length);var M=this[m]|this[m+1]<<8;return 32768&M?4294901760|M:M},v.prototype.readInt16BE=function(m,E){m>>>=0,E||nt(m,2,this.length);var M=this[m+1]|this[m]<<8;return 32768&M?4294901760|M:M},v.prototype.readInt32LE=function(m,E){return m>>>=0,E||nt(m,4,this.length),this[m]|this[m+1]<<8|this[m+2]<<16|this[m+3]<<24},v.prototype.readInt32BE=function(m,E){return m>>>=0,E||nt(m,4,this.length),this[m]<<24|this[m+1]<<16|this[m+2]<<8|this[m+3]},v.prototype.readFloatLE=function(m,E){return m>>>=0,E||nt(m,4,this.length),R.read(this,m,!0,23,4)},v.prototype.readFloatBE=function(m,E){return m>>>=0,E||nt(m,4,this.length),R.read(this,m,!1,23,4)},v.prototype.readDoubleLE=function(m,E){return m>>>=0,E||nt(m,8,this.length),R.read(this,m,!0,52,8)},v.prototype.readDoubleBE=function(m,E){return m>>>=0,E||nt(m,8,this.length),R.read(this,m,!1,52,8)},v.prototype.writeUIntLE=function(m,E,M,W){m=+m,E>>>=0,M>>>=0,W||yt(this,m,E,M,Math.pow(2,8*M)-1,0);var ve=1,Je=0;for(this[E]=255&m;++Je<M&&(ve*=256);)this[E+Je]=m/ve&255;return E+M},v.prototype.writeUIntBE=function(m,E,M,W){m=+m,E>>>=0,M>>>=0,W||yt(this,m,E,M,Math.pow(2,8*M)-1,0);var ve=M-1,Je=1;for(this[E+ve]=255&m;--ve>=0&&(Je*=256);)this[E+ve]=m/Je&255;return E+M},v.prototype.writeUInt8=function(m,E,M){return m=+m,E>>>=0,M||yt(this,m,E,1,255,0),this[E]=255&m,E+1},v.prototype.writeUInt16LE=function(m,E,M){return m=+m,E>>>=0,M||yt(this,m,E,2,65535,0),this[E]=255&m,this[E+1]=m>>>8,E+2},v.prototype.writeUInt16BE=function(m,E,M){return m=+m,E>>>=0,M||yt(this,m,E,2,65535,0),this[E]=m>>>8,this[E+1]=255&m,E+2},v.prototype.writeUInt32LE=function(m,E,M){return m=+m,E>>>=0,M||yt(this,m,E,4,4294967295,0),this[E+3]=m>>>24,this[E+2]=m>>>16,this[E+1]=m>>>8,this[E]=255&m,E+4},v.prototype.writeUInt32BE=function(m,E,M){return m=+m,E>>>=0,M||yt(this,m,E,4,4294967295,0),this[E]=m>>>24,this[E+1]=m>>>16,this[E+2]=m>>>8,this[E+3]=255&m,E+4},v.prototype.writeIntLE=function(m,E,M,W){if(m=+m,E>>>=0,!W){var ie=Math.pow(2,8*M-1);yt(this,m,E,M,ie-1,-ie)}var ve=0,Je=1,gt=0;for(this[E]=255&m;++ve<M&&(Je*=256);)m<0&&0===gt&&0!==this[E+ve-1]&&(gt=1),this[E+ve]=(m/Je|0)-gt&255;return E+M},v.prototype.writeIntBE=function(m,E,M,W){if(m=+m,E>>>=0,!W){var ie=Math.pow(2,8*M-1);yt(this,m,E,M,ie-1,-ie)}var ve=M-1,Je=1,gt=0;for(this[E+ve]=255&m;--ve>=0&&(Je*=256);)m<0&&0===gt&&0!==this[E+ve+1]&&(gt=1),this[E+ve]=(m/Je|0)-gt&255;return E+M},v.prototype.writeInt8=function(m,E,M){return m=+m,E>>>=0,M||yt(this,m,E,1,127,-128),m<0&&(m=255+m+1),this[E]=255&m,E+1},v.prototype.writeInt16LE=function(m,E,M){return m=+m,E>>>=0,M||yt(this,m,E,2,32767,-32768),this[E]=255&m,this[E+1]=m>>>8,E+2},v.prototype.writeInt16BE=function(m,E,M){return m=+m,E>>>=0,M||yt(this,m,E,2,32767,-32768),this[E]=m>>>8,this[E+1]=255&m,E+2},v.prototype.writeInt32LE=function(m,E,M){return m=+m,E>>>=0,M||yt(this,m,E,4,2147483647,-2147483648),this[E]=255&m,this[E+1]=m>>>8,this[E+2]=m>>>16,this[E+3]=m>>>24,E+4},v.prototype.writeInt32BE=function(m,E,M){return m=+m,E>>>=0,M||yt(this,m,E,4,2147483647,-2147483648),m<0&&(m=4294967295+m+1),this[E]=m>>>24,this[E+1]=m>>>16,this[E+2]=m>>>8,this[E+3]=255&m,E+4},v.prototype.writeFloatLE=function(m,E,M){return tn(this,m,E,!0,M)},v.prototype.writeFloatBE=function(m,E,M){return tn(this,m,E,!1,M)},v.prototype.writeDoubleLE=function(m,E,M){return Zn(this,m,E,!0,M)},v.prototype.writeDoubleBE=function(m,E,M){return Zn(this,m,E,!1,M)},v.prototype.copy=function(m,E,M,W){if(M||(M=0),!W&&0!==W&&(W=this.length),E>=m.length&&(E=m.length),E||(E=0),W>0&&W<M&&(W=M),W===M||0===m.length||0===this.length)return 0;if(E<0)throw new RangeError("targetStart out of bounds");if(M<0||M>=this.length)throw new RangeError("sourceStart out of bounds");if(W<0)throw new RangeError("sourceEnd out of bounds");W>this.length&&(W=this.length),m.length-E<W-M&&(W=m.length-E+M);var ve,ie=W-M;if(this===m&&M<E&&E<W)for(ve=ie-1;ve>=0;--ve)m[ve+E]=this[ve+M];else if(ie<1e3)for(ve=0;ve<ie;++ve)m[ve+E]=this[ve+M];else Uint8Array.prototype.set.call(m,this.subarray(M,M+ie),E);return ie},v.prototype.fill=function(m,E,M,W){if("string"==typeof m){if("string"==typeof E?(W=E,E=0,M=this.length):"string"==typeof M&&(W=M,M=this.length),1===m.length){var ie=m.charCodeAt(0);ie<256&&(m=ie)}if(void 0!==W&&"string"!=typeof W)throw new TypeError("encoding must be a string");if("string"==typeof W&&!v.isEncoding(W))throw new TypeError("Unknown encoding: "+W)}else"number"==typeof m&&(m&=255);if(E<0||this.length<E||this.length<M)throw new RangeError("Out of range index");if(M<=E)return this;var ve;if(E>>>=0,M=void 0===M?this.length:M>>>0,m||(m=0),"number"==typeof m)for(ve=E;ve<M;++ve)this[ve]=m;else{var Je=v.isBuffer(m)?m:new v(m,W),gt=Je.length;for(ve=0;ve<M-E;++ve)this[ve+E]=Je[ve%gt]}return this};var K=/[^+/0-9A-Za-z-_]/g;function Te(w){return w<16?"0"+w.toString(16):w.toString(16)}function Be(w,m){m=m||1/0;for(var E,M=w.length,W=null,ie=[],ve=0;ve<M;++ve){if((E=w.charCodeAt(ve))>55295&&E<57344){if(!W){if(E>56319){(m-=3)>-1&&ie.push(239,191,189);continue}if(ve+1===M){(m-=3)>-1&&ie.push(239,191,189);continue}W=E;continue}if(E<56320){(m-=3)>-1&&ie.push(239,191,189),W=E;continue}E=65536+(W-55296<<10|E-56320)}else W&&(m-=3)>-1&&ie.push(239,191,189);if(W=null,E<128){if((m-=1)<0)break;ie.push(E)}else if(E<2048){if((m-=2)<0)break;ie.push(E>>6|192,63&E|128)}else if(E<65536){if((m-=3)<0)break;ie.push(E>>12|224,E>>6&63|128,63&E|128)}else{if(!(E<1114112))throw new Error("Invalid code point");if((m-=4)<0)break;ie.push(E>>18|240,E>>12&63|128,E>>6&63|128,63&E|128)}}return ie}function Ze(w){return ce.toByteArray(function X(w){if((w=w.trim().replace(K,"")).length<2)return"";for(;w.length%4!=0;)w+="=";return w}(w))}function ct(w,m,E,M){for(var W=0;W<M&&!(W+E>=m.length||W>=w.length);++W)m[W+E]=w[W];return W}function vn(w){return w instanceof ArrayBuffer||null!=w&&null!=w.constructor&&"ArrayBuffer"===w.constructor.name&&"number"==typeof w.byteLength}function ii(w){return"function"==typeof ArrayBuffer.isView&&ArrayBuffer.isView(w)}function U(w){return w!=w}}).call(ae,q(1))},function(xe,ae){"use strict";ae.byteLength=function v(L){return 3*L.length/4-D(L)},ae.toByteArray=function k(L){var Z,oe,ge,fe,le,We,Oe=L.length;le=D(L),We=new ce(3*Oe/4-le),ge=le>0?Oe-4:Oe;var it=0;for(Z=0,oe=0;Z<ge;Z+=4,oe+=3)fe=Q[L.charCodeAt(Z)]<<18|Q[L.charCodeAt(Z+1)]<<12|Q[L.charCodeAt(Z+2)]<<6|Q[L.charCodeAt(Z+3)],We[it++]=fe>>16&255,We[it++]=fe>>8&255,We[it++]=255&fe;return 2===le?(fe=Q[L.charCodeAt(Z)]<<2|Q[L.charCodeAt(Z+1)]>>4,We[it++]=255&fe):1===le&&(fe=Q[L.charCodeAt(Z)]<<10|Q[L.charCodeAt(Z+1)]<<4|Q[L.charCodeAt(Z+2)]>>2,We[it++]=fe>>8&255,We[it++]=255&fe),We},ae.fromByteArray=function ee(L){for(var Z,oe=L.length,ge=oe%3,fe="",le=[],Oe=0,it=oe-ge;Oe<it;Oe+=16383)le.push($(L,Oe,Oe+16383>it?it:Oe+16383));return 1===ge?(fe+=q[(Z=L[oe-1])>>2],fe+=q[Z<<4&63],fe+="=="):2===ge&&(fe+=q[(Z=(L[oe-2]<<8)+L[oe-1])>>10],fe+=q[Z>>4&63],fe+=q[Z<<2&63],fe+="="),le.push(fe),le.join("")};for(var q=[],Q=[],ce=typeof Uint8Array<"u"?Uint8Array:Array,R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",V=0;V<64;++V)q[V]=R[V],Q[R.charCodeAt(V)]=V;function D(L){var Z=L.length;if(Z%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===L[Z-2]?2:"="===L[Z-1]?1:0}function b(L){return q[L>>18&63]+q[L>>12&63]+q[L>>6&63]+q[63&L]}function $(L,Z,oe){for(var fe=[],le=Z;le<oe;le+=3)fe.push(b((L[le]<<16)+(L[le+1]<<8)+L[le+2]));return fe.join("")}Q[45]=62,Q[95]=63},function(xe,ae){ae.read=function(q,Q,ce,R,V){var F,D,v=8*V-R-1,k=(1<<v)-1,b=k>>1,$=-7,ee=ce?V-1:0,L=ce?-1:1,Z=q[Q+ee];for(ee+=L,F=Z&(1<<-$)-1,Z>>=-$,$+=v;$>0;F=256*F+q[Q+ee],ee+=L,$-=8);for(D=F&(1<<-$)-1,F>>=-$,$+=R;$>0;D=256*D+q[Q+ee],ee+=L,$-=8);if(0===F)F=1-b;else{if(F===k)return D?NaN:1/0*(Z?-1:1);D+=Math.pow(2,R),F-=b}return(Z?-1:1)*D*Math.pow(2,F-R)},ae.write=function(q,Q,ce,R,V,F){var D,v,k,b=8*F-V-1,$=(1<<b)-1,ee=$>>1,L=23===V?Math.pow(2,-24)-Math.pow(2,-77):0,Z=R?0:F-1,oe=R?1:-1,ge=Q<0||0===Q&&1/Q<0?1:0;for(Q=Math.abs(Q),isNaN(Q)||Q===1/0?(v=isNaN(Q)?1:0,D=$):(D=Math.floor(Math.log(Q)/Math.LN2),Q*(k=Math.pow(2,-D))<1&&(D--,k*=2),(Q+=D+ee>=1?L/k:L*Math.pow(2,1-ee))*k>=2&&(D++,k/=2),D+ee>=$?(v=0,D=$):D+ee>=1?(v=(Q*k-1)*Math.pow(2,V),D+=ee):(v=Q*Math.pow(2,ee-1)*Math.pow(2,V),D=0));V>=8;q[ce+Z]=255&v,Z+=oe,v/=256,V-=8);for(D=D<<V|v,b+=V;b>0;q[ce+Z]=255&D,Z+=oe,D/=256,b-=8);q[ce+Z-oe]|=128*ge}},function(xe,ae){xe.exports=function(q){return q.webpackPolyfill||(q.deprecate=function(){},q.paths=[],q.children=[],q.webpackPolyfill=1),q}},function(xe,ae,q){"use strict";var ce=new(q(7)),R={};function V(D){R[D]||(R[D]="function"==typeof ce[D]?function(){return ce[D].apply(ce,arguments)}:ce[D])}for(var F in ce)V(F);R.initializeTTYs=function(){null===ce.stdin&&(ce.initializeTTYs(),R.stdin=ce.stdin,R.stdout=ce.stdout,R.stderr=ce.stderr)},ce.nextTick(function(){R.initializeTTYs()}),xe.exports=R},function(xe,ae,q){(function(Q){"use strict";var ce=this&&this.__extends||function(k,b){for(var $ in b)b.hasOwnProperty($)&&(k[$]=b[$]);function ee(){this.constructor=k}k.prototype=null===b?Object.create(b):(ee.prototype=b.prototype,new ee)},R=q(8),V=null,F=function(){function k(b,$){this.fun=b,this.array=$}return k.prototype.run=function(){this.fun.apply(null,this.array)},k}(),D=function(){function k(){this._queue=[],this._draining=!1,this._currentQueue=null,this._queueIndex=-1}return k.prototype.push=function(b){var $=this;1===this._queue.push(b)&&!this._draining&&setTimeout(function(){return $._drainQueue()},0)},k.prototype._cleanUpNextTick=function(){this._draining=!1,this._currentQueue&&this._currentQueue.length?this._queue=this._currentQueue.concat(this._queue):this._queueIndex=-1,this._queue.length&&this._drainQueue()},k.prototype._drainQueue=function(){var b=this;if(!this._draining){var $=setTimeout(function(){return b._cleanUpNextTick()});this._draining=!0;for(var ee=this._queue.length;ee;){for(this._currentQueue=this._queue,this._queue=[];++this._queueIndex<ee;)this._currentQueue&&this._currentQueue[this._queueIndex].run();this._queueIndex=-1,ee=this._queue.length}this._currentQueue=null,this._draining=!1,clearTimeout($)}},k}(),v=function(k){function b(){k.apply(this,arguments),this.startTime=Date.now(),this._cwd="/",this.platform="browser",this.argv=[],this.execArgv=[],this.stdout=null,this.stderr=null,this.stdin=null,this.domain=null,this._queue=new D,this.execPath=Q,this.env={},this.exitCode=0,this._gid=1,this._uid=1,this.version="v5.0",this.versions={http_parser:"0.0",node:"5.0",v8:"0.0",uv:"0.0",zlib:"0.0",ares:"0.0",icu:"0.0",modules:"0",openssl:"0.0"},this.config={target_defaults:{cflags:[],default_configuration:"Release",defines:[],include_dirs:[],libraries:[]},variables:{clang:0,host_arch:"x32",node_install_npm:!1,node_install_waf:!1,node_prefix:"",node_shared_cares:!1,node_shared_http_parser:!1,node_shared_libuv:!1,node_shared_zlib:!1,node_shared_v8:!1,node_use_dtrace:!1,node_use_etw:!1,node_use_openssl:!1,node_shared_openssl:!1,strict_aliasing:!1,target_arch:"x32",v8_use_snapshot:!1,v8_no_strict_aliasing:0,visibility:""}},this.pid=1e3*Math.random()|0,this.title="node",this.arch="x32",this._mask=18,this.connected=void 0}return ce(b,k),b.prototype.chdir=function($){null===V&&(V=q(9)),this._cwd=V.resolve($)},b.prototype.cwd=function(){return this._cwd},b.prototype.uptime=function(){return(Date.now()-this.startTime)/1e3|0},b.prototype.nextTick=function($){for(var ee=[],L=1;L<arguments.length;L++)ee[L-1]=arguments[L];this._queue.push(new F($,ee))},b.prototype.abort=function(){this.emit("abort")},b.prototype.exit=function($){this.exitCode=$,this.emit("exit",[$])},b.prototype.getgid=function(){return this._gid},b.prototype.setgid=function($){this._gid="number"==typeof $?$:1},b.prototype.getuid=function(){return this._uid},b.prototype.setuid=function($){this._uid="number"==typeof $?$:1},b.prototype.kill=function($,ee){this.emit("kill",[$,ee])},b.prototype.memoryUsage=function(){return{rss:0,heapTotal:0,heapUsed:0}},b.prototype.umask=function($){void 0===$&&($=this._mask);var ee=this._mask;return this._mask=$,this.emit("umask",[$]),ee},b.prototype.hrtime=function(){var $,ee=($=typeof performance<"u"?performance.now():Date.now?Date.now():(new Date).getTime())/1e3|0;return[ee,$=1e6*($-=1e3*ee)|0]},b.prototype.initializeTTYs=function(){if(null===this.stdout){var $=q(10);this.stdout=new $,this.stderr=new $,this.stdin=new $}},b.prototype.disconnect=function(){},b}(R.EventEmitter);xe.exports=v}).call(ae,"/")},function(xe,ae){function q(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function Q(F){return"function"==typeof F}function R(F){return"object"==typeof F&&null!==F}function V(F){return void 0===F}xe.exports=q,q.EventEmitter=q,q.prototype._events=void 0,q.prototype._maxListeners=void 0,q.defaultMaxListeners=10,q.prototype.setMaxListeners=function(F){if(!function ce(F){return"number"==typeof F}(F)||F<0||isNaN(F))throw TypeError("n must be a positive number");return this._maxListeners=F,this},q.prototype.emit=function(F){var D,v,k,b,$,ee;if(this._events||(this._events={}),"error"===F&&(!this._events.error||R(this._events.error)&&!this._events.error.length)){if((D=arguments[1])instanceof Error)throw D;var L=new Error('Uncaught, unspecified "error" event. ('+D+")");throw L.context=D,L}if(V(v=this._events[F]))return!1;if(Q(v))switch(arguments.length){case 1:v.call(this);break;case 2:v.call(this,arguments[1]);break;case 3:v.call(this,arguments[1],arguments[2]);break;default:b=Array.prototype.slice.call(arguments,1),v.apply(this,b)}else if(R(v))for(b=Array.prototype.slice.call(arguments,1),k=(ee=v.slice()).length,$=0;$<k;$++)ee[$].apply(this,b);return!0},q.prototype.on=q.prototype.addListener=function(F,D){var v;if(!Q(D))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",F,Q(D.listener)?D.listener:D),this._events[F]?R(this._events[F])?this._events[F].push(D):this._events[F]=[this._events[F],D]:this._events[F]=D,R(this._events[F])&&!this._events[F].warned&&(v=V(this._maxListeners)?q.defaultMaxListeners:this._maxListeners)&&v>0&&this._events[F].length>v&&(this._events[F].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[F].length),"function"==typeof console.trace&&console.trace()),this},q.prototype.once=function(F,D){if(!Q(D))throw TypeError("listener must be a function");var v=!1;function k(){this.removeListener(F,k),v||(v=!0,D.apply(this,arguments))}return k.listener=D,this.on(F,k),this},q.prototype.removeListener=function(F,D){var v,k,b,$;if(!Q(D))throw TypeError("listener must be a function");if(!this._events||!this._events[F])return this;if(b=(v=this._events[F]).length,k=-1,v===D||Q(v.listener)&&v.listener===D)delete this._events[F],this._events.removeListener&&this.emit("removeListener",F,D);else if(R(v)){for($=b;$-- >0;)if(v[$]===D||v[$].listener&&v[$].listener===D){k=$;break}if(k<0)return this;1===v.length?(v.length=0,delete this._events[F]):v.splice(k,1),this._events.removeListener&&this.emit("removeListener",F,D)}return this},q.prototype.removeAllListeners=function(F){var D,v;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[F]&&delete this._events[F],this;if(0===arguments.length){for(D in this._events)"removeListener"!==D&&this.removeAllListeners(D);return this.removeAllListeners("removeListener"),this._events={},this}if(Q(v=this._events[F]))this.removeListener(F,v);else if(v)for(;v.length;)this.removeListener(F,v[v.length-1]);return delete this._events[F],this},q.prototype.listeners=function(F){return this._events&&this._events[F]?Q(this._events[F])?[this._events[F]]:this._events[F].slice():[]},q.prototype.listenerCount=function(F){if(this._events){var D=this._events[F];if(Q(D))return 1;if(D)return D.length}return 0},q.listenerCount=function(F,D){return F.listenerCount(D)}},function(xe,ae,q){(function(Q){"use strict";var ce=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;var V=function(){function D(){}return D.normalize=function(v){""===v&&(v=".");for(var k=v.charAt(0)===D.sep,b=(v=D._removeDuplicateSeps(v)).split(D.sep),$=[],ee=0;ee<b.length;ee++){var L=b[ee];"."!==L&&(".."===L&&(k||!k&&$.length>0&&".."!==$[0])?$.pop():$.push(L))}return!k&&$.length<2&&(1===$.length?""===$[0]&&$.unshift("."):$.push(".")),v=$.join(D.sep),k&&v.charAt(0)!==D.sep&&(v=D.sep+v),v},D.join=function(){for(var v=[],k=0;k<arguments.length;k++)v[k-0]=arguments[k];for(var b=[],$=0;$<v.length;$++){var ee=v[$];if("string"!=typeof ee)throw new TypeError("Invalid argument type to path.join: "+typeof ee);""!==ee&&b.push(ee)}return D.normalize(b.join(D.sep))},D.resolve=function(){for(var v=[],k=0;k<arguments.length;k++)v[k-0]=arguments[k];for(var b=[],$=0;$<v.length;$++){var ee=v[$];if("string"!=typeof ee)throw new TypeError("Invalid argument type to path.join: "+typeof ee);""!==ee&&(ee.charAt(0)===D.sep&&(b=[]),b.push(ee))}var L=D.normalize(b.join(D.sep));if(L.length>1&&L.charAt(L.length-1)===D.sep)return L.substr(0,L.length-1);if(L.charAt(0)!==D.sep){"."===L.charAt(0)&&(1===L.length||L.charAt(1)===D.sep)&&(L=1===L.length?"":L.substr(2));var Z=Q.cwd();L=""!==L?this.normalize(Z+("/"!==Z?D.sep:"")+L):Z}return L},D.relative=function(v,k){var b;v=D.resolve(v),k=D.resolve(k);var $=v.split(D.sep),ee=k.split(D.sep);ee.shift(),$.shift();var L=0,Z=[];for(b=0;b<$.length;b++)if($[b]!==ee[b]){L=$.length-b;break}Z=ee.slice(b),1===$.length&&""===$[0]&&(L=0),L>$.length&&(L=$.length);var ge="";for(b=0;b<L;b++)ge+="../";return(ge+=Z.join(D.sep)).length>1&&ge.charAt(ge.length-1)===D.sep&&(ge=ge.substr(0,ge.length-1)),ge},D.dirname=function(v){var k=(v=D._removeDuplicateSeps(v)).charAt(0)===D.sep,b=v.split(D.sep);return""===b.pop()&&b.length>0&&b.pop(),b.length>1||1===b.length&&!k?b.join(D.sep):k?D.sep:"."},D.basename=function(v,k){if(void 0===k&&(k=""),""===v)return v;var b=(v=D.normalize(v)).split(D.sep),$=b[b.length-1];return""===$&&b.length>1?b[b.length-2]:k.length>0&&$.substr($.length-k.length)===k?$.substr(0,$.length-k.length):$},D.extname=function(v){var k=(v=D.normalize(v)).split(D.sep);if(""===(v=k.pop())&&k.length>0&&(v=k.pop()),".."===v)return"";var b=v.lastIndexOf(".");return-1===b||0===b?"":v.substr(b)},D.isAbsolute=function(v){return v.length>0&&v.charAt(0)===D.sep},D._makeLong=function(v){return v},D.parse=function(v){var k=function R(D){var v=ce.exec(D);return v.shift(),v}(v);return{root:k[0],dir:k[0]+k[1].slice(0,-1),base:k[2],ext:k[3],name:k[2].slice(0,k[2].length-k[3].length)}},D.format=function(v){if(null===v||"object"!=typeof v)throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof v);if("string"!=typeof(v.root||""))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof v.root);return(v.dir?v.dir+D.sep:"")+(v.base||"")},D._removeDuplicateSeps=function(v){return v.replace(this._replaceRegex,this.sep)},D.sep="/",D._replaceRegex=new RegExp("//+","g"),D.delimiter=":",D.posix=D,D.win32=D,D}();xe.exports=V}).call(ae,q(6))},function(xe,ae,q){(function(Q){"use strict";var ce=this&&this.__extends||function(F,D){for(var v in D)D.hasOwnProperty(v)&&(F[v]=D[v]);function k(){this.constructor=F}F.prototype=null===D?Object.create(D):(k.prototype=D.prototype,new k)},V=function(F){function D(){F.call(this),this.isRaw=!1,this.columns=80,this.rows=120,this.isTTY=!0,this._bufferedWrites=[],this._waitingForWrites=!1}return ce(D,F),D.prototype.setRawMode=function(v){this.isRaw!==v&&(this.isRaw=v,this.emit("modeChange"))},D.prototype.changeColumns=function(v){v!==this.columns&&(this.columns=v,this.emit("resize"))},D.prototype.changeRows=function(v){v!==this.rows&&(this.rows=v,this.emit("resize"))},D.isatty=function(v){return v&&v instanceof D},D.prototype._write=function(v,k,b){var $;try{var ee;ee="string"==typeof v?new Q(v,k):v,this._bufferedWrites.push(ee),this._waitingForWrites&&this._read(1024)}catch(L){$=L}finally{b($)}},D.prototype._read=function(v){if(0===this._bufferedWrites.length)this._waitingForWrites=!0;else for(;this._bufferedWrites.length>0&&(this._waitingForWrites=this.push(this._bufferedWrites.shift()),this._waitingForWrites););},D}(q(11).Duplex);xe.exports=V}).call(ae,q(1))},function(xe,ae,q){xe.exports=R;var Q=q(8).EventEmitter;function R(){Q.call(this)}q(12)(R,Q),R.Readable=q(13),R.Writable=q(27),R.Duplex=q(28),R.Transform=q(29),R.PassThrough=q(30),R.Stream=R,R.prototype.pipe=function(V,F){var D=this;function v(oe){V.writable&&!1===V.write(oe)&&D.pause&&D.pause()}function k(){D.readable&&D.resume&&D.resume()}D.on("data",v),V.on("drain",k),!V._isStdio&&(!F||!1!==F.end)&&(D.on("end",$),D.on("close",ee));var b=!1;function $(){b||(b=!0,V.end())}function ee(){b||(b=!0,"function"==typeof V.destroy&&V.destroy())}function L(oe){if(Z(),0===Q.listenerCount(this,"error"))throw oe}function Z(){D.removeListener("data",v),V.removeListener("drain",k),D.removeListener("end",$),D.removeListener("close",ee),D.removeListener("error",L),V.removeListener("error",L),D.removeListener("end",Z),D.removeListener("close",Z),V.removeListener("close",Z)}return D.on("error",L),V.on("error",L),D.on("end",Z),D.on("close",Z),V.on("close",Z),V.emit("pipe",D),V}},function(xe,ae){xe.exports="function"==typeof Object.create?function(Q,ce){Q.super_=ce,Q.prototype=Object.create(ce.prototype,{constructor:{value:Q,enumerable:!1,writable:!0,configurable:!0}})}:function(Q,ce){Q.super_=ce;var R=function(){};R.prototype=ce.prototype,Q.prototype=new R,Q.prototype.constructor=Q}},function(xe,ae,q){(function(Q){var ce=function(){try{return q(11)}catch{}}();(ae=xe.exports=q(14)).Stream=ce||ae,ae.Readable=ae,ae.Writable=q(22),ae.Duplex=q(21),ae.Transform=q(25),ae.PassThrough=q(26),!Q.browser&&"disable"===Q.env.READABLE_STREAM&&ce&&(xe.exports=ce)}).call(ae,q(6))},function(xe,ae,q){(function(Q){"use strict";xe.exports=le;var V,ce=q(15),R=q(16);le.ReadableState=fe,q(8);var v,D=function(K,X){return K.listeners(X).length};!function(){try{v=q(11)}catch{}finally{v||(v=q(8).EventEmitter)}}();var k=q(2).Buffer,b=q(17),$=q(18);$.inherits=q(12);var ee=q(19),L=void 0;L=ee&&ee.debuglog?ee.debuglog("stream"):function(){};var oe,Z=q(20);function fe(K,X){V=V||q(21),this.objectMode=!!(K=K||{}).objectMode,X instanceof V&&(this.objectMode=this.objectMode||!!K.readableObjectMode);var Te=K.highWaterMark;this.highWaterMark=Te||0===Te?Te:this.objectMode?16:16384,this.highWaterMark=~~this.highWaterMark,this.buffer=new Z,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=K.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,K.encoding&&(oe||(oe=q(24).StringDecoder),this.decoder=new oe(K.encoding),this.encoding=K.encoding)}function le(K){if(V=V||q(21),!(this instanceof le))return new le(K);this._readableState=new fe(K,this),this.readable=!0,K&&"function"==typeof K.read&&(this._read=K.read),v.call(this)}function We(K,X,Te,Be,pt){var He=function Re(K,X){var Te=null;return!k.isBuffer(X)&&"string"!=typeof X&&null!=X&&!K.objectMode&&(Te=new TypeError("Invalid non-string/buffer chunk")),Te}(X,Te);if(He)K.emit("error",He);else if(null===Te)X.reading=!1,function Ie(K,X){if(!X.ended){if(X.decoder){var Te=X.decoder.end();Te&&Te.length&&(X.buffer.push(Te),X.length+=X.objectMode?1:Te.length)}X.ended=!0,Ne(K)}}(K,X);else if(X.objectMode||Te&&Te.length>0)if(X.ended&&!pt){var Ze=new Error("stream.push() after EOF");K.emit("error",Ze)}else if(X.endEmitted&&pt){var ct=new Error("stream.unshift() after end event");K.emit("error",ct)}else{var vn;X.decoder&&!pt&&!Be&&(Te=X.decoder.write(Te),vn=!X.objectMode&&0===Te.length),pt||(X.reading=!1),vn||(X.flowing&&0===X.length&&!X.sync?(K.emit("data",Te),K.read(0)):(X.length+=X.objectMode?1:Te.length,pt?X.buffer.unshift(Te):X.buffer.push(Te),X.needReadable&&Ne(K))),function Ye(K,X){X.readingMore||(X.readingMore=!0,ce(je,K,X))}(K,X)}else pt||(X.reading=!1);return function Oe(K){return!K.ended&&(K.needReadable||K.length<K.highWaterMark||0===K.length)}(X)}$.inherits(le,v),le.prototype.push=function(K,X){var Te=this._readableState;return!Te.objectMode&&"string"==typeof K&&(X=X||Te.defaultEncoding)!==Te.encoding&&(K=b.from(K,X),X=""),We(this,Te,K,X,!1)},le.prototype.unshift=function(K){return We(this,this._readableState,K,"",!0)},le.prototype.isPaused=function(){return!1===this._readableState.flowing},le.prototype.setEncoding=function(K){return oe||(oe=q(24).StringDecoder),this._readableState.decoder=new oe(K),this._readableState.encoding=K,this};var it=8388608;function _e(K,X){return K<=0||0===X.length&&X.ended?0:X.objectMode?1:K!=K?X.flowing&&X.length?X.buffer.head.data.length:X.length:(K>X.highWaterMark&&(X.highWaterMark=function tt(K){return K>=it?K=it:(K--,K|=K>>>1,K|=K>>>2,K|=K>>>4,K|=K>>>8,K|=K>>>16,K++),K}(K)),K<=X.length?K:X.ended?X.length:(X.needReadable=!0,0))}function Ne(K){var X=K._readableState;X.needReadable=!1,X.emittedReadable||(L("emitReadable",X.flowing),X.emittedReadable=!0,X.sync?ce(ke,K):ke(K))}function ke(K){L("emit readable"),K.emit("readable"),Ae(K)}function je(K,X){for(var Te=X.length;!X.reading&&!X.flowing&&!X.ended&&X.length<X.highWaterMark&&(L("maybeReadMore read 0"),K.read(0),Te!==X.length);)Te=X.length;X.readingMore=!1}function Ot(K){L("readable nexttick read 0"),K.read(0)}function pe(K,X){X.reading||(L("resume read 0"),K.read(0)),X.resumeScheduled=!1,X.awaitDrain=0,K.emit("resume"),Ae(K),X.flowing&&!X.reading&&K.read(0)}function Ae(K){var X=K._readableState;for(L("flow",X.flowing);X.flowing&&null!==K.read(););}function Xe(K,X){return 0===X.length?null:(X.objectMode?Te=X.buffer.shift():!K||K>=X.length?(Te=X.decoder?X.buffer.join(""):1===X.buffer.length?X.buffer.head.data:X.buffer.concat(X.length),X.buffer.clear()):Te=function ht(K,X,Te){var Be;return K<X.head.data.length?(Be=X.head.data.slice(0,K),X.head.data=X.head.data.slice(K)):Be=K===X.head.data.length?X.shift():Te?function vt(K,X){var Te=X.head,Be=1,pt=Te.data;for(K-=pt.length;Te=Te.next;){var He=Te.data,Ze=K>He.length?He.length:K;if(pt+=Ze===He.length?He:He.slice(0,K),0==(K-=Ze)){Ze===He.length?(++Be,X.head=Te.next?Te.next:X.tail=null):(X.head=Te,Te.data=He.slice(Ze));break}++Be}return X.length-=Be,pt}(K,X):function nt(K,X){var Te=b.allocUnsafe(K),Be=X.head,pt=1;for(Be.data.copy(Te),K-=Be.data.length;Be=Be.next;){var He=Be.data,Ze=K>He.length?He.length:K;if(He.copy(Te,Te.length-K,0,Ze),0==(K-=Ze)){Ze===He.length?(++pt,X.head=Be.next?Be.next:X.tail=null):(X.head=Be,Be.data=He.slice(Ze));break}++pt}return X.length-=pt,Te}(K,X),Be}(K,X.buffer,X.decoder),Te);var Te}function yt(K){var X=K._readableState;if(X.length>0)throw new Error('"endReadable()" called on non-empty stream');X.endEmitted||(X.ended=!0,ce(yn,X,K))}function yn(K,X){!K.endEmitted&&0===K.length&&(K.endEmitted=!0,X.readable=!1,X.emit("end"))}function Zn(K,X){for(var Te=0,Be=K.length;Te<Be;Te++)if(K[Te]===X)return Te;return-1}le.prototype.read=function(K){L("read",K),K=parseInt(K,10);var X=this._readableState,Te=K;if(0!==K&&(X.emittedReadable=!1),0===K&&X.needReadable&&(X.length>=X.highWaterMark||X.ended))return L("read: emitReadable",X.length,X.ended),0===X.length&&X.ended?yt(this):Ne(this),null;if(0===(K=_e(K,X))&&X.ended)return 0===X.length&&yt(this),null;var pt,Be=X.needReadable;return L("need readable",Be),(0===X.length||X.length-K<X.highWaterMark)&&L("length less than watermark",Be=!0),X.ended||X.reading?L("reading or ended",Be=!1):Be&&(L("do read"),X.reading=!0,X.sync=!0,0===X.length&&(X.needReadable=!0),this._read(X.highWaterMark),X.sync=!1,X.reading||(K=_e(Te,X))),null===(pt=K>0?Xe(K,X):null)?(X.needReadable=!0,K=0):X.length-=K,0===X.length&&(X.ended||(X.needReadable=!0),Te!==K&&X.ended&&yt(this)),null!==pt&&this.emit("data",pt),pt},le.prototype._read=function(K){this.emit("error",new Error("_read() is not implemented"))},le.prototype.pipe=function(K,X){var Te=this,Be=this._readableState;switch(Be.pipesCount){case 0:Be.pipes=K;break;case 1:Be.pipes=[Be.pipes,K];break;default:Be.pipes.push(K)}Be.pipesCount+=1,L("pipe count=%d opts=%j",Be.pipesCount,X);var He=X&&!1===X.end||K===Q.stdout||K===Q.stderr?U:ct;function Ze(ve){L("onunpipe"),ve===Te&&U()}function ct(){L("onend"),K.end()}Be.endEmitted?ce(He):Te.once("end",He),K.on("unpipe",Ze);var vn=function Ge(K){return function(){var X=K._readableState;L("pipeOnDrain",X.awaitDrain),X.awaitDrain&&X.awaitDrain--,0===X.awaitDrain&&D(K,"data")&&(X.flowing=!0,Ae(K))}}(Te);K.on("drain",vn);var ii=!1;function U(){L("cleanup"),K.removeListener("close",M),K.removeListener("finish",W),K.removeListener("drain",vn),K.removeListener("error",E),K.removeListener("unpipe",Ze),Te.removeListener("end",ct),Te.removeListener("end",U),Te.removeListener("data",m),ii=!0,Be.awaitDrain&&(!K._writableState||K._writableState.needDrain)&&vn()}var w=!1;function m(ve){L("ondata"),w=!1,!1===K.write(ve)&&!w&&((1===Be.pipesCount&&Be.pipes===K||Be.pipesCount>1&&-1!==Zn(Be.pipes,K))&&!ii&&(L("false write response, pause",Te._readableState.awaitDrain),Te._readableState.awaitDrain++,w=!0),Te.pause())}function E(ve){L("onerror",ve),ie(),K.removeListener("error",E),0===D(K,"error")&&K.emit("error",ve)}function M(){K.removeListener("finish",W),ie()}function W(){L("onfinish"),K.removeListener("close",M),ie()}function ie(){L("unpipe"),Te.unpipe(K)}return Te.on("data",m),function ge(K,X,Te){if("function"==typeof K.prependListener)return K.prependListener(X,Te);K._events&&K._events[X]?R(K._events[X])?K._events[X].unshift(Te):K._events[X]=[Te,K._events[X]]:K.on(X,Te)}(K,"error",E),K.once("close",M),K.once("finish",W),K.emit("pipe",Te),Be.flowing||(L("pipe resume"),Te.resume()),K},le.prototype.unpipe=function(K){var X=this._readableState;if(0===X.pipesCount)return this;if(1===X.pipesCount)return K&&K!==X.pipes||(K||(K=X.pipes),X.pipes=null,X.pipesCount=0,X.flowing=!1,K&&K.emit("unpipe",this)),this;if(!K){var Te=X.pipes,Be=X.pipesCount;X.pipes=null,X.pipesCount=0,X.flowing=!1;for(var pt=0;pt<Be;pt++)Te[pt].emit("unpipe",this);return this}var He=Zn(X.pipes,K);return-1===He||(X.pipes.splice(He,1),X.pipesCount-=1,1===X.pipesCount&&(X.pipes=X.pipes[0]),K.emit("unpipe",this)),this},le.prototype.addListener=le.prototype.on=function(K,X){var Te=v.prototype.on.call(this,K,X);if("data"===K)!1!==this._readableState.flowing&&this.resume();else if("readable"===K){var Be=this._readableState;!Be.endEmitted&&!Be.readableListening&&(Be.readableListening=Be.needReadable=!0,Be.emittedReadable=!1,Be.reading?Be.length&&Ne(this):ce(Ot,this))}return Te},le.prototype.resume=function(){var K=this._readableState;return K.flowing||(L("resume"),K.flowing=!0,function me(K,X){X.resumeScheduled||(X.resumeScheduled=!0,ce(pe,K,X))}(this,K)),this},le.prototype.pause=function(){return L("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(L("pause"),this._readableState.flowing=!1,this.emit("pause")),this},le.prototype.wrap=function(K){var X=this._readableState,Te=!1,Be=this;for(var pt in K.on("end",function(){if(L("wrapped end"),X.decoder&&!X.ended){var Ze=X.decoder.end();Ze&&Ze.length&&Be.push(Ze)}Be.push(null)}),K.on("data",function(Ze){L("wrapped data"),X.decoder&&(Ze=X.decoder.write(Ze)),X.objectMode&&null==Ze||!(X.objectMode||Ze&&Ze.length)||Be.push(Ze)||(Te=!0,K.pause())}),K)void 0===this[pt]&&"function"==typeof K[pt]&&(this[pt]=function(Ze){return function(){return K[Ze].apply(K,arguments)}}(pt));return function tn(K,X){for(var Te=0,Be=K.length;Te<Be;Te++)X(K[Te],Te)}(["error","close","destroy","pause","resume"],function(Ze){K.on(Ze,Be.emit.bind(Be,Ze))}),Be._read=function(Ze){L("wrapped _read",Ze),Te&&(Te=!1,K.resume())},Be},le._fromList=Xe}).call(ae,q(6))},function(xe,ae,q){(function(Q){"use strict";xe.exports=!Q.version||0===Q.version.indexOf("v0.")||0===Q.version.indexOf("v1.")&&0!==Q.version.indexOf("v1.8.")?function ce(R,V,F,D){if("function"!=typeof R)throw new TypeError('"callback" argument must be a function');var k,b,v=arguments.length;switch(v){case 0:case 1:return Q.nextTick(R);case 2:return Q.nextTick(function(){R.call(null,V)});case 3:return Q.nextTick(function(){R.call(null,V,F)});case 4:return Q.nextTick(function(){R.call(null,V,F,D)});default:for(k=new Array(v-1),b=0;b<k.length;)k[b++]=arguments[b];return Q.nextTick(function(){R.apply(null,k)})}}:Q.nextTick}).call(ae,q(6))},function(xe,ae){var q={}.toString;xe.exports=Array.isArray||function(Q){return"[object Array]"==q.call(Q)}},function(xe,ae,q){(function(Q){"use strict";var ce=q(2),R=ce.Buffer,V=ce.SlowBuffer,F=ce.kMaxLength||2147483647;ae.alloc=function(v,k,b){if("function"==typeof R.alloc)return R.alloc(v,k,b);if("number"==typeof b)throw new TypeError("encoding must not be number");if("number"!=typeof v)throw new TypeError("size must be a number");if(v>F)throw new RangeError("size is too large");var $=b,ee=k;void 0===ee&&($=void 0,ee=0);var L=new R(v);if("string"==typeof ee)for(var Z=new R(ee,$),oe=Z.length,ge=-1;++ge<v;)L[ge]=Z[ge%oe];else L.fill(ee);return L},ae.allocUnsafe=function(v){if("function"==typeof R.allocUnsafe)return R.allocUnsafe(v);if("number"!=typeof v)throw new TypeError("size must be a number");if(v>F)throw new RangeError("size is too large");return new R(v)},ae.from=function(v,k,b){if("function"==typeof R.from&&(!Q.Uint8Array||Uint8Array.from!==R.from))return R.from(v,k,b);if("number"==typeof v)throw new TypeError('"value" argument must not be a number');if("string"==typeof v)return new R(v,k);if(typeof ArrayBuffer<"u"&&v instanceof ArrayBuffer){var $=k;if(1===arguments.length)return new R(v);typeof $>"u"&&($=0);var ee=b;if(typeof ee>"u"&&(ee=v.byteLength-$),$>=v.byteLength)throw new RangeError("'offset' is out of bounds");if(ee>v.byteLength-$)throw new RangeError("'length' is out of bounds");return new R(v.slice($,$+ee))}if(R.isBuffer(v)){var L=new R(v.length);return v.copy(L,0,0,v.length),L}if(v){if(Array.isArray(v)||typeof ArrayBuffer<"u"&&v.buffer instanceof ArrayBuffer||"length"in v)return new R(v);if("Buffer"===v.type&&Array.isArray(v.data))return new R(v.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")},ae.allocUnsafeSlow=function(v){if("function"==typeof R.allocUnsafeSlow)return R.allocUnsafeSlow(v);if("number"!=typeof v)throw new TypeError("size must be a number");if(v>=F)throw new RangeError("size is too large");return new V(v)}}).call(ae,function(){return this}())},function(xe,ae,q){(function(Q){function fe(le){return Object.prototype.toString.call(le)}ae.isArray=function ce(le){return Array.isArray?Array.isArray(le):"[object Array]"===fe(le)},ae.isBoolean=function R(le){return"boolean"==typeof le},ae.isNull=function V(le){return null===le},ae.isNullOrUndefined=function F(le){return null==le},ae.isNumber=function D(le){return"number"==typeof le},ae.isString=function v(le){return"string"==typeof le},ae.isSymbol=function k(le){return"symbol"==typeof le},ae.isUndefined=function b(le){return void 0===le},ae.isRegExp=function $(le){return"[object RegExp]"===fe(le)},ae.isObject=function ee(le){return"object"==typeof le&&null!==le},ae.isDate=function L(le){return"[object Date]"===fe(le)},ae.isError=function Z(le){return"[object Error]"===fe(le)||le instanceof Error},ae.isFunction=function oe(le){return"function"==typeof le},ae.isPrimitive=function ge(le){return null===le||"boolean"==typeof le||"number"==typeof le||"string"==typeof le||"symbol"==typeof le||typeof le>"u"},ae.isBuffer=Q.isBuffer}).call(ae,q(1))},function(xe,ae){},function(xe,ae,q){"use strict";q(2);var ce=q(17);function R(){this.head=null,this.tail=null,this.length=0}xe.exports=R,R.prototype.push=function(V){var F={data:V,next:null};this.length>0?this.tail.next=F:this.head=F,this.tail=F,++this.length},R.prototype.unshift=function(V){var F={data:V,next:this.head};0===this.length&&(this.tail=F),this.head=F,++this.length},R.prototype.shift=function(){if(0!==this.length){var V=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,V}},R.prototype.clear=function(){this.head=this.tail=null,this.length=0},R.prototype.join=function(V){if(0===this.length)return"";for(var F=this.head,D=""+F.data;F=F.next;)D+=V+F.data;return D},R.prototype.concat=function(V){if(0===this.length)return ce.alloc(0);if(1===this.length)return this.head.data;for(var F=ce.allocUnsafe(V>>>0),D=this.head,v=0;D;)D.data.copy(F,v),v+=D.data.length,D=D.next;return F}},function(xe,ae,q){"use strict";var Q=Object.keys||function(Z){var oe=[];for(var ge in Z)oe.push(ge);return oe};xe.exports=b;var ce=q(15),R=q(18);R.inherits=q(12);var V=q(14),F=q(22);R.inherits(b,V);for(var D=Q(F.prototype),v=0;v<D.length;v++){var k=D[v];b.prototype[k]||(b.prototype[k]=F.prototype[k])}function b(Z){if(!(this instanceof b))return new b(Z);V.call(this,Z),F.call(this,Z),Z&&!1===Z.readable&&(this.readable=!1),Z&&!1===Z.writable&&(this.writable=!1),this.allowHalfOpen=!0,Z&&!1===Z.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",$)}function $(){this.allowHalfOpen||this._writableState.ended||ce(ee,this)}function ee(Z){Z.end()}},function(xe,ae,q){(function(Q){"use strict";xe.exports=oe;var V,ce=q(15),R=!Q.browser&&["v0.10","v0.9."].indexOf(Q.version.slice(0,5))>-1?setImmediate:ce;oe.WritableState=L;var F=q(18);F.inherits=q(12);var v,D={deprecate:q(23)};!function(){try{v=q(11)}catch{}finally{v||(v=q(8).EventEmitter)}}();var Z,k=q(2).Buffer,b=q(17);function $(){}function ee(me,pe,Ae){this.chunk=me,this.encoding=pe,this.callback=Ae,this.next=null}function L(me,pe){V=V||q(21),this.objectMode=!!(me=me||{}).objectMode,pe instanceof V&&(this.objectMode=this.objectMode||!!me.writableObjectMode);var Ae=me.highWaterMark;this.highWaterMark=Ae||0===Ae?Ae:this.objectMode?16:16384,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.decodeStrings=!(!1===me.decodeStrings),this.defaultEncoding=me.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(vt){!function _e(me,pe){var Ae=me._writableState,Xe=Ae.sync,ht=Ae.writecb;if(function tt(me){me.writing=!1,me.writecb=null,me.length-=me.writelen,me.writelen=0}(Ae),pe)!function it(me,pe,Ae,Xe,ht){--pe.pendingcb,Ae?ce(ht,Xe):ht(Xe),me._writableState.errorEmitted=!0,me.emit("error",Xe)}(me,Ae,Xe,pe,ht);else{var vt=ke(Ae);!vt&&!Ae.corked&&!Ae.bufferProcessing&&Ae.bufferedRequest&&Ne(me,Ae),Xe?R(Re,me,Ae,vt,ht):Re(me,Ae,vt,ht)}}(pe,vt)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new Ot(this)}function oe(me){if(V=V||q(21),!(Z.call(oe,this)||this instanceof V))return new oe(me);this._writableState=new L(me,this),this.writable=!0,me&&("function"==typeof me.write&&(this._write=me.write),"function"==typeof me.writev&&(this._writev=me.writev)),v.call(this)}function We(me,pe,Ae,Xe,ht,vt){Ae||(Xe=function le(me,pe,Ae){return!me.objectMode&&!1!==me.decodeStrings&&"string"==typeof pe&&(pe=b.from(pe,Ae)),pe}(pe,Xe,ht),k.isBuffer(Xe)&&(ht="buffer"));var nt=pe.objectMode?1:Xe.length;pe.length+=nt;var yt=pe.length<pe.highWaterMark;if(yt||(pe.needDrain=!0),pe.writing||pe.corked){var yn=pe.lastBufferedRequest;pe.lastBufferedRequest=new ee(Xe,ht,vt),yn?yn.next=pe.lastBufferedRequest:pe.bufferedRequest=pe.lastBufferedRequest,pe.bufferedRequestCount+=1}else Oe(me,pe,!1,nt,Xe,ht,vt);return yt}function Oe(me,pe,Ae,Xe,ht,vt,nt){pe.writelen=Xe,pe.writecb=nt,pe.writing=!0,pe.sync=!0,Ae?me._writev(ht,pe.onwrite):me._write(ht,vt,pe.onwrite),pe.sync=!1}function Re(me,pe,Ae,Xe){Ae||function Ie(me,pe){0===pe.length&&pe.needDrain&&(pe.needDrain=!1,me.emit("drain"))}(me,pe),pe.pendingcb--,Xe(),je(me,pe)}function Ne(me,pe){pe.bufferProcessing=!0;var Ae=pe.bufferedRequest;if(me._writev&&Ae&&Ae.next){var ht=new Array(pe.bufferedRequestCount),vt=pe.corkedRequestsFree;vt.entry=Ae;for(var nt=0;Ae;)ht[nt]=Ae,Ae=Ae.next,nt+=1;Oe(me,pe,!0,pe.length,ht,"",vt.finish),pe.pendingcb++,pe.lastBufferedRequest=null,vt.next?(pe.corkedRequestsFree=vt.next,vt.next=null):pe.corkedRequestsFree=new Ot(pe)}else{for(;Ae;){var yt=Ae.chunk;if(Oe(me,pe,!1,pe.objectMode?1:yt.length,yt,Ae.encoding,Ae.callback),Ae=Ae.next,pe.writing)break}null===Ae&&(pe.lastBufferedRequest=null)}pe.bufferedRequestCount=0,pe.bufferedRequest=Ae,pe.bufferProcessing=!1}function ke(me){return me.ending&&0===me.length&&null===me.bufferedRequest&&!me.finished&&!me.writing}function Ye(me,pe){pe.prefinished||(pe.prefinished=!0,me.emit("prefinish"))}function je(me,pe){var Ae=ke(pe);return Ae&&(0===pe.pendingcb?(Ye(me,pe),pe.finished=!0,me.emit("finish")):Ye(me,pe)),Ae}function Ot(me){var pe=this;this.next=null,this.entry=null,this.finish=function(Ae){var Xe=pe.entry;for(pe.entry=null;Xe;){var ht=Xe.callback;me.pendingcb--,ht(Ae),Xe=Xe.next}me.corkedRequestsFree?me.corkedRequestsFree.next=pe:me.corkedRequestsFree=pe}}F.inherits(oe,v),L.prototype.getBuffer=function(){for(var pe=this.bufferedRequest,Ae=[];pe;)Ae.push(pe),pe=pe.next;return Ae},function(){try{Object.defineProperty(L.prototype,"buffer",{get:D.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(Z=Function.prototype[Symbol.hasInstance],Object.defineProperty(oe,Symbol.hasInstance,{value:function(me){return!!Z.call(this,me)||me&&me._writableState instanceof L}})):Z=function(me){return me instanceof this},oe.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},oe.prototype.write=function(me,pe,Ae){var Xe=this._writableState,ht=!1,vt=k.isBuffer(me);return"function"==typeof pe&&(Ae=pe,pe=null),vt?pe="buffer":pe||(pe=Xe.defaultEncoding),"function"!=typeof Ae&&(Ae=$),Xe.ended?function ge(me,pe){var Ae=new Error("write after end");me.emit("error",Ae),ce(pe,Ae)}(this,Ae):(vt||function fe(me,pe,Ae,Xe){var ht=!0,vt=!1;return null===Ae?vt=new TypeError("May not write null values to stream"):"string"!=typeof Ae&&void 0!==Ae&&!pe.objectMode&&(vt=new TypeError("Invalid non-string/buffer chunk")),vt&&(me.emit("error",vt),ce(Xe,vt),ht=!1),ht}(this,Xe,me,Ae))&&(Xe.pendingcb++,ht=We(this,Xe,vt,me,pe,Ae)),ht},oe.prototype.cork=function(){this._writableState.corked++},oe.prototype.uncork=function(){var me=this._writableState;me.corked&&(me.corked--,!me.writing&&!me.corked&&!me.finished&&!me.bufferProcessing&&me.bufferedRequest&&Ne(this,me))},oe.prototype.setDefaultEncoding=function(pe){if("string"==typeof pe&&(pe=pe.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((pe+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+pe);return this._writableState.defaultEncoding=pe,this},oe.prototype._write=function(me,pe,Ae){Ae(new Error("_write() is not implemented"))},oe.prototype._writev=null,oe.prototype.end=function(me,pe,Ae){var Xe=this._writableState;"function"==typeof me?(Ae=me,me=null,pe=null):"function"==typeof pe&&(Ae=pe,pe=null),null!=me&&this.write(me,pe),Xe.corked&&(Xe.corked=1,this.uncork()),!Xe.ending&&!Xe.finished&&function Ge(me,pe,Ae){pe.ending=!0,je(me,pe),Ae&&(pe.finished?ce(Ae):me.once("finish",Ae)),pe.ended=!0,me.writable=!1}(this,Xe,Ae)}}).call(ae,q(6))},function(xe,ae){(function(q){function ce(R){try{if(!q.localStorage)return!1}catch{return!1}var V=q.localStorage[R];return null!=V&&"true"===String(V).toLowerCase()}xe.exports=function Q(R,V){if(ce("noDeprecation"))return R;var F=!1;return function D(){if(!F){if(ce("throwDeprecation"))throw new Error(V);ce("traceDeprecation")?console.trace(V):console.warn(V),F=!0}return R.apply(this,arguments)}}}).call(ae,function(){return this}())},function(xe,ae,q){var Q=q(2).Buffer,ce=Q.isEncoding||function(k){switch(k&&k.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};var V=ae.StringDecoder=function(k){switch(this.encoding=(k||"utf8").toLowerCase().replace(/[-_]/,""),function R(k){if(k&&!ce(k))throw new Error("Unknown encoding: "+k)}(k),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=D;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=v;break;default:return void(this.write=F)}this.charBuffer=new Q(6),this.charReceived=0,this.charLength=0};function F(k){return k.toString(this.encoding)}function D(k){this.charReceived=k.length%2,this.charLength=this.charReceived?2:0}function v(k){this.charReceived=k.length%3,this.charLength=this.charReceived?3:0}V.prototype.write=function(k){for(var b="";this.charLength;){var $=k.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:k.length;if(k.copy(this.charBuffer,this.charReceived,0,$),this.charReceived+=$,this.charReceived<this.charLength)return"";if(k=k.slice($,k.length),!((L=(b=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(b.length-1))>=55296&&L<=56319)){if(this.charReceived=this.charLength=0,0===k.length)return b;break}this.charLength+=this.surrogateSize,b=""}this.detectIncompleteChar(k);var L,ee=k.length;if(this.charLength&&(k.copy(this.charBuffer,0,k.length-this.charReceived,ee),ee-=this.charReceived),(L=(b+=k.toString(this.encoding,0,ee)).charCodeAt(ee=b.length-1))>=55296&&L<=56319){var Z=this.surrogateSize;return this.charLength+=Z,this.charReceived+=Z,this.charBuffer.copy(this.charBuffer,Z,0,Z),k.copy(this.charBuffer,0,0,Z),b.substring(0,ee)}return b},V.prototype.detectIncompleteChar=function(k){for(var b=k.length>=3?3:k.length;b>0;b--){var $=k[k.length-b];if(1==b&&$>>5==6){this.charLength=2;break}if(b<=2&&$>>4==14){this.charLength=3;break}if(b<=3&&$>>3==30){this.charLength=4;break}}this.charReceived=b},V.prototype.end=function(k){var b="";if(k&&k.length&&(b=this.write(k)),this.charReceived){var L=this.encoding;b+=this.charBuffer.slice(0,this.charReceived).toString(L)}return b}},function(xe,ae,q){"use strict";xe.exports=F;var Q=q(21),ce=q(18);function R(v){this.afterTransform=function(k,b){return function V(v,k,b){var $=v._transformState;$.transforming=!1;var ee=$.writecb;if(!ee)return v.emit("error",new Error("no writecb in Transform class"));$.writechunk=null,$.writecb=null,null!=b&&v.push(b),ee(k);var L=v._readableState;L.reading=!1,(L.needReadable||L.length<L.highWaterMark)&&v._read(L.highWaterMark)}(v,k,b)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function F(v){if(!(this instanceof F))return new F(v);Q.call(this,v),this._transformState=new R(this);var k=this;this._readableState.needReadable=!0,this._readableState.sync=!1,v&&("function"==typeof v.transform&&(this._transform=v.transform),"function"==typeof v.flush&&(this._flush=v.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(b,$){D(k,b,$)}):D(k)})}function D(v,k,b){if(k)return v.emit("error",k);null!=b&&v.push(b);var ee=v._transformState;if(v._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(ee.transforming)throw new Error("Calling transform done when still transforming");return v.push(null)}ce.inherits=q(12),ce.inherits(F,Q),F.prototype.push=function(v,k){return this._transformState.needTransform=!1,Q.prototype.push.call(this,v,k)},F.prototype._transform=function(v,k,b){throw new Error("_transform() is not implemented")},F.prototype._write=function(v,k,b){var $=this._transformState;if($.writecb=b,$.writechunk=v,$.writeencoding=k,!$.transforming){var ee=this._readableState;($.needTransform||ee.needReadable||ee.length<ee.highWaterMark)&&this._read(ee.highWaterMark)}},F.prototype._read=function(v){var k=this._transformState;null!==k.writechunk&&k.writecb&&!k.transforming?(k.transforming=!0,this._transform(k.writechunk,k.writeencoding,k.afterTransform)):k.needTransform=!0}},function(xe,ae,q){"use strict";xe.exports=R;var Q=q(25),ce=q(18);function R(V){if(!(this instanceof R))return new R(V);Q.call(this,V)}ce.inherits=q(12),ce.inherits(R,Q),R.prototype._transform=function(V,F,D){D(null,V)}},function(xe,ae,q){xe.exports=q(22)},function(xe,ae,q){xe.exports=q(21)},function(xe,ae,q){xe.exports=q(25)},function(xe,ae,q){xe.exports=q(26)},function(xe,ae,q){"use strict";var Q=q(32),ce=q(33),R=q(38),V=q(39),F=q(40),D=q(41),v=q(42),k=Object.prototype.toString;function b(L){if(!(this instanceof b))return new b(L);this.options=ce.assign({chunkSize:16384,windowBits:0,to:""},L||{});var Z=this.options;Z.raw&&Z.windowBits>=0&&Z.windowBits<16&&(Z.windowBits=-Z.windowBits,0===Z.windowBits&&(Z.windowBits=-15)),Z.windowBits>=0&&Z.windowBits<16&&!(L&&L.windowBits)&&(Z.windowBits+=32),Z.windowBits>15&&Z.windowBits<48&&(15&Z.windowBits||(Z.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new D,this.strm.avail_out=0;var oe=Q.inflateInit2(this.strm,Z.windowBits);if(oe!==V.Z_OK)throw new Error(F[oe]);this.header=new v,Q.inflateGetHeader(this.strm,this.header)}function $(L,Z){var oe=new b(Z);if(oe.push(L,!0),oe.err)throw oe.msg||F[oe.err];return oe.result}b.prototype.push=function(L,Z){var le,We,Oe,it,tt,_e,oe=this.strm,ge=this.options.chunkSize,fe=this.options.dictionary,Re=!1;if(this.ended)return!1;We=Z===~~Z?Z:!0===Z?V.Z_FINISH:V.Z_NO_FLUSH,oe.input="string"==typeof L?R.binstring2buf(L):"[object ArrayBuffer]"===k.call(L)?new Uint8Array(L):L,oe.next_in=0,oe.avail_in=oe.input.length;do{if(0===oe.avail_out&&(oe.output=new ce.Buf8(ge),oe.next_out=0,oe.avail_out=ge),(le=Q.inflate(oe,V.Z_NO_FLUSH))===V.Z_NEED_DICT&&fe&&(_e="string"==typeof fe?R.string2buf(fe):"[object ArrayBuffer]"===k.call(fe)?new Uint8Array(fe):fe,le=Q.inflateSetDictionary(this.strm,_e)),le===V.Z_BUF_ERROR&&!0===Re&&(le=V.Z_OK,Re=!1),le!==V.Z_STREAM_END&&le!==V.Z_OK)return this.onEnd(le),this.ended=!0,!1;oe.next_out&&(0===oe.avail_out||le===V.Z_STREAM_END||0===oe.avail_in&&(We===V.Z_FINISH||We===V.Z_SYNC_FLUSH))&&("string"===this.options.to?(Oe=R.utf8border(oe.output,oe.next_out),it=oe.next_out-Oe,tt=R.buf2string(oe.output,Oe),oe.next_out=it,oe.avail_out=ge-it,it&&ce.arraySet(oe.output,oe.output,Oe,it,0),this.onData(tt)):this.onData(ce.shrinkBuf(oe.output,oe.next_out))),0===oe.avail_in&&0===oe.avail_out&&(Re=!0)}while((oe.avail_in>0||0===oe.avail_out)&&le!==V.Z_STREAM_END);return le===V.Z_STREAM_END&&(We=V.Z_FINISH),We===V.Z_FINISH?(le=Q.inflateEnd(this.strm),this.onEnd(le),this.ended=!0,le===V.Z_OK):(We===V.Z_SYNC_FLUSH&&(this.onEnd(V.Z_OK),oe.avail_out=0),!0)},b.prototype.onData=function(L){this.chunks.push(L)},b.prototype.onEnd=function(L){L===V.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):ce.flattenChunks(this.chunks)),this.chunks=[],this.err=L,this.msg=this.strm.msg},ae.Inflate=b,ae.inflate=$,ae.inflateRaw=function ee(L,Z){return(Z=Z||{}).raw=!0,$(L,Z)},ae.ungzip=$},function(xe,ae,q){"use strict";var Q=q(33),ce=q(34),R=q(35),V=q(36),F=q(37),v=1,k=2,L=0,ge=-2,it=1,U=852,w=592;function M(Ee){return(Ee>>>24&255)+(Ee>>>8&65280)+((65280&Ee)<<8)+((255&Ee)<<24)}function W(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Q.Buf16(320),this.work=new Q.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ie(Ee){var Ke;return Ee&&Ee.state?(Ee.total_in=Ee.total_out=(Ke=Ee.state).total=0,Ee.msg="",Ke.wrap&&(Ee.adler=1&Ke.wrap),Ke.mode=it,Ke.last=0,Ke.havedict=0,Ke.dmax=32768,Ke.head=null,Ke.hold=0,Ke.bits=0,Ke.lencode=Ke.lendyn=new Q.Buf32(U),Ke.distcode=Ke.distdyn=new Q.Buf32(w),Ke.sane=1,Ke.back=-1,L):ge}function ve(Ee){var Ke;return Ee&&Ee.state?((Ke=Ee.state).wsize=0,Ke.whave=0,Ke.wnext=0,ie(Ee)):ge}function Je(Ee,Ke){var B,rt;return!Ee||!Ee.state||(rt=Ee.state,Ke<0?(B=0,Ke=-Ke):(B=1+(Ke>>4),Ke<48&&(Ke&=15)),Ke&&(Ke<8||Ke>15))?ge:(null!==rt.window&&rt.wbits!==Ke&&(rt.window=null),rt.wrap=B,rt.wbits=Ke,ve(Ee))}function gt(Ee,Ke){var B,rt;return Ee?(rt=new W,Ee.state=rt,rt.window=null,(B=Je(Ee,Ke))!==L&&(Ee.state=null),B):ge}var zt,Ei,Pt=!0;function ro(Ee){if(Pt){var Ke;for(zt=new Q.Buf32(512),Ei=new Q.Buf32(32),Ke=0;Ke<144;)Ee.lens[Ke++]=8;for(;Ke<256;)Ee.lens[Ke++]=9;for(;Ke<280;)Ee.lens[Ke++]=7;for(;Ke<288;)Ee.lens[Ke++]=8;for(F(v,Ee.lens,0,288,zt,0,Ee.work,{bits:9}),Ke=0;Ke<32;)Ee.lens[Ke++]=5;F(k,Ee.lens,0,32,Ei,0,Ee.work,{bits:5}),Pt=!1}Ee.lencode=zt,Ee.lenbits=9,Ee.distcode=Ei,Ee.distbits=5}function oo(Ee,Ke,B,rt){var un,qe=Ee.state;return null===qe.window&&(qe.wsize=1<<qe.wbits,qe.wnext=0,qe.whave=0,qe.window=new Q.Buf8(qe.wsize)),rt>=qe.wsize?(Q.arraySet(qe.window,Ke,B-qe.wsize,qe.wsize,0),qe.wnext=0,qe.whave=qe.wsize):((un=qe.wsize-qe.wnext)>rt&&(un=rt),Q.arraySet(qe.window,Ke,B-rt,un,qe.wnext),(rt-=un)?(Q.arraySet(qe.window,Ke,B-rt,rt,0),qe.wnext=rt,qe.whave=qe.wsize):(qe.wnext+=un,qe.wnext===qe.wsize&&(qe.wnext=0),qe.whave<qe.wsize&&(qe.whave+=un))),0}ae.inflateReset=ve,ae.inflateReset2=Je,ae.inflateResetKeep=ie,ae.inflateInit=function Bt(Ee){return gt(Ee,15)},ae.inflateInit2=gt,ae.inflate=function ls(Ee,Ke){var B,rt,un,qe,Ki,et,Qt,De,Me,ks,Mn,Pe,Bo,so,Ht,wn,Fi,Hn,Os,xr,Rn,Ri,Qi,gr,Fn=0,Xn=new Q.Buf8(4),dl=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Ee||!Ee.state||!Ee.output||!Ee.input&&0!==Ee.avail_in)return ge;12===(B=Ee.state).mode&&(B.mode=13),Ki=Ee.next_out,un=Ee.output,qe=Ee.next_in,rt=Ee.input,De=B.hold,Me=B.bits,ks=et=Ee.avail_in,Mn=Qt=Ee.avail_out,Ri=L;e:for(;;)switch(B.mode){case it:if(0===B.wrap){B.mode=13;break}for(;Me<16;){if(0===et)break e;et--,De+=rt[qe++]<<Me,Me+=8}if(2&B.wrap&&35615===De){B.check=0,Xn[0]=255&De,Xn[1]=De>>>8&255,B.check=R(B.check,Xn,2,0),De=0,Me=0,B.mode=2;break}if(B.flags=0,B.head&&(B.head.done=!1),!(1&B.wrap)||(((255&De)<<8)+(De>>8))%31){Ee.msg="incorrect header check",B.mode=30;break}if(8!=(15&De)){Ee.msg="unknown compression method",B.mode=30;break}if(Me-=4,Rn=8+(15&(De>>>=4)),0===B.wbits)B.wbits=Rn;else if(Rn>B.wbits){Ee.msg="invalid window size",B.mode=30;break}B.dmax=1<<Rn,Ee.adler=B.check=1,B.mode=512&De?10:12,De=0,Me=0;break;case 2:for(;Me<16;){if(0===et)break e;et--,De+=rt[qe++]<<Me,Me+=8}if(B.flags=De,8!=(255&B.flags)){Ee.msg="unknown compression method",B.mode=30;break}if(57344&B.flags){Ee.msg="unknown header flags set",B.mode=30;break}B.head&&(B.head.text=De>>8&1),512&B.flags&&(Xn[0]=255&De,Xn[1]=De>>>8&255,B.check=R(B.check,Xn,2,0)),De=0,Me=0,B.mode=3;case 3:for(;Me<32;){if(0===et)break e;et--,De+=rt[qe++]<<Me,Me+=8}B.head&&(B.head.time=De),512&B.flags&&(Xn[0]=255&De,Xn[1]=De>>>8&255,Xn[2]=De>>>16&255,Xn[3]=De>>>24&255,B.check=R(B.check,Xn,4,0)),De=0,Me=0,B.mode=4;case 4:for(;Me<16;){if(0===et)break e;et--,De+=rt[qe++]<<Me,Me+=8}B.head&&(B.head.xflags=255&De,B.head.os=De>>8),512&B.flags&&(Xn[0]=255&De,Xn[1]=De>>>8&255,B.check=R(B.check,Xn,2,0)),De=0,Me=0,B.mode=5;case 5:if(1024&B.flags){for(;Me<16;){if(0===et)break e;et--,De+=rt[qe++]<<Me,Me+=8}B.length=De,B.head&&(B.head.extra_len=De),512&B.flags&&(Xn[0]=255&De,Xn[1]=De>>>8&255,B.check=R(B.check,Xn,2,0)),De=0,Me=0}else B.head&&(B.head.extra=null);B.mode=6;case 6:if(1024&B.flags&&((Pe=B.length)>et&&(Pe=et),Pe&&(B.head&&(Rn=B.head.extra_len-B.length,B.head.extra||(B.head.extra=new Array(B.head.extra_len)),Q.arraySet(B.head.extra,rt,qe,Pe,Rn)),512&B.flags&&(B.check=R(B.check,rt,Pe,qe)),et-=Pe,qe+=Pe,B.length-=Pe),B.length))break e;B.length=0,B.mode=7;case 7:if(2048&B.flags){if(0===et)break e;Pe=0;do{Rn=rt[qe+Pe++],B.head&&Rn&&B.length<65536&&(B.head.name+=String.fromCharCode(Rn))}while(Rn&&Pe<et);if(512&B.flags&&(B.check=R(B.check,rt,Pe,qe)),et-=Pe,qe+=Pe,Rn)break e}else B.head&&(B.head.name=null);B.length=0,B.mode=8;case 8:if(4096&B.flags){if(0===et)break e;Pe=0;do{Rn=rt[qe+Pe++],B.head&&Rn&&B.length<65536&&(B.head.comment+=String.fromCharCode(Rn))}while(Rn&&Pe<et);if(512&B.flags&&(B.check=R(B.check,rt,Pe,qe)),et-=Pe,qe+=Pe,Rn)break e}else B.head&&(B.head.comment=null);B.mode=9;case 9:if(512&B.flags){for(;Me<16;){if(0===et)break e;et--,De+=rt[qe++]<<Me,Me+=8}if(De!==(65535&B.check)){Ee.msg="header crc mismatch",B.mode=30;break}De=0,Me=0}B.head&&(B.head.hcrc=B.flags>>9&1,B.head.done=!0),Ee.adler=B.check=0,B.mode=12;break;case 10:for(;Me<32;){if(0===et)break e;et--,De+=rt[qe++]<<Me,Me+=8}Ee.adler=B.check=M(De),De=0,Me=0,B.mode=11;case 11:if(0===B.havedict)return Ee.next_out=Ki,Ee.avail_out=Qt,Ee.next_in=qe,Ee.avail_in=et,B.hold=De,B.bits=Me,2;Ee.adler=B.check=1,B.mode=12;case 12:if(5===Ke||6===Ke)break e;case 13:if(B.last){De>>>=7&Me,Me-=7&Me,B.mode=27;break}for(;Me<3;){if(0===et)break e;et--,De+=rt[qe++]<<Me,Me+=8}switch(B.last=1&De,Me-=1,3&(De>>>=1)){case 0:B.mode=14;break;case 1:if(ro(B),B.mode=20,6===Ke){De>>>=2,Me-=2;break e}break;case 2:B.mode=17;break;case 3:Ee.msg="invalid block type",B.mode=30}De>>>=2,Me-=2;break;case 14:for(De>>>=7&Me,Me-=7&Me;Me<32;){if(0===et)break e;et--,De+=rt[qe++]<<Me,Me+=8}if((65535&De)!=(De>>>16^65535)){Ee.msg="invalid stored block lengths",B.mode=30;break}if(B.length=65535&De,De=0,Me=0,B.mode=15,6===Ke)break e;case 15:B.mode=16;case 16:if(Pe=B.length){if(Pe>et&&(Pe=et),Pe>Qt&&(Pe=Qt),0===Pe)break e;Q.arraySet(un,rt,qe,Pe,Ki),et-=Pe,qe+=Pe,Qt-=Pe,Ki+=Pe,B.length-=Pe;break}B.mode=12;break;case 17:for(;Me<14;){if(0===et)break e;et--,De+=rt[qe++]<<Me,Me+=8}if(B.nlen=257+(31&De),Me-=5,B.ndist=1+(31&(De>>>=5)),Me-=5,B.ncode=4+(15&(De>>>=5)),De>>>=4,Me-=4,B.nlen>286||B.ndist>30){Ee.msg="too many length or distance symbols",B.mode=30;break}B.have=0,B.mode=18;case 18:for(;B.have<B.ncode;){for(;Me<3;){if(0===et)break e;et--,De+=rt[qe++]<<Me,Me+=8}B.lens[dl[B.have++]]=7&De,De>>>=3,Me-=3}for(;B.have<19;)B.lens[dl[B.have++]]=0;if(B.lencode=B.lendyn,B.lenbits=7,Ri=F(0,B.lens,0,19,B.lencode,0,B.work,Qi={bits:B.lenbits}),B.lenbits=Qi.bits,Ri){Ee.msg="invalid code lengths set",B.mode=30;break}B.have=0,B.mode=19;case 19:for(;B.have<B.nlen+B.ndist;){for(;wn=(Fn=B.lencode[De&(1<<B.lenbits)-1])>>>16&255,Fi=65535&Fn,!((Ht=Fn>>>24)<=Me);){if(0===et)break e;et--,De+=rt[qe++]<<Me,Me+=8}if(Fi<16)De>>>=Ht,Me-=Ht,B.lens[B.have++]=Fi;else{if(16===Fi){for(gr=Ht+2;Me<gr;){if(0===et)break e;et--,De+=rt[qe++]<<Me,Me+=8}if(De>>>=Ht,Me-=Ht,0===B.have){Ee.msg="invalid bit length repeat",B.mode=30;break}Rn=B.lens[B.have-1],Pe=3+(3&De),De>>>=2,Me-=2}else if(17===Fi){for(gr=Ht+3;Me<gr;){if(0===et)break e;et--,De+=rt[qe++]<<Me,Me+=8}Me-=Ht,Rn=0,Pe=3+(7&(De>>>=Ht)),De>>>=3,Me-=3}else{for(gr=Ht+7;Me<gr;){if(0===et)break e;et--,De+=rt[qe++]<<Me,Me+=8}Me-=Ht,Rn=0,Pe=11+(127&(De>>>=Ht)),De>>>=7,Me-=7}if(B.have+Pe>B.nlen+B.ndist){Ee.msg="invalid bit length repeat",B.mode=30;break}for(;Pe--;)B.lens[B.have++]=Rn}}if(30===B.mode)break;if(0===B.lens[256]){Ee.msg="invalid code -- missing end-of-block",B.mode=30;break}if(B.lenbits=9,Ri=F(v,B.lens,0,B.nlen,B.lencode,0,B.work,Qi={bits:B.lenbits}),B.lenbits=Qi.bits,Ri){Ee.msg="invalid literal/lengths set",B.mode=30;break}if(B.distbits=6,B.distcode=B.distdyn,Ri=F(k,B.lens,B.nlen,B.ndist,B.distcode,0,B.work,Qi={bits:B.distbits}),B.distbits=Qi.bits,Ri){Ee.msg="invalid distances set",B.mode=30;break}if(B.mode=20,6===Ke)break e;case 20:B.mode=21;case 21:if(et>=6&&Qt>=258){Ee.next_out=Ki,Ee.avail_out=Qt,Ee.next_in=qe,Ee.avail_in=et,B.hold=De,B.bits=Me,V(Ee,Mn),Ki=Ee.next_out,un=Ee.output,Qt=Ee.avail_out,qe=Ee.next_in,rt=Ee.input,et=Ee.avail_in,De=B.hold,Me=B.bits,12===B.mode&&(B.back=-1);break}for(B.back=0;wn=(Fn=B.lencode[De&(1<<B.lenbits)-1])>>>16&255,Fi=65535&Fn,!((Ht=Fn>>>24)<=Me);){if(0===et)break e;et--,De+=rt[qe++]<<Me,Me+=8}if(wn&&!(240&wn)){for(Hn=Ht,Os=wn,xr=Fi;wn=(Fn=B.lencode[xr+((De&(1<<Hn+Os)-1)>>Hn)])>>>16&255,Fi=65535&Fn,!(Hn+(Ht=Fn>>>24)<=Me);){if(0===et)break e;et--,De+=rt[qe++]<<Me,Me+=8}De>>>=Hn,Me-=Hn,B.back+=Hn}if(De>>>=Ht,Me-=Ht,B.back+=Ht,B.length=Fi,0===wn){B.mode=26;break}if(32&wn){B.back=-1,B.mode=12;break}if(64&wn){Ee.msg="invalid literal/length code",B.mode=30;break}B.extra=15&wn,B.mode=22;case 22:if(B.extra){for(gr=B.extra;Me<gr;){if(0===et)break e;et--,De+=rt[qe++]<<Me,Me+=8}B.length+=De&(1<<B.extra)-1,De>>>=B.extra,Me-=B.extra,B.back+=B.extra}B.was=B.length,B.mode=23;case 23:for(;wn=(Fn=B.distcode[De&(1<<B.distbits)-1])>>>16&255,Fi=65535&Fn,!((Ht=Fn>>>24)<=Me);){if(0===et)break e;et--,De+=rt[qe++]<<Me,Me+=8}if(!(240&wn)){for(Hn=Ht,Os=wn,xr=Fi;wn=(Fn=B.distcode[xr+((De&(1<<Hn+Os)-1)>>Hn)])>>>16&255,Fi=65535&Fn,!(Hn+(Ht=Fn>>>24)<=Me);){if(0===et)break e;et--,De+=rt[qe++]<<Me,Me+=8}De>>>=Hn,Me-=Hn,B.back+=Hn}if(De>>>=Ht,Me-=Ht,B.back+=Ht,64&wn){Ee.msg="invalid distance code",B.mode=30;break}B.offset=Fi,B.extra=15&wn,B.mode=24;case 24:if(B.extra){for(gr=B.extra;Me<gr;){if(0===et)break e;et--,De+=rt[qe++]<<Me,Me+=8}B.offset+=De&(1<<B.extra)-1,De>>>=B.extra,Me-=B.extra,B.back+=B.extra}if(B.offset>B.dmax){Ee.msg="invalid distance too far back",B.mode=30;break}B.mode=25;case 25:if(0===Qt)break e;if(B.offset>(Pe=Mn-Qt)){if((Pe=B.offset-Pe)>B.whave&&B.sane){Ee.msg="invalid distance too far back",B.mode=30;break}Bo=Pe>B.wnext?B.wsize-(Pe-=B.wnext):B.wnext-Pe,Pe>B.length&&(Pe=B.length),so=B.window}else so=un,Bo=Ki-B.offset,Pe=B.length;Pe>Qt&&(Pe=Qt),Qt-=Pe,B.length-=Pe;do{un[Ki++]=so[Bo++]}while(--Pe);0===B.length&&(B.mode=21);break;case 26:if(0===Qt)break e;un[Ki++]=B.length,Qt--,B.mode=21;break;case 27:if(B.wrap){for(;Me<32;){if(0===et)break e;et--,De|=rt[qe++]<<Me,Me+=8}if(Ee.total_out+=Mn-=Qt,B.total+=Mn,Mn&&(Ee.adler=B.check=B.flags?R(B.check,un,Mn,Ki-Mn):ce(B.check,un,Mn,Ki-Mn)),Mn=Qt,(B.flags?De:M(De))!==B.check){Ee.msg="incorrect data check",B.mode=30;break}De=0,Me=0}B.mode=28;case 28:if(B.wrap&&B.flags){for(;Me<32;){if(0===et)break e;et--,De+=rt[qe++]<<Me,Me+=8}if(De!==(4294967295&B.total)){Ee.msg="incorrect length check",B.mode=30;break}De=0,Me=0}B.mode=29;case 29:Ri=1;break e;case 30:Ri=-3;break e;case 31:return-4;default:return ge}return Ee.next_out=Ki,Ee.avail_out=Qt,Ee.next_in=qe,Ee.avail_in=et,B.hold=De,B.bits=Me,(B.wsize||Mn!==Ee.avail_out&&B.mode<30&&(B.mode<27||4!==Ke))&&oo(Ee,Ee.output,Ee.next_out,Mn-Ee.avail_out)?(B.mode=31,-4):(Mn-=Ee.avail_out,Ee.total_in+=ks-=Ee.avail_in,Ee.total_out+=Mn,B.total+=Mn,B.wrap&&Mn&&(Ee.adler=B.check=B.flags?R(B.check,un,Mn,Ee.next_out-Mn):ce(B.check,un,Mn,Ee.next_out-Mn)),Ee.data_type=B.bits+(B.last?64:0)+(12===B.mode?128:0)+(20===B.mode||15===B.mode?256:0),(0===ks&&0===Mn||4===Ke)&&Ri===L&&(Ri=-5),Ri)},ae.inflateEnd=function ma(Ee){if(!Ee||!Ee.state)return ge;var Ke=Ee.state;return Ke.window&&(Ke.window=null),Ee.state=null,L},ae.inflateGetHeader=function jc(Ee,Ke){var B;return Ee&&Ee.state&&2&(B=Ee.state).wrap?(B.head=Ke,Ke.done=!1,L):ge},ae.inflateSetDictionary=function _a(Ee,Ke){var rt,B=Ke.length;return Ee&&Ee.state&&(0===(rt=Ee.state).wrap||11===rt.mode)?11===rt.mode&&ce(1,Ke,B,0)!==rt.check?-3:oo(Ee,Ke,B,B)?(rt.mode=31,-4):(rt.havedict=1,L):ge},ae.inflateInfo="pako inflate (from Nodeca project)"},function(xe,ae){"use strict";var q=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";ae.assign=function(R){for(var V=Array.prototype.slice.call(arguments,1);V.length;){var F=V.shift();if(F){if("object"!=typeof F)throw new TypeError(F+"must be non-object");for(var D in F)F.hasOwnProperty(D)&&(R[D]=F[D])}}return R},ae.shrinkBuf=function(R,V){return R.length===V?R:R.subarray?R.subarray(0,V):(R.length=V,R)};var Q={arraySet:function(R,V,F,D,v){if(V.subarray&&R.subarray)R.set(V.subarray(F,F+D),v);else for(var k=0;k<D;k++)R[v+k]=V[F+k]},flattenChunks:function(R){var V,F,D,v,k,b;for(D=0,V=0,F=R.length;V<F;V++)D+=R[V].length;for(b=new Uint8Array(D),v=0,V=0,F=R.length;V<F;V++)b.set(k=R[V],v),v+=k.length;return b}},ce={arraySet:function(R,V,F,D,v){for(var k=0;k<D;k++)R[v+k]=V[F+k]},flattenChunks:function(R){return[].concat.apply([],R)}};ae.setTyped=function(R){R?(ae.Buf8=Uint8Array,ae.Buf16=Uint16Array,ae.Buf32=Int32Array,ae.assign(ae,Q)):(ae.Buf8=Array,ae.Buf16=Array,ae.Buf32=Array,ae.assign(ae,ce))},ae.setTyped(q)},function(xe,ae){"use strict";xe.exports=function q(Q,ce,R,V){for(var F=65535&Q,D=Q>>>16&65535,v=0;0!==R;){R-=v=R>2e3?2e3:R;do{D=D+(F=F+ce[V++]|0)|0}while(--v);F%=65521,D%=65521}return F|D<<16}},function(xe,ae){"use strict";var Q=function q(){for(var R,V=[],F=0;F<256;F++){R=F;for(var D=0;D<8;D++)R=1&R?3988292384^R>>>1:R>>>1;V[F]=R}return V}();xe.exports=function ce(R,V,F,D){var v=Q,k=D+F;R^=-1;for(var b=D;b<k;b++)R=R>>>8^v[255&(R^V[b])];return~R}},function(xe,ae){"use strict";xe.exports=function(R,V){var F,D,v,k,b,$,ee,L,Z,oe,ge,fe,le,We,Oe,it,tt,_e,Re,Ie,Ne,ke,Ye,je,Ge;je=R.input,v=(D=R.next_in)+(R.avail_in-5),Ge=R.output,b=(k=R.next_out)-(V-R.avail_out),$=k+(R.avail_out-257),ee=(F=R.state).dmax,L=F.wsize,Z=F.whave,oe=F.wnext,ge=F.window,fe=F.hold,le=F.bits,We=F.lencode,Oe=F.distcode,it=(1<<F.lenbits)-1,tt=(1<<F.distbits)-1;e:do{le<15&&(fe+=je[D++]<<le,fe+=je[D++]<<(le+=8),le+=8),_e=We[fe&it];t:for(;;){if(fe>>>=Re=_e>>>24,le-=Re,0==(Re=_e>>>16&255))Ge[k++]=65535&_e;else{if(!(16&Re)){if(64&Re){if(32&Re){F.mode=12;break e}R.msg="invalid literal/length code",F.mode=30;break e}_e=We[(65535&_e)+(fe&(1<<Re)-1)];continue t}for(Ie=65535&_e,(Re&=15)&&(le<Re&&(fe+=je[D++]<<le,le+=8),Ie+=fe&(1<<Re)-1,fe>>>=Re,le-=Re),le<15&&(fe+=je[D++]<<le,fe+=je[D++]<<(le+=8),le+=8),_e=Oe[fe&tt];;){if(fe>>>=Re=_e>>>24,le-=Re,16&(Re=_e>>>16&255)){if(Ne=65535&_e,le<(Re&=15)&&(fe+=je[D++]<<le,(le+=8)<Re&&(fe+=je[D++]<<le,le+=8)),(Ne+=fe&(1<<Re)-1)>ee){R.msg="invalid distance too far back",F.mode=30;break e}if(fe>>>=Re,le-=Re,Ne>(Re=k-b)){if((Re=Ne-Re)>Z&&F.sane){R.msg="invalid distance too far back",F.mode=30;break e}if(ke=0,Ye=ge,0===oe){if(ke+=L-Re,Re<Ie){Ie-=Re;do{Ge[k++]=ge[ke++]}while(--Re);ke=k-Ne,Ye=Ge}}else if(oe<Re){if(ke+=L+oe-Re,(Re-=oe)<Ie){Ie-=Re;do{Ge[k++]=ge[ke++]}while(--Re);if(ke=0,oe<Ie){Ie-=Re=oe;do{Ge[k++]=ge[ke++]}while(--Re);ke=k-Ne,Ye=Ge}}}else if(ke+=oe-Re,Re<Ie){Ie-=Re;do{Ge[k++]=ge[ke++]}while(--Re);ke=k-Ne,Ye=Ge}for(;Ie>2;)Ge[k++]=Ye[ke++],Ge[k++]=Ye[ke++],Ge[k++]=Ye[ke++],Ie-=3;Ie&&(Ge[k++]=Ye[ke++],Ie>1&&(Ge[k++]=Ye[ke++]))}else{ke=k-Ne;do{Ge[k++]=Ge[ke++],Ge[k++]=Ge[ke++],Ge[k++]=Ge[ke++],Ie-=3}while(Ie>2);Ie&&(Ge[k++]=Ge[ke++],Ie>1&&(Ge[k++]=Ge[ke++]))}break}if(64&Re){R.msg="invalid distance code",F.mode=30;break e}_e=Oe[(65535&_e)+(fe&(1<<Re)-1)]}}break}}while(D<v&&k<$);fe&=(1<<(le-=(Ie=le>>3)<<3))-1,R.next_in=D-=Ie,R.next_out=k,R.avail_in=D<v?v-D+5:5-(D-v),R.avail_out=k<$?$-k+257:257-(k-$),F.hold=fe,F.bits=le}},function(xe,ae,q){"use strict";var Q=q(33),k=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],b=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],$=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],ee=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];xe.exports=function(Z,oe,ge,fe,le,We,Oe,it){var pe,Ae,Xe,ht,vt,yn,Te,Be,pt,tt=it.bits,_e=0,Re=0,Ie=0,Ne=0,ke=0,Ye=0,je=0,Ge=0,Ot=0,me=0,nt=null,yt=0,tn=new Q.Buf16(16),Zn=new Q.Buf16(16),K=null,X=0;for(_e=0;_e<=15;_e++)tn[_e]=0;for(Re=0;Re<fe;Re++)tn[oe[ge+Re]]++;for(ke=tt,Ne=15;Ne>=1&&0===tn[Ne];Ne--);if(ke>Ne&&(ke=Ne),0===Ne)return le[We++]=20971520,le[We++]=20971520,it.bits=1,0;for(Ie=1;Ie<Ne&&0===tn[Ie];Ie++);for(ke<Ie&&(ke=Ie),Ge=1,_e=1;_e<=15;_e++)if(Ge<<=1,(Ge-=tn[_e])<0)return-1;if(Ge>0&&(0===Z||1!==Ne))return-1;for(Zn[1]=0,_e=1;_e<15;_e++)Zn[_e+1]=Zn[_e]+tn[_e];for(Re=0;Re<fe;Re++)0!==oe[ge+Re]&&(Oe[Zn[oe[ge+Re]]++]=Re);if(0===Z?(nt=K=Oe,yn=19):1===Z?(nt=k,yt-=257,K=b,X-=257,yn=256):(nt=$,K=ee,yn=-1),me=0,Re=0,_e=Ie,vt=We,Ye=ke,je=0,Xe=-1,ht=(Ot=1<<ke)-1,1===Z&&Ot>852||2===Z&&Ot>592)return 1;for(;;){Te=_e-je,Oe[Re]<yn?(Be=0,pt=Oe[Re]):Oe[Re]>yn?(Be=K[X+Oe[Re]],pt=nt[yt+Oe[Re]]):(Be=96,pt=0),pe=1<<_e-je,Ie=Ae=1<<Ye;do{le[vt+(me>>je)+(Ae-=pe)]=Te<<24|Be<<16|pt}while(0!==Ae);for(pe=1<<_e-1;me&pe;)pe>>=1;if(0!==pe?(me&=pe-1,me+=pe):me=0,Re++,0==--tn[_e]){if(_e===Ne)break;_e=oe[ge+Oe[Re]]}if(_e>ke&&(me&ht)!==Xe){for(0===je&&(je=ke),vt+=Ie,Ge=1<<(Ye=_e-je);Ye+je<Ne&&!((Ge-=tn[Ye+je])<=0);)Ye++,Ge<<=1;if(Ot+=1<<Ye,1===Z&&Ot>852||2===Z&&Ot>592)return 1;le[Xe=me&ht]=ke<<24|Ye<<16|vt-We}}return 0!==me&&(le[vt+me]=_e-je<<24|64<<16),it.bits=ke,0}},function(xe,ae,q){"use strict";var Q=q(33),ce=!0,R=!0;try{String.fromCharCode.apply(null,[0])}catch{ce=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{R=!1}for(var V=new Q.Buf8(256),F=0;F<256;F++)V[F]=F>=252?6:F>=248?5:F>=240?4:F>=224?3:F>=192?2:1;function D(v,k){if(k<65537&&(v.subarray&&R||!v.subarray&&ce))return String.fromCharCode.apply(null,Q.shrinkBuf(v,k));for(var b="",$=0;$<k;$++)b+=String.fromCharCode(v[$]);return b}V[254]=V[254]=1,ae.string2buf=function(v){var k,b,$,ee,L,Z=v.length,oe=0;for(ee=0;ee<Z;ee++)55296==(64512&(b=v.charCodeAt(ee)))&&ee+1<Z&&56320==(64512&($=v.charCodeAt(ee+1)))&&(b=65536+(b-55296<<10)+($-56320),ee++),oe+=b<128?1:b<2048?2:b<65536?3:4;for(k=new Q.Buf8(oe),L=0,ee=0;L<oe;ee++)55296==(64512&(b=v.charCodeAt(ee)))&&ee+1<Z&&56320==(64512&($=v.charCodeAt(ee+1)))&&(b=65536+(b-55296<<10)+($-56320),ee++),b<128?k[L++]=b:b<2048?(k[L++]=192|b>>>6,k[L++]=128|63&b):b<65536?(k[L++]=224|b>>>12,k[L++]=128|b>>>6&63,k[L++]=128|63&b):(k[L++]=240|b>>>18,k[L++]=128|b>>>12&63,k[L++]=128|b>>>6&63,k[L++]=128|63&b);return k},ae.buf2binstring=function(v){return D(v,v.length)},ae.binstring2buf=function(v){for(var k=new Q.Buf8(v.length),b=0,$=k.length;b<$;b++)k[b]=v.charCodeAt(b);return k},ae.buf2string=function(v,k){var b,$,ee,L,Z=k||v.length,oe=new Array(2*Z);for($=0,b=0;b<Z;)if((ee=v[b++])<128)oe[$++]=ee;else if((L=V[ee])>4)oe[$++]=65533,b+=L-1;else{for(ee&=2===L?31:3===L?15:7;L>1&&b<Z;)ee=ee<<6|63&v[b++],L--;L>1?oe[$++]=65533:ee<65536?oe[$++]=ee:(oe[$++]=55296|(ee-=65536)>>10&1023,oe[$++]=56320|1023&ee)}return D(oe,$)},ae.utf8border=function(v,k){var b;for((k=k||v.length)>v.length&&(k=v.length),b=k-1;b>=0&&128==(192&v[b]);)b--;return b<0||0===b?k:b+V[v[b]]>k?b:k}},function(xe,ae){"use strict";xe.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(xe,ae){"use strict";xe.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(xe,ae){"use strict";xe.exports=function q(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(xe,ae){"use strict";xe.exports=function q(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}}])},47:function(pr){pr.exports=(()=>{"use strict";var xe={d:(Ie,Ne)=>{for(var ke in Ne)xe.o(Ne,ke)&&!xe.o(Ie,ke)&&Object.defineProperty(Ie,ke,{enumerable:!0,get:Ne[ke]})},o:(Ie,Ne)=>Object.prototype.hasOwnProperty.call(Ie,Ne),r:Ie=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Ie,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Ie,"__esModule",{value:!0})}},ae={};function q(Ie,Ne){const ke=function(Ye){const je=Ye.getBoundingClientRect();return{top:je.top,left:je.left}}(Ie);return[Ne.pageX-ke.left-window.scrollX,Ne.pageY-ke.top-window.scrollY]}function Q(Ie,Ne,ke,Ye){return`radial-gradient(circle ${Ie}px at ${Ne}px ${ke}px, ${Ye}, rgba(255,255,255,0))`}function ce(Ie,Ne,ke,Ye,je,Ge=null){const Ot=null===Ge?Q(je,Ne,ke,Ye):Ge;Ie.style.backgroundImage=Ot}function R(Ie,Ne,ke,Ye){const[je,Ge]=q(Ie,Ye);ce(Ie,je,Ge,Ne,ke)}function V(Ie,Ne,ke,Ye){const[je,Ge]=q(Ie,Ye);var pe,Ae,Xe;ce(Ie,je,Ge,Ne,ke,`${Q(ke,pe=je,Ae=Ge,Xe=Ne)}, radial-gradient(circle 70px at ${pe}px ${Ae}px, rgba(255,255,255,0), ${Xe}, rgba(255,255,255,0), rgba(255,255,255,0))`)}function F(Ie,Ne){Ne[0]=!1,Ie.el.style.backgroundImage=Ie.oriBg}function D(Ie,Ne,ke,Ye,je){const Ge=Ie.el;!function(Ot,me,pe,Ae){const Xe={left:me-Ae,right:me+Ae,top:pe-Ae,bottom:pe+Ae},ht=Ot.getBoundingClientRect();var nt,yt;return!((yt={left:ht.left,right:ht.right,top:ht.top,bottom:ht.bottom}).left>(nt=Xe).right||yt.right<nt.left||yt.top>nt.bottom||yt.bottom<nt.top)}(Ge,je.clientX,je.clientY,ke)?F(Ie,Ye):R(Ge,Ne,ke,je)}function v(Ie,Ne,ke,Ye,je){const Ge=Ie.el;Ge.addEventListener("mousemove",Ot=>{Ye&&je[0]?V(Ge,Ne,ke,Ot):R(Ge,Ne,ke,Ot)}),Ge.addEventListener("mouseleave",()=>{F(Ie,je)})}function k(Ie,Ne,ke,Ye){const je=Ie.el;je.addEventListener("mousedown",Ge=>{Ye[0]=!0,V(je,Ne,ke,Ge)}),je.addEventListener("mouseup",Ge=>{Ye[0]=!1,R(je,Ne,ke,Ge)})}function b(Ie,Ne,ke){v(Ie,Ne.lightColor,Ne.gradientSize,Ne.clickEffect,ke)}function $(Ie,Ne,ke){v(Ie,Ne.children?.lightColor||"",Ne.children?.gradientSize||100,Ne.clickEffect,ke)}function ee(Ie,Ne,ke){k(Ie,Ne.lightColor,Ne.gradientSize,ke)}function L(Ie,Ne,ke){k(Ie,Ne.children?.lightColor||"",Ne.children?.gradientSize||100,ke)}function Z(Ie){return{oriBg:getComputedStyle(Ie).backgroundImage,el:Ie}}function oe(Ie){const Ne=[],ke=Ie.length;for(let Ye=0;Ye<ke;Ye++)Ne.push(Z(Ie[Ye]));return Ne}function ge(Ie){return oe(document.querySelectorAll(Ie))}function fe(Ie){return Object.assign({lightColor:"rgba(255,255,255,0.25)",gradientSize:150,clickEffect:!1,isContainer:!1,children:{borderSelector:".eff-reveal-border",elementSelector:".eff-reveal",lightColor:"rgba(255,255,255,0.25)",gradientSize:150}},Ie)}function le(Ie,Ne,ke,Ye,je){Ye(Ie,Ne,ke),Ne.clickEffect&&je(Ie,Ne,ke)}function We(Ie,Ne,ke,Ye,je){const Ge=Ie.length;for(let Ot=0;Ot<Ge;Ot++)le(Ie[Ot],Ne,ke,Ye,je)}function Oe(Ie,Ne,ke,Ye,je){(function(Ge,Ot,me,pe){const Ae=Ge.el,Xe=Ot.length;Ae.addEventListener("mousemove",ht=>{for(let vt=0;vt<Xe;vt++)D(Ot[vt],me.lightColor,me.gradientSize,pe,ht)}),Ae.addEventListener("mouseleave",()=>{for(let ht=0;ht<Xe;ht++)F(Ot[ht],pe)})})(Ie,ge(Ne.children?.borderSelector||""),Ne,ke),We(ge(Ne.children?.elementSelector||""),Ne,ke,Ye,je)}function it(Ie,Ne,ke,Ye,je){const Ge=Ie.length;for(let Ot=0;Ot<Ge;Ot++)Oe(Ie[Ot],Ne,ke,Ye,je)}xe.r(ae),xe.d(ae,{applyEffect:()=>Re,applyElementEffect:()=>tt,applyElementsEffect:()=>_e});const tt=(Ie,Ne={})=>{const ke=[!1],Ye=fe(Ne),je=Z(Ie);Ye.isContainer?Oe(je,Ye,ke,$,L):le(je,Ye,ke,b,ee)},_e=(Ie,Ne={})=>{const ke=[!1],Ye=fe(Ne),je=oe(Ie);Ye.isContainer?it(je,Ye,ke,$,L):We(je,Ye,ke,b,ee)},Re=(Ie,Ne={})=>{const ke=[!1],Ye=fe(Ne),je=ge(Ie);Ye.isContainer?it(je,Ye,ke,$,L):We(je,Ye,ke,b,ee)};return ae})()}},pr=>{pr(pr.s=796)}]);